import{r as J,C as r0,L as Ix,S as Ks,P as xo,H as ro,M as Px,l as bo,f as po,E as go,K as ra,y as vo,g as Ut,a as eb,b as o0,c as yo,d as u0,T as Fs,X as Ws,e as jo,h as Ua,i as yi,j as d0,k as f0,m as tb,n as ab,I as lb,o as Wl,p as Si,O as Ba,z as wi,Q as No,q as m0,s as sb,t as nb,B as ib,u as cb,U as rb,v as ob,w as cl,x as h0,A as _o,R as Fl,D as ub,F as Ci,G as So,J as Ai,N as db,V as x0,W as Ti,Y as Ei,Z as ca,_ as fb,$ as b0,a0 as il,a1 as p0,a2 as g0,a3 as Js,a4 as v0,a5 as y0,a6 as j0,a7 as mb,a8 as oo,a9 as hb,aa as xb,ab as bb,ac as Mi,ad as pb,ae as N0,af as gb,ag as vb,ah as yb,ai as jb,aj as Di,ak as wo,al as ji,am as Dm,an as Nb,ao as _b,ap as Sb,aq as vi,ar as wb,as as Co,at as Cb,au as Ab,av as Tb,aw as Eb,ax as Mb,ay as Db,az as zb,aA as Ob,aB as Rb,aC as Lb,aD as Ub,aE as Bb}from"./vendor-ui-Cy2Lo4ua.js";import{r as kb,a as Hb}from"./vendor-react-OvXVS5lI.js";import{c as Ao,t as qb,a as Yb,b as Xb,f as Vb}from"./vendor-utils-sA-TOWeb.js";import{r as Qb}from"./vendor-print-BoE_OzAc.js";(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))r(m);new MutationObserver(m=>{for(const h of m)if(h.type==="childList")for(const b of h.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&r(b)}).observe(document,{childList:!0,subtree:!0});function d(m){const h={};return m.integrity&&(h.integrity=m.integrity),m.referrerPolicy&&(h.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?h.credentials="include":m.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(m){if(m.ep)return;m.ep=!0;const h=d(m);fetch(m.href,h)}})();var to={exports:{}},Qs={};var zm;function Gb(){if(zm)return Qs;zm=1;var c=Symbol.for("react.transitional.element"),u=Symbol.for("react.fragment");function d(r,m,h){var b=null;if(h!==void 0&&(b=""+h),m.key!==void 0&&(b=""+m.key),"key"in m){h={};for(var p in m)p!=="key"&&(h[p]=m[p])}else h=m;return m=h.ref,{$$typeof:c,type:r,key:b,ref:m!==void 0?m:null,props:h}}return Qs.Fragment=u,Qs.jsx=d,Qs.jsxs=d,Qs}var Om;function Zb(){return Om||(Om=1,to.exports=Gb()),to.exports}var s=Zb(),ao={exports:{}},Gs={},lo={exports:{}},so={};var Rm;function Kb(){return Rm||(Rm=1,(function(c){function u(U,W){var ce=U.length;U.push(W);e:for(;0<ce;){var Ae=ce-1>>>1,Te=U[Ae];if(0<m(Te,W))U[Ae]=W,U[ce]=Te,ce=Ae;else break e}}function d(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var W=U[0],ce=U.pop();if(ce!==W){U[0]=ce;e:for(var Ae=0,Te=U.length,tt=Te>>>1;Ae<tt;){var ze=2*(Ae+1)-1,ge=U[ze],Qe=ze+1,Bt=U[Qe];if(0>m(ge,ce))Qe<Te&&0>m(Bt,ge)?(U[Ae]=Bt,U[Qe]=ce,Ae=Qe):(U[Ae]=ge,U[ze]=ce,Ae=ze);else if(Qe<Te&&0>m(Bt,ce))U[Ae]=Bt,U[Qe]=ce,Ae=Qe;else break e}}return W}function m(U,W){var ce=U.sortIndex-W.sortIndex;return ce!==0?ce:U.id-W.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;c.unstable_now=function(){return h.now()}}else{var b=Date,p=b.now();c.unstable_now=function(){return b.now()-p}}var x=[],T=[],z=1,C=null,S=3,_=!1,k=!1,D=!1,L=!1,y=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function H(U){for(var W=d(T);W!==null;){if(W.callback===null)r(T);else if(W.startTime<=U)r(T),W.sortIndex=W.expirationTime,u(x,W);else break;W=d(T)}}function v(U){if(D=!1,H(U),!k)if(d(x)!==null)k=!0,Y||(Y=!0,Ne());else{var W=d(T);W!==null&&lt(v,W.startTime-U)}}var Y=!1,X=-1,Z=5,K=-1;function te(){return L?!0:!(c.unstable_now()-K<Z)}function je(){if(L=!1,Y){var U=c.unstable_now();K=U;var W=!0;try{e:{k=!1,D&&(D=!1,O(X),X=-1),_=!0;var ce=S;try{t:{for(H(U),C=d(x);C!==null&&!(C.expirationTime>U&&te());){var Ae=C.callback;if(typeof Ae=="function"){C.callback=null,S=C.priorityLevel;var Te=Ae(C.expirationTime<=U);if(U=c.unstable_now(),typeof Te=="function"){C.callback=Te,H(U),W=!0;break t}C===d(x)&&r(x),H(U)}else r(x);C=d(x)}if(C!==null)W=!0;else{var tt=d(T);tt!==null&&lt(v,tt.startTime-U),W=!1}}break e}finally{C=null,S=ce,_=!1}W=void 0}}finally{W?Ne():Y=!1}}}var Ne;if(typeof Q=="function")Ne=function(){Q(je)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ve=I.port2;I.port1.onmessage=je,Ne=function(){Ve.postMessage(null)}}else Ne=function(){y(je,0)};function lt(U,W){X=y(function(){U(c.unstable_now())},W)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(U){U.callback=null},c.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<U?Math.floor(1e3/U):5},c.unstable_getCurrentPriorityLevel=function(){return S},c.unstable_next=function(U){switch(S){case 1:case 2:case 3:var W=3;break;default:W=S}var ce=S;S=W;try{return U()}finally{S=ce}},c.unstable_requestPaint=function(){L=!0},c.unstable_runWithPriority=function(U,W){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ce=S;S=U;try{return W()}finally{S=ce}},c.unstable_scheduleCallback=function(U,W,ce){var Ae=c.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ae+ce:Ae):ce=Ae,U){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=ce+Te,U={id:z++,callback:W,priorityLevel:U,startTime:ce,expirationTime:Te,sortIndex:-1},ce>Ae?(U.sortIndex=ce,u(T,U),d(x)===null&&U===d(T)&&(D?(O(X),X=-1):D=!0,lt(v,ce-Ae))):(U.sortIndex=Te,u(x,U),k||_||(k=!0,Y||(Y=!0,Ne()))),U},c.unstable_shouldYield=te,c.unstable_wrapCallback=function(U){var W=S;return function(){var ce=S;S=W;try{return U.apply(this,arguments)}finally{S=ce}}}})(so)),so}var Lm;function Jb(){return Lm||(Lm=1,lo.exports=Kb()),lo.exports}var Um;function Fb(){if(Um)return Gs;Um=1;var c=Jb(),u=kb(),d=Hb();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function b(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x(e){if(h(e)!==e)throw Error(r(188))}function T(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,l=t;;){var n=a.return;if(n===null)break;var i=n.alternate;if(i===null){if(l=n.return,l!==null){a=l;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===a)return x(n),e;if(i===l)return x(n),t;i=i.sibling}throw Error(r(188))}if(a.return!==l.return)a=n,l=i;else{for(var o=!1,f=n.child;f;){if(f===a){o=!0,a=n,l=i;break}if(f===l){o=!0,l=n,a=i;break}f=f.sibling}if(!o){for(f=i.child;f;){if(f===a){o=!0,a=i,l=n;break}if(f===l){o=!0,l=i,a=n;break}f=f.sibling}if(!o)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function z(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=z(e),t!==null)return t;e=e.sibling}return null}var C=Object.assign,S=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),je=Symbol.iterator;function Ne(e){return e===null||typeof e!="object"?null:(e=je&&e[je]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function Ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case y:return"Profiler";case L:return"StrictMode";case v:return"Suspense";case Y:return"SuspenseList";case K:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case Q:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case H:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return t=e.displayName||null,t!==null?t:Ve(e.type)||"Memo";case Z:t=e._payload,e=e._init;try{return Ve(e(t))}catch{}}return null}var lt=Array.isArray,U=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Ae=[],Te=-1;function tt(e){return{current:e}}function ze(e){0>Te||(e.current=Ae[Te],Ae[Te]=null,Te--)}function ge(e,t){Te++,Ae[Te]=e.current,e.current=t}var Qe=tt(null),Bt=tt(null),ua=tt(null),$s=tt(null);function Is(e,t){switch(ge(ua,t),ge(Bt,e),ge(Qe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?em(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=em(t),e=tm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ze(Qe),ge(Qe,e)}function ul(){ze(Qe),ze(Bt),ze(ua)}function Ui(e){e.memoizedState!==null&&ge($s,e);var t=Qe.current,a=tm(t,e.type);t!==a&&(ge(Bt,e),ge(Qe,a))}function Ps(e){Bt.current===e&&(ze(Qe),ze(Bt)),$s.current===e&&(ze($s),qs._currentValue=ce)}var Bi,Eo;function qa(e){if(Bi===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Bi=t&&t[1]||"",Eo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bi+e+Eo}var ki=!1;function Hi(e,t){if(!e||ki)return"";ki=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(M){var E=M}Reflect.construct(e,[],q)}else{try{q.call()}catch(M){E=M}e.call(q.prototype)}}else{try{throw Error()}catch(M){E=M}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(M){if(M&&E&&typeof M.stack=="string")return[M.stack,E.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=l.DetermineComponentFrameRoot(),o=i[0],f=i[1];if(o&&f){var g=o.split(`
`),A=f.split(`
`);for(n=l=0;l<g.length&&!g[l].includes("DetermineComponentFrameRoot");)l++;for(;n<A.length&&!A[n].includes("DetermineComponentFrameRoot");)n++;if(l===g.length||n===A.length)for(l=g.length-1,n=A.length-1;1<=l&&0<=n&&g[l]!==A[n];)n--;for(;1<=l&&0<=n;l--,n--)if(g[l]!==A[n]){if(l!==1||n!==1)do if(l--,n--,0>n||g[l]!==A[n]){var R=`
`+g[l].replace(" at new "," at ");return e.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",e.displayName)),R}while(1<=l&&0<=n);break}}}finally{ki=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?qa(a):""}function E0(e,t){switch(e.tag){case 26:case 27:case 5:return qa(e.type);case 16:return qa("Lazy");case 13:return e.child!==t&&t!==null?qa("Suspense Fallback"):qa("Suspense");case 19:return qa("SuspenseList");case 0:case 15:return Hi(e.type,!1);case 11:return Hi(e.type.render,!1);case 1:return Hi(e.type,!0);case 31:return qa("Activity");default:return""}}function Mo(e){try{var t="",a=null;do t+=E0(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var qi=Object.prototype.hasOwnProperty,Yi=c.unstable_scheduleCallback,Xi=c.unstable_cancelCallback,M0=c.unstable_shouldYield,D0=c.unstable_requestPaint,dt=c.unstable_now,z0=c.unstable_getCurrentPriorityLevel,Do=c.unstable_ImmediatePriority,zo=c.unstable_UserBlockingPriority,en=c.unstable_NormalPriority,O0=c.unstable_LowPriority,Oo=c.unstable_IdlePriority,R0=c.log,L0=c.unstable_setDisableYieldValue,Il=null,ft=null;function da(e){if(typeof R0=="function"&&L0(e),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(Il,e)}catch{}}var mt=Math.clz32?Math.clz32:k0,U0=Math.log,B0=Math.LN2;function k0(e){return e>>>=0,e===0?32:31-(U0(e)/B0|0)|0}var tn=256,an=262144,ln=4194304;function Ya(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function sn(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var f=l&134217727;return f!==0?(l=f&~i,l!==0?n=Ya(l):(o&=f,o!==0?n=Ya(o):a||(a=f&~e,a!==0&&(n=Ya(a))))):(f=l&~i,f!==0?n=Ya(f):o!==0?n=Ya(o):a||(a=l&~e,a!==0&&(n=Ya(a)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:n}function Pl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function H0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ro(){var e=ln;return ln<<=1,(ln&62914560)===0&&(ln=4194304),e}function Vi(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function es(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function q0(e,t,a,l,n,i){var o=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var f=e.entanglements,g=e.expirationTimes,A=e.hiddenUpdates;for(a=o&~a;0<a;){var R=31-mt(a),q=1<<R;f[R]=0,g[R]=-1;var E=A[R];if(E!==null)for(A[R]=null,R=0;R<E.length;R++){var M=E[R];M!==null&&(M.lane&=-536870913)}a&=~q}l!==0&&Lo(e,l,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function Lo(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-mt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Uo(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-mt(a),n=1<<l;n&t|e[l]&t&&(e[l]|=t),a&=~n}}function Bo(e,t){var a=t&-t;return a=(a&42)!==0?1:Qi(a),(a&(e.suspendedLanes|t))!==0?0:a}function Qi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Gi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ko(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:Sm(e.type))}function Ho(e,t){var a=W.p;try{return W.p=e,t()}finally{W.p=a}}var fa=Math.random().toString(36).slice(2),Je="__reactFiber$"+fa,st="__reactProps$"+fa,dl="__reactContainer$"+fa,Zi="__reactEvents$"+fa,Y0="__reactListeners$"+fa,X0="__reactHandles$"+fa,qo="__reactResources$"+fa,ts="__reactMarker$"+fa;function Ki(e){delete e[Je],delete e[st],delete e[Zi],delete e[Y0],delete e[X0]}function fl(e){var t=e[Je];if(t)return t;for(var a=e.parentNode;a;){if(t=a[dl]||a[Je]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=rm(e);e!==null;){if(a=e[Je])return a;e=rm(e)}return t}e=a,a=e.parentNode}return null}function ml(e){if(e=e[Je]||e[dl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function as(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function hl(e){var t=e[qo];return t||(t=e[qo]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ge(e){e[ts]=!0}var Yo=new Set,Xo={};function Xa(e,t){xl(e,t),xl(e+"Capture",t)}function xl(e,t){for(Xo[e]=t,e=0;e<t.length;e++)Yo.add(t[e])}var V0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vo={},Qo={};function Q0(e){return qi.call(Qo,e)?!0:qi.call(Vo,e)?!1:V0.test(e)?Qo[e]=!0:(Vo[e]=!0,!1)}function nn(e,t,a){if(Q0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function cn(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Vt(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function Nt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Go(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function G0(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var n=l.get,i=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ji(e){if(!e._valueTracker){var t=Go(e)?"checked":"value";e._valueTracker=G0(e,t,""+e[t])}}function Zo(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Go(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function rn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Z0=/[\n"\\]/g;function _t(e){return e.replace(Z0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Fi(e,t,a,l,n,i,o,f){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Nt(t)):e.value!==""+Nt(t)&&(e.value=""+Nt(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?Wi(e,o,Nt(t)):a!=null?Wi(e,o,Nt(a)):l!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.name=""+Nt(f):e.removeAttribute("name")}function Ko(e,t,a,l,n,i,o,f){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Ji(e);return}a=a!=null?""+Nt(a):"",t=t!=null?""+Nt(t):a,f||t===e.value||(e.value=t),e.defaultValue=t}l=l??n,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=f?e.checked:!!l,e.defaultChecked=!!l,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),Ji(e)}function Wi(e,t,a){t==="number"&&rn(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function bl(e,t,a,l){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Nt(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,l&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Jo(e,t,a){if(t!=null&&(t=""+Nt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Nt(a):""}function Fo(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(r(92));if(lt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=Nt(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Ji(e)}function pl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var K0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wo(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||K0.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function $o(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var n in t)l=t[n],t.hasOwnProperty(n)&&a[n]!==l&&Wo(e,n,l)}else for(var i in t)t.hasOwnProperty(i)&&Wo(e,i,t[i])}function $i(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var J0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),F0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function on(e){return F0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qt(){}var Ii=null;function Pi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gl=null,vl=null;function Io(e){var t=ml(e);if(t&&(e=t.stateNode)){var a=e[st]||null;e:switch(e=t.stateNode,t.type){case"input":if(Fi(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_t(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var n=l[st]||null;if(!n)throw Error(r(90));Fi(l,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Zo(l)}break e;case"textarea":Jo(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&bl(e,!!a.multiple,t,!1)}}}var ec=!1;function Po(e,t,a){if(ec)return e(t,a);ec=!0;try{var l=e(t);return l}finally{if(ec=!1,(gl!==null||vl!==null)&&(Wn(),gl&&(t=gl,e=vl,vl=gl=null,Io(t),e)))for(t=0;t<e.length;t++)Io(e[t])}}function ls(e,t){var a=e.stateNode;if(a===null)return null;var l=a[st]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tc=!1;if(Gt)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){tc=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{tc=!1}var ma=null,ac=null,un=null;function eu(){if(un)return un;var e,t=ac,a=t.length,l,n="value"in ma?ma.value:ma.textContent,i=n.length;for(e=0;e<a&&t[e]===n[e];e++);var o=a-e;for(l=1;l<=o&&t[a-l]===n[i-l];l++);return un=n.slice(e,1<l?1-l:void 0)}function dn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fn(){return!0}function tu(){return!1}function nt(e){function t(a,l,n,i,o){this._reactName=a,this._targetInst=n,this.type=l,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(a=e[f],this[f]=a?a(i):i[f]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?fn:tu,this.isPropagationStopped=tu,this}return C(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fn)},persist:function(){},isPersistent:fn}),t}var Va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mn=nt(Va),ns=C({},Va,{view:0,detail:0}),W0=nt(ns),lc,sc,is,hn=C({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ic,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==is&&(is&&e.type==="mousemove"?(lc=e.screenX-is.screenX,sc=e.screenY-is.screenY):sc=lc=0,is=e),lc)},movementY:function(e){return"movementY"in e?e.movementY:sc}}),au=nt(hn),$0=C({},hn,{dataTransfer:0}),I0=nt($0),P0=C({},ns,{relatedTarget:0}),nc=nt(P0),eh=C({},Va,{animationName:0,elapsedTime:0,pseudoElement:0}),th=nt(eh),ah=C({},Va,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lh=nt(ah),sh=C({},Va,{data:0}),lu=nt(sh),nh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ih={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ch={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ch[e])?!!t[e]:!1}function ic(){return rh}var oh=C({},ns,{key:function(e){if(e.key){var t=nh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ih[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ic,charCode:function(e){return e.type==="keypress"?dn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uh=nt(oh),dh=C({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),su=nt(dh),fh=C({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ic}),mh=nt(fh),hh=C({},Va,{propertyName:0,elapsedTime:0,pseudoElement:0}),xh=nt(hh),bh=C({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ph=nt(bh),gh=C({},Va,{newState:0,oldState:0}),vh=nt(gh),yh=[9,13,27,32],cc=Gt&&"CompositionEvent"in window,cs=null;Gt&&"documentMode"in document&&(cs=document.documentMode);var jh=Gt&&"TextEvent"in window&&!cs,nu=Gt&&(!cc||cs&&8<cs&&11>=cs),iu=" ",cu=!1;function ru(e,t){switch(e){case"keyup":return yh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ou(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yl=!1;function Nh(e,t){switch(e){case"compositionend":return ou(t);case"keypress":return t.which!==32?null:(cu=!0,iu);case"textInput":return e=t.data,e===iu&&cu?null:e;default:return null}}function _h(e,t){if(yl)return e==="compositionend"||!cc&&ru(e,t)?(e=eu(),un=ac=ma=null,yl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nu&&t.locale!=="ko"?null:t.data;default:return null}}var Sh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Sh[e.type]:t==="textarea"}function du(e,t,a,l){gl?vl?vl.push(l):vl=[l]:gl=l,t=li(t,"onChange"),0<t.length&&(a=new mn("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var rs=null,os=null;function wh(e){Jf(e,0)}function xn(e){var t=as(e);if(Zo(t))return e}function fu(e,t){if(e==="change")return t}var mu=!1;if(Gt){var rc;if(Gt){var oc="oninput"in document;if(!oc){var hu=document.createElement("div");hu.setAttribute("oninput","return;"),oc=typeof hu.oninput=="function"}rc=oc}else rc=!1;mu=rc&&(!document.documentMode||9<document.documentMode)}function xu(){rs&&(rs.detachEvent("onpropertychange",bu),os=rs=null)}function bu(e){if(e.propertyName==="value"&&xn(os)){var t=[];du(t,os,e,Pi(e)),Po(wh,t)}}function Ch(e,t,a){e==="focusin"?(xu(),rs=t,os=a,rs.attachEvent("onpropertychange",bu)):e==="focusout"&&xu()}function Ah(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xn(os)}function Th(e,t){if(e==="click")return xn(t)}function Eh(e,t){if(e==="input"||e==="change")return xn(t)}function Mh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ht=typeof Object.is=="function"?Object.is:Mh;function us(e,t){if(ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var n=a[l];if(!qi.call(t,n)||!ht(e[n],t[n]))return!1}return!0}function pu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gu(e,t){var a=pu(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=pu(a)}}function vu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=rn(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=rn(e.document)}return t}function uc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Dh=Gt&&"documentMode"in document&&11>=document.documentMode,jl=null,dc=null,ds=null,fc=!1;function ju(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;fc||jl==null||jl!==rn(l)||(l=jl,"selectionStart"in l&&uc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ds&&us(ds,l)||(ds=l,l=li(dc,"onSelect"),0<l.length&&(t=new mn("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=jl)))}function Qa(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Nl={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionrun:Qa("Transition","TransitionRun"),transitionstart:Qa("Transition","TransitionStart"),transitioncancel:Qa("Transition","TransitionCancel"),transitionend:Qa("Transition","TransitionEnd")},mc={},Nu={};Gt&&(Nu=document.createElement("div").style,"AnimationEvent"in window||(delete Nl.animationend.animation,delete Nl.animationiteration.animation,delete Nl.animationstart.animation),"TransitionEvent"in window||delete Nl.transitionend.transition);function Ga(e){if(mc[e])return mc[e];if(!Nl[e])return e;var t=Nl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Nu)return mc[e]=t[a];return e}var _u=Ga("animationend"),Su=Ga("animationiteration"),wu=Ga("animationstart"),zh=Ga("transitionrun"),Oh=Ga("transitionstart"),Rh=Ga("transitioncancel"),Cu=Ga("transitionend"),Au=new Map,hc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hc.push("scrollEnd");function Ot(e,t){Au.set(e,t),Xa(t,[e])}var bn=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},St=[],_l=0,xc=0;function pn(){for(var e=_l,t=xc=_l=0;t<e;){var a=St[t];St[t++]=null;var l=St[t];St[t++]=null;var n=St[t];St[t++]=null;var i=St[t];if(St[t++]=null,l!==null&&n!==null){var o=l.pending;o===null?n.next=n:(n.next=o.next,o.next=n),l.pending=n}i!==0&&Tu(a,n,i)}}function gn(e,t,a,l){St[_l++]=e,St[_l++]=t,St[_l++]=a,St[_l++]=l,xc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function bc(e,t,a,l){return gn(e,t,a,l),vn(e)}function Za(e,t){return gn(e,null,null,t),vn(e)}function Tu(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var n=!1,i=e.return;i!==null;)i.childLanes|=a,l=i.alternate,l!==null&&(l.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-mt(a),e=i.hiddenUpdates,l=e[n],l===null?e[n]=[t]:l.push(t),t.lane=a|536870912),i):null}function vn(e){if(50<Os)throw Os=0,wr=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Sl={};function Lh(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,t,a,l){return new Lh(e,t,a,l)}function pc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zt(e,t){var a=e.alternate;return a===null?(a=xt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Eu(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function yn(e,t,a,l,n,i){var o=0;if(l=e,typeof e=="function")pc(e)&&(o=1);else if(typeof e=="string")o=qx(e,a,Qe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case K:return e=xt(31,a,t,n),e.elementType=K,e.lanes=i,e;case D:return Ka(a.children,n,i,t);case L:o=8,n|=24;break;case y:return e=xt(12,a,t,n|2),e.elementType=y,e.lanes=i,e;case v:return e=xt(13,a,t,n),e.elementType=v,e.lanes=i,e;case Y:return e=xt(19,a,t,n),e.elementType=Y,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q:o=10;break e;case O:o=9;break e;case H:o=11;break e;case X:o=14;break e;case Z:o=16,l=null;break e}o=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=xt(o,a,t,n),t.elementType=e,t.type=l,t.lanes=i,t}function Ka(e,t,a,l){return e=xt(7,e,l,t),e.lanes=a,e}function gc(e,t,a){return e=xt(6,e,null,t),e.lanes=a,e}function Mu(e){var t=xt(18,null,null,0);return t.stateNode=e,t}function vc(e,t,a){return t=xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Du=new WeakMap;function wt(e,t){if(typeof e=="object"&&e!==null){var a=Du.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Mo(t)},Du.set(e,t),t)}return{value:e,source:t,stack:Mo(t)}}var wl=[],Cl=0,jn=null,fs=0,Ct=[],At=0,ha=null,kt=1,Ht="";function Kt(e,t){wl[Cl++]=fs,wl[Cl++]=jn,jn=e,fs=t}function zu(e,t,a){Ct[At++]=kt,Ct[At++]=Ht,Ct[At++]=ha,ha=e;var l=kt;e=Ht;var n=32-mt(l)-1;l&=~(1<<n),a+=1;var i=32-mt(t)+n;if(30<i){var o=n-n%5;i=(l&(1<<o)-1).toString(32),l>>=o,n-=o,kt=1<<32-mt(t)+n|a<<n|l,Ht=i+e}else kt=1<<i|a<<n|l,Ht=e}function yc(e){e.return!==null&&(Kt(e,1),zu(e,1,0))}function jc(e){for(;e===jn;)jn=wl[--Cl],wl[Cl]=null,fs=wl[--Cl],wl[Cl]=null;for(;e===ha;)ha=Ct[--At],Ct[At]=null,Ht=Ct[--At],Ct[At]=null,kt=Ct[--At],Ct[At]=null}function Ou(e,t){Ct[At++]=kt,Ct[At++]=Ht,Ct[At++]=ha,kt=t.id,Ht=t.overflow,ha=e}var Fe=null,Ee=null,he=!1,xa=null,Tt=!1,Nc=Error(r(519));function ba(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ms(wt(t,e)),Nc}function Ru(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[Je]=e,t[st]=l,a){case"dialog":de("cancel",t),de("close",t);break;case"iframe":case"object":case"embed":de("load",t);break;case"video":case"audio":for(a=0;a<Ls.length;a++)de(Ls[a],t);break;case"source":de("error",t);break;case"img":case"image":case"link":de("error",t),de("load",t);break;case"details":de("toggle",t);break;case"input":de("invalid",t),Ko(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":de("invalid",t);break;case"textarea":de("invalid",t),Fo(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||If(t.textContent,a)?(l.popover!=null&&(de("beforetoggle",t),de("toggle",t)),l.onScroll!=null&&de("scroll",t),l.onScrollEnd!=null&&de("scrollend",t),l.onClick!=null&&(t.onclick=Qt),t=!0):t=!1,t||ba(e,!0)}function Lu(e){for(Fe=e.return;Fe;)switch(Fe.tag){case 5:case 31:case 13:Tt=!1;return;case 27:case 3:Tt=!0;return;default:Fe=Fe.return}}function Al(e){if(e!==Fe)return!1;if(!he)return Lu(e),he=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||qr(e.type,e.memoizedProps)),a=!a),a&&Ee&&ba(e),Lu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ee=cm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ee=cm(e)}else t===27?(t=Ee,Ma(e.type)?(e=Gr,Gr=null,Ee=e):Ee=t):Ee=Fe?Mt(e.stateNode.nextSibling):null;return!0}function Ja(){Ee=Fe=null,he=!1}function _c(){var e=xa;return e!==null&&(ot===null?ot=e:ot.push.apply(ot,e),xa=null),e}function ms(e){xa===null?xa=[e]:xa.push(e)}var Sc=tt(null),Fa=null,Jt=null;function pa(e,t,a){ge(Sc,t._currentValue),t._currentValue=a}function Ft(e){e._currentValue=Sc.current,ze(Sc)}function wc(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function Cc(e,t,a,l){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var o=n.child;i=i.firstContext;e:for(;i!==null;){var f=i;i=n;for(var g=0;g<t.length;g++)if(f.context===t[g]){i.lanes|=a,f=i.alternate,f!==null&&(f.lanes|=a),wc(i.return,a,e),l||(o=null);break e}i=f.next}}else if(n.tag===18){if(o=n.return,o===null)throw Error(r(341));o.lanes|=a,i=o.alternate,i!==null&&(i.lanes|=a),wc(o,a,e),o=null}else o=n.child;if(o!==null)o.return=n;else for(o=n;o!==null;){if(o===e){o=null;break}if(n=o.sibling,n!==null){n.return=o.return,o=n;break}o=o.return}n=o}}function Tl(e,t,a,l){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var o=n.alternate;if(o===null)throw Error(r(387));if(o=o.memoizedProps,o!==null){var f=n.type;ht(n.pendingProps.value,o.value)||(e!==null?e.push(f):e=[f])}}else if(n===$s.current){if(o=n.alternate,o===null)throw Error(r(387));o.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(qs):e=[qs])}n=n.return}e!==null&&Cc(t,e,a,l),t.flags|=262144}function Nn(e){for(e=e.firstContext;e!==null;){if(!ht(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Wa(e){Fa=e,Jt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function We(e){return Uu(Fa,e)}function _n(e,t){return Fa===null&&Wa(e),Uu(e,t)}function Uu(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Jt===null){if(e===null)throw Error(r(308));Jt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Jt=Jt.next=t;return a}var Uh=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Bh=c.unstable_scheduleCallback,kh=c.unstable_NormalPriority,ke={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ac(){return{controller:new Uh,data:new Map,refCount:0}}function hs(e){e.refCount--,e.refCount===0&&Bh(kh,function(){e.controller.abort()})}var xs=null,Tc=0,El=0,Ml=null;function Hh(e,t){if(xs===null){var a=xs=[];Tc=0,El=Dr(),Ml={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Tc++,t.then(Bu,Bu),t}function Bu(){if(--Tc===0&&xs!==null){Ml!==null&&(Ml.status="fulfilled");var e=xs;xs=null,El=0,Ml=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function qh(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(l.status="rejected",l.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),l}var ku=U.S;U.S=function(e,t){Nf=dt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Hh(e,t),ku!==null&&ku(e,t)};var $a=tt(null);function Ec(){var e=$a.current;return e!==null?e:Ce.pooledCache}function Sn(e,t){t===null?ge($a,$a.current):ge($a,t.pool)}function Hu(){var e=Ec();return e===null?null:{parent:ke._currentValue,pool:e}}var Dl=Error(r(460)),Mc=Error(r(474)),wn=Error(r(542)),Cn={then:function(){}};function qu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Yu(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Qt,Qt),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vu(e),e;default:if(typeof t.status=="string")t.then(Qt,Qt);else{if(e=Ce,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=l}},function(l){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vu(e),e}throw Pa=t,Dl}}function Ia(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Pa=a,Dl):a}}var Pa=null;function Xu(){if(Pa===null)throw Error(r(459));var e=Pa;return Pa=null,e}function Vu(e){if(e===Dl||e===wn)throw Error(r(483))}var zl=null,bs=0;function An(e){var t=bs;return bs+=1,zl===null&&(zl=[]),Yu(zl,e,t)}function ps(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Tn(e,t){throw t.$$typeof===S?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Qu(e){function t(N,j){if(e){var w=N.deletions;w===null?(N.deletions=[j],N.flags|=16):w.push(j)}}function a(N,j){if(!e)return null;for(;j!==null;)t(N,j),j=j.sibling;return null}function l(N){for(var j=new Map;N!==null;)N.key!==null?j.set(N.key,N):j.set(N.index,N),N=N.sibling;return j}function n(N,j){return N=Zt(N,j),N.index=0,N.sibling=null,N}function i(N,j,w){return N.index=w,e?(w=N.alternate,w!==null?(w=w.index,w<j?(N.flags|=67108866,j):w):(N.flags|=67108866,j)):(N.flags|=1048576,j)}function o(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function f(N,j,w,B){return j===null||j.tag!==6?(j=gc(w,N.mode,B),j.return=N,j):(j=n(j,w),j.return=N,j)}function g(N,j,w,B){var ae=w.type;return ae===D?R(N,j,w.props.children,B,w.key):j!==null&&(j.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Z&&Ia(ae)===j.type)?(j=n(j,w.props),ps(j,w),j.return=N,j):(j=yn(w.type,w.key,w.props,null,N.mode,B),ps(j,w),j.return=N,j)}function A(N,j,w,B){return j===null||j.tag!==4||j.stateNode.containerInfo!==w.containerInfo||j.stateNode.implementation!==w.implementation?(j=vc(w,N.mode,B),j.return=N,j):(j=n(j,w.children||[]),j.return=N,j)}function R(N,j,w,B,ae){return j===null||j.tag!==7?(j=Ka(w,N.mode,B,ae),j.return=N,j):(j=n(j,w),j.return=N,j)}function q(N,j,w){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=gc(""+j,N.mode,w),j.return=N,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case _:return w=yn(j.type,j.key,j.props,null,N.mode,w),ps(w,j),w.return=N,w;case k:return j=vc(j,N.mode,w),j.return=N,j;case Z:return j=Ia(j),q(N,j,w)}if(lt(j)||Ne(j))return j=Ka(j,N.mode,w,null),j.return=N,j;if(typeof j.then=="function")return q(N,An(j),w);if(j.$$typeof===Q)return q(N,_n(N,j),w);Tn(N,j)}return null}function E(N,j,w,B){var ae=j!==null?j.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return ae!==null?null:f(N,j,""+w,B);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case _:return w.key===ae?g(N,j,w,B):null;case k:return w.key===ae?A(N,j,w,B):null;case Z:return w=Ia(w),E(N,j,w,B)}if(lt(w)||Ne(w))return ae!==null?null:R(N,j,w,B,null);if(typeof w.then=="function")return E(N,j,An(w),B);if(w.$$typeof===Q)return E(N,j,_n(N,w),B);Tn(N,w)}return null}function M(N,j,w,B,ae){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return N=N.get(w)||null,f(j,N,""+B,ae);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case _:return N=N.get(B.key===null?w:B.key)||null,g(j,N,B,ae);case k:return N=N.get(B.key===null?w:B.key)||null,A(j,N,B,ae);case Z:return B=Ia(B),M(N,j,w,B,ae)}if(lt(B)||Ne(B))return N=N.get(w)||null,R(j,N,B,ae,null);if(typeof B.then=="function")return M(N,j,w,An(B),ae);if(B.$$typeof===Q)return M(N,j,w,_n(j,B),ae);Tn(j,B)}return null}function $(N,j,w,B){for(var ae=null,xe=null,P=j,oe=j=0,me=null;P!==null&&oe<w.length;oe++){P.index>oe?(me=P,P=null):me=P.sibling;var be=E(N,P,w[oe],B);if(be===null){P===null&&(P=me);break}e&&P&&be.alternate===null&&t(N,P),j=i(be,j,oe),xe===null?ae=be:xe.sibling=be,xe=be,P=me}if(oe===w.length)return a(N,P),he&&Kt(N,oe),ae;if(P===null){for(;oe<w.length;oe++)P=q(N,w[oe],B),P!==null&&(j=i(P,j,oe),xe===null?ae=P:xe.sibling=P,xe=P);return he&&Kt(N,oe),ae}for(P=l(P);oe<w.length;oe++)me=M(P,N,oe,w[oe],B),me!==null&&(e&&me.alternate!==null&&P.delete(me.key===null?oe:me.key),j=i(me,j,oe),xe===null?ae=me:xe.sibling=me,xe=me);return e&&P.forEach(function(La){return t(N,La)}),he&&Kt(N,oe),ae}function se(N,j,w,B){if(w==null)throw Error(r(151));for(var ae=null,xe=null,P=j,oe=j=0,me=null,be=w.next();P!==null&&!be.done;oe++,be=w.next()){P.index>oe?(me=P,P=null):me=P.sibling;var La=E(N,P,be.value,B);if(La===null){P===null&&(P=me);break}e&&P&&La.alternate===null&&t(N,P),j=i(La,j,oe),xe===null?ae=La:xe.sibling=La,xe=La,P=me}if(be.done)return a(N,P),he&&Kt(N,oe),ae;if(P===null){for(;!be.done;oe++,be=w.next())be=q(N,be.value,B),be!==null&&(j=i(be,j,oe),xe===null?ae=be:xe.sibling=be,xe=be);return he&&Kt(N,oe),ae}for(P=l(P);!be.done;oe++,be=w.next())be=M(P,N,oe,be.value,B),be!==null&&(e&&be.alternate!==null&&P.delete(be.key===null?oe:be.key),j=i(be,j,oe),xe===null?ae=be:xe.sibling=be,xe=be);return e&&P.forEach(function($x){return t(N,$x)}),he&&Kt(N,oe),ae}function we(N,j,w,B){if(typeof w=="object"&&w!==null&&w.type===D&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case _:e:{for(var ae=w.key;j!==null;){if(j.key===ae){if(ae=w.type,ae===D){if(j.tag===7){a(N,j.sibling),B=n(j,w.props.children),B.return=N,N=B;break e}}else if(j.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Z&&Ia(ae)===j.type){a(N,j.sibling),B=n(j,w.props),ps(B,w),B.return=N,N=B;break e}a(N,j);break}else t(N,j);j=j.sibling}w.type===D?(B=Ka(w.props.children,N.mode,B,w.key),B.return=N,N=B):(B=yn(w.type,w.key,w.props,null,N.mode,B),ps(B,w),B.return=N,N=B)}return o(N);case k:e:{for(ae=w.key;j!==null;){if(j.key===ae)if(j.tag===4&&j.stateNode.containerInfo===w.containerInfo&&j.stateNode.implementation===w.implementation){a(N,j.sibling),B=n(j,w.children||[]),B.return=N,N=B;break e}else{a(N,j);break}else t(N,j);j=j.sibling}B=vc(w,N.mode,B),B.return=N,N=B}return o(N);case Z:return w=Ia(w),we(N,j,w,B)}if(lt(w))return $(N,j,w,B);if(Ne(w)){if(ae=Ne(w),typeof ae!="function")throw Error(r(150));return w=ae.call(w),se(N,j,w,B)}if(typeof w.then=="function")return we(N,j,An(w),B);if(w.$$typeof===Q)return we(N,j,_n(N,w),B);Tn(N,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,j!==null&&j.tag===6?(a(N,j.sibling),B=n(j,w),B.return=N,N=B):(a(N,j),B=gc(w,N.mode,B),B.return=N,N=B),o(N)):a(N,j)}return function(N,j,w,B){try{bs=0;var ae=we(N,j,w,B);return zl=null,ae}catch(P){if(P===Dl||P===wn)throw P;var xe=xt(29,P,null,N.mode);return xe.lanes=B,xe.return=N,xe}finally{}}}var el=Qu(!0),Gu=Qu(!1),ga=!1;function Dc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function va(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ya(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(pe&2)!==0){var n=l.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),l.pending=t,t=vn(e),Tu(e,null,a),t}return gn(e,l,t,a),vn(e)}function gs(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Uo(e,a)}}function Oc(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var n=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var o={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?n=i=o:i=i.next=o,a=a.next}while(a!==null);i===null?n=i=t:i=i.next=t}else n=i=t;a={baseState:l.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Rc=!1;function vs(){if(Rc){var e=Ml;if(e!==null)throw e}}function ys(e,t,a,l){Rc=!1;var n=e.updateQueue;ga=!1;var i=n.firstBaseUpdate,o=n.lastBaseUpdate,f=n.shared.pending;if(f!==null){n.shared.pending=null;var g=f,A=g.next;g.next=null,o===null?i=A:o.next=A,o=g;var R=e.alternate;R!==null&&(R=R.updateQueue,f=R.lastBaseUpdate,f!==o&&(f===null?R.firstBaseUpdate=A:f.next=A,R.lastBaseUpdate=g))}if(i!==null){var q=n.baseState;o=0,R=A=g=null,f=i;do{var E=f.lane&-536870913,M=E!==f.lane;if(M?(fe&E)===E:(l&E)===E){E!==0&&E===El&&(Rc=!0),R!==null&&(R=R.next={lane:0,tag:f.tag,payload:f.payload,callback:null,next:null});e:{var $=e,se=f;E=t;var we=a;switch(se.tag){case 1:if($=se.payload,typeof $=="function"){q=$.call(we,q,E);break e}q=$;break e;case 3:$.flags=$.flags&-65537|128;case 0:if($=se.payload,E=typeof $=="function"?$.call(we,q,E):$,E==null)break e;q=C({},q,E);break e;case 2:ga=!0}}E=f.callback,E!==null&&(e.flags|=64,M&&(e.flags|=8192),M=n.callbacks,M===null?n.callbacks=[E]:M.push(E))}else M={lane:E,tag:f.tag,payload:f.payload,callback:f.callback,next:null},R===null?(A=R=M,g=q):R=R.next=M,o|=E;if(f=f.next,f===null){if(f=n.shared.pending,f===null)break;M=f,f=M.next,M.next=null,n.lastBaseUpdate=M,n.shared.pending=null}}while(!0);R===null&&(g=q),n.baseState=g,n.firstBaseUpdate=A,n.lastBaseUpdate=R,i===null&&(n.shared.lanes=0),wa|=o,e.lanes=o,e.memoizedState=q}}function Zu(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Ku(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Zu(a[e],t)}var Ol=tt(null),En=tt(0);function Ju(e,t){e=sa,ge(En,e),ge(Ol,t),sa=e|t.baseLanes}function Lc(){ge(En,sa),ge(Ol,Ol.current)}function Uc(){sa=En.current,ze(Ol),ze(En)}var bt=tt(null),Et=null;function ja(e){var t=e.alternate;ge(Ue,Ue.current&1),ge(bt,e),Et===null&&(t===null||Ol.current!==null||t.memoizedState!==null)&&(Et=e)}function Bc(e){ge(Ue,Ue.current),ge(bt,e),Et===null&&(Et=e)}function Fu(e){e.tag===22?(ge(Ue,Ue.current),ge(bt,e),Et===null&&(Et=e)):Na()}function Na(){ge(Ue,Ue.current),ge(bt,bt.current)}function pt(e){ze(bt),Et===e&&(Et=null),ze(Ue)}var Ue=tt(0);function Mn(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Vr(a)||Qr(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wt=0,re=null,_e=null,He=null,Dn=!1,Rl=!1,tl=!1,zn=0,js=0,Ll=null,Yh=0;function Re(){throw Error(r(321))}function kc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!ht(e[a],t[a]))return!1;return!0}function Hc(e,t,a,l,n,i){return Wt=i,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?zd:er,tl=!1,i=a(l,n),tl=!1,Rl&&(i=$u(t,a,l,n)),Wu(e),i}function Wu(e){U.H=Ss;var t=_e!==null&&_e.next!==null;if(Wt=0,He=_e=re=null,Dn=!1,js=0,Ll=null,t)throw Error(r(300));e===null||qe||(e=e.dependencies,e!==null&&Nn(e)&&(qe=!0))}function $u(e,t,a,l){re=e;var n=0;do{if(Rl&&(Ll=null),js=0,Rl=!1,25<=n)throw Error(r(301));if(n+=1,He=_e=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}U.H=Od,i=t(a,l)}while(Rl);return i}function Xh(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?Ns(t):t,e=e.useState()[0],(_e!==null?_e.memoizedState:null)!==e&&(re.flags|=1024),t}function qc(){var e=zn!==0;return zn=0,e}function Yc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Xc(e){if(Dn){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Dn=!1}Wt=0,He=_e=re=null,Rl=!1,js=zn=0,Ll=null}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?re.memoizedState=He=e:He=He.next=e,He}function Be(){if(_e===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=He===null?re.memoizedState:He.next;if(t!==null)He=t,_e=e;else{if(e===null)throw re.alternate===null?Error(r(467)):Error(r(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},He===null?re.memoizedState=He=e:He=He.next=e}return He}function On(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ns(e){var t=js;return js+=1,Ll===null&&(Ll=[]),e=Yu(Ll,e,t),t=re,(He===null?t.memoizedState:He.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?zd:er),e}function Rn(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ns(e);if(e.$$typeof===Q)return We(e)}throw Error(r(438,String(e)))}function Vc(e){var t=null,a=re.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=On(),re.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=te;return t.index++,a}function $t(e,t){return typeof t=="function"?t(e):t}function Ln(e){var t=Be();return Qc(t,_e,e)}function Qc(e,t,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var n=e.baseQueue,i=l.pending;if(i!==null){if(n!==null){var o=n.next;n.next=i.next,i.next=o}t.baseQueue=n=i,l.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var f=o=null,g=null,A=t,R=!1;do{var q=A.lane&-536870913;if(q!==A.lane?(fe&q)===q:(Wt&q)===q){var E=A.revertLane;if(E===0)g!==null&&(g=g.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),q===El&&(R=!0);else if((Wt&E)===E){A=A.next,E===El&&(R=!0);continue}else q={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},g===null?(f=g=q,o=i):g=g.next=q,re.lanes|=E,wa|=E;q=A.action,tl&&a(i,q),i=A.hasEagerState?A.eagerState:a(i,q)}else E={lane:q,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},g===null?(f=g=E,o=i):g=g.next=E,re.lanes|=q,wa|=q;A=A.next}while(A!==null&&A!==t);if(g===null?o=i:g.next=f,!ht(i,e.memoizedState)&&(qe=!0,R&&(a=Ml,a!==null)))throw a;e.memoizedState=i,e.baseState=o,e.baseQueue=g,l.lastRenderedState=i}return n===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Gc(e){var t=Be(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,n=a.pending,i=t.memoizedState;if(n!==null){a.pending=null;var o=n=n.next;do i=e(i,o.action),o=o.next;while(o!==n);ht(i,t.memoizedState)||(qe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,l]}function Iu(e,t,a){var l=re,n=Be(),i=he;if(i){if(a===void 0)throw Error(r(407));a=a()}else a=t();var o=!ht((_e||n).memoizedState,a);if(o&&(n.memoizedState=a,qe=!0),n=n.queue,Jc(td.bind(null,l,n,e),[e]),n.getSnapshot!==t||o||He!==null&&He.memoizedState.tag&1){if(l.flags|=2048,Ul(9,{destroy:void 0},ed.bind(null,l,n,a,t),null),Ce===null)throw Error(r(349));i||(Wt&127)!==0||Pu(l,t,a)}return a}function Pu(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=re.updateQueue,t===null?(t=On(),re.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function ed(e,t,a,l){t.value=a,t.getSnapshot=l,ad(t)&&ld(e)}function td(e,t,a){return a(function(){ad(t)&&ld(e)})}function ad(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!ht(e,a)}catch{return!0}}function ld(e){var t=Za(e,2);t!==null&&ut(t,e,2)}function Zc(e){var t=at();if(typeof e=="function"){var a=e;if(e=a(),tl){da(!0);try{a()}finally{da(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:e},t}function sd(e,t,a,l){return e.baseState=a,Qc(e,_e,typeof l=="function"?l:$t)}function Vh(e,t,a,l,n){if(kn(e))throw Error(r(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};U.T!==null?a(!0):i.isTransition=!1,l(i),a=t.pending,a===null?(i.next=t.pending=i,nd(t,i)):(i.next=a.next,t.pending=a.next=i)}}function nd(e,t){var a=t.action,l=t.payload,n=e.state;if(t.isTransition){var i=U.T,o={};U.T=o;try{var f=a(n,l),g=U.S;g!==null&&g(o,f),id(e,t,f)}catch(A){Kc(e,t,A)}finally{i!==null&&o.types!==null&&(i.types=o.types),U.T=i}}else try{i=a(n,l),id(e,t,i)}catch(A){Kc(e,t,A)}}function id(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){cd(e,t,l)},function(l){return Kc(e,t,l)}):cd(e,t,a)}function cd(e,t,a){t.status="fulfilled",t.value=a,rd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,nd(e,a)))}function Kc(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,rd(t),t=t.next;while(t!==l)}e.action=null}function rd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function od(e,t){return t}function ud(e,t){if(he){var a=Ce.formState;if(a!==null){e:{var l=re;if(he){if(Ee){t:{for(var n=Ee,i=Tt;n.nodeType!==8;){if(!i){n=null;break t}if(n=Mt(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){Ee=Mt(n.nextSibling),l=n.data==="F!";break e}}ba(l)}l=!1}l&&(t=a[0])}}return a=at(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:od,lastRenderedState:t},a.queue=l,a=Ed.bind(null,re,l),l.dispatch=a,l=Zc(!1),i=Pc.bind(null,re,!1,l.queue),l=at(),n={state:t,dispatch:null,action:e,pending:null},l.queue=n,a=Vh.bind(null,re,n,i,a),n.dispatch=a,l.memoizedState=e,[t,a,!1]}function dd(e){var t=Be();return fd(t,_e,e)}function fd(e,t,a){if(t=Qc(e,t,od)[0],e=Ln($t)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ns(t)}catch(o){throw o===Dl?wn:o}else l=t;t=Be();var n=t.queue,i=n.dispatch;return a!==t.memoizedState&&(re.flags|=2048,Ul(9,{destroy:void 0},Qh.bind(null,n,a),null)),[l,i,e]}function Qh(e,t){e.action=t}function md(e){var t=Be(),a=_e;if(a!==null)return fd(t,a,e);Be(),t=t.memoizedState,a=Be();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Ul(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=re.updateQueue,t===null&&(t=On(),re.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function hd(){return Be().memoizedState}function Un(e,t,a,l){var n=at();re.flags|=e,n.memoizedState=Ul(1|t,{destroy:void 0},a,l===void 0?null:l)}function Bn(e,t,a,l){var n=Be();l=l===void 0?null:l;var i=n.memoizedState.inst;_e!==null&&l!==null&&kc(l,_e.memoizedState.deps)?n.memoizedState=Ul(t,i,a,l):(re.flags|=e,n.memoizedState=Ul(1|t,i,a,l))}function xd(e,t){Un(8390656,8,e,t)}function Jc(e,t){Bn(2048,8,e,t)}function Gh(e){re.flags|=4;var t=re.updateQueue;if(t===null)t=On(),re.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function bd(e){var t=Be().memoizedState;return Gh({ref:t,nextImpl:e}),function(){if((pe&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function pd(e,t){return Bn(4,2,e,t)}function gd(e,t){return Bn(4,4,e,t)}function vd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yd(e,t,a){a=a!=null?a.concat([e]):null,Bn(4,4,vd.bind(null,t,e),a)}function Fc(){}function jd(e,t){var a=Be();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&kc(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function Nd(e,t){var a=Be();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&kc(t,l[1]))return l[0];if(l=e(),tl){da(!0);try{e()}finally{da(!1)}}return a.memoizedState=[l,t],l}function Wc(e,t,a){return a===void 0||(Wt&1073741824)!==0&&(fe&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Sf(),re.lanes|=e,wa|=e,a)}function _d(e,t,a,l){return ht(a,t)?a:Ol.current!==null?(e=Wc(e,a,l),ht(e,t)||(qe=!0),e):(Wt&42)===0||(Wt&1073741824)!==0&&(fe&261930)===0?(qe=!0,e.memoizedState=a):(e=Sf(),re.lanes|=e,wa|=e,t)}function Sd(e,t,a,l,n){var i=W.p;W.p=i!==0&&8>i?i:8;var o=U.T,f={};U.T=f,Pc(e,!1,t,a);try{var g=n(),A=U.S;if(A!==null&&A(f,g),g!==null&&typeof g=="object"&&typeof g.then=="function"){var R=qh(g,l);_s(e,t,R,yt(e))}else _s(e,t,l,yt(e))}catch(q){_s(e,t,{then:function(){},status:"rejected",reason:q},yt())}finally{W.p=i,o!==null&&f.types!==null&&(o.types=f.types),U.T=o}}function Zh(){}function $c(e,t,a,l){if(e.tag!==5)throw Error(r(476));var n=wd(e).queue;Sd(e,n,t,ce,a===null?Zh:function(){return Cd(e),a(l)})}function wd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:ce},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Cd(e){var t=wd(e);t.next===null&&(t=e.alternate.memoizedState),_s(e,t.next.queue,{},yt())}function Ic(){return We(qs)}function Ad(){return Be().memoizedState}function Td(){return Be().memoizedState}function Kh(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=yt();e=va(a);var l=ya(t,e,a);l!==null&&(ut(l,t,a),gs(l,t,a)),t={cache:Ac()},e.payload=t;return}t=t.return}}function Jh(e,t,a){var l=yt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},kn(e)?Md(t,a):(a=bc(e,t,a,l),a!==null&&(ut(a,e,l),Dd(a,t,l)))}function Ed(e,t,a){var l=yt();_s(e,t,a,l)}function _s(e,t,a,l){var n={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(kn(e))Md(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,f=i(o,a);if(n.hasEagerState=!0,n.eagerState=f,ht(f,o))return gn(e,t,n,0),Ce===null&&pn(),!1}catch{}finally{}if(a=bc(e,t,n,l),a!==null)return ut(a,e,l),Dd(a,t,l),!0}return!1}function Pc(e,t,a,l){if(l={lane:2,revertLane:Dr(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},kn(e)){if(t)throw Error(r(479))}else t=bc(e,a,l,2),t!==null&&ut(t,e,2)}function kn(e){var t=e.alternate;return e===re||t!==null&&t===re}function Md(e,t){Rl=Dn=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Dd(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Uo(e,a)}}var Ss={readContext:We,use:Rn,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useLayoutEffect:Re,useInsertionEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useSyncExternalStore:Re,useId:Re,useHostTransitionStatus:Re,useFormState:Re,useActionState:Re,useOptimistic:Re,useMemoCache:Re,useCacheRefresh:Re};Ss.useEffectEvent=Re;var zd={readContext:We,use:Rn,useCallback:function(e,t){return at().memoizedState=[e,t===void 0?null:t],e},useContext:We,useEffect:xd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Un(4194308,4,vd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Un(4194308,4,e,t)},useInsertionEffect:function(e,t){Un(4,2,e,t)},useMemo:function(e,t){var a=at();t=t===void 0?null:t;var l=e();if(tl){da(!0);try{e()}finally{da(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=at();if(a!==void 0){var n=a(t);if(tl){da(!0);try{a(t)}finally{da(!1)}}}else n=t;return l.memoizedState=l.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=Jh.bind(null,re,e),[l.memoizedState,e]},useRef:function(e){var t=at();return e={current:e},t.memoizedState=e},useState:function(e){e=Zc(e);var t=e.queue,a=Ed.bind(null,re,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Fc,useDeferredValue:function(e,t){var a=at();return Wc(a,e,t)},useTransition:function(){var e=Zc(!1);return e=Sd.bind(null,re,e.queue,!0,!1),at().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=re,n=at();if(he){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Ce===null)throw Error(r(349));(fe&127)!==0||Pu(l,t,a)}n.memoizedState=a;var i={value:a,getSnapshot:t};return n.queue=i,xd(td.bind(null,l,i,e),[e]),l.flags|=2048,Ul(9,{destroy:void 0},ed.bind(null,l,i,a,t),null),a},useId:function(){var e=at(),t=Ce.identifierPrefix;if(he){var a=Ht,l=kt;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=zn++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Yh++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ic,useFormState:ud,useActionState:ud,useOptimistic:function(e){var t=at();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Pc.bind(null,re,!0,a),a.dispatch=t,[e,t]},useMemoCache:Vc,useCacheRefresh:function(){return at().memoizedState=Kh.bind(null,re)},useEffectEvent:function(e){var t=at(),a={impl:e};return t.memoizedState=a,function(){if((pe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},er={readContext:We,use:Rn,useCallback:jd,useContext:We,useEffect:Jc,useImperativeHandle:yd,useInsertionEffect:pd,useLayoutEffect:gd,useMemo:Nd,useReducer:Ln,useRef:hd,useState:function(){return Ln($t)},useDebugValue:Fc,useDeferredValue:function(e,t){var a=Be();return _d(a,_e.memoizedState,e,t)},useTransition:function(){var e=Ln($t)[0],t=Be().memoizedState;return[typeof e=="boolean"?e:Ns(e),t]},useSyncExternalStore:Iu,useId:Ad,useHostTransitionStatus:Ic,useFormState:dd,useActionState:dd,useOptimistic:function(e,t){var a=Be();return sd(a,_e,e,t)},useMemoCache:Vc,useCacheRefresh:Td};er.useEffectEvent=bd;var Od={readContext:We,use:Rn,useCallback:jd,useContext:We,useEffect:Jc,useImperativeHandle:yd,useInsertionEffect:pd,useLayoutEffect:gd,useMemo:Nd,useReducer:Gc,useRef:hd,useState:function(){return Gc($t)},useDebugValue:Fc,useDeferredValue:function(e,t){var a=Be();return _e===null?Wc(a,e,t):_d(a,_e.memoizedState,e,t)},useTransition:function(){var e=Gc($t)[0],t=Be().memoizedState;return[typeof e=="boolean"?e:Ns(e),t]},useSyncExternalStore:Iu,useId:Ad,useHostTransitionStatus:Ic,useFormState:md,useActionState:md,useOptimistic:function(e,t){var a=Be();return _e!==null?sd(a,_e,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Vc,useCacheRefresh:Td};Od.useEffectEvent=bd;function tr(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:C({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ar={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=yt(),n=va(l);n.payload=t,a!=null&&(n.callback=a),t=ya(e,n,l),t!==null&&(ut(t,e,l),gs(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=yt(),n=va(l);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=ya(e,n,l),t!==null&&(ut(t,e,l),gs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=yt(),l=va(a);l.tag=2,t!=null&&(l.callback=t),t=ya(e,l,a),t!==null&&(ut(t,e,a),gs(t,e,a))}};function Rd(e,t,a,l,n,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,i,o):t.prototype&&t.prototype.isPureReactComponent?!us(a,l)||!us(n,i):!0}function Ld(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&ar.enqueueReplaceState(t,t.state,null)}function al(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=C({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}function Ud(e){bn(e)}function Bd(e){console.error(e)}function kd(e){bn(e)}function Hn(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Hd(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function lr(e,t,a){return a=va(a),a.tag=3,a.payload={element:null},a.callback=function(){Hn(e,t)},a}function qd(e){return e=va(e),e.tag=3,e}function Yd(e,t,a,l){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var i=l.value;e.payload=function(){return n(i)},e.callback=function(){Hd(t,a,l)}}var o=a.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){Hd(t,a,l),typeof n!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var f=l.stack;this.componentDidCatch(l.value,{componentStack:f!==null?f:""})})}function Fh(e,t,a,l,n){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&Tl(t,a,n,!0),a=bt.current,a!==null){switch(a.tag){case 31:case 13:return Et===null?$n():a.alternate===null&&Le===0&&(Le=3),a.flags&=-257,a.flags|=65536,a.lanes=n,l===Cn?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Tr(e,l,n)),!1;case 22:return a.flags|=65536,l===Cn?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Tr(e,l,n)),!1}throw Error(r(435,a.tag))}return Tr(e,l,n),$n(),!1}if(he)return t=bt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,l!==Nc&&(e=Error(r(422),{cause:l}),ms(wt(e,a)))):(l!==Nc&&(t=Error(r(423),{cause:l}),ms(wt(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,l=wt(l,a),n=lr(e.stateNode,l,n),Oc(e,n),Le!==4&&(Le=2)),!1;var i=Error(r(520),{cause:l});if(i=wt(i,a),zs===null?zs=[i]:zs.push(i),Le!==4&&(Le=2),t===null)return!0;l=wt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=lr(a.stateNode,l,e),Oc(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Ca===null||!Ca.has(i))))return a.flags|=65536,n&=-n,a.lanes|=n,n=qd(n),Yd(n,e,a,l),Oc(a,n),!1}a=a.return}while(a!==null);return!1}var sr=Error(r(461)),qe=!1;function $e(e,t,a,l){t.child=e===null?Gu(t,null,a,l):el(t,e.child,a,l)}function Xd(e,t,a,l,n){a=a.render;var i=t.ref;if("ref"in l){var o={};for(var f in l)f!=="ref"&&(o[f]=l[f])}else o=l;return Wa(t),l=Hc(e,t,a,o,i,n),f=qc(),e!==null&&!qe?(Yc(e,t,n),It(e,t,n)):(he&&f&&yc(t),t.flags|=1,$e(e,t,l,n),t.child)}function Vd(e,t,a,l,n){if(e===null){var i=a.type;return typeof i=="function"&&!pc(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,Qd(e,t,i,l,n)):(e=yn(a.type,null,l,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!fr(e,n)){var o=i.memoizedProps;if(a=a.compare,a=a!==null?a:us,a(o,l)&&e.ref===t.ref)return It(e,t,n)}return t.flags|=1,e=Zt(i,l),e.ref=t.ref,e.return=t,t.child=e}function Qd(e,t,a,l,n){if(e!==null){var i=e.memoizedProps;if(us(i,l)&&e.ref===t.ref)if(qe=!1,t.pendingProps=l=i,fr(e,n))(e.flags&131072)!==0&&(qe=!0);else return t.lanes=e.lanes,It(e,t,n)}return nr(e,t,a,l,n)}function Gd(e,t,a,l){var n=l.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(l=t.child=e.child,n=0;l!==null;)n=n|l.lanes|l.childLanes,l=l.sibling;l=n&~i}else l=0,t.child=null;return Zd(e,t,i,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Sn(t,i!==null?i.cachePool:null),i!==null?Ju(t,i):Lc(),Fu(t);else return l=t.lanes=536870912,Zd(e,t,i!==null?i.baseLanes|a:a,a,l)}else i!==null?(Sn(t,i.cachePool),Ju(t,i),Na(),t.memoizedState=null):(e!==null&&Sn(t,null),Lc(),Na());return $e(e,t,n,a),t.child}function ws(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Zd(e,t,a,l,n){var i=Ec();return i=i===null?null:{parent:ke._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&Sn(t,null),Lc(),Fu(t),e!==null&&Tl(e,t,l,!0),t.childLanes=n,null}function qn(e,t){return t=Xn({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Kd(e,t,a){return el(t,e.child,null,a),e=qn(t,t.pendingProps),e.flags|=2,pt(t),t.memoizedState=null,e}function Wh(e,t,a){var l=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(he){if(l.mode==="hidden")return e=qn(t,l),t.lanes=536870912,ws(null,e);if(Bc(t),(e=Ee)?(e=im(e,Tt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ha!==null?{id:kt,overflow:Ht}:null,retryLane:536870912,hydrationErrors:null},a=Mu(e),a.return=t,t.child=a,Fe=t,Ee=null)):e=null,e===null)throw ba(t);return t.lanes=536870912,null}return qn(t,l)}var i=e.memoizedState;if(i!==null){var o=i.dehydrated;if(Bc(t),n)if(t.flags&256)t.flags&=-257,t=Kd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(qe||Tl(e,t,a,!1),n=(a&e.childLanes)!==0,qe||n){if(l=Ce,l!==null&&(o=Bo(l,a),o!==0&&o!==i.retryLane))throw i.retryLane=o,Za(e,o),ut(l,e,o),sr;$n(),t=Kd(e,t,a)}else e=i.treeContext,Ee=Mt(o.nextSibling),Fe=t,he=!0,xa=null,Tt=!1,e!==null&&Ou(t,e),t=qn(t,l),t.flags|=4096;return t}return e=Zt(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Yn(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function nr(e,t,a,l,n){return Wa(t),a=Hc(e,t,a,l,void 0,n),l=qc(),e!==null&&!qe?(Yc(e,t,n),It(e,t,n)):(he&&l&&yc(t),t.flags|=1,$e(e,t,a,n),t.child)}function Jd(e,t,a,l,n,i){return Wa(t),t.updateQueue=null,a=$u(t,l,a,n),Wu(e),l=qc(),e!==null&&!qe?(Yc(e,t,i),It(e,t,i)):(he&&l&&yc(t),t.flags|=1,$e(e,t,a,i),t.child)}function Fd(e,t,a,l,n){if(Wa(t),t.stateNode===null){var i=Sl,o=a.contextType;typeof o=="object"&&o!==null&&(i=We(o)),i=new a(l,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ar,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=l,i.state=t.memoizedState,i.refs={},Dc(t),o=a.contextType,i.context=typeof o=="object"&&o!==null?We(o):Sl,i.state=t.memoizedState,o=a.getDerivedStateFromProps,typeof o=="function"&&(tr(t,a,o,l),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&ar.enqueueReplaceState(i,i.state,null),ys(t,l,i,n),vs(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){i=t.stateNode;var f=t.memoizedProps,g=al(a,f);i.props=g;var A=i.context,R=a.contextType;o=Sl,typeof R=="object"&&R!==null&&(o=We(R));var q=a.getDerivedStateFromProps;R=typeof q=="function"||typeof i.getSnapshotBeforeUpdate=="function",f=t.pendingProps!==f,R||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(f||A!==o)&&Ld(t,i,l,o),ga=!1;var E=t.memoizedState;i.state=E,ys(t,l,i,n),vs(),A=t.memoizedState,f||E!==A||ga?(typeof q=="function"&&(tr(t,a,q,l),A=t.memoizedState),(g=ga||Rd(t,a,g,l,E,A,o))?(R||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=A),i.props=l,i.state=A,i.context=o,l=g):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,zc(e,t),o=t.memoizedProps,R=al(a,o),i.props=R,q=t.pendingProps,E=i.context,A=a.contextType,g=Sl,typeof A=="object"&&A!==null&&(g=We(A)),f=a.getDerivedStateFromProps,(A=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==q||E!==g)&&Ld(t,i,l,g),ga=!1,E=t.memoizedState,i.state=E,ys(t,l,i,n),vs();var M=t.memoizedState;o!==q||E!==M||ga||e!==null&&e.dependencies!==null&&Nn(e.dependencies)?(typeof f=="function"&&(tr(t,a,f,l),M=t.memoizedState),(R=ga||Rd(t,a,R,l,E,M,g)||e!==null&&e.dependencies!==null&&Nn(e.dependencies))?(A||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,M,g),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,M,g)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=M),i.props=l,i.state=M,i.context=g,l=R):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),l=!1)}return i=l,Yn(e,t),l=(t.flags&128)!==0,i||l?(i=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&l?(t.child=el(t,e.child,null,n),t.child=el(t,null,a,n)):$e(e,t,a,n),t.memoizedState=i.state,e=t.child):e=It(e,t,n),e}function Wd(e,t,a,l){return Ja(),t.flags|=256,$e(e,t,a,l),t.child}var ir={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cr(e){return{baseLanes:e,cachePool:Hu()}}function rr(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=vt),e}function $d(e,t,a){var l=t.pendingProps,n=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(Ue.current&2)!==0),o&&(n=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(he){if(n?ja(t):Na(),(e=Ee)?(e=im(e,Tt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ha!==null?{id:kt,overflow:Ht}:null,retryLane:536870912,hydrationErrors:null},a=Mu(e),a.return=t,t.child=a,Fe=t,Ee=null)):e=null,e===null)throw ba(t);return Qr(e)?t.lanes=32:t.lanes=536870912,null}var f=l.children;return l=l.fallback,n?(Na(),n=t.mode,f=Xn({mode:"hidden",children:f},n),l=Ka(l,n,a,null),f.return=t,l.return=t,f.sibling=l,t.child=f,l=t.child,l.memoizedState=cr(a),l.childLanes=rr(e,o,a),t.memoizedState=ir,ws(null,l)):(ja(t),or(t,f))}var g=e.memoizedState;if(g!==null&&(f=g.dehydrated,f!==null)){if(i)t.flags&256?(ja(t),t.flags&=-257,t=ur(e,t,a)):t.memoizedState!==null?(Na(),t.child=e.child,t.flags|=128,t=null):(Na(),f=l.fallback,n=t.mode,l=Xn({mode:"visible",children:l.children},n),f=Ka(f,n,a,null),f.flags|=2,l.return=t,f.return=t,l.sibling=f,t.child=l,el(t,e.child,null,a),l=t.child,l.memoizedState=cr(a),l.childLanes=rr(e,o,a),t.memoizedState=ir,t=ws(null,l));else if(ja(t),Qr(f)){if(o=f.nextSibling&&f.nextSibling.dataset,o)var A=o.dgst;o=A,l=Error(r(419)),l.stack="",l.digest=o,ms({value:l,source:null,stack:null}),t=ur(e,t,a)}else if(qe||Tl(e,t,a,!1),o=(a&e.childLanes)!==0,qe||o){if(o=Ce,o!==null&&(l=Bo(o,a),l!==0&&l!==g.retryLane))throw g.retryLane=l,Za(e,l),ut(o,e,l),sr;Vr(f)||$n(),t=ur(e,t,a)}else Vr(f)?(t.flags|=192,t.child=e.child,t=null):(e=g.treeContext,Ee=Mt(f.nextSibling),Fe=t,he=!0,xa=null,Tt=!1,e!==null&&Ou(t,e),t=or(t,l.children),t.flags|=4096);return t}return n?(Na(),f=l.fallback,n=t.mode,g=e.child,A=g.sibling,l=Zt(g,{mode:"hidden",children:l.children}),l.subtreeFlags=g.subtreeFlags&65011712,A!==null?f=Zt(A,f):(f=Ka(f,n,a,null),f.flags|=2),f.return=t,l.return=t,l.sibling=f,t.child=l,ws(null,l),l=t.child,f=e.child.memoizedState,f===null?f=cr(a):(n=f.cachePool,n!==null?(g=ke._currentValue,n=n.parent!==g?{parent:g,pool:g}:n):n=Hu(),f={baseLanes:f.baseLanes|a,cachePool:n}),l.memoizedState=f,l.childLanes=rr(e,o,a),t.memoizedState=ir,ws(e.child,l)):(ja(t),a=e.child,e=a.sibling,a=Zt(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=a,t.memoizedState=null,a)}function or(e,t){return t=Xn({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Xn(e,t){return e=xt(22,e,null,t),e.lanes=0,e}function ur(e,t,a){return el(t,e.child,null,a),e=or(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Id(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),wc(e.return,t,a)}function dr(e,t,a,l,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:n,treeForkCount:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=l,o.tail=a,o.tailMode=n,o.treeForkCount=i)}function Pd(e,t,a){var l=t.pendingProps,n=l.revealOrder,i=l.tail;l=l.children;var o=Ue.current,f=(o&2)!==0;if(f?(o=o&1|2,t.flags|=128):o&=1,ge(Ue,o),$e(e,t,l,a),l=he?fs:0,!f&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Id(e,a,t);else if(e.tag===19)Id(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&Mn(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),dr(t,!1,n,a,i,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Mn(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}dr(t,!0,a,null,i,l);break;case"together":dr(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function It(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),wa|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Tl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=Zt(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Zt(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function fr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Nn(e)))}function $h(e,t,a){switch(t.tag){case 3:Is(t,t.stateNode.containerInfo),pa(t,ke,e.memoizedState.cache),Ja();break;case 27:case 5:Ui(t);break;case 4:Is(t,t.stateNode.containerInfo);break;case 10:pa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Bc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(ja(t),t.flags|=128,null):(a&t.child.childLanes)!==0?$d(e,t,a):(ja(t),e=It(e,t,a),e!==null?e.sibling:null);ja(t);break;case 19:var n=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(Tl(e,t,a,!1),l=(a&t.childLanes)!==0),n){if(l)return Pd(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),ge(Ue,Ue.current),l)break;return null;case 22:return t.lanes=0,Gd(e,t,a,t.pendingProps);case 24:pa(t,ke,e.memoizedState.cache)}return It(e,t,a)}function ef(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)qe=!0;else{if(!fr(e,a)&&(t.flags&128)===0)return qe=!1,$h(e,t,a);qe=(e.flags&131072)!==0}else qe=!1,he&&(t.flags&1048576)!==0&&zu(t,fs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Ia(t.elementType),t.type=e,typeof e=="function")pc(e)?(l=al(e,l),t.tag=1,t=Fd(null,t,e,l,a)):(t.tag=0,t=nr(null,t,e,l,a));else{if(e!=null){var n=e.$$typeof;if(n===H){t.tag=11,t=Xd(null,t,e,l,a);break e}else if(n===X){t.tag=14,t=Vd(null,t,e,l,a);break e}}throw t=Ve(e)||e,Error(r(306,t,""))}}return t;case 0:return nr(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,n=al(l,t.pendingProps),Fd(e,t,l,n,a);case 3:e:{if(Is(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var i=t.memoizedState;n=i.element,zc(e,t),ys(t,l,null,a);var o=t.memoizedState;if(l=o.cache,pa(t,ke,l),l!==i.cache&&Cc(t,[ke],a,!0),vs(),l=o.element,i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Wd(e,t,l,a);break e}else if(l!==n){n=wt(Error(r(424)),t),ms(n),t=Wd(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ee=Mt(e.firstChild),Fe=t,he=!0,xa=null,Tt=!0,a=Gu(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ja(),l===n){t=It(e,t,a);break e}$e(e,t,l,a)}t=t.child}return t;case 26:return Yn(e,t),e===null?(a=fm(t.type,null,t.pendingProps,null))?t.memoizedState=a:he||(a=t.type,e=t.pendingProps,l=si(ua.current).createElement(a),l[Je]=t,l[st]=e,Ie(l,a,e),Ge(l),t.stateNode=l):t.memoizedState=fm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ui(t),e===null&&he&&(l=t.stateNode=om(t.type,t.pendingProps,ua.current),Fe=t,Tt=!0,n=Ee,Ma(t.type)?(Gr=n,Ee=Mt(l.firstChild)):Ee=n),$e(e,t,t.pendingProps.children,a),Yn(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&he&&((n=l=Ee)&&(l=Ax(l,t.type,t.pendingProps,Tt),l!==null?(t.stateNode=l,Fe=t,Ee=Mt(l.firstChild),Tt=!1,n=!0):n=!1),n||ba(t)),Ui(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,l=i.children,qr(n,i)?l=null:o!==null&&qr(n,o)&&(t.flags|=32),t.memoizedState!==null&&(n=Hc(e,t,Xh,null,null,a),qs._currentValue=n),Yn(e,t),$e(e,t,l,a),t.child;case 6:return e===null&&he&&((e=a=Ee)&&(a=Tx(a,t.pendingProps,Tt),a!==null?(t.stateNode=a,Fe=t,Ee=null,e=!0):e=!1),e||ba(t)),null;case 13:return $d(e,t,a);case 4:return Is(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=el(t,null,l,a):$e(e,t,l,a),t.child;case 11:return Xd(e,t,t.type,t.pendingProps,a);case 7:return $e(e,t,t.pendingProps,a),t.child;case 8:return $e(e,t,t.pendingProps.children,a),t.child;case 12:return $e(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,pa(t,t.type,l.value),$e(e,t,l.children,a),t.child;case 9:return n=t.type._context,l=t.pendingProps.children,Wa(t),n=We(n),l=l(n),t.flags|=1,$e(e,t,l,a),t.child;case 14:return Vd(e,t,t.type,t.pendingProps,a);case 15:return Qd(e,t,t.type,t.pendingProps,a);case 19:return Pd(e,t,a);case 31:return Wh(e,t,a);case 22:return Gd(e,t,a,t.pendingProps);case 24:return Wa(t),l=We(ke),e===null?(n=Ec(),n===null&&(n=Ce,i=Ac(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=a),n=i),t.memoizedState={parent:l,cache:n},Dc(t),pa(t,ke,n)):((e.lanes&a)!==0&&(zc(e,t),ys(t,null,null,a),vs()),n=e.memoizedState,i=t.memoizedState,n.parent!==l?(n={parent:l,cache:l},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),pa(t,ke,l)):(l=i.cache,pa(t,ke,l),l!==n.cache&&Cc(t,[ke],a,!0))),$e(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Pt(e){e.flags|=4}function mr(e,t,a,l,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(Tf())e.flags|=8192;else throw Pa=Cn,Mc}else e.flags&=-16777217}function tf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!pm(t))if(Tf())e.flags|=8192;else throw Pa=Cn,Mc}function Vn(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ro():536870912,e.lanes|=t,ql|=t)}function Cs(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags&65011712,l|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags,l|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function Ih(e,t,a){var l=t.pendingProps;switch(jc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Me(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Ft(ke),ul(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Al(t)?Pt(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,_c())),Me(t),null;case 26:var n=t.type,i=t.memoizedState;return e===null?(Pt(t),i!==null?(Me(t),tf(t,i)):(Me(t),mr(t,n,null,l,a))):i?i!==e.memoizedState?(Pt(t),Me(t),tf(t,i)):(Me(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Pt(t),Me(t),mr(t,n,e,l,a)),null;case 27:if(Ps(t),a=ua.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Pt(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Me(t),null}e=Qe.current,Al(t)?Ru(t):(e=om(n,l,a),t.stateNode=e,Pt(t))}return Me(t),null;case 5:if(Ps(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Pt(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Me(t),null}if(i=Qe.current,Al(t))Ru(t);else{var o=si(ua.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?o.createElement("select",{is:l.is}):o.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?o.createElement(n,{is:l.is}):o.createElement(n)}}i[Je]=t,i[st]=l;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(Ie(i,n,l),n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Pt(t)}}return Me(t),mr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Pt(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=ua.current,Al(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,n=Fe,n!==null)switch(n.tag){case 27:case 5:l=n.memoizedProps}e[Je]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||If(e.nodeValue,a)),e||ba(t,!0)}else e=si(e).createTextNode(l),e[Je]=t,t.stateNode=e}return Me(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=Al(t),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Je]=t}else Ja(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Me(t),e=!1}else a=_c(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(pt(t),t):(pt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Me(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Al(t),l!==null&&l.dehydrated!==null){if(e===null){if(!n)throw Error(r(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));n[Je]=t}else Ja(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Me(t),n=!1}else n=_c(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(pt(t),t):(pt(t),null)}return pt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,n=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(n=l.alternate.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==n&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Vn(t,t.updateQueue),Me(t),null);case 4:return ul(),e===null&&Lr(t.stateNode.containerInfo),Me(t),null;case 10:return Ft(t.type),Me(t),null;case 19:if(ze(Ue),l=t.memoizedState,l===null)return Me(t),null;if(n=(t.flags&128)!==0,i=l.rendering,i===null)if(n)Cs(l,!1);else{if(Le!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Mn(e),i!==null){for(t.flags|=128,Cs(l,!1),e=i.updateQueue,t.updateQueue=e,Vn(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Eu(a,e),a=a.sibling;return ge(Ue,Ue.current&1|2),he&&Kt(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&dt()>Jn&&(t.flags|=128,n=!0,Cs(l,!1),t.lanes=4194304)}else{if(!n)if(e=Mn(i),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Vn(t,e),Cs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!he)return Me(t),null}else 2*dt()-l.renderingStartTime>Jn&&a!==536870912&&(t.flags|=128,n=!0,Cs(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(e=l.last,e!==null?e.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=dt(),e.sibling=null,a=Ue.current,ge(Ue,n?a&1|2:a&1),he&&Kt(t,l.treeForkCount),e):(Me(t),null);case 22:case 23:return pt(t),Uc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),a=t.updateQueue,a!==null&&Vn(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&ze($a),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ft(ke),Me(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Ph(e,t){switch(jc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ft(ke),ul(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ps(t),null;case 31:if(t.memoizedState!==null){if(pt(t),t.alternate===null)throw Error(r(340));Ja()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(pt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Ja()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Ue),null;case 4:return ul(),null;case 10:return Ft(t.type),null;case 22:case 23:return pt(t),Uc(),e!==null&&ze($a),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ft(ke),null;case 25:return null;default:return null}}function af(e,t){switch(jc(t),t.tag){case 3:Ft(ke),ul();break;case 26:case 27:case 5:Ps(t);break;case 4:ul();break;case 31:t.memoizedState!==null&&pt(t);break;case 13:pt(t);break;case 19:ze(Ue);break;case 10:Ft(t.type);break;case 22:case 23:pt(t),Uc(),e!==null&&ze($a);break;case 24:Ft(ke)}}function As(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var n=l.next;a=n;do{if((a.tag&e)===e){l=void 0;var i=a.create,o=a.inst;l=i(),o.destroy=l}a=a.next}while(a!==n)}}catch(f){ye(t,t.return,f)}}function _a(e,t,a){try{var l=t.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var i=n.next;l=i;do{if((l.tag&e)===e){var o=l.inst,f=o.destroy;if(f!==void 0){o.destroy=void 0,n=t;var g=a,A=f;try{A()}catch(R){ye(n,g,R)}}}l=l.next}while(l!==i)}}catch(R){ye(t,t.return,R)}}function lf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Ku(t,a)}catch(l){ye(e,e.return,l)}}}function sf(e,t,a){a.props=al(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ye(e,t,l)}}function Ts(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(n){ye(e,t,n)}}function qt(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(n){ye(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){ye(e,t,n)}else a.current=null}function nf(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(n){ye(e,e.return,n)}}function hr(e,t,a){try{var l=e.stateNode;jx(l,e.type,a,t),l[st]=t}catch(n){ye(e,e.return,n)}}function cf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ma(e.type)||e.tag===4}function xr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ma(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function br(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Qt));else if(l!==4&&(l===27&&Ma(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(br(e,t,a),e=e.sibling;e!==null;)br(e,t,a),e=e.sibling}function Qn(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&Ma(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Qn(e,t,a),e=e.sibling;e!==null;)Qn(e,t,a),e=e.sibling}function rf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ie(t,l,a),t[Je]=e,t[st]=a}catch(i){ye(e,e.return,i)}}var ea=!1,Ye=!1,pr=!1,of=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function ex(e,t){if(e=e.containerInfo,kr=di,e=yu(e),uc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var n=l.anchorOffset,i=l.focusNode;l=l.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var o=0,f=-1,g=-1,A=0,R=0,q=e,E=null;t:for(;;){for(var M;q!==a||n!==0&&q.nodeType!==3||(f=o+n),q!==i||l!==0&&q.nodeType!==3||(g=o+l),q.nodeType===3&&(o+=q.nodeValue.length),(M=q.firstChild)!==null;)E=q,q=M;for(;;){if(q===e)break t;if(E===a&&++A===n&&(f=o),E===i&&++R===l&&(g=o),(M=q.nextSibling)!==null)break;q=E,E=q.parentNode}q=M}a=f===-1||g===-1?null:{start:f,end:g}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hr={focusedElem:e,selectionRange:a},di=!1,Ze=t;Ze!==null;)if(t=Ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ze=e;else for(;Ze!==null;){switch(t=Ze,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)n=e[a],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,n=i.memoizedProps,i=i.memoizedState,l=a.stateNode;try{var $=al(a.type,n);e=l.getSnapshotBeforeUpdate($,i),l.__reactInternalSnapshotBeforeUpdate=e}catch(se){ye(a,a.return,se)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Xr(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Ze=e;break}Ze=t.return}}function uf(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:aa(e,a),l&4&&As(5,a);break;case 1:if(aa(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(o){ye(a,a.return,o)}else{var n=al(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){ye(a,a.return,o)}}l&64&&lf(a),l&512&&Ts(a,a.return);break;case 3:if(aa(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Ku(e,t)}catch(o){ye(a,a.return,o)}}break;case 27:t===null&&l&4&&rf(a);case 26:case 5:aa(e,a),t===null&&l&4&&nf(a),l&512&&Ts(a,a.return);break;case 12:aa(e,a);break;case 31:aa(e,a),l&4&&mf(e,a);break;case 13:aa(e,a),l&4&&hf(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=ox.bind(null,a),Ex(e,a))));break;case 22:if(l=a.memoizedState!==null||ea,!l){t=t!==null&&t.memoizedState!==null||Ye,n=ea;var i=Ye;ea=l,(Ye=t)&&!i?la(e,a,(a.subtreeFlags&8772)!==0):aa(e,a),ea=n,Ye=i}break;case 30:break;default:aa(e,a)}}function df(e){var t=e.alternate;t!==null&&(e.alternate=null,df(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ki(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var De=null,it=!1;function ta(e,t,a){for(a=a.child;a!==null;)ff(e,t,a),a=a.sibling}function ff(e,t,a){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Il,a)}catch{}switch(a.tag){case 26:Ye||qt(a,t),ta(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ye||qt(a,t);var l=De,n=it;Ma(a.type)&&(De=a.stateNode,it=!1),ta(e,t,a),Bs(a.stateNode),De=l,it=n;break;case 5:Ye||qt(a,t);case 6:if(l=De,n=it,De=null,ta(e,t,a),De=l,it=n,De!==null)if(it)try{(De.nodeType===9?De.body:De.nodeName==="HTML"?De.ownerDocument.body:De).removeChild(a.stateNode)}catch(i){ye(a,t,i)}else try{De.removeChild(a.stateNode)}catch(i){ye(a,t,i)}break;case 18:De!==null&&(it?(e=De,sm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Jl(e)):sm(De,a.stateNode));break;case 4:l=De,n=it,De=a.stateNode.containerInfo,it=!0,ta(e,t,a),De=l,it=n;break;case 0:case 11:case 14:case 15:_a(2,a,t),Ye||_a(4,a,t),ta(e,t,a);break;case 1:Ye||(qt(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&sf(a,t,l)),ta(e,t,a);break;case 21:ta(e,t,a);break;case 22:Ye=(l=Ye)||a.memoizedState!==null,ta(e,t,a),Ye=l;break;default:ta(e,t,a)}}function mf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Jl(e)}catch(a){ye(t,t.return,a)}}}function hf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Jl(e)}catch(a){ye(t,t.return,a)}}function tx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new of),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new of),t;default:throw Error(r(435,e.tag))}}function Gn(e,t){var a=tx(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var n=ux.bind(null,e,l);l.then(n,n)}})}function ct(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var n=a[l],i=e,o=t,f=o;e:for(;f!==null;){switch(f.tag){case 27:if(Ma(f.type)){De=f.stateNode,it=!1;break e}break;case 5:De=f.stateNode,it=!1;break e;case 3:case 4:De=f.stateNode.containerInfo,it=!0;break e}f=f.return}if(De===null)throw Error(r(160));ff(i,o,n),De=null,it=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)xf(t,e),t=t.sibling}var Rt=null;function xf(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ct(t,e),rt(e),l&4&&(_a(3,e,e.return),As(3,e),_a(5,e,e.return));break;case 1:ct(t,e),rt(e),l&512&&(Ye||a===null||qt(a,a.return)),l&64&&ea&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var n=Rt;if(ct(t,e),rt(e),l&512&&(Ye||a===null||qt(a,a.return)),l&4){var i=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(l){case"title":i=n.getElementsByTagName("title")[0],(!i||i[ts]||i[Je]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(l),n.head.insertBefore(i,n.querySelector("head > title"))),Ie(i,l,a),i[Je]=e,Ge(i),l=i;break e;case"link":var o=xm("link","href",n).get(l+(a.href||""));if(o){for(var f=0;f<o.length;f++)if(i=o[f],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){o.splice(f,1);break t}}i=n.createElement(l),Ie(i,l,a),n.head.appendChild(i);break;case"meta":if(o=xm("meta","content",n).get(l+(a.content||""))){for(f=0;f<o.length;f++)if(i=o[f],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){o.splice(f,1);break t}}i=n.createElement(l),Ie(i,l,a),n.head.appendChild(i);break;default:throw Error(r(468,l))}i[Je]=e,Ge(i),l=i}e.stateNode=l}else bm(n,e.type,e.stateNode);else e.stateNode=hm(n,l,e.memoizedProps);else i!==l?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,l===null?bm(n,e.type,e.stateNode):hm(n,l,e.memoizedProps)):l===null&&e.stateNode!==null&&hr(e,e.memoizedProps,a.memoizedProps)}break;case 27:ct(t,e),rt(e),l&512&&(Ye||a===null||qt(a,a.return)),a!==null&&l&4&&hr(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ct(t,e),rt(e),l&512&&(Ye||a===null||qt(a,a.return)),e.flags&32){n=e.stateNode;try{pl(n,"")}catch($){ye(e,e.return,$)}}l&4&&e.stateNode!=null&&(n=e.memoizedProps,hr(e,n,a!==null?a.memoizedProps:n)),l&1024&&(pr=!0);break;case 6:if(ct(t,e),rt(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch($){ye(e,e.return,$)}}break;case 3:if(ci=null,n=Rt,Rt=ni(t.containerInfo),ct(t,e),Rt=n,rt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Jl(t.containerInfo)}catch($){ye(e,e.return,$)}pr&&(pr=!1,bf(e));break;case 4:l=Rt,Rt=ni(e.stateNode.containerInfo),ct(t,e),rt(e),Rt=l;break;case 12:ct(t,e),rt(e);break;case 31:ct(t,e),rt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Gn(e,l)));break;case 13:ct(t,e),rt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Kn=dt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Gn(e,l)));break;case 22:n=e.memoizedState!==null;var g=a!==null&&a.memoizedState!==null,A=ea,R=Ye;if(ea=A||n,Ye=R||g,ct(t,e),Ye=R,ea=A,rt(e),l&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||g||ea||Ye||ll(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){g=a=t;try{if(i=g.stateNode,n)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{f=g.stateNode;var q=g.memoizedProps.style,E=q!=null&&q.hasOwnProperty("display")?q.display:null;f.style.display=E==null||typeof E=="boolean"?"":(""+E).trim()}}catch($){ye(g,g.return,$)}}}else if(t.tag===6){if(a===null){g=t;try{g.stateNode.nodeValue=n?"":g.memoizedProps}catch($){ye(g,g.return,$)}}}else if(t.tag===18){if(a===null){g=t;try{var M=g.stateNode;n?nm(M,!0):nm(g.stateNode,!1)}catch($){ye(g,g.return,$)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Gn(e,a))));break;case 19:ct(t,e),rt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Gn(e,l)));break;case 30:break;case 21:break;default:ct(t,e),rt(e)}}function rt(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(cf(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var n=a.stateNode,i=xr(e);Qn(e,i,n);break;case 5:var o=a.stateNode;a.flags&32&&(pl(o,""),a.flags&=-33);var f=xr(e);Qn(e,f,o);break;case 3:case 4:var g=a.stateNode.containerInfo,A=xr(e);br(e,A,g);break;default:throw Error(r(161))}}catch(R){ye(e,e.return,R)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;bf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function aa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)uf(e,t.alternate,t),t=t.sibling}function ll(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:_a(4,t,t.return),ll(t);break;case 1:qt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&sf(t,t.return,a),ll(t);break;case 27:Bs(t.stateNode);case 26:case 5:qt(t,t.return),ll(t);break;case 22:t.memoizedState===null&&ll(t);break;case 30:ll(t);break;default:ll(t)}e=e.sibling}}function la(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,n=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:la(n,i,a),As(4,i);break;case 1:if(la(n,i,a),l=i,n=l.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(A){ye(l,l.return,A)}if(l=i,n=l.updateQueue,n!==null){var f=l.stateNode;try{var g=n.shared.hiddenCallbacks;if(g!==null)for(n.shared.hiddenCallbacks=null,n=0;n<g.length;n++)Zu(g[n],f)}catch(A){ye(l,l.return,A)}}a&&o&64&&lf(i),Ts(i,i.return);break;case 27:rf(i);case 26:case 5:la(n,i,a),a&&l===null&&o&4&&nf(i),Ts(i,i.return);break;case 12:la(n,i,a);break;case 31:la(n,i,a),a&&o&4&&mf(n,i);break;case 13:la(n,i,a),a&&o&4&&hf(n,i);break;case 22:i.memoizedState===null&&la(n,i,a),Ts(i,i.return);break;case 30:break;default:la(n,i,a)}t=t.sibling}}function gr(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&hs(a))}function vr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&hs(e))}function Lt(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)pf(e,t,a,l),t=t.sibling}function pf(e,t,a,l){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Lt(e,t,a,l),n&2048&&As(9,t);break;case 1:Lt(e,t,a,l);break;case 3:Lt(e,t,a,l),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&hs(e)));break;case 12:if(n&2048){Lt(e,t,a,l),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,f=i.onPostCommit;typeof f=="function"&&f(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(g){ye(t,t.return,g)}}else Lt(e,t,a,l);break;case 31:Lt(e,t,a,l);break;case 13:Lt(e,t,a,l);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?Lt(e,t,a,l):Es(e,t):i._visibility&2?Lt(e,t,a,l):(i._visibility|=2,Bl(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),n&2048&&gr(o,t);break;case 24:Lt(e,t,a,l),n&2048&&vr(t.alternate,t);break;default:Lt(e,t,a,l)}}function Bl(e,t,a,l,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,o=t,f=a,g=l,A=o.flags;switch(o.tag){case 0:case 11:case 15:Bl(i,o,f,g,n),As(8,o);break;case 23:break;case 22:var R=o.stateNode;o.memoizedState!==null?R._visibility&2?Bl(i,o,f,g,n):Es(i,o):(R._visibility|=2,Bl(i,o,f,g,n)),n&&A&2048&&gr(o.alternate,o);break;case 24:Bl(i,o,f,g,n),n&&A&2048&&vr(o.alternate,o);break;default:Bl(i,o,f,g,n)}t=t.sibling}}function Es(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,n=l.flags;switch(l.tag){case 22:Es(a,l),n&2048&&gr(l.alternate,l);break;case 24:Es(a,l),n&2048&&vr(l.alternate,l);break;default:Es(a,l)}t=t.sibling}}var Ms=8192;function kl(e,t,a){if(e.subtreeFlags&Ms)for(e=e.child;e!==null;)gf(e,t,a),e=e.sibling}function gf(e,t,a){switch(e.tag){case 26:kl(e,t,a),e.flags&Ms&&e.memoizedState!==null&&Yx(a,Rt,e.memoizedState,e.memoizedProps);break;case 5:kl(e,t,a);break;case 3:case 4:var l=Rt;Rt=ni(e.stateNode.containerInfo),kl(e,t,a),Rt=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Ms,Ms=16777216,kl(e,t,a),Ms=l):kl(e,t,a));break;default:kl(e,t,a)}}function vf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ds(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Ze=l,jf(l,e)}vf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yf(e),e=e.sibling}function yf(e){switch(e.tag){case 0:case 11:case 15:Ds(e),e.flags&2048&&_a(9,e,e.return);break;case 3:Ds(e);break;case 12:Ds(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Zn(e)):Ds(e);break;default:Ds(e)}}function Zn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Ze=l,jf(l,e)}vf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:_a(8,t,t.return),Zn(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Zn(t));break;default:Zn(t)}e=e.sibling}}function jf(e,t){for(;Ze!==null;){var a=Ze;switch(a.tag){case 0:case 11:case 15:_a(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hs(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ze=l;else e:for(a=e;Ze!==null;){l=Ze;var n=l.sibling,i=l.return;if(df(l),l===a){Ze=null;break e}if(n!==null){n.return=i,Ze=n;break e}Ze=i}}}var ax={getCacheForType:function(e){var t=We(ke),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return We(ke).controller.signal}},lx=typeof WeakMap=="function"?WeakMap:Map,pe=0,Ce=null,ue=null,fe=0,ve=0,gt=null,Sa=!1,Hl=!1,yr=!1,sa=0,Le=0,wa=0,sl=0,jr=0,vt=0,ql=0,zs=null,ot=null,Nr=!1,Kn=0,Nf=0,Jn=1/0,Fn=null,Ca=null,Xe=0,Aa=null,Yl=null,na=0,_r=0,Sr=null,_f=null,Os=0,wr=null;function yt(){return(pe&2)!==0&&fe!==0?fe&-fe:U.T!==null?Dr():ko()}function Sf(){if(vt===0)if((fe&536870912)===0||he){var e=an;an<<=1,(an&3932160)===0&&(an=262144),vt=e}else vt=536870912;return e=bt.current,e!==null&&(e.flags|=32),vt}function ut(e,t,a){(e===Ce&&(ve===2||ve===9)||e.cancelPendingCommit!==null)&&(Xl(e,0),Ta(e,fe,vt,!1)),es(e,a),((pe&2)===0||e!==Ce)&&(e===Ce&&((pe&2)===0&&(sl|=a),Le===4&&Ta(e,fe,vt,!1)),Yt(e))}function wf(e,t,a){if((pe&6)!==0)throw Error(r(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Pl(e,t),n=l?ix(e,t):Ar(e,t,!0),i=l;do{if(n===0){Hl&&!l&&Ta(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!sx(a)){n=Ar(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var f=e;n=zs;var g=f.current.memoizedState.isDehydrated;if(g&&(Xl(f,o).flags|=256),o=Ar(f,o,!1),o!==2){if(yr&&!g){f.errorRecoveryDisabledLanes|=i,sl|=i,n=4;break e}i=ot,ot=n,i!==null&&(ot===null?ot=i:ot.push.apply(ot,i))}n=o}if(i=!1,n!==2)continue}}if(n===1){Xl(e,0),Ta(e,t,0,!0);break}e:{switch(l=e,i=n,i){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Ta(l,t,vt,!Sa);break e;case 2:ot=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(n=Kn+300-dt(),10<n)){if(Ta(l,t,vt,!Sa),sn(l,0,!0)!==0)break e;na=t,l.timeoutHandle=am(Cf.bind(null,l,a,ot,Fn,Nr,t,vt,sl,ql,Sa,i,"Throttled",-0,0),n);break e}Cf(l,a,ot,Fn,Nr,t,vt,sl,ql,Sa,i,null,-0,0)}}break}while(!0);Yt(e)}function Cf(e,t,a,l,n,i,o,f,g,A,R,q,E,M){if(e.timeoutHandle=-1,q=t.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qt},gf(t,i,q);var $=(i&62914560)===i?Kn-dt():(i&4194048)===i?Nf-dt():0;if($=Xx(q,$),$!==null){na=i,e.cancelPendingCommit=$(Rf.bind(null,e,t,i,a,l,n,o,f,g,R,q,null,E,M)),Ta(e,i,o,!A);return}}Rf(e,t,i,a,l,n,o,f,g)}function sx(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var n=a[l],i=n.getSnapshot;n=n.value;try{if(!ht(i(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ta(e,t,a,l){t&=~jr,t&=~sl,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var n=t;0<n;){var i=31-mt(n),o=1<<i;l[i]=-1,n&=~o}a!==0&&Lo(e,a,t)}function Wn(){return(pe&6)===0?(Rs(0),!1):!0}function Cr(){if(ue!==null){if(ve===0)var e=ue.return;else e=ue,Jt=Fa=null,Xc(e),zl=null,bs=0,e=ue;for(;e!==null;)af(e.alternate,e),e=e.return;ue=null}}function Xl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Sx(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),na=0,Cr(),Ce=e,ue=a=Zt(e.current,null),fe=t,ve=0,gt=null,Sa=!1,Hl=Pl(e,t),yr=!1,ql=vt=jr=sl=wa=Le=0,ot=zs=null,Nr=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var n=31-mt(l),i=1<<n;t|=e[n],l&=~i}return sa=t,pn(),a}function Af(e,t){re=null,U.H=Ss,t===Dl||t===wn?(t=Xu(),ve=3):t===Mc?(t=Xu(),ve=4):ve=t===sr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,gt=t,ue===null&&(Le=1,Hn(e,wt(t,e.current)))}function Tf(){var e=bt.current;return e===null?!0:(fe&4194048)===fe?Et===null:(fe&62914560)===fe||(fe&536870912)!==0?e===Et:!1}function Ef(){var e=U.H;return U.H=Ss,e===null?Ss:e}function Mf(){var e=U.A;return U.A=ax,e}function $n(){Le=4,Sa||(fe&4194048)!==fe&&bt.current!==null||(Hl=!0),(wa&134217727)===0&&(sl&134217727)===0||Ce===null||Ta(Ce,fe,vt,!1)}function Ar(e,t,a){var l=pe;pe|=2;var n=Ef(),i=Mf();(Ce!==e||fe!==t)&&(Fn=null,Xl(e,t)),t=!1;var o=Le;e:do try{if(ve!==0&&ue!==null){var f=ue,g=gt;switch(ve){case 8:Cr(),o=6;break e;case 3:case 2:case 9:case 6:bt.current===null&&(t=!0);var A=ve;if(ve=0,gt=null,Vl(e,f,g,A),a&&Hl){o=0;break e}break;default:A=ve,ve=0,gt=null,Vl(e,f,g,A)}}nx(),o=Le;break}catch(R){Af(e,R)}while(!0);return t&&e.shellSuspendCounter++,Jt=Fa=null,pe=l,U.H=n,U.A=i,ue===null&&(Ce=null,fe=0,pn()),o}function nx(){for(;ue!==null;)Df(ue)}function ix(e,t){var a=pe;pe|=2;var l=Ef(),n=Mf();Ce!==e||fe!==t?(Fn=null,Jn=dt()+500,Xl(e,t)):Hl=Pl(e,t);e:do try{if(ve!==0&&ue!==null){t=ue;var i=gt;t:switch(ve){case 1:ve=0,gt=null,Vl(e,t,i,1);break;case 2:case 9:if(qu(i)){ve=0,gt=null,zf(t);break}t=function(){ve!==2&&ve!==9||Ce!==e||(ve=7),Yt(e)},i.then(t,t);break e;case 3:ve=7;break e;case 4:ve=5;break e;case 7:qu(i)?(ve=0,gt=null,zf(t)):(ve=0,gt=null,Vl(e,t,i,7));break;case 5:var o=null;switch(ue.tag){case 26:o=ue.memoizedState;case 5:case 27:var f=ue;if(o?pm(o):f.stateNode.complete){ve=0,gt=null;var g=f.sibling;if(g!==null)ue=g;else{var A=f.return;A!==null?(ue=A,In(A)):ue=null}break t}}ve=0,gt=null,Vl(e,t,i,5);break;case 6:ve=0,gt=null,Vl(e,t,i,6);break;case 8:Cr(),Le=6;break e;default:throw Error(r(462))}}cx();break}catch(R){Af(e,R)}while(!0);return Jt=Fa=null,U.H=l,U.A=n,pe=a,ue!==null?0:(Ce=null,fe=0,pn(),Le)}function cx(){for(;ue!==null&&!M0();)Df(ue)}function Df(e){var t=ef(e.alternate,e,sa);e.memoizedProps=e.pendingProps,t===null?In(e):ue=t}function zf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Jd(a,t,t.pendingProps,t.type,void 0,fe);break;case 11:t=Jd(a,t,t.pendingProps,t.type.render,t.ref,fe);break;case 5:Xc(t);default:af(a,t),t=ue=Eu(t,sa),t=ef(a,t,sa)}e.memoizedProps=e.pendingProps,t===null?In(e):ue=t}function Vl(e,t,a,l){Jt=Fa=null,Xc(t),zl=null,bs=0;var n=t.return;try{if(Fh(e,n,t,a,fe)){Le=1,Hn(e,wt(a,e.current)),ue=null;return}}catch(i){if(n!==null)throw ue=n,i;Le=1,Hn(e,wt(a,e.current)),ue=null;return}t.flags&32768?(he||l===1?e=!0:Hl||(fe&536870912)!==0?e=!1:(Sa=e=!0,(l===2||l===9||l===3||l===6)&&(l=bt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Of(t,e)):In(t)}function In(e){var t=e;do{if((t.flags&32768)!==0){Of(t,Sa);return}e=t.return;var a=Ih(t.alternate,t,sa);if(a!==null){ue=a;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);Le===0&&(Le=5)}function Of(e,t){do{var a=Ph(e.alternate,e);if(a!==null){a.flags&=32767,ue=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ue=e;return}ue=e=a}while(e!==null);Le=6,ue=null}function Rf(e,t,a,l,n,i,o,f,g){e.cancelPendingCommit=null;do Pn();while(Xe!==0);if((pe&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(i=t.lanes|t.childLanes,i|=xc,q0(e,a,i,o,f,g),e===Ce&&(ue=Ce=null,fe=0),Yl=t,Aa=e,na=a,_r=i,Sr=n,_f=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,dx(en,function(){return Hf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,n=W.p,W.p=2,o=pe,pe|=4;try{ex(e,t,a)}finally{pe=o,W.p=n,U.T=l}}Xe=1,Lf(),Uf(),Bf()}}function Lf(){if(Xe===1){Xe=0;var e=Aa,t=Yl,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var l=W.p;W.p=2;var n=pe;pe|=4;try{xf(t,e);var i=Hr,o=yu(e.containerInfo),f=i.focusedElem,g=i.selectionRange;if(o!==f&&f&&f.ownerDocument&&vu(f.ownerDocument.documentElement,f)){if(g!==null&&uc(f)){var A=g.start,R=g.end;if(R===void 0&&(R=A),"selectionStart"in f)f.selectionStart=A,f.selectionEnd=Math.min(R,f.value.length);else{var q=f.ownerDocument||document,E=q&&q.defaultView||window;if(E.getSelection){var M=E.getSelection(),$=f.textContent.length,se=Math.min(g.start,$),we=g.end===void 0?se:Math.min(g.end,$);!M.extend&&se>we&&(o=we,we=se,se=o);var N=gu(f,se),j=gu(f,we);if(N&&j&&(M.rangeCount!==1||M.anchorNode!==N.node||M.anchorOffset!==N.offset||M.focusNode!==j.node||M.focusOffset!==j.offset)){var w=q.createRange();w.setStart(N.node,N.offset),M.removeAllRanges(),se>we?(M.addRange(w),M.extend(j.node,j.offset)):(w.setEnd(j.node,j.offset),M.addRange(w))}}}}for(q=[],M=f;M=M.parentNode;)M.nodeType===1&&q.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<q.length;f++){var B=q[f];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}di=!!kr,Hr=kr=null}finally{pe=n,W.p=l,U.T=a}}e.current=t,Xe=2}}function Uf(){if(Xe===2){Xe=0;var e=Aa,t=Yl,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var l=W.p;W.p=2;var n=pe;pe|=4;try{uf(e,t.alternate,t)}finally{pe=n,W.p=l,U.T=a}}Xe=3}}function Bf(){if(Xe===4||Xe===3){Xe=0,D0();var e=Aa,t=Yl,a=na,l=_f;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Xe=5:(Xe=0,Yl=Aa=null,kf(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(Ca=null),Gi(a),t=t.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Il,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=U.T,n=W.p,W.p=2,U.T=null;try{for(var i=e.onRecoverableError,o=0;o<l.length;o++){var f=l[o];i(f.value,{componentStack:f.stack})}}finally{U.T=t,W.p=n}}(na&3)!==0&&Pn(),Yt(e),n=e.pendingLanes,(a&261930)!==0&&(n&42)!==0?e===wr?Os++:(Os=0,wr=e):Os=0,Rs(0)}}function kf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,hs(t)))}function Pn(){return Lf(),Uf(),Bf(),Hf()}function Hf(){if(Xe!==5)return!1;var e=Aa,t=_r;_r=0;var a=Gi(na),l=U.T,n=W.p;try{W.p=32>a?32:a,U.T=null,a=Sr,Sr=null;var i=Aa,o=na;if(Xe=0,Yl=Aa=null,na=0,(pe&6)!==0)throw Error(r(331));var f=pe;if(pe|=4,yf(i.current),pf(i,i.current,o,a),pe=f,Rs(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Il,i)}catch{}return!0}finally{W.p=n,U.T=l,kf(e,t)}}function qf(e,t,a){t=wt(a,t),t=lr(e.stateNode,t,2),e=ya(e,t,2),e!==null&&(es(e,2),Yt(e))}function ye(e,t,a){if(e.tag===3)qf(e,e,a);else for(;t!==null;){if(t.tag===3){qf(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ca===null||!Ca.has(l))){e=wt(a,e),a=qd(2),l=ya(t,a,2),l!==null&&(Yd(a,l,t,e),es(l,2),Yt(l));break}}t=t.return}}function Tr(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new lx;var n=new Set;l.set(t,n)}else n=l.get(t),n===void 0&&(n=new Set,l.set(t,n));n.has(a)||(yr=!0,n.add(a),e=rx.bind(null,e,t,a),t.then(e,e))}function rx(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ce===e&&(fe&a)===a&&(Le===4||Le===3&&(fe&62914560)===fe&&300>dt()-Kn?(pe&2)===0&&Xl(e,0):jr|=a,ql===fe&&(ql=0)),Yt(e)}function Yf(e,t){t===0&&(t=Ro()),e=Za(e,t),e!==null&&(es(e,t),Yt(e))}function ox(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Yf(e,a)}function ux(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),Yf(e,a)}function dx(e,t){return Yi(e,t)}var ei=null,Ql=null,Er=!1,ti=!1,Mr=!1,Ea=0;function Yt(e){e!==Ql&&e.next===null&&(Ql===null?ei=Ql=e:Ql=Ql.next=e),ti=!0,Er||(Er=!0,mx())}function Rs(e,t){if(!Mr&&ti){Mr=!0;do for(var a=!1,l=ei;l!==null;){if(e!==0){var n=l.pendingLanes;if(n===0)var i=0;else{var o=l.suspendedLanes,f=l.pingedLanes;i=(1<<31-mt(42|e)+1)-1,i&=n&~(o&~f),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,Gf(l,i))}else i=fe,i=sn(l,l===Ce?i:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(i&3)===0||Pl(l,i)||(a=!0,Gf(l,i));l=l.next}while(a);Mr=!1}}function fx(){Xf()}function Xf(){ti=Er=!1;var e=0;Ea!==0&&_x()&&(e=Ea);for(var t=dt(),a=null,l=ei;l!==null;){var n=l.next,i=Vf(l,t);i===0?(l.next=null,a===null?ei=n:a.next=n,n===null&&(Ql=a)):(a=l,(e!==0||(i&3)!==0)&&(ti=!0)),l=n}Xe!==0&&Xe!==5||Rs(e),Ea!==0&&(Ea=0)}function Vf(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-mt(i),f=1<<o,g=n[o];g===-1?((f&a)===0||(f&l)!==0)&&(n[o]=H0(f,t)):g<=t&&(e.expiredLanes|=f),i&=~f}if(t=Ce,a=fe,a=sn(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(ve===2||ve===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Xi(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Pl(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&Xi(l),Gi(a)){case 2:case 8:a=zo;break;case 32:a=en;break;case 268435456:a=Oo;break;default:a=en}return l=Qf.bind(null,e),a=Yi(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&Xi(l),e.callbackPriority=2,e.callbackNode=null,2}function Qf(e,t){if(Xe!==0&&Xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Pn()&&e.callbackNode!==a)return null;var l=fe;return l=sn(e,e===Ce?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(wf(e,l,t),Vf(e,dt()),e.callbackNode!=null&&e.callbackNode===a?Qf.bind(null,e):null)}function Gf(e,t){if(Pn())return null;wf(e,t,!0)}function mx(){wx(function(){(pe&6)!==0?Yi(Do,fx):Xf()})}function Dr(){if(Ea===0){var e=El;e===0&&(e=tn,tn<<=1,(tn&261888)===0&&(tn=256)),Ea=e}return Ea}function Zf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:on(""+e)}function Kf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function hx(e,t,a,l,n){if(t==="submit"&&a&&a.stateNode===n){var i=Zf((n[st]||null).action),o=l.submitter;o&&(t=(t=o[st]||null)?Zf(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var f=new mn("action","action",null,l,n);e.push({event:f,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ea!==0){var g=o?Kf(n,o):new FormData(n);$c(a,{pending:!0,data:g,method:n.method,action:i},null,g)}}else typeof i=="function"&&(f.preventDefault(),g=o?Kf(n,o):new FormData(n),$c(a,{pending:!0,data:g,method:n.method,action:i},i,g))},currentTarget:n}]})}}for(var zr=0;zr<hc.length;zr++){var Or=hc[zr],xx=Or.toLowerCase(),bx=Or[0].toUpperCase()+Or.slice(1);Ot(xx,"on"+bx)}Ot(_u,"onAnimationEnd"),Ot(Su,"onAnimationIteration"),Ot(wu,"onAnimationStart"),Ot("dblclick","onDoubleClick"),Ot("focusin","onFocus"),Ot("focusout","onBlur"),Ot(zh,"onTransitionRun"),Ot(Oh,"onTransitionStart"),Ot(Rh,"onTransitionCancel"),Ot(Cu,"onTransitionEnd"),xl("onMouseEnter",["mouseout","mouseover"]),xl("onMouseLeave",["mouseout","mouseover"]),xl("onPointerEnter",["pointerout","pointerover"]),xl("onPointerLeave",["pointerout","pointerover"]),Xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),px=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ls));function Jf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],n=l.event;l=l.listeners;e:{var i=void 0;if(t)for(var o=l.length-1;0<=o;o--){var f=l[o],g=f.instance,A=f.currentTarget;if(f=f.listener,g!==i&&n.isPropagationStopped())break e;i=f,n.currentTarget=A;try{i(n)}catch(R){bn(R)}n.currentTarget=null,i=g}else for(o=0;o<l.length;o++){if(f=l[o],g=f.instance,A=f.currentTarget,f=f.listener,g!==i&&n.isPropagationStopped())break e;i=f,n.currentTarget=A;try{i(n)}catch(R){bn(R)}n.currentTarget=null,i=g}}}}function de(e,t){var a=t[Zi];a===void 0&&(a=t[Zi]=new Set);var l=e+"__bubble";a.has(l)||(Ff(t,e,2,!1),a.add(l))}function Rr(e,t,a){var l=0;t&&(l|=4),Ff(a,e,l,t)}var ai="_reactListening"+Math.random().toString(36).slice(2);function Lr(e){if(!e[ai]){e[ai]=!0,Yo.forEach(function(a){a!=="selectionchange"&&(px.has(a)||Rr(a,!1,e),Rr(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ai]||(t[ai]=!0,Rr("selectionchange",!1,t))}}function Ff(e,t,a,l){switch(Sm(t)){case 2:var n=Gx;break;case 8:n=Zx;break;default:n=Wr}a=n.bind(null,t,a,e),n=void 0,!tc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),l?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function Ur(e,t,a,l,n){var i=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var o=l.tag;if(o===3||o===4){var f=l.stateNode.containerInfo;if(f===n)break;if(o===4)for(o=l.return;o!==null;){var g=o.tag;if((g===3||g===4)&&o.stateNode.containerInfo===n)return;o=o.return}for(;f!==null;){if(o=fl(f),o===null)return;if(g=o.tag,g===5||g===6||g===26||g===27){l=i=o;continue e}f=f.parentNode}}l=l.return}Po(function(){var A=i,R=Pi(a),q=[];e:{var E=Au.get(e);if(E!==void 0){var M=mn,$=e;switch(e){case"keypress":if(dn(a)===0)break e;case"keydown":case"keyup":M=uh;break;case"focusin":$="focus",M=nc;break;case"focusout":$="blur",M=nc;break;case"beforeblur":case"afterblur":M=nc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=au;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=I0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=mh;break;case _u:case Su:case wu:M=th;break;case Cu:M=xh;break;case"scroll":case"scrollend":M=W0;break;case"wheel":M=ph;break;case"copy":case"cut":case"paste":M=lh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=su;break;case"toggle":case"beforetoggle":M=vh}var se=(t&4)!==0,we=!se&&(e==="scroll"||e==="scrollend"),N=se?E!==null?E+"Capture":null:E;se=[];for(var j=A,w;j!==null;){var B=j;if(w=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||w===null||N===null||(B=ls(j,N),B!=null&&se.push(Us(j,B,w))),we)break;j=j.return}0<se.length&&(E=new M(E,$,null,a,R),q.push({event:E,listeners:se}))}}if((t&7)===0){e:{if(E=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",E&&a!==Ii&&($=a.relatedTarget||a.fromElement)&&(fl($)||$[dl]))break e;if((M||E)&&(E=R.window===R?R:(E=R.ownerDocument)?E.defaultView||E.parentWindow:window,M?($=a.relatedTarget||a.toElement,M=A,$=$?fl($):null,$!==null&&(we=h($),se=$.tag,$!==we||se!==5&&se!==27&&se!==6)&&($=null)):(M=null,$=A),M!==$)){if(se=au,B="onMouseLeave",N="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(se=su,B="onPointerLeave",N="onPointerEnter",j="pointer"),we=M==null?E:as(M),w=$==null?E:as($),E=new se(B,j+"leave",M,a,R),E.target=we,E.relatedTarget=w,B=null,fl(R)===A&&(se=new se(N,j+"enter",$,a,R),se.target=w,se.relatedTarget=we,B=se),we=B,M&&$)t:{for(se=gx,N=M,j=$,w=0,B=N;B;B=se(B))w++;B=0;for(var ae=j;ae;ae=se(ae))B++;for(;0<w-B;)N=se(N),w--;for(;0<B-w;)j=se(j),B--;for(;w--;){if(N===j||j!==null&&N===j.alternate){se=N;break t}N=se(N),j=se(j)}se=null}else se=null;M!==null&&Wf(q,E,M,se,!1),$!==null&&we!==null&&Wf(q,we,$,se,!0)}}e:{if(E=A?as(A):window,M=E.nodeName&&E.nodeName.toLowerCase(),M==="select"||M==="input"&&E.type==="file")var xe=fu;else if(uu(E))if(mu)xe=Eh;else{xe=Ah;var P=Ch}else M=E.nodeName,!M||M.toLowerCase()!=="input"||E.type!=="checkbox"&&E.type!=="radio"?A&&$i(A.elementType)&&(xe=fu):xe=Th;if(xe&&(xe=xe(e,A))){du(q,xe,a,R);break e}P&&P(e,E,A),e==="focusout"&&A&&E.type==="number"&&A.memoizedProps.value!=null&&Wi(E,"number",E.value)}switch(P=A?as(A):window,e){case"focusin":(uu(P)||P.contentEditable==="true")&&(jl=P,dc=A,ds=null);break;case"focusout":ds=dc=jl=null;break;case"mousedown":fc=!0;break;case"contextmenu":case"mouseup":case"dragend":fc=!1,ju(q,a,R);break;case"selectionchange":if(Dh)break;case"keydown":case"keyup":ju(q,a,R)}var oe;if(cc)e:{switch(e){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else yl?ru(e,a)&&(me="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(me="onCompositionStart");me&&(nu&&a.locale!=="ko"&&(yl||me!=="onCompositionStart"?me==="onCompositionEnd"&&yl&&(oe=eu()):(ma=R,ac="value"in ma?ma.value:ma.textContent,yl=!0)),P=li(A,me),0<P.length&&(me=new lu(me,e,null,a,R),q.push({event:me,listeners:P}),oe?me.data=oe:(oe=ou(a),oe!==null&&(me.data=oe)))),(oe=jh?Nh(e,a):_h(e,a))&&(me=li(A,"onBeforeInput"),0<me.length&&(P=new lu("onBeforeInput","beforeinput",null,a,R),q.push({event:P,listeners:me}),P.data=oe)),hx(q,e,A,a,R)}Jf(q,t)})}function Us(e,t,a){return{instance:e,listener:t,currentTarget:a}}function li(e,t){for(var a=t+"Capture",l=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=ls(e,a),n!=null&&l.unshift(Us(e,n,i)),n=ls(e,t),n!=null&&l.push(Us(e,n,i))),e.tag===3)return l;e=e.return}return[]}function gx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wf(e,t,a,l,n){for(var i=t._reactName,o=[];a!==null&&a!==l;){var f=a,g=f.alternate,A=f.stateNode;if(f=f.tag,g!==null&&g===l)break;f!==5&&f!==26&&f!==27||A===null||(g=A,n?(A=ls(a,i),A!=null&&o.unshift(Us(a,A,g))):n||(A=ls(a,i),A!=null&&o.push(Us(a,A,g)))),a=a.return}o.length!==0&&e.push({event:t,listeners:o})}var vx=/\r\n?/g,yx=/\u0000|\uFFFD/g;function $f(e){return(typeof e=="string"?e:""+e).replace(vx,`
`).replace(yx,"")}function If(e,t){return t=$f(t),$f(e)===t}function Se(e,t,a,l,n,i){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||pl(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&pl(e,""+l);break;case"className":cn(e,"class",l);break;case"tabIndex":cn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(e,a,l);break;case"style":$o(e,l,i);break;case"data":if(t!=="object"){cn(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=on(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&Se(e,t,"name",n.name,n,null),Se(e,t,"formEncType",n.formEncType,n,null),Se(e,t,"formMethod",n.formMethod,n,null),Se(e,t,"formTarget",n.formTarget,n,null)):(Se(e,t,"encType",n.encType,n,null),Se(e,t,"method",n.method,n,null),Se(e,t,"target",n.target,n,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=on(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Qt);break;case"onScroll":l!=null&&de("scroll",e);break;case"onScrollEnd":l!=null&&de("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=on(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":de("beforetoggle",e),de("toggle",e),nn(e,"popover",l);break;case"xlinkActuate":Vt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":nn(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=J0.get(a)||a,nn(e,a,l))}}function Br(e,t,a,l,n,i){switch(a){case"style":$o(e,l,i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?pl(e,l):(typeof l=="number"||typeof l=="bigint")&&pl(e,""+l);break;case"onScroll":l!=null&&de("scroll",e);break;case"onScrollEnd":l!=null&&de("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Qt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),i=e[st]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof l=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,n);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):nn(e,a,l)}}}function Ie(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":de("error",e),de("load",e);var l=!1,n=!1,i;for(i in a)if(a.hasOwnProperty(i)){var o=a[i];if(o!=null)switch(i){case"src":l=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Se(e,t,i,o,a,null)}}n&&Se(e,t,"srcSet",a.srcSet,a,null),l&&Se(e,t,"src",a.src,a,null);return;case"input":de("invalid",e);var f=i=o=n=null,g=null,A=null;for(l in a)if(a.hasOwnProperty(l)){var R=a[l];if(R!=null)switch(l){case"name":n=R;break;case"type":o=R;break;case"checked":g=R;break;case"defaultChecked":A=R;break;case"value":i=R;break;case"defaultValue":f=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,t));break;default:Se(e,t,l,R,a,null)}}Ko(e,i,f,g,A,o,n,!1);return;case"select":de("invalid",e),l=o=i=null;for(n in a)if(a.hasOwnProperty(n)&&(f=a[n],f!=null))switch(n){case"value":i=f;break;case"defaultValue":o=f;break;case"multiple":l=f;default:Se(e,t,n,f,a,null)}t=i,a=o,e.multiple=!!l,t!=null?bl(e,!!l,t,!1):a!=null&&bl(e,!!l,a,!0);return;case"textarea":de("invalid",e),i=n=l=null;for(o in a)if(a.hasOwnProperty(o)&&(f=a[o],f!=null))switch(o){case"value":l=f;break;case"defaultValue":n=f;break;case"children":i=f;break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:Se(e,t,o,f,a,null)}Fo(e,l,n,i);return;case"option":for(g in a)if(a.hasOwnProperty(g)&&(l=a[g],l!=null))switch(g){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Se(e,t,g,l,a,null)}return;case"dialog":de("beforetoggle",e),de("toggle",e),de("cancel",e),de("close",e);break;case"iframe":case"object":de("load",e);break;case"video":case"audio":for(l=0;l<Ls.length;l++)de(Ls[l],e);break;case"image":de("error",e),de("load",e);break;case"details":de("toggle",e);break;case"embed":case"source":case"link":de("error",e),de("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in a)if(a.hasOwnProperty(A)&&(l=a[A],l!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Se(e,t,A,l,a,null)}return;default:if($i(t)){for(R in a)a.hasOwnProperty(R)&&(l=a[R],l!==void 0&&Br(e,t,R,l,a,void 0));return}}for(f in a)a.hasOwnProperty(f)&&(l=a[f],l!=null&&Se(e,t,f,l,a,null))}function jx(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,o=null,f=null,g=null,A=null,R=null;for(M in a){var q=a[M];if(a.hasOwnProperty(M)&&q!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":g=q;default:l.hasOwnProperty(M)||Se(e,t,M,null,l,q)}}for(var E in l){var M=l[E];if(q=a[E],l.hasOwnProperty(E)&&(M!=null||q!=null))switch(E){case"type":i=M;break;case"name":n=M;break;case"checked":A=M;break;case"defaultChecked":R=M;break;case"value":o=M;break;case"defaultValue":f=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,t));break;default:M!==q&&Se(e,t,E,M,l,q)}}Fi(e,o,f,g,A,R,i,n);return;case"select":M=o=f=E=null;for(i in a)if(g=a[i],a.hasOwnProperty(i)&&g!=null)switch(i){case"value":break;case"multiple":M=g;default:l.hasOwnProperty(i)||Se(e,t,i,null,l,g)}for(n in l)if(i=l[n],g=a[n],l.hasOwnProperty(n)&&(i!=null||g!=null))switch(n){case"value":E=i;break;case"defaultValue":f=i;break;case"multiple":o=i;default:i!==g&&Se(e,t,n,i,l,g)}t=f,a=o,l=M,E!=null?bl(e,!!a,E,!1):!!l!=!!a&&(t!=null?bl(e,!!a,t,!0):bl(e,!!a,a?[]:"",!1));return;case"textarea":M=E=null;for(f in a)if(n=a[f],a.hasOwnProperty(f)&&n!=null&&!l.hasOwnProperty(f))switch(f){case"value":break;case"children":break;default:Se(e,t,f,null,l,n)}for(o in l)if(n=l[o],i=a[o],l.hasOwnProperty(o)&&(n!=null||i!=null))switch(o){case"value":E=n;break;case"defaultValue":M=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(r(91));break;default:n!==i&&Se(e,t,o,n,l,i)}Jo(e,E,M);return;case"option":for(var $ in a)if(E=a[$],a.hasOwnProperty($)&&E!=null&&!l.hasOwnProperty($))switch($){case"selected":e.selected=!1;break;default:Se(e,t,$,null,l,E)}for(g in l)if(E=l[g],M=a[g],l.hasOwnProperty(g)&&E!==M&&(E!=null||M!=null))switch(g){case"selected":e.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:Se(e,t,g,E,l,M)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in a)E=a[se],a.hasOwnProperty(se)&&E!=null&&!l.hasOwnProperty(se)&&Se(e,t,se,null,l,E);for(A in l)if(E=l[A],M=a[A],l.hasOwnProperty(A)&&E!==M&&(E!=null||M!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(137,t));break;default:Se(e,t,A,E,l,M)}return;default:if($i(t)){for(var we in a)E=a[we],a.hasOwnProperty(we)&&E!==void 0&&!l.hasOwnProperty(we)&&Br(e,t,we,void 0,l,E);for(R in l)E=l[R],M=a[R],!l.hasOwnProperty(R)||E===M||E===void 0&&M===void 0||Br(e,t,R,E,l,M);return}}for(var N in a)E=a[N],a.hasOwnProperty(N)&&E!=null&&!l.hasOwnProperty(N)&&Se(e,t,N,null,l,E);for(q in l)E=l[q],M=a[q],!l.hasOwnProperty(q)||E===M||E==null&&M==null||Se(e,t,q,E,l,M)}function Pf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Nx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var n=a[l],i=n.transferSize,o=n.initiatorType,f=n.duration;if(i&&f&&Pf(o)){for(o=0,f=n.responseEnd,l+=1;l<a.length;l++){var g=a[l],A=g.startTime;if(A>f)break;var R=g.transferSize,q=g.initiatorType;R&&Pf(q)&&(g=g.responseEnd,o+=R*(g<f?1:(f-A)/(g-A)))}if(--l,t+=8*(i+o)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var kr=null,Hr=null;function si(e){return e.nodeType===9?e:e.ownerDocument}function em(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function qr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yr=null;function _x(){var e=window.event;return e&&e.type==="popstate"?e===Yr?!1:(Yr=e,!0):(Yr=null,!1)}var am=typeof setTimeout=="function"?setTimeout:void 0,Sx=typeof clearTimeout=="function"?clearTimeout:void 0,lm=typeof Promise=="function"?Promise:void 0,wx=typeof queueMicrotask=="function"?queueMicrotask:typeof lm<"u"?function(e){return lm.resolve(null).then(e).catch(Cx)}:am;function Cx(e){setTimeout(function(){throw e})}function Ma(e){return e==="head"}function sm(e,t){var a=t,l=0;do{var n=a.nextSibling;if(e.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(n),Jl(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Bs(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Bs(a);for(var i=a.firstChild;i;){var o=i.nextSibling,f=i.nodeName;i[ts]||f==="SCRIPT"||f==="STYLE"||f==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=o}}else a==="body"&&Bs(e.ownerDocument.body);a=n}while(a);Jl(t)}function nm(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Xr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Xr(a),Ki(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Ax(e,t,a,l){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ts])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Mt(e.nextSibling),e===null)break}return null}function Tx(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Mt(e.nextSibling),e===null))return null;return e}function im(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Mt(e.nextSibling),e===null))return null;return e}function Vr(e){return e.data==="$?"||e.data==="$~"}function Qr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ex(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Mt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Gr=null;function cm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Mt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function rm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function om(e,t,a){switch(t=si(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Bs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ki(e)}var Dt=new Map,um=new Set;function ni(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ia=W.d;W.d={f:Mx,r:Dx,D:zx,C:Ox,L:Rx,m:Lx,X:Bx,S:Ux,M:kx};function Mx(){var e=ia.f(),t=Wn();return e||t}function Dx(e){var t=ml(e);t!==null&&t.tag===5&&t.type==="form"?Cd(t):ia.r(e)}var Gl=typeof document>"u"?null:document;function dm(e,t,a){var l=Gl;if(l&&typeof t=="string"&&t){var n=_t(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),um.has(n)||(um.add(n),e={rel:e,crossOrigin:a,href:t},l.querySelector(n)===null&&(t=l.createElement("link"),Ie(t,"link",e),Ge(t),l.head.appendChild(t)))}}function zx(e){ia.D(e),dm("dns-prefetch",e,null)}function Ox(e,t){ia.C(e,t),dm("preconnect",e,t)}function Rx(e,t,a){ia.L(e,t,a);var l=Gl;if(l&&e&&t){var n='link[rel="preload"][as="'+_t(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+_t(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+_t(a.imageSizes)+'"]')):n+='[href="'+_t(e)+'"]';var i=n;switch(t){case"style":i=Zl(e);break;case"script":i=Kl(e)}Dt.has(i)||(e=C({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Dt.set(i,e),l.querySelector(n)!==null||t==="style"&&l.querySelector(ks(i))||t==="script"&&l.querySelector(Hs(i))||(t=l.createElement("link"),Ie(t,"link",e),Ge(t),l.head.appendChild(t)))}}function Lx(e,t){ia.m(e,t);var a=Gl;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+_t(l)+'"][href="'+_t(e)+'"]',i=n;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Kl(e)}if(!Dt.has(i)&&(e=C({rel:"modulepreload",href:e},t),Dt.set(i,e),a.querySelector(n)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Hs(i)))return}l=a.createElement("link"),Ie(l,"link",e),Ge(l),a.head.appendChild(l)}}}function Ux(e,t,a){ia.S(e,t,a);var l=Gl;if(l&&e){var n=hl(l).hoistableStyles,i=Zl(e);t=t||"default";var o=n.get(i);if(!o){var f={loading:0,preload:null};if(o=l.querySelector(ks(i)))f.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Dt.get(i))&&Zr(e,a);var g=o=l.createElement("link");Ge(g),Ie(g,"link",e),g._p=new Promise(function(A,R){g.onload=A,g.onerror=R}),g.addEventListener("load",function(){f.loading|=1}),g.addEventListener("error",function(){f.loading|=2}),f.loading|=4,ii(o,t,l)}o={type:"stylesheet",instance:o,count:1,state:f},n.set(i,o)}}}function Bx(e,t){ia.X(e,t);var a=Gl;if(a&&e){var l=hl(a).hoistableScripts,n=Kl(e),i=l.get(n);i||(i=a.querySelector(Hs(n)),i||(e=C({src:e,async:!0},t),(t=Dt.get(n))&&Kr(e,t),i=a.createElement("script"),Ge(i),Ie(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function kx(e,t){ia.M(e,t);var a=Gl;if(a&&e){var l=hl(a).hoistableScripts,n=Kl(e),i=l.get(n);i||(i=a.querySelector(Hs(n)),i||(e=C({src:e,async:!0,type:"module"},t),(t=Dt.get(n))&&Kr(e,t),i=a.createElement("script"),Ge(i),Ie(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function fm(e,t,a,l){var n=(n=ua.current)?ni(n):null;if(!n)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Zl(a.href),a=hl(n).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Zl(a.href);var i=hl(n).hoistableStyles,o=i.get(e);if(o||(n=n.ownerDocument||n,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=n.querySelector(ks(e)))&&!i._p&&(o.instance=i,o.state.loading=5),Dt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dt.set(e,a),i||Hx(n,e,a,o.state))),t&&l===null)throw Error(r(528,""));return o}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Kl(a),a=hl(n).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Zl(e){return'href="'+_t(e)+'"'}function ks(e){return'link[rel="stylesheet"]['+e+"]"}function mm(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function Hx(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Ie(t,"link",a),Ge(t),e.head.appendChild(t))}function Kl(e){return'[src="'+_t(e)+'"]'}function Hs(e){return"script[async]"+e}function hm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+_t(a.href)+'"]');if(l)return t.instance=l,Ge(l),l;var n=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ge(l),Ie(l,"style",n),ii(l,a.precedence,e),t.instance=l;case"stylesheet":n=Zl(a.href);var i=e.querySelector(ks(n));if(i)return t.state.loading|=4,t.instance=i,Ge(i),i;l=mm(a),(n=Dt.get(n))&&Zr(l,n),i=(e.ownerDocument||e).createElement("link"),Ge(i);var o=i;return o._p=new Promise(function(f,g){o.onload=f,o.onerror=g}),Ie(i,"link",l),t.state.loading|=4,ii(i,a.precedence,e),t.instance=i;case"script":return i=Kl(a.src),(n=e.querySelector(Hs(i)))?(t.instance=n,Ge(n),n):(l=a,(n=Dt.get(i))&&(l=C({},a),Kr(l,n)),e=e.ownerDocument||e,n=e.createElement("script"),Ge(n),Ie(n,"link",l),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,ii(l,a.precedence,e));return t.instance}function ii(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=l.length?l[l.length-1]:null,i=n,o=0;o<l.length;o++){var f=l[o];if(f.dataset.precedence===t)i=f;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Zr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Kr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ci=null;function xm(e,t,a){if(ci===null){var l=new Map,n=ci=new Map;n.set(a,l)}else n=ci,l=n.get(a),l||(l=new Map,n.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var i=a[n];if(!(i[ts]||i[Je]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var f=l.get(o);f?f.push(i):l.set(o,[i])}}return l}function bm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function qx(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function pm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Yx(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var n=Zl(l.href),i=t.querySelector(ks(n));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ri.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,Ge(i);return}i=t.ownerDocument||t,l=mm(l),(n=Dt.get(n))&&Zr(l,n),i=i.createElement("link"),Ge(i);var o=i;o._p=new Promise(function(f,g){o.onload=f,o.onerror=g}),Ie(i,"link",l),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=ri.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Jr=0;function Xx(e,t){return e.stylesheets&&e.count===0&&ui(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&ui(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Jr===0&&(Jr=62500*Nx());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ui(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Jr?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(n)}}:null}function ri(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ui(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oi=null;function ui(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oi=new Map,t.forEach(Vx,e),oi=null,ri.call(e))}function Vx(e,t){if(!(t.state.loading&4)){var a=oi.get(e);if(a)var l=a.get(null);else{a=new Map,oi.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var o=n[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(a.set(o.dataset.precedence,o),l=o)}l&&a.set(null,l)}n=t.instance,o=n.getAttribute("data-precedence"),i=a.get(o)||l,i===l&&a.set(null,n),a.set(o,n),this.count++,l=ri.bind(this),n.addEventListener("load",l),n.addEventListener("error",l),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var qs={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function Qx(e,t,a,l,n,i,o,f,g){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.hiddenUpdates=Vi(null),this.identifierPrefix=l,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=g,this.incompleteTransitions=new Map}function gm(e,t,a,l,n,i,o,f,g,A,R,q){return e=new Qx(e,t,a,o,g,A,R,q,f),t=1,i===!0&&(t|=24),i=xt(3,null,null,t),e.current=i,i.stateNode=e,t=Ac(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:l,isDehydrated:a,cache:t},Dc(i),e}function vm(e){return e?(e=Sl,e):Sl}function ym(e,t,a,l,n,i){n=vm(n),l.context===null?l.context=n:l.pendingContext=n,l=va(t),l.payload={element:a},i=i===void 0?null:i,i!==null&&(l.callback=i),a=ya(e,l,t),a!==null&&(ut(a,e,t),gs(a,e,t))}function jm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Fr(e,t){jm(e,t),(e=e.alternate)&&jm(e,t)}function Nm(e){if(e.tag===13||e.tag===31){var t=Za(e,67108864);t!==null&&ut(t,e,67108864),Fr(e,67108864)}}function _m(e){if(e.tag===13||e.tag===31){var t=yt();t=Qi(t);var a=Za(e,t);a!==null&&ut(a,e,t),Fr(e,t)}}var di=!0;function Gx(e,t,a,l){var n=U.T;U.T=null;var i=W.p;try{W.p=2,Wr(e,t,a,l)}finally{W.p=i,U.T=n}}function Zx(e,t,a,l){var n=U.T;U.T=null;var i=W.p;try{W.p=8,Wr(e,t,a,l)}finally{W.p=i,U.T=n}}function Wr(e,t,a,l){if(di){var n=$r(l);if(n===null)Ur(e,t,l,fi,a),wm(e,l);else if(Jx(n,e,t,a,l))l.stopPropagation();else if(wm(e,l),t&4&&-1<Kx.indexOf(e)){for(;n!==null;){var i=ml(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=Ya(i.pendingLanes);if(o!==0){var f=i;for(f.pendingLanes|=2,f.entangledLanes|=2;o;){var g=1<<31-mt(o);f.entanglements[1]|=g,o&=~g}Yt(i),(pe&6)===0&&(Jn=dt()+500,Rs(0))}}break;case 31:case 13:f=Za(i,2),f!==null&&ut(f,i,2),Wn(),Fr(i,2)}if(i=$r(l),i===null&&Ur(e,t,l,fi,a),i===n)break;n=i}n!==null&&l.stopPropagation()}else Ur(e,t,l,null,a)}}function $r(e){return e=Pi(e),Ir(e)}var fi=null;function Ir(e){if(fi=null,e=fl(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=b(t),e!==null)return e;e=null}else if(a===31){if(e=p(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return fi=e,null}function Sm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(z0()){case Do:return 2;case zo:return 8;case en:case O0:return 32;case Oo:return 268435456;default:return 32}default:return 32}}var Pr=!1,Da=null,za=null,Oa=null,Ys=new Map,Xs=new Map,Ra=[],Kx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wm(e,t){switch(e){case"focusin":case"focusout":Da=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Oa=null;break;case"pointerover":case"pointerout":Ys.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xs.delete(t.pointerId)}}function Vs(e,t,a,l,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:i,targetContainers:[n]},t!==null&&(t=ml(t),t!==null&&Nm(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Jx(e,t,a,l,n){switch(t){case"focusin":return Da=Vs(Da,e,t,a,l,n),!0;case"dragenter":return za=Vs(za,e,t,a,l,n),!0;case"mouseover":return Oa=Vs(Oa,e,t,a,l,n),!0;case"pointerover":var i=n.pointerId;return Ys.set(i,Vs(Ys.get(i)||null,e,t,a,l,n)),!0;case"gotpointercapture":return i=n.pointerId,Xs.set(i,Vs(Xs.get(i)||null,e,t,a,l,n)),!0}return!1}function Cm(e){var t=fl(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=b(a),t!==null){e.blockedOn=t,Ho(e.priority,function(){_m(a)});return}}else if(t===31){if(t=p(a),t!==null){e.blockedOn=t,Ho(e.priority,function(){_m(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=$r(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ii=l,a.target.dispatchEvent(l),Ii=null}else return t=ml(a),t!==null&&Nm(t),e.blockedOn=a,!1;t.shift()}return!0}function Am(e,t,a){mi(e)&&a.delete(t)}function Fx(){Pr=!1,Da!==null&&mi(Da)&&(Da=null),za!==null&&mi(za)&&(za=null),Oa!==null&&mi(Oa)&&(Oa=null),Ys.forEach(Am),Xs.forEach(Am)}function hi(e,t){e.blockedOn===t&&(e.blockedOn=null,Pr||(Pr=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,Fx)))}var xi=null;function Tm(e){xi!==e&&(xi=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){xi===e&&(xi=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],n=e[t+2];if(typeof l!="function"){if(Ir(l||a)===null)continue;break}var i=ml(a);i!==null&&(e.splice(t,3),t-=3,$c(i,{pending:!0,data:n,method:a.method,action:l},l,n))}}))}function Jl(e){function t(g){return hi(g,e)}Da!==null&&hi(Da,e),za!==null&&hi(za,e),Oa!==null&&hi(Oa,e),Ys.forEach(t),Xs.forEach(t);for(var a=0;a<Ra.length;a++){var l=Ra[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ra.length&&(a=Ra[0],a.blockedOn===null);)Cm(a),a.blockedOn===null&&Ra.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var n=a[l],i=a[l+1],o=n[st]||null;if(typeof i=="function")o||Tm(a);else if(o){var f=null;if(i&&i.hasAttribute("formAction")){if(n=i,o=i[st]||null)f=o.formAction;else if(Ir(n)!==null)continue}else f=o.action;typeof f=="function"?a[l+1]=f:(a.splice(l,3),l-=3),Tm(a)}}}function Em(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(o){return n=o})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function eo(e){this._internalRoot=e}bi.prototype.render=eo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,l=yt();ym(a,l,e,t,null,null)},bi.prototype.unmount=eo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ym(e.current,2,null,e,null,null),Wn(),t[dl]=null}};function bi(e){this._internalRoot=e}bi.prototype.unstable_scheduleHydration=function(e){if(e){var t=ko();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ra.length&&t!==0&&t<Ra[a].priority;a++);Ra.splice(a,0,e),a===0&&Cm(e)}};var Mm=u.version;if(Mm!=="19.2.0")throw Error(r(527,Mm,"19.2.0"));W.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=T(t),e=e!==null?z(e):null,e=e===null?null:e.stateNode,e};var Wx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pi.isDisabled&&pi.supportsFiber)try{Il=pi.inject(Wx),ft=pi}catch{}}return Gs.createRoot=function(e,t){if(!m(e))throw Error(r(299));var a=!1,l="",n=Ud,i=Bd,o=kd;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=gm(e,1,!1,null,null,a,l,null,n,i,o,Em),e[dl]=t.current,Lr(e),new eo(t)},Gs.hydrateRoot=function(e,t,a){if(!m(e))throw Error(r(299));var l=!1,n="",i=Ud,o=Bd,f=kd,g=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(o=a.onCaughtError),a.onRecoverableError!==void 0&&(f=a.onRecoverableError),a.formState!==void 0&&(g=a.formState)),t=gm(e,1,!0,t,a??null,l,n,g,i,o,f,Em),t.context=vm(null),a=t.current,l=yt(),l=Qi(l),n=va(l),n.callback=null,ya(a,n,l),a=l,t.current.lanes=a,es(t,a),Yt(t),e[dl]=t.current,Lr(e),new bi(t)},Gs.version="19.2.0",Gs}var Bm;function Wb(){if(Bm)return ao.exports;Bm=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(u){console.error(u)}}return c(),ao.exports=Fb(),ao.exports}var $b=Wb();function To(c,u){let d;try{d=c()}catch{return}return{getItem:m=>{var h;const b=x=>x===null?null:JSON.parse(x,void 0),p=(h=d.getItem(m))!=null?h:null;return p instanceof Promise?p.then(b):b(p)},setItem:(m,h)=>d.setItem(m,JSON.stringify(h,void 0)),removeItem:m=>d.removeItem(m)}}const uo=c=>u=>{try{const d=c(u);return d instanceof Promise?d:{then(r){return uo(r)(d)},catch(r){return this}}}catch(d){return{then(r){return this},catch(r){return uo(r)(d)}}}},Ib=(c,u)=>(d,r,m)=>{let h={storage:To(()=>localStorage),partialize:D=>D,version:0,merge:(D,L)=>({...L,...D}),...u},b=!1;const p=new Set,x=new Set;let T=h.storage;if(!T)return c((...D)=>{console.warn(`[zustand persist middleware] Unable to update item '${h.name}', the given storage is currently unavailable.`),d(...D)},r,m);const z=()=>{const D=h.partialize({...r()});return T.setItem(h.name,{state:D,version:h.version})},C=m.setState;m.setState=(D,L)=>(C(D,L),z());const S=c((...D)=>(d(...D),z()),r,m);m.getInitialState=()=>S;let _;const k=()=>{var D,L;if(!T)return;b=!1,p.forEach(O=>{var Q;return O((Q=r())!=null?Q:S)});const y=((L=h.onRehydrateStorage)==null?void 0:L.call(h,(D=r())!=null?D:S))||void 0;return uo(T.getItem.bind(T))(h.name).then(O=>{if(O)if(typeof O.version=="number"&&O.version!==h.version){if(h.migrate){const Q=h.migrate(O.state,O.version);return Q instanceof Promise?Q.then(H=>[!0,H]):[!0,Q]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,O.state];return[!1,void 0]}).then(O=>{var Q;const[H,v]=O;if(_=h.merge(v,(Q=r())!=null?Q:S),d(_,!0),H)return z()}).then(()=>{y?.(_,void 0),_=r(),b=!0,x.forEach(O=>O(_))}).catch(O=>{y?.(void 0,O)})};return m.persist={setOptions:D=>{h={...h,...D},D.storage&&(T=D.storage)},clearStorage:()=>{T?.removeItem(h.name)},getOptions:()=>h,rehydrate:()=>k(),hasHydrated:()=>b,onHydrate:D=>(p.add(D),()=>{p.delete(D)}),onFinishHydration:D=>(x.add(D),()=>{x.delete(D)})},h.skipHydration||k(),_||S},_0=Ib,V={CURTAIN:"curtain",WALLPAPER:"wallpaper",WOODEN_BLIND:"wooden_blind",ROLLER_BLIND:"roller_blind",VERTICAL_BLIND:"vertical_blind",ALUMINUM_BLIND:"aluminum_blind",PARTITION:"partition",PLEATED_SCREEN:"pleated_screen",REMOVAL:"removal"},ne={CURTAIN_MAIN:"curtain_main",CURTAIN_SHEER:"curtain_sheer",WALLPAPER:V.WALLPAPER,WOODEN_BLIND:V.WOODEN_BLIND,ROLLER_BLIND:V.ROLLER_BLIND,VERTICAL_BLIND:V.VERTICAL_BLIND,ALUMINUM_BLIND:V.ALUMINUM_BLIND,PARTITION:V.PARTITION,PLEATED_SCREEN:V.PLEATED_SCREEN},Ni={MAIN:"main",SHEER:"sheer",DOUBLE:"double"},Xt={CENTER:"center",SIDE:"side"},Pb="marnthara.input.v6.4",km=1.19599,Hm=[{label:" (Wave)",value:""},{label:" (Pleated)",value:""},{label:" (Eyelet)",value:""},{label:" (Roman)",value:""},{label:"/ (Rod)",value:""},{label:" (Louis)",value:""}],fo={:{hasRail:!0,hasHook:!0,hasChain:!1,hasEyelet:!1},:{hasRail:!0,hasHook:!0,hasChain:!0,hasEyelet:!1},:{hasRail:!0,hasHook:!1,hasChain:!1,hasEyelet:!0},:{hasRail:!0,hasHook:!1,hasChain:!0,hasEyelet:!1},:{hasRail:!1,hasHook:!1,hasChain:!1,hasEyelet:!1},:{hasRail:!0,hasHook:!0,hasChain:!1,hasEyelet:!1}},ka={[V.CURTAIN]:{id:V.CURTAIN,name:"",unit:"",color:"bg-indigo-600",icon:"AlignLeft"},[V.WALLPAPER]:{id:V.WALLPAPER,name:"",unit:"",color:"bg-orange-500",icon:"ScrollText"},[V.WOODEN_BLIND]:{id:V.WOODEN_BLIND,name:"",unit:"",color:"bg-amber-700",icon:"Blinds"},[V.ROLLER_BLIND]:{id:V.ROLLER_BLIND,name:"",unit:"",color:"bg-teal-600",icon:"Minimize2"},[V.VERTICAL_BLIND]:{id:V.VERTICAL_BLIND,name:"",unit:"",color:"bg-cyan-600",icon:"Columns"},[V.ALUMINUM_BLIND]:{id:V.ALUMINUM_BLIND,name:"",unit:"",color:"bg-slate-500",icon:"Blinds"},[V.PARTITION]:{id:V.PARTITION,name:"",unit:"",color:"bg-emerald-600",icon:"Grid3X3"},[V.PLEATED_SCREEN]:{id:V.PLEATED_SCREEN,name:"",unit:"",color:"bg-pink-500",icon:"Grid3X3"},[V.REMOVAL]:{id:V.REMOVAL,name:"/",unit:"",color:"bg-red-500",icon:"Scissors"}},ep={name:"Marnthara Smart Quotation",address:"123/45     10110",phone:"081-234-5678",taxId:"",logoUrl:"",baseVatRate:0,bankAccount:{bankName:"",accountName:".  ",accountNumber:"123-4-56789-0",branch:"",isEnabled:!0},pdf:{paymentTerms:" 50%  ",priceValidity:" 30 ",notes:[" ()"," 1  ()"]}},tp={style_surcharge:{:0,:0,:0,:0,:0,:500}},mo={ROLL_WIDTH_M:.53},ap=c=>({customer:{name:"",phone:"",address:"",taxId:"",installationAddress:"",useSameAddress:!0,showInstallationAddress:!0},setCustomer:u=>c(d=>({customer:{...d.customer,...u}}))}),zi=c=>c.type===V.CURTAIN,Oi=c=>c.type===V.WALLPAPER,S0=c=>c.type===V.REMOVAL,Ri=c=>!zi(c)&&!Oi(c)&&!S0(c),Zs=()=>Math.random().toString(36).substring(2,9),lp=c=>({rooms:[],addRoom:u=>c(d=>({rooms:[...d.rooms,{id:Zs(),name:u||` ${d.rooms.length+1}`,items:[],is_suspended:!1}]})),updateRoom:(u,d)=>c(r=>({rooms:r.rooms.map(m=>m.id===u?{...m,...d}:m)})),removeRoom:u=>c(d=>({rooms:d.rooms.filter(r=>r.id!==u)})),duplicateRoom:u=>c(d=>{const r=d.rooms.find(b=>b.id===u);if(!r)return d;const m=r.items.map(b=>({...b,id:Zs()})),h={...r,id:Zs(),name:`${r.name} (Copy)`,items:m};return{rooms:[...d.rooms,h]}}),toggleRoomSuspension:u=>c(d=>({rooms:d.rooms.map(r=>r.id===u?{...r,is_suspended:!r.is_suspended}:r)})),updateRoomDefaults:(u,d)=>c(r=>({rooms:r.rooms.map(m=>m.id===u?{...m,room_defaults:{...m.room_defaults,...d}}:m)})),addItem:(u,d)=>c(r=>({rooms:r.rooms.map(m=>m.id===u?{...m,items:[...m.items,{...d,id:Zs()}]}:m)})),updateItem:(u,d,r)=>c(m=>({rooms:m.rooms.map(h=>h.id===u?{...h,items:h.items.map(b=>b.id===d?{...b,...r}:b)}:h)})),removeItem:(u,d)=>c(r=>({rooms:r.rooms.map(m=>m.id===u?{...m,items:m.items.filter(h=>h.id!==d)}:m)})),duplicateItem:(u,d)=>c(r=>({rooms:r.rooms.map(m=>{if(m.id!==u)return m;const h=m.items.find(p=>p.id===d);if(!h)return m;const b={...h,id:Zs()};return{...m,items:[...m.items,b]}})})),updatePriceByCode:(u,d,r)=>{let m=0;const h=String(r);return c(b=>({rooms:b.rooms.map(p=>({...p,items:p.items.map(x=>u===ne.CURTAIN_MAIN&&x.type===V.CURTAIN&&x.code===d?(m++,{...x,price_per_m_raw:h}):u===ne.CURTAIN_SHEER&&x.type===V.CURTAIN&&x.sheer_code===d?(m++,{...x,sheer_price_per_m:h}):u===ne.WALLPAPER&&x.type===V.WALLPAPER&&x.wallpaper_code===d?(m++,{...x,price_per_roll:r}):u===x.type&&Ri(x)&&x.code===d?(m++,{...x,price_sqyd:r}):x)}))})),m},resetProject:()=>c(()=>({rooms:[],customer:{name:"",phone:"",address:"",taxId:"",installationAddress:"",useSameAddress:!0,showInstallationAddress:!0},discount:{type:"amount",value:0}})),factoryReset:()=>{localStorage.clear(),window.location.reload()}}),sp=c=>({shopConfig:ep,discount:{type:"amount",value:0},setDiscount:u=>c({discount:u}),updateShopConfig:u=>c(d=>({shopConfig:{...d.shopConfig,...u}}))}),np=()=>Math.random().toString(36).substring(2,9),ip=(c,u)=>({favorites:{},addFavorite:(d,r)=>{r.cost_per_yard&&r.cost_per_yard>0&&u().updateFabricCost(r.code,r.cost_per_yard);const m={...r};delete m.cost_per_yard,c(h=>{const b=h.favorites[d]||[],p=b.find(x=>x.code===r.code);return p?{favorites:{...h.favorites,[d]:b.map(x=>x.id===p.id?{...x,...m}:x)}}:{favorites:{...h.favorites,[d]:[...b,{...m,id:np()}]}}})},removeFavorite:(d,r)=>c(m=>({favorites:{...m.favorites,[d]:(m.favorites[d]||[]).filter(h=>h.id!==r)}})),updateFavorite:(d,r,m)=>{if(m.cost_per_yard!==void 0){const h=u().favorites[d]?.find(b=>b.id===r);h&&h.code&&u().updateFabricCost(h.code,m.cost_per_yard),delete m.cost_per_yard}c(h=>({favorites:{...h.favorites,[d]:(h.favorites[d]||[]).map(b=>b.id===r?{...b,...m}:b)}}))},importFavorites:d=>{try{let r;const m=d.trim();try{r=JSON.parse(m)}catch{try{const p=decodeURIComponent(escape(atob(m)));r=JSON.parse(p)}catch{return!1}}const h=r.favorites?r.favorites:r;if(typeof h!="object"||h===null)return!1;const b={...h};return Object.values(b).forEach(p=>{Array.isArray(p)&&p.forEach(x=>{x.cost_per_yard&&x.cost_per_yard>0&&(u().updateFabricCost(x.code,x.cost_per_yard),delete x.cost_per_yard)})}),c(p=>({favorites:{...p.favorites,...b}})),!0}catch(r){return console.error("Import Failed:",r),!1}}}),cp=c=>({activeModal:null,modalProps:{},modalStack:[],openModal:(u,d={})=>c(r=>r.activeModal&&r.activeModal!==u?{modalStack:[...r.modalStack,{type:r.activeModal,props:r.modalProps}],activeModal:u,modalProps:d}:{activeModal:u,modalProps:d}),closeModal:()=>c(u=>{if(u.modalStack.length>0){const d=u.modalStack[u.modalStack.length-1],r=u.modalStack.slice(0,-1);return{activeModal:d.type,modalProps:d.props,modalStack:r}}return{activeModal:null,modalProps:{},modalStack:[]}}),closeAllModals:()=>c({activeModal:null,modalProps:{},modalStack:[]})}),qm={},Ym={},rp=(c,u)=>({laborCosts:qm,accessoryCosts:Ym,fabricCosts:{},updateLaborCost:(d,r)=>c(m=>({laborCosts:{...m.laborCosts,[d]:{...m.laborCosts[d],...r}}})),updateAccessoryCost:(d,r)=>c(m=>({accessoryCosts:{...m.accessoryCosts,[d]:r}})),removeAccessoryCost:d=>c(r=>{const m={...r.accessoryCosts};return delete m[d],{accessoryCosts:m}}),updateFabricCost:(d,r)=>c(m=>({fabricCosts:{...m.fabricCosts,[d]:r}})),removeFabricCost:d=>c(r=>{const m={...r.fabricCosts};return delete m[d],{fabricCosts:m}}),updateUnifiedCost:(d,r)=>{u().updateFabricCost(d,r)},batchUpdateFabricCosts:d=>c(r=>({fabricCosts:{...r.fabricCosts,...d}})),resetProductionCosts:()=>c(()=>({laborCosts:qm,accessoryCosts:Ym,fabricCosts:{}})),exportSecrets:()=>{const{laborCosts:d,accessoryCosts:r,fabricCosts:m}=u();return JSON.stringify({laborCosts:d,accessoryCosts:r,fabricCosts:m},null,2)},importSecrets:d=>{try{const r=JSON.parse(d);return!r.laborCosts&&!r.accessoryCosts&&!r.fabricCosts?!1:(c(m=>({laborCosts:{...m.laborCosts,...r.laborCosts},accessoryCosts:{...m.accessoryCosts,...r.accessoryCosts},fabricCosts:{...m.fabricCosts,...r.fabricCosts}})),!0)}catch(r){return console.error("Import Failed:",r),!1}}}),Xm=c=>{const u={...c};return delete u.activeModal,delete u.modalProps,delete u.modalStack,u},le=Ao()(qb(_0((...c)=>({...ap(...c),...lp(...c),...sp(...c),...ip(...c),...cp(...c),...rp(...c)}),{name:Pb,storage:To(()=>localStorage),version:1,partialize:c=>Xm(c)}),{limit:20,partialize:c=>Xm(c)})),F=c=>{if(typeof c=="number")return Number.isFinite(c)?c:0;if(!c)return 0;const u=typeof c=="string"?c.replace(/,/g,""):String(c),d=parseFloat(u);return Number.isFinite(d)?d:0},Pe=c=>{const u=F(c);return u>0?u.toFixed(2):""},op=c=>{const u=c.replace(/,/g,"").trim();if(u===""||u===".")return"";let d=parseFloat(u);return isNaN(d)?c:(Math.abs(d)>=10&&(d=d/100),d.toFixed(2))},up=(c,u=2,d=!1)=>Number.isFinite(c)?c.toLocaleString("th-TH",{minimumFractionDigits:d?2:0,maximumFractionDigits:u}):"0",Oe=c=>up(c,2,!0),dp=c=>{if(!c)return"";const u=["","","","","","","","","","",""],d=["","","","","","",""];c=parseFloat(c.toFixed(2));let r="";if(c===0)return"";const m=p=>{let x="";const T=String(p);for(let z=0;z<T.length;z++){const C=parseInt(T[z]),S=T.length-z-1;C!==0&&(S===1&&C===1?x+=d[S]:S===1&&C===2?x+=""+d[S]:S===0&&C===1&&T.length>1?x+="":x+=u[C]+d[S])}return x},h=Math.floor(c),b=Math.round((c-h)*100);return h>0&&(r+=m(h),r+=""),b>0?(r+=m(b),r+=""):r+="",r},_i=(c,u)=>{if(u<=0)return 0;let d=2.5;return c===""&&(d=1.5),u*d*1.1},fp=c=>tp.style_surcharge[c]||0,Vm={calculate:c=>{const u=F(c.width_m);if(u<=0)return{total:0,breakdown:{}};let d=0;c.price_per_m_raw&&F(c.price_per_m_raw)>0?d=u*F(c.price_per_m_raw):d=_i(c.style,u)*F(c.price_sqyd);let r=0;c.layer_mode!=="main"&&(c.sheer_price_per_m&&F(c.sheer_price_per_m)>0?r=u*F(c.sheer_price_per_m):c.sheer_price_sqyd&&(r=_i(c.style,u)*F(c.sheer_price_sqyd)));let m=0;if(c.use_rail&&c.rail_price_per_m){const p=c.layer_mode==="double"?2:1;m=u*F(c.rail_price_per_m)*p}const h=fp(c.style);let b=d+r+m+h;return c.enable_set_price&&F(c.set_price_override)>0&&(b=F(c.set_price_override)),b=Math.round(b*100)/100,{total:b,breakdown:{fabricPrice:d,sheerPrice:r,railPrice:m,accessoryPrice:h,fabricMeters:u}}},validate:c=>{const u=[];return F(c.width_m)<=0&&u.push(" 0"),F(c.height_m)<=0&&u.push(" 0"),c.style||u.push(""),u},getSpecs:c=>{const u=[`:  ${c.width_m} . x  ${c.height_m} .`,`: ${c.style}`];return c.fabric_variant&&u.push(`: ${c.fabric_variant}`),c.layer_mode==="double"?u.push(":  2  (+)"):c.layer_mode==="sheer"&&u.push(": "),c.use_rail&&u.push(""),u}},Qm={calculate:c=>{const u=c.widths.reduce((T,z)=>T+F(z),0),d=F(c.height_m);if(u<=0||d<=0)return{total:0,breakdown:{}};const r=Math.ceil(u/mo.ROLL_WIDTH_M),m=F(c.price_per_roll),h=F(c.install_cost_per_roll),b=r*m,p=r*h;let x=b+p;return c.enable_set_price&&F(c.set_price_override)>0&&(x=F(c.set_price_override)),x=Math.round(x*100)/100,{total:x,breakdown:{rolls:r,materialPrice:b,laborPrice:p,totalWidth:u}}},validate:c=>{const u=[];return c.widths.reduce((r,m)=>r+F(m),0)<=0&&u.push(" 1 "),F(c.height_m)<=0&&u.push(""),c.wallpaper_code||u.push(""),u},getSpecs:c=>{const u=c.widths.reduce((m,h)=>m+F(h),0),d=[`:  ${u.toFixed(2)} . x  ${c.height_m} .`];c.wallpaper_code&&d.push(`: ${c.wallpaper_code}`);const r=Math.ceil(u/mo.ROLL_WIDTH_M);return d.push(`: ${r}  ()`),d}},Gm={calculate:c=>{if(c.enable_set_price&&F(c.set_price_override)>0)return{total:F(c.set_price_override)};const u=F(c.quantity),d=F(c.price_per_item);if(u<=0||d<=0)return{total:0};const r=u*d;return{total:Math.round(r*100)/100}},validate:c=>{const u=[];return c.description||u.push(""),!c.enable_set_price&&F(c.price_per_item)<=0&&u.push(""),u},getSpecs:c=>{const u=[];c.description&&u.push(c.description);const d=F(c.quantity);return d>0&&u.push(`: ${d} /`),u}},$l=c=>{const{minAreaSqyd:u=1}=c;return{calculate:d=>{if(d.enable_set_price&&F(d.set_price_override)>0)return{total:F(d.set_price_override)};const r=F(d.width_m),m=F(d.height_m),h=F(d.price_sqyd);if(r<=0||m<=0)return{total:0,breakdown:{}};const b=r*m;let p=b*km;p<u&&(p=u);let x=p*h;return x=Math.round(x*100)/100,{total:x,breakdown:{areaSqm:b,areaSqyd:p,pricePerUnit:h}}},validate:d=>{const r=[];return F(d.width_m)<=0&&r.push(""),F(d.height_m)<=0&&r.push(""),!d.enable_set_price&&F(d.price_sqyd)<=0&&r.push(" .."),r},getSpecs:d=>{const r=[`: ${d.width_m} x ${d.height_m} .`];d.code&&r.push(`/: ${d.code}`),d.fabric_variant&&r.push(`: ${d.fabric_variant}`);const m=F(d.width_m),h=F(d.height_m);if(m>0&&h>0){const b=Math.max(m*h*km,u);r.push(`: ${b.toFixed(2)} ..`)}return r}}},Zm=$l({}),Km=$l({}),Jm=$l({}),Fm=$l({}),Wm=$l({}),$m=$l({}),et={calculatePrice:c=>et.calculateDetailedPrice(c).total,calculateDetailedPrice:c=>{if(c.is_suspended)return{total:0};switch(c.type){case V.CURTAIN:return Vm.calculate(c);case V.WALLPAPER:return Qm.calculate(c);case V.WOODEN_BLIND:return Zm.calculate(c);case V.ROLLER_BLIND:return Km.calculate(c);case V.VERTICAL_BLIND:return Jm.calculate(c);case V.ALUMINUM_BLIND:return Fm.calculate(c);case V.PARTITION:return Wm.calculate(c);case V.PLEATED_SCREEN:return $m.calculate(c);case V.REMOVAL:return Gm.calculate(c);default:return console.warn("[PricingEngine]  Unhandled item type:",c),{total:0}}},getItemSpecs:c=>{switch(c.type){case V.CURTAIN:return Vm.getSpecs(c);case V.WALLPAPER:return Qm.getSpecs(c);case V.WOODEN_BLIND:return Zm.getSpecs(c);case V.ROLLER_BLIND:return Km.getSpecs(c);case V.VERTICAL_BLIND:return Jm.getSpecs(c);case V.ALUMINUM_BLIND:return Fm.getSpecs(c);case V.PARTITION:return Wm.getSpecs(c);case V.PLEATED_SCREEN:return $m.getSpecs(c);case V.REMOVAL:return Gm.getSpecs(c);default:return[]}}},Li=()=>{const c=le(m=>m.rooms),u=le(m=>m.discount),d=le(m=>m.shopConfig);return J.useMemo(()=>{const m=c.map(C=>{if(C.is_suspended)return{roomId:C.id,total:0,itemCount:C.items.length,isSuspended:!0};const _=C.items.map(k=>et.calculatePrice(k)).reduce((k,D)=>k+D,0);return{roomId:C.id,total:_,itemCount:C.items.length,isSuspended:!1}}),h=m.reduce((C,S)=>C+S.total,0);let b=h,p=0;u.is_enabled===!0&&u.value>0&&(u.type==="percent"?p=h*u.value/100:p=u.value,p>h&&(p=h),b=h-p);let T=0,z=b;return d.baseVatRate>0&&(T=b*d.baseVatRate/100,z=b+T),{grandTotal:Math.round(h*100)/100,discountAmount:Math.round(p*100)/100,afterDiscount:Math.round(b*100)/100,vatAmount:Math.round(T*100)/100,finalTotal:Math.round(z*100)/100,roomTotals:m}},[c,u,d])},ol=()=>({trigger:J.useCallback((u="selection")=>{if(!(typeof navigator>"u"||!navigator.vibrate))switch(u){case"light":navigator.vibrate(5);break;case"medium":navigator.vibrate(10);break;case"heavy":navigator.vibrate(15);break;case"selection":navigator.vibrate(3);break;case"success":navigator.vibrate([10,30,10]);break;case"warning":navigator.vibrate([30,50,10]);break;case"error":navigator.vibrate([50,100,50,100]);break;default:navigator.vibrate(10)}},[])});function G(...c){return Yb(Xb(c))}const mp=({children:c,onOpenMainMenu:u,onOpenDiscount:d,onOpenOverview:r})=>{const m=le(k=>k.shopConfig),h=le(k=>k.discount),b=le(k=>k.addRoom),{finalTotal:p}=Li(),{trigger:x}=ol(),[T,z]=J.useState(!1),C=h.is_enabled&&h.value>0,S=m.baseVatRate>0;J.useEffect(()=>{const k=()=>z(window.scrollY>10);return window.addEventListener("scroll",k),()=>window.removeEventListener("scroll",k)},[]);const _=()=>{x("medium"),b(),setTimeout(()=>window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"}),100)};return s.jsxs("div",{className:"min-h-[100dvh] bg-background transition-colors duration-500 pb-[80px]",children:[s.jsx("header",{className:G("sticky top-0 z-40 px-6 pt-safe-top pb-3 backdrop-blur-xl transition-all duration-500","bg-background/80 border-b border-border",T?"shadow-sm":""),children:s.jsxs("div",{className:"flex items-center justify-between pt-2",children:[s.jsxs("button",{className:"flex flex-col items-start text-left group active:scale-95 transition-transform outline-none",onClick:()=>{x("light"),u?.()},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h1",{className:"text-lg font-bold tracking-tight text-foreground group-hover:text-primary transition-colors",children:m.name||"Marnthara"}),s.jsx(r0,{className:"w-3.5 h-3.5 text-muted-foreground/50 group-hover:text-primary/50 transition-colors"})]}),s.jsx("span",{className:"text-[10px] font-medium text-muted-foreground tracking-widest uppercase",children:"Quotation"})]}),s.jsxs("div",{className:"flex flex-col items-end cursor-pointer active:scale-95 transition-transform outline-none",onClick:()=>{x("selection"),d?.()},children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsxs("div",{className:"flex gap-0.5",children:[C&&s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_6px_rgba(16,185,129,0.5)] animate-pulse"}),S&&s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 shadow-[0_0_6px_rgba(59,130,246,0.5)]"})]}),s.jsx("span",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-wider",children:"Net"})]}),s.jsx("div",{className:G("text-sm font-mono font-bold leading-none transition-colors",C||S?"text-primary":"text-foreground"),children:Oe(p)})]})]})}),s.jsx("main",{className:"px-4 py-4 sm:px-6 space-y-4 max-w-3xl mx-auto",children:c}),s.jsx("div",{className:"fixed bottom-5 left-1/2 -translate-x-1/2 z-50 w-full max-w-[320px] px-4",children:s.jsxs("div",{className:"flex items-center justify-between px-2 py-1.5 rounded-full bg-primary/90 backdrop-blur-xl shadow-2xl border border-primary-foreground/10 ring-1 ring-black/20",children:[s.jsx(gi,{icon:Ix,onClick:r,label:"Overview"}),s.jsx(gi,{icon:Ks,onClick:()=>x("light"),label:"Search"}),s.jsx("div",{className:"px-2",children:s.jsx("button",{onClick:_,className:"group relative w-10 h-10 rounded-full bg-gradient-to-tr from-indigo-500 to-violet-600 shadow-lg shadow-indigo-500/30 flex items-center justify-center transform transition-all duration-300 active:scale-90 hover:shadow-indigo-500/50",children:s.jsx(xo,{className:"w-5 h-5 text-white group-hover:rotate-90 transition-transform duration-300",strokeWidth:3})})}),s.jsx(gi,{icon:ro,onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),label:"Home"}),s.jsx(gi,{icon:Px,onClick:u,label:"Menu"})]})})]})},gi=({icon:c,onClick:u,label:d})=>{const{trigger:r}=ol();return s.jsx("button",{onClick:()=>{r("light"),u?.()},className:"group flex flex-col items-center justify-center w-10 h-10 rounded-full hover:bg-primary-foreground/10 transition-colors active:scale-90 outline-none","aria-label":d,children:s.jsx(c,{className:"w-5 h-5 text-primary-foreground/60 group-hover:text-primary-foreground transition-colors",strokeWidth:2})})},Ke=Ao(c=>({toasts:[],addToast:(u,d,r)=>{const m=Math.random().toString(36).substring(2,9);c(h=>({toasts:[...h.toasts,{id:m,type:u,title:d,message:r}]})),setTimeout(()=>{c(h=>({toasts:h.toasts.filter(b=>b.id!==m)}))},3e3)},removeToast:u=>c(d=>({toasts:d.toasts.filter(r=>r.id!==u)})),alertConfig:{isOpen:!1,title:"",description:"",variant:"default",confirmLabel:"",cancelLabel:"",onConfirm:()=>{},onCancel:()=>{}},openAlert:u=>c(d=>({alertConfig:{...d.alertConfig,...u,isOpen:!0}})),closeAlert:()=>c(u=>({alertConfig:{...u.alertConfig,isOpen:!1}}))})),oa=()=>{const c=Ke(d=>d.openAlert);return{confirm:d=>new Promise(r=>{c({...d,onConfirm:()=>r(!0),onCancel:()=>r(!1)})})}},hp=({item:c,index:u,roomId:d,onEdit:r})=>{const m=le(y=>y.removeItem),h=le(y=>y.duplicateItem),b=le(y=>y.updateItem),{confirm:p}=oa(),x=Ke(y=>y.addToast),T=et.calculatePrice(c),z=J.useMemo(()=>{let y="";return c.type===V.CURTAIN&&"style"in c?y=`${c.style}`:(c.type,V.WALLPAPER,y=ka[c.type]?.name||""),y.replace(/\s*\(.*?\)\s*/g,"").trim()},[c]),C=J.useMemo(()=>"width_m"in c&&"height_m"in c?`${Pe(c.width_m)}  ${Pe(c.height_m)}`:"quantity"in c?`${c.quantity}`:"",[c]),S=J.useMemo(()=>"fabric_variant"in c&&c.fabric_variant?c.fabric_variant.replace(/\s*\(.*?\)\s*/g,"").trim():"",[c]),_=J.useMemo(()=>T.toLocaleString("th-TH",{minimumFractionDigits:0,maximumFractionDigits:0}),[T]),k=(u+1).toString().padStart(2,"0"),D=async()=>{await p({title:"",description:"?",variant:"destructive",confirmLabel:""})&&(m(d,c.id),x("success",""))},L=()=>{b(d,c.id,{is_suspended:!c.is_suspended})};return s.jsxs("div",{className:G("relative flex items-start gap-3 py-3 px-3 border-b last:border-0 border-border transition-all cursor-pointer rounded-lg active:bg-accent","hover:bg-accent",c.is_suspended&&"opacity-60 grayscale bg-muted/50"),onClick:r,children:[s.jsx("div",{className:"pt-0.5",children:s.jsx("div",{className:G("flex h-7 w-7 items-center justify-center rounded-lg text-[12px] font-bold font-mono border",c.is_suspended?"bg-muted text-muted-foreground border-border":"bg-card text-foreground border-border shadow-sm"),children:k})}),s.jsxs("div",{className:"flex-1 min-w-0 flex flex-col gap-1",children:[s.jsxs("div",{className:"flex justify-between items-start gap-2",children:[s.jsx("span",{className:G("text-[15px] font-semibold text-foreground truncate leading-tight",c.is_suspended&&"line-through text-muted-foreground"),children:z}),s.jsx("span",{className:G("text-[15px] font-mono font-bold tracking-tight shrink-0 leading-tight",c.is_suspended?"text-muted-foreground":"text-foreground"),children:_})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[13px] text-muted-foreground font-medium leading-tight",children:[S&&s.jsx("span",{className:"truncate max-w-[140px]",children:S}),S&&C&&s.jsx("span",{className:"text-border",children:"|"}),C&&s.jsx("span",{className:"font-mono text-foreground bg-muted px-1.5 rounded text-[12px]",children:C})]})]}),s.jsx("div",{className:"shrink-0 pl-1 pt-0.5",onClick:y=>y.stopPropagation(),children:s.jsxs(bo,{children:[s.jsx(po,{className:"flex h-8 w-8 items-center justify-center rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-100 active:bg-slate-200 transition-colors focus:outline-none","aria-label":"",children:s.jsx(go,{className:"w-5 h-5"})}),s.jsx(ra,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:s.jsxs(vo,{anchor:"bottom end",className:G("z-[999] w-44 origin-top-right rounded-xl p-1 shadow-xl ring-1 focus:outline-none","bg-popover ring-border border border-border"),children:[s.jsx("div",{className:"px-3 py-2 border-b border-border mb-1",children:s.jsx("p",{className:"text-[11px] font-bold text-muted-foreground uppercase tracking-wider truncate",children:z})}),s.jsx(Ut,{children:({focus:y})=>s.jsxs("button",{onClick:()=>r(),className:G("flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-[13px] font-medium transition-colors",y?"bg-violet-500/10 text-violet-600 dark:text-violet-300":"text-foreground"),children:[s.jsx(eb,{className:"w-4 h-4"})," "]})}),s.jsx(Ut,{children:({focus:y})=>s.jsxs("button",{onClick:()=>h(d,c.id),className:G("flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-[13px] font-medium transition-colors",y?"bg-violet-500/10 text-violet-600 dark:text-violet-300":"text-foreground"),children:[s.jsx(o0,{className:"w-4 h-4"})," "]})}),s.jsx("div",{className:"h-px bg-border my-1"}),s.jsx(Ut,{children:({focus:y})=>s.jsxs("button",{onClick:L,className:G("flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-[13px] font-medium transition-colors",y?"bg-amber-500/10 text-amber-600 dark:text-amber-400":"text-foreground"),children:[c.is_suspended?s.jsx(yo,{className:"w-4 h-4 text-green-600"}):s.jsx(u0,{className:"w-4 h-4 text-amber-500"}),c.is_suspended?"":""]})}),s.jsx("div",{className:"h-px bg-border my-1"}),s.jsx(Ut,{children:({focus:y})=>s.jsxs("button",{onClick:D,className:G("flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-[13px] font-medium text-red-600 transition-colors",y?"bg-destructive/10":""),children:[s.jsx(Fs,{className:"w-4 h-4"})," "]})})]})})]})})]})},ee=({className:c,label:u,suffix:d,prefix:r,isDimension:m=!1,id:h,ref:b,value:p,onChange:x,onClear:T,onBlur:z,type:C="text",error:S,warning:_,...k})=>{const D=J.useId(),L=h||D,y=J.useRef(null),O=b||y,Q=X=>{if(m&&x){const Z=X.target.value,K=op(Z);if(K!==Z&&K!==""){const te={...X,target:{...X.target,value:K}};x(te)}}z?.(X)},H=()=>{T?T():x&&O.current&&x({target:{value:""}}),O.current?.focus()},v=T||p&&p.toString().length>0&&!k.disabled&&!k.readOnly,Y=S?"border-destructive focus:ring-destructive":_?"border-amber-500 focus:ring-amber-500":"border-input focus:border-primary focus:ring-ring";return s.jsxs("div",{className:"space-y-1.5 w-full",children:[u&&s.jsx("label",{htmlFor:L,className:"text-[15px] font-medium text-foreground ml-1",children:u}),s.jsxs("div",{className:"relative",children:[r&&s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none",children:r}),s.jsx("input",{ref:O,id:L,type:C,value:p,onChange:x,onBlur:Q,inputMode:m?"decimal":k.inputMode,className:G("flex h-12 w-full rounded-xl border px-4 py-2 text-[16px] focus:outline-none focus:ring-2 focus:ring-offset-0","bg-background text-foreground placeholder:text-muted-foreground","disabled:cursor-not-allowed disabled:opacity-50 disabled:bg-muted/50","transition-all shadow-sm appearance-none",Y,d?"pr-12":v?"pr-10":"",r?"pl-10":"",c),...k}),d&&s.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground text-sm font-medium pointer-events-none",children:d}),v&&!d&&s.jsx("button",{type:"button",onClick:H,tabIndex:-1,className:"absolute right-3 top-1/2 -translate-y-1/2 p-1.5 rounded-full text-muted-foreground hover:bg-accent hover:text-foreground transition-colors",children:s.jsx(Ws,{className:"w-4 h-4"})})]}),S?s.jsxs("div",{className:"flex items-center gap-1.5 px-1 animate-fade-in",children:[s.jsx(jo,{className:"w-3.5 h-3.5 text-destructive"}),s.jsx("span",{className:"text-xs font-medium text-destructive",children:S})]}):_?s.jsxs("div",{className:"flex items-center gap-1.5 px-1 animate-fade-in",children:[s.jsx(Ua,{className:"w-3.5 h-3.5 text-amber-500"}),s.jsx("span",{className:"text-xs font-medium text-amber-600",children:_})]}):null]})},xp=({room:c,index:u,onAddItem:d,onEditItem:r,onOpenDefaults:m})=>{const[h,b]=J.useState(!0),[p,x]=J.useState(!1),[T,z]=J.useState(c.name),C=J.useRef(null),S=le(K=>K.updateRoom),_=le(K=>K.removeRoom),k=le(K=>K.duplicateRoom),D=le(K=>K.toggleRoomSuspension),{confirm:L}=oa(),y=Ke(K=>K.addToast);J.useEffect(()=>{p&&C.current&&C.current.focus()},[p]);const O=J.useMemo(()=>c.is_suspended?0:c.items.reduce((K,te)=>K+et.calculatePrice(te),0),[c.items,c.is_suspended]),Q=c.items.length,H=()=>{T.trim()&&(S(c.id,{name:T.trim()}),x(!1))},v=async()=>{await L({title:"?",description:` "${c.name}" ?`,confirmLabel:"",variant:"destructive"})&&(_(c.id),y("success",""))},Y=()=>{k(c.id),y("success","")},X=()=>{D(c.id);const K=!c.is_suspended;y("info",K?" ()":"")},Z=K=>{K.stopPropagation()};return s.jsxs("div",{className:G("relative rounded-2xl transition-all duration-300 mb-4","bg-card border border-border shadow-sm",c.is_suspended&&"opacity-60 grayscale border-dashed"),children:[s.jsxs("div",{onClick:()=>b(!h),className:G("flex items-center justify-between p-4 cursor-pointer select-none transition-colors rounded-t-2xl","hover:bg-accent",!h&&"rounded-b-2xl"),children:[s.jsxs("div",{className:"flex items-center gap-4 min-w-0 flex-1",children:[s.jsx("div",{className:G("flex shrink-0 items-center justify-center w-11 h-11 rounded-xl font-mono text-base font-bold transition-colors","bg-muted text-muted-foreground"),children:String(u+1).padStart(2,"0")}),s.jsxs("div",{className:"min-w-0 flex-1",children:[p?s.jsxs("div",{className:"flex items-center gap-2",onClick:Z,onMouseDown:Z,children:[s.jsx(ee,{ref:C,value:T,onChange:K=>z(K.target.value),onKeyDown:K=>{K.key==="Enter"&&H(),K.stopPropagation()},className:"h-9 text-base font-bold bg-background"}),s.jsx("button",{onClick:H,className:"px-3 py-1.5 bg-primary text-primary-foreground text-xs rounded-lg whitespace-nowrap",children:""})]}):s.jsx("h3",{className:"text-lg font-bold text-foreground leading-tight truncate pr-2",children:c.name}),s.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[s.jsxs("span",{className:G("inline-flex items-center gap-1.5 text-[11px] font-medium text-muted-foreground"),children:[s.jsx(yi,{className:"w-3.5 h-3.5"}),Q," "]}),O>0&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"w-1 h-1 rounded-full bg-border"}),s.jsx("span",{className:G("inline-flex items-center gap-1.5 text-[11px] font-mono font-medium","text-foreground"),children:Oe(O)})]}),c.is_suspended&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"w-1 h-1 rounded-full bg-border"}),s.jsx("span",{className:"text-[10px] text-amber-500 font-medium px-1.5 border border-amber-500/30 rounded",children:""})]})]})]})]}),s.jsx("div",{className:"flex items-center gap-2 pl-2 relative z-20",onClick:Z,onMouseDown:Z,onTouchStart:Z,children:s.jsxs(bo,{as:"div",className:"relative",children:[s.jsx(po,{className:G("p-2 rounded-full transition-colors focus:outline-none","text-muted-foreground hover:text-foreground hover:bg-accent"),children:s.jsx(go,{className:"w-5 h-5"})}),s.jsx(ra,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:s.jsxs(vo,{className:G("absolute right-0 mt-2 w-48 origin-top-right divide-y rounded-xl shadow-xl ring-1 focus:outline-none","z-50","bg-popover divide-border ring-border"),children:[s.jsxs("div",{className:"p-1",children:[s.jsx(Ut,{children:({focus:K})=>s.jsxs("button",{onClick:()=>{z(c.name),x(!0)},className:G("flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm transition-colors",K?"bg-accent text-foreground":"text-muted-foreground"),children:[s.jsx(d0,{className:"w-4 h-4"})," "]})}),s.jsx(Ut,{children:({focus:K})=>s.jsxs("button",{onClick:()=>m(c.id),className:G("flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm transition-colors",K?"bg-accent text-foreground":"text-muted-foreground"),children:[s.jsx(f0,{className:"w-4 h-4"})," "]})}),s.jsx(Ut,{children:({focus:K})=>s.jsxs("button",{onClick:Y,className:G("flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm transition-colors",K?"bg-accent text-foreground":"text-muted-foreground"),children:[s.jsx(o0,{className:"w-4 h-4"})," "]})})]}),s.jsx("div",{className:"p-1",children:s.jsx(Ut,{children:({focus:K})=>s.jsxs("button",{onClick:X,className:G("flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm transition-colors",K?"bg-amber-500/10 text-amber-600 dark:text-amber-400":"text-muted-foreground"),children:[c.is_suspended?s.jsx(yo,{className:"w-4 h-4"}):s.jsx(u0,{className:"w-4 h-4"}),c.is_suspended?"":""]})})}),s.jsx("div",{className:"p-1",children:s.jsx(Ut,{children:({focus:K})=>s.jsxs("button",{onClick:v,className:G("flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm text-red-600 transition-colors",K?"bg-destructive/10":""),children:[s.jsx(Fs,{className:"w-4 h-4"})," "]})})})]})})]})})]}),s.jsx("div",{className:G("transition-all duration-300 ease-out origin-top overflow-hidden",h?"opacity-100 max-h-[5000px]":"opacity-0 max-h-0"),children:s.jsxs("div",{className:"px-4 pb-4 space-y-3 pt-2 border-t border-border",children:[c.items.map((K,te)=>s.jsx(hp,{item:K,index:te,roomId:c.id,onEdit:()=>r(c.id,K)},K.id)),s.jsx("button",{onClick:()=>d(c.id),className:G("w-full flex items-center justify-center gap-2 rounded-xl border-2 border-dashed transition-all active:scale-[0.98]",Q===0?"py-8 border-border bg-muted/30 text-muted-foreground":"py-3 border-indigo-500/20 bg-indigo-500/5 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-500/10"),children:Q===0?s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-card border border-border flex items-center justify-center shadow-sm",children:s.jsx(yi,{className:"w-5 h-5 text-muted-foreground"})}),s.jsx("span",{className:"text-sm font-medium",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx(tb,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-semibold",children:""})]})})]})})]})},w0=Ao()(_0(c=>({theme:"light",toggleTheme:()=>c(u=>{const d=u.theme==="light"?"dark":"light";return no(d),{theme:d}}),setTheme:u=>{no(u),c({theme:u})}}),{name:"marnthara-theme",storage:To(()=>localStorage),onRehydrateStorage:()=>c=>{c&&no(c.theme)}})),no=c=>{const u=window.document.documentElement;u.classList.remove("light","dark"),u.classList.add(c);const d=document.querySelector('meta[name="theme-color"]');d&&d.setAttribute("content",c==="dark"?"#0D0814":"#FBFBFE")},bp=({toast:c,onDismiss:u})=>{const d={success:s.jsx("div",{className:"bg-green-500 rounded-full p-1",children:s.jsx(Wl,{className:"w-3 h-3 text-white",strokeWidth:4})}),error:s.jsx(jo,{className:"w-5 h-5 text-red-400"}),warning:s.jsx(Ua,{className:"w-5 h-5 text-amber-400"}),info:s.jsx(lb,{className:"w-5 h-5 text-blue-400"})};return s.jsx(ra,{show:!0,appear:!0,enter:"transform ease-out duration-300 transition",enterFrom:"translate-y-[-150%] opacity-0 scale-90",enterTo:"translate-y-0 opacity-100 scale-100",leave:"transition ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s.jsxs("div",{className:G("pointer-events-auto flex items-center gap-3 px-4 py-3 shadow-2xl mb-3 cursor-pointer select-none","bg-primary/95 backdrop-blur-md border border-primary-foreground/10","rounded-full min-w-[200px] max-w-[90vw]","text-primary-foreground"),onClick:()=>u(c.id),children:[s.jsx("div",{className:"shrink-0 flex items-center",children:d[c.type]}),s.jsxs("div",{className:"flex-1 min-w-0 text-center sm:text-left mr-2",children:[s.jsx("p",{className:"text-[14px] font-semibold leading-tight tracking-tight",children:c.title}),c.message&&s.jsx("p",{className:"text-[12px] text-primary-foreground/70 mt-0.5 truncate max-w-[240px]",children:c.message})]})]})})},pp=()=>{const c=Ke(d=>d.toasts),u=Ke(d=>d.removeToast);return c.length===0?null:ab.createPortal(s.jsx("div",{className:"fixed top-4 left-0 right-0 z-[100] flex flex-col items-center pointer-events-none px-4",children:c.map(d=>s.jsx(bp,{toast:d,onDismiss:u},d.id))}),document.body)},ie=({className:c,variant:u="primary",size:d="md",disableHaptic:r=!1,onClick:m,ref:h,...b})=>{const{trigger:p}=ol(),x=C=>{r||p(u==="destructive"?"warning":"light"),m?.(C)},T={primary:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm active:scale-[0.96] border border-transparent",secondary:"bg-card text-foreground border border-border hover:bg-accent hover:text-accent-foreground shadow-sm active:scale-[0.96]",outline:"border border-border bg-transparent hover:bg-accent hover:text-accent-foreground text-muted-foreground active:scale-[0.96]",ghost:"hover:bg-accent hover:text-accent-foreground text-muted-foreground hover:text-foreground active:scale-[0.96] border border-transparent",destructive:"bg-destructive/10 text-destructive hover:bg-destructive/20 border border-destructive/20 active:scale-[0.96]"},z={sm:"h-8 px-3 text-xs rounded-lg",md:"h-12 px-5 py-2 rounded-xl text-sm font-medium",lg:"h-14 px-8 rounded-2xl text-base font-medium",icon:"h-11 w-11 p-0 rounded-full flex items-center justify-center"};return s.jsx("button",{ref:h,onClick:x,className:G("inline-flex items-center justify-center whitespace-nowrap transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",T[u],z[d],c),...b})},gp=()=>{const{isOpen:c,title:u,description:d,variant:r,confirmLabel:m,cancelLabel:h,onConfirm:b,onCancel:p}=Ke(z=>z.alertConfig),x=Ke(z=>z.closeAlert),T=z=>{x(),z?b():p()};return s.jsx(ra,{show:c,as:J.Fragment,children:s.jsxs(Si,{onClose:()=>T(!1),className:"relative z-[110]",children:[s.jsx(Ba,{as:J.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-[2px]"})}),s.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:s.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:s.jsx(Ba,{as:J.Fragment,enter:"ease-ios duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s.jsxs(wi,{className:"w-full max-w-sm transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r==="destructive"&&s.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:s.jsx(Ua,{className:"w-5 h-5 text-red-600"})}),s.jsx("div",{children:s.jsx(No,{as:"h3",className:"text-lg font-bold leading-6 text-slate-900",children:u})})]}),s.jsx("div",{className:"mt-2",children:s.jsx("p",{className:"text-sm text-slate-500",children:d})}),s.jsxs("div",{className:"mt-6 flex gap-3 justify-end",children:[s.jsx(ie,{variant:"ghost",onClick:()=>T(!1),children:h}),s.jsx(ie,{variant:r==="destructive"?"destructive":"primary",onClick:()=>T(!0),children:m})]})]})})})})]})})},vp=(c,u)=>{J.useEffect(()=>{if(c){window.history.pushState({modalOpen:!0},"",window.location.href);const d=r=>{r.preventDefault(),u()};return window.addEventListener("popstate",d),()=>{window.removeEventListener("popstate",d)}}},[c,u])},zt=({isOpen:c,onClose:u,title:d,children:r,footer:m,maxWidth:h="lg"})=>{vp(c,u);const b={sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"};return s.jsx(ra,{show:c,as:J.Fragment,children:s.jsxs(Si,{onClose:u,className:"relative z-50",children:[s.jsx(Ba,{as:J.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-zinc-950/40 dark:bg-zinc-950/80 backdrop-blur-[2px]"})}),s.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:s.jsx("div",{className:"flex min-h-full items-end sm:items-center justify-center p-0 sm:p-4 text-center",children:s.jsx(Ba,{as:J.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-full sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-full sm:translate-y-0 sm:scale-95",children:s.jsxs(wi,{className:G("relative w-full transform overflow-hidden text-left align-middle shadow-xl transition-all","sm:rounded-2xl rounded-t-2xl","bg-popover border border-border",b[h]),children:[s.jsxs("div",{className:G("flex items-center justify-between px-5 py-4 sm:px-6 border-b border-border sticky top-0 z-10","bg-popover/95 backdrop-blur-md"),children:[s.jsx(No,{as:"h2",className:"text-lg sm:text-xl font-bold tracking-tight line-clamp-1 text-foreground",children:d}),s.jsx("button",{onClick:u,className:G("p-2 rounded-full transition-colors focus:outline-none","bg-muted text-muted-foreground hover:bg-muted/80 hover:text-foreground"),children:s.jsx(Ws,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-5 sm:p-6 overscroll-contain pb-safe-area bg-popover text-foreground",children:s.jsx("div",{className:G("space-y-4",m?"pb-20 sm:pb-0":""),children:r})}),m&&s.jsx("div",{className:G("absolute bottom-0 left-0 right-0 sm:relative px-5 py-4 sm:px-6 border-t border-border pb-safe-area sm:pb-4 shrink-0 z-20","bg-popover/95 backdrop-blur-md"),children:m})]})})})})]})})},yp=({data:c,onChange:u,errors:d})=>s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[s.jsx(m0,{className:"w-5 h-5 text-primary"}),s.jsx("h2",{children:" ()"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ee,{label:" (W)",placeholder:"0.00",value:c.width_m,onChange:r=>u("width_m",r.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-primary bg-primary/10",error:d.width_m}),s.jsx(ee,{label:" (H)",placeholder:"0.00",value:c.height_m,onChange:r=>u("height_m",r.target.value),isDimension:!0,className:"text-lg font-bold text-primary bg-primary/10",error:d.height_m})]})]}),jp=[],ho=c=>{const u=le(m=>m.favorites[c]||jp),d=le(m=>m.fabricCosts);return J.useMemo(()=>u.map(m=>({...m,cost_per_yard:d[m.code]||0})),[u,d])},rl=({label:c,placeholder:u,value:d,onChange:r,onSelect:m,options:h,className:b,inputMode:p,prefix:x,id:T,error:z,warning:C})=>{const S=J.useId(),_=T||S,[k,D]=J.useState(""),L=J.useMemo(()=>{if(k==="")return h;const y=k.toLowerCase();return h.filter(O=>O.label.toLowerCase().includes(y)||O.value.toLowerCase().includes(y))},[h,k]);return s.jsxs("div",{className:"space-y-1.5 w-full",children:[c&&s.jsx("label",{htmlFor:_,className:"text-[15px] font-medium text-slate-700 ml-1",children:c}),s.jsx(sb,{value:d,onChange:y=>{y&&r(y)},children:s.jsxs("div",{className:"relative",children:[x&&s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none z-10",children:x}),s.jsxs("div",{className:"relative w-full cursor-default overflow-hidden rounded-xl border border-slate-200 bg-white text-left focus-within:ring-2 focus-within:ring-indigo-500 focus-within:border-transparent transition-all shadow-sm",children:[s.jsx(nb,{id:_,className:G("w-full border-none py-2 pl-3 pr-10 text-sm leading-5 text-foreground focus:ring-0 placeholder:text-muted-foreground bg-transparent",x&&"pl-10",b),displayValue:y=>y,onChange:y=>{D(y.target.value),r(y.target.value)},placeholder:u,inputMode:p,autoComplete:"off"}),s.jsx(ib,{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:s.jsx(cb,{className:"h-5 w-5 text-slate-400","aria-hidden":"true"})})]}),s.jsx(ra,{as:J.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:()=>D(""),children:s.jsx(rb,{className:"absolute z-50 mt-1 max-h-60 w-full overflow-auto rounded-md bg-popover py-1 text-base shadow-lg ring-1 ring-border focus:outline-none sm:text-sm",children:L.length===0&&k!==""?s.jsxs("div",{className:"relative cursor-default select-none px-4 py-2 text-muted-foreground",children:[' "',k,'"']}):L.map(y=>s.jsx(ob,{className:({active:O})=>G("relative cursor-default select-none py-2 pl-10 pr-4",O?"bg-primary/10 text-primary":"text-popover-foreground"),value:y.value,onClick:()=>m?.(y),children:({selected:O,active:Q})=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:G("block truncate",O?"font-medium":"font-normal"),children:y.label}),y.desc&&s.jsx("span",{className:G("text-xs",Q?"text-primary/70":"text-muted-foreground"),children:y.desc})]}),O?s.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-primary",children:s.jsx(Wl,{className:"h-4 w-4","aria-hidden":"true"})}):null]})},y.value+y.label))})})]})}),z?s.jsxs("div",{className:"flex items-center gap-1.5 px-1 animate-fade-in",children:[s.jsx(jo,{className:"w-3.5 h-3.5 text-red-500"}),s.jsx("span",{className:"text-xs font-medium text-red-500",children:z})]}):C?s.jsxs("div",{className:"flex items-center gap-1.5 px-1 animate-fade-in",children:[s.jsx(Ua,{className:"w-3.5 h-3.5 text-amber-500"}),s.jsx("span",{className:"text-xs font-medium text-amber-600",children:C})]}):null]})},Im=({status:c,masterPrice:u,onSync:d})=>c==="unknown"?null:c==="synced"?s.jsxs("div",{className:"absolute right-2 top-[-22px] flex items-center gap-1 text-[10px] text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded-full border border-emerald-100",children:[s.jsx(h0,{className:"w-3 h-3"})," "]}):s.jsxs("div",{className:"absolute right-0 top-[-28px] flex items-center gap-2 animate-fade-in",children:[s.jsxs("span",{className:"text-[10px] text-amber-600 bg-amber-50 px-2 py-0.5 rounded-md border border-amber-100",children:["? (: ",Oe(u||0),")"]}),s.jsxs(ie,{type:"button",size:"sm",variant:"outline",onClick:d,className:"h-6 px-2 text-[10px] gap-1 bg-white hover:bg-emerald-50 text-emerald-600 border-emerald-200",children:[s.jsx(_o,{className:"w-3 h-3"})," "]})]}),Np=({data:c,onChange:u,onNumberChange:d,warnings:r})=>{const m=ho(ne.CURTAIN_MAIN),h=ho(ne.CURTAIN_SHEER),b=le(O=>O.addFavorite),[p,x]=J.useState(null),T=m.find(O=>O.code===c.code),z=h.find(O=>O.code===c.sheer_code),C=(O,Q)=>{if(!Q||!O)return"unknown";const H=F(O),v=Q.default_price_per_m;return Math.abs(H-v)<.01?"synced":"mismatch"},S=C(c.price_per_m_raw,T),_=C(c.sheer_price_per_m,z),k=(O=!1)=>{const Q=O?z:T;Q&&d(O?"sheer_price_per_m":"price_per_m_raw",Q.default_price_per_m.toString())},D=O=>O.map(Q=>({label:Q.code,value:Q.code,desc:Q.note,data:Q})),L=(O,Q=!1)=>{const H=typeof O=="string"?O:O.value;u(Q?"sheer_code":"code",H);const X=(Q?h:m).find(Z=>Z.code===H);X&&X.default_price_per_m&&d(Q?"sheer_price_per_m":"price_per_m_raw",X.default_price_per_m.toString())},y=(O,Q,H)=>{!O||!Q||(b(H,{code:O,default_price_per_m:F(Q),note:"Updated via Form"}),x(H),setTimeout(()=>x(null),2e3))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3 animate-fade-in relative",children:[s.jsx("div",{className:"flex justify-between items-end mb-1",children:s.jsx("label",{className:"text-sm font-medium text-foreground",children:" ()"})}),s.jsx("div",{className:"relative",children:s.jsx(rl,{placeholder:"...",value:c.code||"",onChange:O=>L(O,!1),options:D(m),warning:r.code,className:"w-full"})}),s.jsxs("div",{className:"flex gap-2 items-end relative",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Im,{status:S,masterPrice:T?.default_price_per_m,onSync:()=>k(!1)}),s.jsx(ee,{label:" (/.)",placeholder:"0.00",value:c.price_per_m_raw||"",onChange:O=>d("price_per_m_raw",O.target.value),type:"number",inputMode:"decimal",className:G("w-full text-lg font-bold transition-all",S==="mismatch"?"text-amber-600 bg-amber-50 border-amber-200 focus:ring-amber-500":"text-primary bg-primary/5 border-transparent")})]}),c.code&&F(c.price_per_m_raw)>0&&s.jsx(ie,{type:"button",variant:"outline",className:G("h-[50px] w-[50px] p-0 shrink-0 border-dashed transition-all",S==="mismatch"?"border-amber-400 text-amber-500 hover:bg-amber-50":"border-border text-muted-foreground hover:text-amber-500"),onClick:()=>y(c.code,c.price_per_m_raw,ne.CURTAIN_MAIN),title:"",children:p===ne.CURTAIN_MAIN?s.jsx(Wl,{className:"w-6 h-6 text-green-600"}):s.jsx(cl,{className:G("w-6 h-6",S==="mismatch"&&"fill-amber-100")})})]})]}),(c.layer_mode===Ni.SHEER||c.layer_mode===Ni.DOUBLE)&&s.jsxs("div",{className:"space-y-3 animate-fade-in relative p-3 bg-muted/30 rounded-xl border border-dashed border-border mt-2",children:[s.jsx("div",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wider",children:""}),s.jsx("div",{className:"relative",children:s.jsx(rl,{placeholder:"...",value:c.sheer_code||"",onChange:O=>L(O,!0),options:D(h),warning:r.sheer_code,className:"w-full"})}),s.jsxs("div",{className:"flex gap-2 items-end relative",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Im,{status:_,masterPrice:z?.default_price_per_m,onSync:()=>k(!0)}),s.jsx(ee,{label:" (/.)",placeholder:"0.00",value:c.sheer_price_per_m||"",onChange:O=>d("sheer_price_per_m",O.target.value),type:"number",inputMode:"decimal",className:G("w-full text-lg font-bold transition-all",_==="mismatch"?"text-amber-600 bg-amber-50 border-amber-200 focus:ring-amber-500":"text-emerald-600 bg-emerald-500/5 border-transparent")})]}),c.sheer_code&&F(c.sheer_price_per_m)>0&&s.jsx(ie,{type:"button",variant:"outline",className:"h-[50px] w-[50px] p-0 shrink-0 border-dashed border-border text-muted-foreground hover:text-amber-500 hover:bg-amber-50",onClick:()=>y(c.sheer_code,c.sheer_price_per_m,ne.CURTAIN_SHEER),children:p===ne.CURTAIN_SHEER?s.jsx(Wl,{className:"w-6 h-6 text-green-600"}):s.jsx(cl,{className:"w-6 h-6"})})]})]})]})},C0=Fl.forwardRef(({className:c,label:u,valueLabel:d,placeholder:r="...",hasError:m,id:h,...b},p)=>{const x=J.useId(),T=h||x;return s.jsxs("div",{className:"space-y-1.5 w-full",children:[u&&s.jsx("label",{htmlFor:T,className:"text-[15px] font-medium text-foreground ml-1",children:u}),s.jsxs("button",{ref:p,id:T,type:"button",className:G("flex h-12 w-full items-center justify-between rounded-xl border px-4 py-2 text-[16px] transition-all shadow-sm active:scale-[0.99]","bg-background","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:border-transparent",m?"border-destructive focus-visible:ring-destructive":"border-input",d?"text-foreground":"text-muted-foreground",c),...b,children:[s.jsx("span",{className:"truncate",children:d||r}),s.jsx(ub,{className:"h-4 w-4 shrink-0 text-muted-foreground opacity-50"})]})]})});C0.displayName="SelectButton";const _p=({isOpen:c,onClose:u,title:d,options:r,value:m,onSelect:h})=>{const{trigger:b}=ol(),p=x=>{x!==m&&(b("selection"),h(x)),setTimeout(()=>{u()},150)};return s.jsx(ra,{show:c,as:J.Fragment,children:s.jsxs(Si,{onClose:u,className:"relative z-[60]",children:[s.jsx(Ba,{as:J.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-[2px]","aria-hidden":"true"})}),s.jsx("div",{className:"fixed inset-0 flex items-end justify-center pointer-events-none",children:s.jsx(Ba,{as:J.Fragment,enter:"transform transition ease-ios duration-300",enterFrom:"translate-y-full",enterTo:"translate-y-0",leave:"transform transition ease-ios duration-200",leaveFrom:"translate-y-0",leaveTo:"translate-y-full",children:s.jsxs(wi,{className:"fixed bottom-0 left-0 right-0 z-[60] bg-popover rounded-t-3xl shadow-xl max-h-[85vh] overflow-hidden flex flex-col pb-safe-area ring-1 ring-border",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-border flex items-center justify-between bg-muted/30",children:[s.jsx(No,{className:"text-lg font-bold text-foreground",children:d}),s.jsx("button",{onClick:u,className:"p-2 -mr-2 text-muted-foreground hover:bg-muted rounded-full transition-colors",children:s.jsx(Ws,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"overflow-y-auto p-4 space-y-2",children:r.map(x=>{const T=x.value===m,z=x.icon;return s.jsxs("button",{onClick:()=>p(x.value),className:G("w-full flex items-center p-4 rounded-xl border transition-all duration-200 text-left",T?"border-primary bg-primary/10 shadow-sm":"border-border bg-card hover:bg-accent hover:border-accent-foreground/20"),children:[z&&s.jsx("div",{className:G("w-10 h-10 rounded-full flex items-center justify-center mr-4 transition-colors",T?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:s.jsx(z,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:G("font-semibold text-[15px]",T?"text-primary":"text-foreground"),children:x.label}),x.description&&s.jsx("div",{className:"text-xs text-muted-foreground mt-0.5 font-normal",children:x.description})]}),T&&s.jsx("div",{className:"ml-3 text-primary",children:s.jsx(Wl,{className:"w-5 h-5"})})]},String(x.value))})})]})})})]})})},io=({value:c,label:u,icon:d,currentValue:r,onChange:m})=>{const h=r===c;return s.jsxs("button",{type:"button",onClick:()=>m(c),className:G("relative flex flex-col items-center justify-center h-20 rounded-xl border-2 transition-all active:scale-95",h?"border-primary bg-primary/10 text-primary shadow-md":"border-border bg-card text-muted-foreground hover:bg-muted/30"),children:[s.jsx(d,{className:G("w-8 h-8 mb-1",h?"text-primary":"text-slate-400"),strokeWidth:1.5}),s.jsx("span",{className:"text-[11px] font-medium",children:u}),h&&s.jsx("div",{className:"absolute top-1 right-1 bg-primary text-white rounded-full p-0.5",children:s.jsx(Wl,{className:"w-2 h-2"})})]})},Sp=({data:c,onChange:u,warnings:d})=>{const[r,m]=J.useState(null),h=()=>Hm.find(p=>p.value===c.style)?.label||c.style,b=fo[c.style]||{hasRail:!0};return s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold pb-2 border-b border-border/50",children:[s.jsx(f0,{className:"w-5 h-5 text-primary"}),s.jsx("h2",{children:" & "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground ml-1",children:" (Style)"}),s.jsx(C0,{valueLabel:h(),onClick:()=>m("style"),className:"w-full h-14 text-lg font-medium"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground ml-1",children:" (Opening)"}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsx(io,{value:"",label:"",icon:Ci,currentValue:c.opening_style,onChange:p=>u("opening_style",p)}),s.jsx(io,{value:"",label:"",icon:So,currentValue:c.opening_style,onChange:p=>u("opening_style",p)}),s.jsx(io,{value:"",label:"",icon:Ai,currentValue:c.opening_style,onChange:p=>u("opening_style",p)})]})]}),b.hasRail&&s.jsx("div",{className:"animate-fade-in pt-2",children:s.jsx(ee,{prefix:s.jsx(db,{className:"w-4 h-4 text-muted-foreground"}),label:" / ",placeholder:"...",value:c.rail_color||"",onChange:p=>u("rail_color",p.target.value),warning:d.rail_color,className:"h-12"})}),s.jsx(_p,{isOpen:r==="style",onClose:()=>m(null),title:"",options:Hm,value:c.style,onSelect:p=>u("style",p)})]})},jt=({className:c,checked:u,onCheckedChange:d,disabled:r,ref:m,...h})=>s.jsxs("label",{className:G("group inline-flex items-center relative cursor-pointer tap-highlight-transparent",r&&"cursor-not-allowed opacity-50",c),children:[s.jsx("input",{ref:m,type:"checkbox",className:"sr-only",checked:u,onChange:b=>d(b.target.checked),disabled:r,...h}),s.jsx("div",{className:G("w-[51px] h-[31px] rounded-full transition-colors duration-300 ease-in-out border",u?"bg-primary border-primary":"bg-input border-border")}),s.jsx("div",{className:G("absolute left-[2px] top-[2px] w-[27px] h-[27px] bg-background rounded-full shadow-sm transition-transform duration-300 ease-in-out",u?"translate-x-[20px]":"translate-x-0")})]}),wp=({data:c,onChange:u,onNumberChange:d})=>{const r=J.useMemo(()=>et.calculatePrice({...c,type:V.CURTAIN,id:"temp"}),[c]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center py-2",children:[s.jsx("div",{className:"text-sm text-emerald-400 font-medium mb-1",children:" (Net Price)"}),s.jsx("div",{className:"text-4xl font-bold font-mono text-emerald-300 tracking-tight",children:Oe(r)}),s.jsx("div",{className:"text-xs text-slate-400 mt-2",children:"(  )"})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jt,{checked:c.enable_set_price||!1,onCheckedChange:m=>u("enable_set_price",m),className:"data-[state=checked]:bg-emerald-500"}),s.jsx("span",{className:"text-sm text-slate-300",children:" (Manual Override)"})]}),c.enable_set_price&&s.jsx("div",{className:"w-36 animate-fade-in",children:s.jsx("input",{type:"text",inputMode:"decimal",value:c.set_price_override||"",onChange:m=>d("set_price_override",m.target.value),placeholder:"0.00",className:"w-full bg-slate-800 text-white border border-slate-600 rounded-lg px-3 py-2 text-right font-mono text-sm focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 transition-all"})})]})]})},Cp=c=>{if(c===""||c===void 0||c===0)return"";const u=Number(c);return isNaN(u)?"":u.toLocaleString("en-US")},Ap=c=>c.replace(/,/g,""),Ha=(c,u)=>{const[d,r]=J.useState(c),[m,h]=J.useState({}),[b,p]=J.useState({}),x=J.useMemo(()=>JSON.stringify(d)!==JSON.stringify(c),[d,c]),T=J.useCallback((k,D)=>{r(L=>({...L,[k]:D})),u&&u[k]&&(h(L=>({...L,[k]:void 0})),p(L=>({...L,[k]:void 0})))},[u]),z=J.useCallback((k,D)=>{const L=Ap(D);/^\d*\.?\d*$/.test(L)&&(r(y=>({...y,[k]:L})),u&&u[k]&&(h(y=>({...y,[k]:void 0})),p(y=>({...y,[k]:void 0}))))},[u]),C=J.useCallback(()=>{if(!u)return{isValid:!0,hasWarnings:!1};const k={},D={};let L=!0,y=!1;return Object.keys(u).forEach(O=>{const Q=u[O];if(Q){const H=Q(d[O],d);H&&(H.level==="error"?(k[O]=H.message,L=!1):H.level==="warning"&&(D[O]=H.message,y=!0))}}),h(k),p(D),{isValid:L,hasWarnings:y}},[d,u]),S=J.useCallback(k=>{const D=d[k];return typeof D=="string"||typeof D=="number"?Cp(D):""},[d]),_=J.useCallback(()=>{r(c),h({}),p({})},[c]);return{formData:d,errors:m,warnings:b,isDirty:x,handleChange:T,handleNumberChange:z,getFormattedNumber:S,setFormData:r,validate:C,resetForm:_}},Tp={width_m:"",height_m:"",style:"",opening_style:"",layer_mode:Ni.MAIN,fabric_variant:"",code:"",price_per_m_raw:"",sheer_code:"",sheer_price_per_m:"",rail_color:"",bracket_color:"",notes:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},Pm=c=>({level:"error",message:c}),e0=c=>({level:"warning",message:c}),Ep={width_m:c=>F(c)<=0?Pm(""):null,height_m:c=>F(c)<=0?Pm(""):null,code:(c,u)=>u.layer_mode===Ni.SHEER||c?null:e0(""),rail_color:(c,u)=>(fo[u.style]||fo.).hasRail&&!c?e0(""):null},Mp=(c,u)=>{const{addToast:d}=Ke(),r=Ha({...Tp,...c},Ep);return{...r,handleSubmit:h=>{h.preventDefault();const{isValid:b,hasWarnings:p}=r.validate();b?(u(r.formData),p&&d("warning"," ()")):d("error"," () ")}}},Dp=({initialData:c,onSubmit:u,onCancel:d})=>{const{formData:r,errors:m,warnings:h,handleChange:b,handleNumberChange:p,handleSubmit:x}=Mp(c,u);return s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsx(yp,{data:r,onChange:p,errors:m}),s.jsx(Np,{data:r,onChange:b,onNumberChange:p,warnings:h}),s.jsx(Sp,{data:r,onChange:b,warnings:h}),s.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),s.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold border-b border-border pb-3",children:[s.jsx(x0,{className:"w-5 h-5"}),s.jsx("h3",{children:""})]}),s.jsx(wp,{data:r,onChange:b,onNumberChange:p})]}),s.jsxs("div",{className:"space-y-4 pt-2",children:[s.jsx(ee,{label:"",value:r.notes||"",onChange:T=>b("notes",T.target.value),className:"bg-muted/30"}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-border",children:[s.jsx(ie,{variant:"ghost",type:"button",onClick:d,className:"h-12 px-6 text-muted-foreground",children:""}),s.jsx(ie,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-blue-500/20 bg-slate-900 text-white",children:""})]})]})]})},t0={widths:[""],height_m:"",price_per_roll:"",install_cost_per_roll:"",wallpaper_code:"",notes:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},a0=c=>({level:"error",message:c}),zp=c=>({level:"warning",message:c}),Op={height_m:c=>F(c)<=0?a0(""):null,wallpaper_code:c=>c?null:zp(""),widths:c=>Array.isArray(c)&&c.some(u=>F(u)>0)?null:a0(" 1 ")},Rp=({initialData:c,onSubmit:u,onCancel:d})=>{const{formData:r,errors:m,warnings:h,handleChange:b,handleNumberChange:p,validate:x}=Ha({...t0,...c},Op),{addFavorite:T,favorites:z,updateFavorite:C,openModal:S}=le(),{addToast:_}=Ke(),{confirm:k}=oa(),D=(Z,K)=>{const te=[...r.widths];te[Z]=K,b("widths",te)},L=()=>{b("widths",[...r.widths,""])},y=Z=>{const K=r.widths.filter((te,je)=>je!==Z);b("widths",K.length?K:[""])},O=J.useMemo(()=>{const Z={...t0,...r,type:V.WALLPAPER,id:"preview"};return et.calculateDetailedPrice(Z)},[r]),Q=J.useMemo(()=>(z[ne.WALLPAPER]||[]).map(Z=>({label:Z.code,value:Z.code,desc:`${Z.default_price_per_m}`,data:Z})),[z]),H=Z=>{b("wallpaper_code",Z);const K=Q.find(te=>te.value.toLowerCase()===Z.toLowerCase());K&&K.data?.default_price_per_m&&p("price_per_roll",String(K.data.default_price_per_m))},v=async()=>{const Z=r.wallpaper_code,K=F(r.price_per_roll);if(!Z||K<=0)return _("warning","");const te=(z[ne.WALLPAPER]||[]).find(je=>je.code===Z);te?te.default_price_per_m!==K?await k({title:"",description:` ${te.default_price_per_m} ->  ${K}. ?`,confirmLabel:"",cancelLabel:""})&&(C(ne.WALLPAPER,te.id,{default_price_per_m:K}),_("success",` ${Z} `)):_("info",""):(T(ne.WALLPAPER,{code:Z,default_price_per_m:K}),_("success",` ${Z} `))},Y=Z=>Z?(z[ne.WALLPAPER]||[]).some(K=>K.code===Z):!1,X=Z=>{Z.preventDefault();const{isValid:K,hasWarnings:te}=x();K?(u(r),te&&_("warning"," ()")):_("error","")};return s.jsxs("form",{onSubmit:X,className:"space-y-6",children:[s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[s.jsx(m0,{className:"w-5 h-5 text-orange-500"}),s.jsx("h2",{children:""})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[13px] font-medium text-muted-foreground ml-1",children:" ()"}),r.widths.map((Z,K)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ee,{placeholder:` ${K+1}`,value:Z,onChange:te=>D(K,te.target.value),isDimension:!0,className:G(m.widths&&"border-red-300 bg-red-50")}),r.widths.length>1&&s.jsx("button",{type:"button",onClick:()=>y(K),className:"p-3 text-muted-foreground hover:text-red-500 hover:bg-red-50 rounded-xl transition-colors",children:s.jsx(Fs,{className:"w-5 h-5"})})]},K)),s.jsxs("button",{type:"button",onClick:L,className:"text-sm text-indigo-600 font-medium flex items-center gap-1 px-1 hover:underline",children:[s.jsx(xo,{className:"w-4 h-4"})," "]})]}),s.jsx(ee,{label:" ()",placeholder:"0.00",value:r.height_m,onChange:Z=>p("height_m",Z.target.value),isDimension:!0,error:m.height_m})]})]}),s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"bg-muted/50 p-4 rounded-xl border border-border space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("label",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[s.jsx(Ti,{className:"w-4 h-4 text-muted-foreground"})," "]}),s.jsxs(ie,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 gap-1 text-muted-foreground hover:text-orange-500",onClick:()=>S("favoriteManager",{initialTab:ne.WALLPAPER}),children:[s.jsx(Ei,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"text-xs",children:""})]})]}),s.jsx(rl,{placeholder:"...",value:r.wallpaper_code||"",onChange:H,options:Q,warning:h.wallpaper_code}),s.jsxs("div",{className:"relative",children:[s.jsx(ee,{placeholder:" (/)",inputMode:"decimal",value:r.price_per_roll||"",onChange:Z=>p("price_per_roll",Z.target.value),prefix:s.jsx(ca,{className:"w-4 h-4 text-muted-foreground"})}),r.wallpaper_code&&F(r.price_per_roll)>0&&s.jsx("button",{type:"button",onClick:v,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 z-10 hover:scale-110 transition-transform",children:s.jsx(cl,{className:G("w-5 h-5 transition-colors",Y(r.wallpaper_code)?"fill-amber-400 text-amber-400":"text-muted-foreground hover:text-amber-400")})})]}),s.jsx(ee,{label:" (/)",placeholder:"0",inputMode:"decimal",value:r.install_cost_per_roll||"",onChange:Z=>p("install_cost_per_roll",Z.target.value),prefix:s.jsx(fb,{className:"w-4 h-4 text-muted-foreground"})})]})})}),s.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 text-foreground relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-500/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between border-b border-border pb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:" ():"}),s.jsxs("span",{className:"font-mono text-foreground text-lg font-bold",children:[O.breakdown?.rolls||0," "]})]}),s.jsxs("div",{className:"flex justify-between items-end pt-2 border-t border-border mt-2",children:[s.jsx("span",{className:"text-muted-foreground pb-1",children:""}),s.jsx("span",{className:"text-2xl font-bold font-mono text-orange-400",children:Oe(O.total)})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jt,{checked:r.enable_set_price||!1,onCheckedChange:Z=>b("enable_set_price",Z),className:"data-[state=checked]:bg-orange-500"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),r.enable_set_price&&s.jsx("div",{className:"w-32",children:s.jsx("input",{type:"text",inputMode:"decimal",value:r.set_price_override||"",onChange:Z=>p("set_price_override",Z.target.value),className:"w-full bg-background text-foreground border border-border rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:border-orange-500"})})]})]})]}),s.jsxs("div",{className:"pt-2 space-y-4",children:[s.jsx(ee,{label:"",value:r.notes||"",onChange:Z=>b("notes",Z.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2",children:[s.jsx(ie,{variant:"ghost",type:"button",onClick:d,className:"h-12 px-6 text-muted-foreground",children:""}),s.jsx(ie,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-orange-500/20 bg-primary text-primary-foreground",children:""})]})]})]})},l0={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"Blackout",adjustment_side:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},Lp={width_m:c=>F(c)<=0?{level:"error",message:""}:null,height_m:c=>F(c)<=0?{level:"error",message:""}:null,price_sqyd:(c,u)=>!u.enable_set_price&&F(c)<=0?{level:"warning",message:""}:null},Up=({initialData:c,onSubmit:u,onCancel:d})=>{const{formData:r,errors:m,warnings:h,handleChange:b,handleNumberChange:p,validate:x}=Ha({...l0,...c},Lp),{addFavorite:T,favorites:z,updateFavorite:C,openModal:S}=le(),{addToast:_}=Ke(),{confirm:k}=oa(),D=J.useMemo(()=>{const v={...l0,...r,type:V.ROLLER_BLIND,id:"preview"};return et.calculateDetailedPrice(v)},[r]),L=J.useMemo(()=>(z[ne.ROLLER_BLIND]||[]).map(v=>({label:v.code,value:v.code,desc:`${v.default_price_per_m}`,data:v})),[z]),y=v=>{b("code",v);const Y=L.find(X=>X.value.toLowerCase()===v.toLowerCase());Y&&Y.data?.default_price_per_m&&p("price_sqyd",String(Y.data.default_price_per_m))},O=async()=>{const v=r.code,Y=F(r.price_sqyd);if(!v||Y<=0)return _("warning","");const X=(z[ne.ROLLER_BLIND]||[]).find(Z=>Z.code===v);X?X.default_price_per_m!==Y&&await k({title:"",description:` ${X.default_price_per_m} ->  ${Y}. ?`,confirmLabel:"",cancelLabel:""})&&C(ne.ROLLER_BLIND,X.id,{default_price_per_m:Y}):(T(ne.ROLLER_BLIND,{code:v,default_price_per_m:Y}),_("success",` ${v} `))},Q=v=>!!v&&(z[ne.ROLLER_BLIND]||[]).some(Y=>Y.code===v),H=v=>{v.preventDefault();const{isValid:Y,hasWarnings:X}=x();Y?(u(r),X&&_("warning"," ()")):_("error","")};return s.jsxs("form",{onSubmit:H,className:"space-y-6",children:[s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[s.jsx(b0,{className:"w-5 h-5 text-teal-500"}),s.jsx("h2",{children:" ()"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ee,{label:" (W)",placeholder:"0.00",value:r.width_m,onChange:v=>p("width_m",v.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-teal-600 dark:text-teal-400 bg-teal-500/10",error:m.width_m}),s.jsx(ee,{label:" (H)",placeholder:"0.00",value:r.height_m,onChange:v=>p("height_m",v.target.value),isDimension:!0,className:"text-lg font-bold text-teal-600 dark:text-teal-400 bg-teal-500/10",error:m.height_m})]})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-xl border border-border space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("label",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[s.jsx(ca,{className:"w-4 h-4 text-muted-foreground"})," /"]}),s.jsxs(ie,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 gap-1 text-muted-foreground hover:text-teal-600",onClick:()=>S("favoriteManager",{initialTab:ne.ROLLER_BLIND}),children:[s.jsx(Ei,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"text-xs",children:""})]})]}),s.jsx(rl,{placeholder:"/...",value:r.code||"",onChange:y,options:L}),s.jsxs("div",{className:"relative",children:[s.jsx(ee,{placeholder:" (/..)",inputMode:"decimal",value:r.price_sqyd||"",onChange:v=>p("price_sqyd",v.target.value),warning:h.price_sqyd}),r.code&&F(r.price_sqyd)>0&&s.jsx("button",{type:"button",onClick:O,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 z-10 hover:scale-110 transition-transform",children:s.jsx(cl,{className:G("w-5 h-5 transition-colors",Q(r.code)?"fill-amber-400 text-amber-400":"text-muted-foreground hover:text-amber-400")})})]})]}),s.jsxs("div",{className:"space-y-2 pt-2 border-t border-border",children:[s.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),s.jsx("div",{className:"grid grid-cols-3 gap-2 bg-muted/50 p-1 rounded-xl",children:["Blackout","Sunscreen","Dimout"].map(v=>s.jsx("button",{type:"button",onClick:()=>b("fabric_variant",v),className:G("flex items-center justify-center py-2 rounded-lg text-xs font-medium transition-all",r.fabric_variant===v?"bg-teal-600 text-white shadow-md":"text-muted-foreground hover:bg-background/50"),children:v},v))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:["",""].map(v=>s.jsxs("button",{type:"button",onClick:()=>b("adjustment_side",v),className:G("flex items-center justify-center gap-2 py-3 rounded-xl border transition-all",r.adjustment_side===v?"border-teal-500 bg-teal-500/10 text-teal-600 dark:text-teal-400":"border-border text-muted-foreground hover:bg-muted"),children:[v===""?s.jsx(Ci,{className:"w-4 h-4"}):s.jsx(Ai,{className:"w-4 h-4"}),v]},v))})]})]}),s.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 text-foreground relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-teal-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[s.jsx("span",{children:" (..):"}),s.jsx("span",{className:"text-foreground font-mono",children:D.breakdown?.areaSqyd?.toFixed(2)||"0.00"})]}),s.jsxs("div",{className:"flex justify-between items-end pt-2 border-t border-border mt-2",children:[s.jsx("span",{className:"text-muted-foreground pb-1",children:""}),s.jsx("span",{className:"text-2xl font-bold font-mono text-teal-600 dark:text-teal-400",children:Oe(D.total)})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jt,{checked:r.enable_set_price||!1,onCheckedChange:v=>b("enable_set_price",v),className:"data-[state=checked]:bg-teal-500"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),r.enable_set_price&&s.jsx("div",{className:"w-32",children:s.jsx("input",{type:"text",inputMode:"decimal",value:r.set_price_override||"",onChange:v=>p("set_price_override",v.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"})})]})]})]}),s.jsxs("div",{className:"pt-2 space-y-4",children:[s.jsx(ee,{label:"",value:r.notes||"",onChange:v=>b("notes",v.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[s.jsx(ie,{variant:"ghost",type:"button",onClick:d,className:"h-12 px-6 text-muted-foreground",children:""}),s.jsx(ie,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-teal-500/20 bg-teal-600 hover:bg-teal-700 text-white",children:""})]})]})]})},s0={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"",adjustment_side:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},Bp={width_m:c=>F(c)<=0?{level:"error",message:""}:null,height_m:c=>F(c)<=0?{level:"error",message:""}:null,price_sqyd:(c,u)=>!u.enable_set_price&&F(c)<=0?{level:"warning",message:""}:null},kp=({initialData:c,onSubmit:u,onCancel:d,itemType:r=V.WOODEN_BLIND})=>{const{formData:m,errors:h,handleChange:b,handleNumberChange:p,validate:x}=Ha({...s0,...c},Bp),{favorites:T}=le(),{addToast:z}=Ke(),C=r===V.ROLLER_BLIND?ne.ROLLER_BLIND:r===V.ALUMINUM_BLIND?ne.ALUMINUM_BLIND:ne.WOODEN_BLIND,S=J.useMemo(()=>{const L={...s0,...m,type:r,id:"preview"};return et.calculateDetailedPrice(L)},[m,r]),_=J.useMemo(()=>(T[C]||[]).map(L=>({label:L.code,value:L.code,desc:`${L.default_price_per_m}`,data:L})),[T,C]),k=L=>{b("code",L);const y=_.find(O=>O.value.toLowerCase()===L.toLowerCase());y&&y.data?.default_price_per_m&&p("price_sqyd",String(y.data.default_price_per_m))},D=L=>{L.preventDefault();const{isValid:y,hasWarnings:O}=x();y?(u(m),O&&z("warning"," ()")):z("error","")};return s.jsxs("form",{onSubmit:D,className:"space-y-6 pb-20 sm:pb-0",children:[s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[s.jsx(il,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"}),s.jsx("h2",{children:" ()"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ee,{label:" (W)",placeholder:"0.00",value:m.width_m,onChange:L=>p("width_m",L.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-amber-600 dark:text-amber-400 bg-amber-500/10",error:h.width_m}),s.jsx(ee,{label:" (H)",placeholder:"0.00",value:m.height_m,onChange:L=>p("height_m",L.target.value),isDimension:!0,className:"text-lg font-bold text-amber-600 dark:text-amber-400 bg-amber-500/10",error:h.height_m})]})]}),s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsx("div",{className:"grid grid-cols-2 gap-2 bg-muted/50 p-1 rounded-xl",children:["",""].map(L=>s.jsx("button",{type:"button",onClick:()=>b("fabric_variant",L),className:G("flex items-center justify-center py-2 rounded-lg text-xs font-medium transition-all",m.fabric_variant===L?"bg-amber-600 text-white shadow-md":"text-muted-foreground hover:bg-background/50"),children:L},L))}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(rl,{label:"//",options:_,value:m.code||"",onChange:k,className:"bg-muted/50",placeholder:" BW-01"}),s.jsx(ee,{label:" (/..)",value:m.price_sqyd||"",onChange:L=>p("price_sqyd",L.target.value),className:"bg-muted/50",inputMode:"decimal",placeholder:"0.00"})]}),s.jsxs("div",{className:"pt-2",children:[s.jsx("label",{className:"text-sm font-bold text-foreground mb-2 block",children:" (Side)"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:["",""].map(L=>s.jsxs("button",{type:"button",onClick:()=>b("adjustment_side",L),className:G("flex items-center justify-center gap-2 py-3 rounded-xl border transition-all",m.adjustment_side===L?"border-amber-500 bg-amber-500/10 text-amber-600 dark:text-amber-400":"border-border text-muted-foreground hover:bg-muted"),children:[L===""?s.jsx(Ci,{className:"w-4 h-4"}):s.jsx(Ai,{className:"w-4 h-4"}),L]},L))})]})]}),s.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-amber-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),s.jsxs("div",{className:"flex items-center gap-2 text-amber-600 dark:text-amber-400 font-bold border-b border-border pb-3",children:[s.jsx(ca,{className:"w-5 h-5"}),s.jsx("h3",{children:""})]}),s.jsxs("div",{className:"flex justify-between items-baseline",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:""}),s.jsx("span",{className:"text-2xl font-bold font-mono text-amber-600 dark:text-amber-400",children:Oe(S.total)})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jt,{checked:m.enable_set_price||!1,onCheckedChange:L=>b("enable_set_price",L),className:"data-[state=checked]:bg-amber-500"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),m.enable_set_price&&s.jsx("div",{className:"w-32",children:s.jsx("input",{type:"text",inputMode:"decimal",value:m.set_price_override||"",onChange:L=>p("set_price_override",L.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"})})]})]}),s.jsxs("div",{className:"pt-2 space-y-4",children:[s.jsx(ee,{label:"",value:m.notes||"",onChange:L=>b("notes",L.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[s.jsx(ie,{variant:"ghost",type:"button",onClick:d,className:"h-12 px-6 text-muted-foreground",children:""}),s.jsx(ie,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-amber-500/20 bg-amber-600 hover:bg-amber-700 text-white",children:""})]})]})]})},n0={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"Dimout",adjustment_side:"",opening_style:Xt.SIDE,is_suspended:!1,enable_set_price:!1,set_price_override:0},Hp={width_m:c=>F(c)<=0?{level:"error",message:""}:null,height_m:c=>F(c)<=0?{level:"error",message:""}:null,price_sqyd:(c,u)=>!u.enable_set_price&&F(c)<=0?{level:"warning",message:""}:null},qp=({initialData:c,onSubmit:u,onCancel:d})=>{const{formData:r,errors:m,warnings:h,handleChange:b,handleNumberChange:p,validate:x}=Ha({...n0,...c},Hp),{addFavorite:T,favorites:z,updateFavorite:C,openModal:S}=le(),{addToast:_}=Ke(),{confirm:k}=oa(),D=J.useMemo(()=>{const v={...n0,...r,type:V.VERTICAL_BLIND,id:"preview"};return et.calculateDetailedPrice(v)},[r]),L=J.useMemo(()=>(z[ne.VERTICAL_BLIND]||[]).map(v=>({label:v.code,value:v.code,desc:`${v.default_price_per_m}`,data:v})),[z]),y=v=>{b("code",v);const Y=L.find(X=>X.value.toLowerCase()===v.toLowerCase());Y&&Y.data?.default_price_per_m&&p("price_sqyd",String(Y.data.default_price_per_m))},O=async()=>{const v=r.code,Y=F(r.price_sqyd);if(!v||Y<=0)return _("warning","");const X=(z[ne.VERTICAL_BLIND]||[]).find(Z=>Z.code===v);X&&X.default_price_per_m!==Y?await k({title:"?",description:` ${X.default_price_per_m}  ${Y}?`})&&C(ne.VERTICAL_BLIND,X.id,{default_price_per_m:Y}):X||(T(ne.VERTICAL_BLIND,{code:v,default_price_per_m:Y}),_("success",""))},Q=v=>!!v&&(z[ne.VERTICAL_BLIND]||[]).some(Y=>Y.code===v),H=v=>{v.preventDefault(),x().isValid?u(r):_("error","")};return s.jsxs("form",{onSubmit:H,className:"space-y-6 pb-20 sm:pb-0",children:[s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[s.jsx(p0,{className:"w-5 h-5 text-cyan-500"}),s.jsx("h2",{children:" ()"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ee,{label:" (W)",value:r.width_m,onChange:v=>p("width_m",v.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-cyan-600 dark:text-cyan-400 bg-cyan-500/10",error:m.width_m}),s.jsx(ee,{label:" (H)",value:r.height_m,onChange:v=>p("height_m",v.target.value),isDimension:!0,className:"text-lg font-bold text-cyan-600 dark:text-cyan-400 bg-cyan-500/10",error:m.height_m})]})]}),s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("label",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[s.jsx(ca,{className:"w-4 h-4 text-muted-foreground"}),"/"]}),s.jsxs(ie,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 gap-1 text-muted-foreground hover:text-cyan-600",onClick:()=>S("favoriteManager",{initialTab:ne.VERTICAL_BLIND}),children:[s.jsx(Ei,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"text-xs",children:""})]})]}),s.jsx(rl,{placeholder:"/...",value:r.code||"",onChange:y,options:L}),s.jsxs("div",{className:"relative",children:[s.jsx(ee,{placeholder:" (/..)",inputMode:"decimal",value:r.price_sqyd||"",onChange:v=>p("price_sqyd",v.target.value),warning:h.price_sqyd}),r.code&&F(r.price_sqyd)>0&&s.jsx("button",{type:"button",onClick:O,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 z-10 hover:scale-110 transition-transform",children:s.jsx(cl,{className:G("w-5 h-5",Q(r.code)?"fill-amber-400 text-amber-400":"text-muted-foreground")})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-border",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("button",{type:"button",onClick:()=>b("opening_style",Xt.SIDE),className:G("flex items-center gap-2 px-3 py-2 rounded-lg text-xs border transition-all",r.opening_style===Xt.SIDE?"bg-cyan-500/10 border-cyan-500/50 text-cyan-600 dark:text-cyan-400":"border-transparent text-muted-foreground hover:bg-muted"),children:[s.jsx(g0,{className:"w-3 h-3"}),""]}),s.jsxs("button",{type:"button",onClick:()=>b("opening_style",Xt.CENTER),className:G("flex items-center gap-2 px-3 py-2 rounded-lg text-xs border transition-all",r.opening_style===Xt.CENTER?"bg-cyan-500/10 border-cyan-500/50 text-cyan-600 dark:text-cyan-400":"border-transparent text-muted-foreground hover:bg-muted"),children:[s.jsx(So,{className:"w-3 h-3"}),""]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("button",{type:"button",onClick:()=>b("adjustment_side",""),className:G("flex items-center gap-2 px-3 py-2 rounded-lg text-xs border transition-all",r.adjustment_side===""?"bg-cyan-500/10 border-cyan-500/50 text-cyan-600 dark:text-cyan-400":"border-transparent text-muted-foreground hover:bg-muted"),children:[s.jsx(Ai,{className:"w-3 h-3"}),""]}),s.jsxs("button",{type:"button",onClick:()=>b("adjustment_side",""),className:G("flex items-center gap-2 px-3 py-2 rounded-lg text-xs border transition-all",r.adjustment_side===""?"bg-cyan-500/10 border-cyan-500/50 text-cyan-600 dark:text-cyan-400":"border-transparent text-muted-foreground hover:bg-muted"),children:[s.jsx(Ci,{className:"w-3 h-3"}),""]})]})]})]})]}),s.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-cyan-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),s.jsxs("div",{className:"flex items-center gap-2 text-cyan-600 dark:text-cyan-400 font-bold border-b border-border pb-3",children:[s.jsx(ca,{className:"w-5 h-5"}),s.jsx("h3",{children:""})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[s.jsx("span",{children:" (..):"}),s.jsx("span",{className:"text-foreground font-mono",children:D.breakdown?.areaSqyd?.toFixed(2)||"0.00"})]}),s.jsxs("div",{className:"flex justify-between items-end pt-2 border-t border-border mt-2",children:[s.jsx("span",{className:"text-muted-foreground pb-1",children:""}),s.jsx("span",{className:"text-2xl font-bold font-mono text-cyan-600 dark:text-cyan-400",children:Oe(D.total)})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jt,{checked:r.enable_set_price||!1,onCheckedChange:v=>b("enable_set_price",v),className:"data-[state=checked]:bg-cyan-500"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),r.enable_set_price&&s.jsx("div",{className:"w-32",children:s.jsx("input",{type:"text",inputMode:"decimal",value:r.set_price_override||"",onChange:v=>p("set_price_override",v.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500"})})]})]})]}),s.jsxs("div",{className:"pt-2 space-y-4",children:[s.jsx(ee,{label:"",value:r.notes||"",onChange:v=>b("notes",v.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[s.jsx(ie,{variant:"ghost",type:"button",onClick:d,className:"h-12 px-6 text-muted-foreground",children:""}),s.jsx(ie,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-cyan-500/20 bg-cyan-600 hover:bg-cyan-700 text-white",children:""})]})]})]})},i0={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"PVC ",opening_style:Xt.SIDE,is_suspended:!1,enable_set_price:!1,set_price_override:0},Yp={width_m:c=>F(c)<=0?{level:"error",message:""}:null,height_m:c=>F(c)<=0?{level:"error",message:""}:null,price_sqyd:(c,u)=>!u.enable_set_price&&F(c)<=0?{level:"warning",message:""}:null},Xp=({initialData:c,onSubmit:u,onCancel:d})=>{const{formData:r,errors:m,warnings:h,handleChange:b,handleNumberChange:p,validate:x}=Ha({...i0,...c},Yp),{addFavorite:T,favorites:z,updateFavorite:C,openModal:S}=le(),{addToast:_}=Ke(),{confirm:k}=oa(),D=J.useMemo(()=>{const v={...i0,...r,type:V.PARTITION,id:"preview"};return et.calculateDetailedPrice(v)},[r]),L=J.useMemo(()=>(z[ne.PARTITION]||[]).map(v=>({label:v.code,value:v.code,desc:`${v.default_price_per_m}`,data:v})),[z]),y=v=>{b("code",v);const Y=L.find(X=>X.value.toLowerCase()===v.toLowerCase());Y&&Y.data?.default_price_per_m&&p("price_sqyd",String(Y.data.default_price_per_m))},O=async()=>{const v=r.code,Y=F(r.price_sqyd);if(!v||Y<=0)return _("warning","");const X=(z[ne.PARTITION]||[]).find(Z=>Z.code===v);X&&X.default_price_per_m!==Y?await k({title:"?",description:` ${X.default_price_per_m} -> ${Y}?`})&&C(ne.PARTITION,X.id,{default_price_per_m:Y}):X||(T(ne.PARTITION,{code:v,default_price_per_m:Y}),_("success",""))},Q=v=>!!v&&(z[ne.PARTITION]||[]).some(Y=>Y.code===v),H=v=>{v.preventDefault(),x().isValid?u(r):_("error","")};return s.jsxs("form",{onSubmit:H,className:"space-y-6",children:[s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[s.jsx(Js,{className:"w-5 h-5 text-emerald-500"}),s.jsx("h2",{children:" ()"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ee,{label:" (W)",placeholder:"0.00",value:r.width_m,onChange:v=>p("width_m",v.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-500/10",error:m.width_m}),s.jsx(ee,{label:" (H)",placeholder:"0.00",value:r.height_m,onChange:v=>p("height_m",v.target.value),isDimension:!0,className:"text-lg font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-500/10",error:m.height_m})]})]}),s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("label",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[s.jsx(ca,{className:"w-4 h-4 text-muted-foreground"}),"/"]}),s.jsxs(ie,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 gap-1 text-muted-foreground hover:text-emerald-600",onClick:()=>S("favoriteManager",{initialTab:ne.PARTITION}),children:[s.jsx(Ei,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"text-xs",children:""})]})]}),s.jsx(rl,{placeholder:" ( PVC )...",value:r.code||"",onChange:y,options:L}),s.jsxs("div",{className:"relative",children:[s.jsx(ee,{placeholder:" (/..)",inputMode:"decimal",value:r.price_sqyd||"",onChange:v=>p("price_sqyd",v.target.value),warning:h.price_sqyd,className:"bg-muted/50"}),r.code&&F(r.price_sqyd)>0&&s.jsx("button",{type:"button",onClick:O,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 z-10 hover:scale-110 transition-transform",children:s.jsx(cl,{className:G("w-5 h-5",Q(r.code)?"fill-amber-400 text-amber-400":"text-muted-foreground")})})]})]}),s.jsxs("div",{className:"space-y-2 pt-2 border-t border-border",children:[s.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),s.jsx("div",{className:"flex gap-2",children:[{l:"",v:Xt.SIDE,i:g0},{l:"",v:Xt.CENTER,i:So}].map(v=>s.jsxs("button",{type:"button",onClick:()=>b("opening_style",v.v),className:G("flex-1 flex items-center justify-center gap-2 py-2 rounded-lg text-sm border transition-all",r.opening_style===v.v?"bg-emerald-500/10 border-emerald-500/50 text-emerald-600 dark:text-emerald-400 font-medium":"bg-background border-border text-muted-foreground hover:bg-muted"),children:[s.jsx(v.i,{className:"w-4 h-4"}),v.l]},v.v))})]})]}),s.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),s.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 dark:text-emerald-400 font-bold border-b border-border pb-3",children:[s.jsx(ca,{className:"w-5 h-5"}),s.jsx("h3",{children:""})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[s.jsx("span",{children:" (..):"}),s.jsx("span",{className:"text-foreground font-mono",children:D.breakdown?.areaSqyd?.toFixed(2)||"0.00"})]}),s.jsxs("div",{className:"flex justify-between items-end pt-2 border-t border-border mt-2",children:[s.jsx("span",{className:"text-muted-foreground pb-1",children:""}),s.jsx("span",{className:"text-2xl font-bold font-mono text-emerald-600 dark:text-emerald-400",children:Oe(D.total)})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jt,{checked:r.enable_set_price||!1,onCheckedChange:v=>b("enable_set_price",v),className:"data-[state=checked]:bg-emerald-500"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),r.enable_set_price&&s.jsx("div",{className:"w-32",children:s.jsx("input",{type:"text",inputMode:"decimal",value:r.set_price_override||"",onChange:v=>p("set_price_override",v.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"})})]})]}),s.jsxs("div",{className:"pt-2 space-y-4",children:[s.jsx(ee,{label:"",value:r.notes||"",onChange:v=>b("notes",v.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[s.jsx(ie,{variant:"ghost",type:"button",onClick:d,className:"h-12 px-6 text-muted-foreground",children:""}),s.jsx(ie,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-emerald-500/20 bg-emerald-600 hover:bg-emerald-700 text-white",children:""})]})]})]})},c0={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"",opening_style:Xt.SIDE,is_suspended:!1,enable_set_price:!1,set_price_override:0},Vp={width_m:c=>F(c)<=0?{level:"error",message:""}:null,height_m:c=>F(c)<=0?{level:"error",message:""}:null,price_sqyd:(c,u)=>!u.enable_set_price&&F(c)<=0?{level:"warning",message:""}:null},Qp=({initialData:c,onSubmit:u,onCancel:d})=>{const{formData:r,errors:m,handleChange:h,handleNumberChange:b,validate:p}=Ha({...c0,...c},Vp),{addToast:x}=Ke(),T=J.useMemo(()=>{const C={...c0,...r,type:V.PLEATED_SCREEN,id:"preview"};return et.calculateDetailedPrice(C)},[r]),z=C=>{C.preventDefault(),p().isValid?u(r):x("error","")};return s.jsxs("form",{onSubmit:z,className:"space-y-6 pb-20 sm:pb-0",children:[s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[s.jsx(Js,{className:"w-5 h-5 text-pink-500"}),s.jsx("h2",{children:" ()"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ee,{label:" (W)",value:r.width_m,onChange:C=>b("width_m",C.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-pink-600 dark:text-pink-400 bg-pink-500/10",error:m.width_m}),s.jsx(ee,{label:" (H)",value:r.height_m,onChange:C=>b("height_m",C.target.value),isDimension:!0,className:"text-lg font-bold text-pink-600 dark:text-pink-400 bg-pink-500/10",error:m.height_m})]})]}),s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(ee,{label:"",value:r.code||"",onChange:C=>h("code",C.target.value),className:"bg-muted/50",placeholder:"..."}),s.jsx(ee,{label:" (/..)",value:r.price_sqyd||"",onChange:C=>b("price_sqyd",C.target.value),className:"bg-muted/50",inputMode:"decimal"})]}),s.jsxs("div",{className:"pt-2",children:[s.jsx("label",{className:"text-sm font-bold text-foreground mb-2 block",children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.values(Xt).map(C=>s.jsx("button",{type:"button",onClick:()=>h("opening_style",C),className:G("py-2 px-3 rounded-lg text-xs font-medium border transition-all",r.opening_style===C?"bg-pink-500/10 border-pink-500/50 text-pink-600 dark:text-pink-400":"bg-background border-border text-muted-foreground hover:bg-muted"),children:C},C))})]})]}),s.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-pink-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),s.jsxs("div",{className:"flex items-center gap-2 text-pink-600 dark:text-pink-400 font-bold border-b border-border pb-3",children:[s.jsx(ca,{className:"w-5 h-5"}),s.jsx("h3",{children:""})]}),s.jsxs("div",{className:"flex justify-between items-baseline",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:""}),s.jsx("span",{className:"text-2xl font-bold font-mono text-pink-600 dark:text-pink-400",children:Oe(T.total)})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jt,{checked:r.enable_set_price||!1,onCheckedChange:C=>h("enable_set_price",C),className:"data-[state=checked]:bg-pink-500"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),r.enable_set_price&&s.jsx("div",{className:"w-32",children:s.jsx("input",{type:"text",inputMode:"decimal",value:r.set_price_override||"",onChange:C=>b("set_price_override",C.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-pink-500"})})]})]}),s.jsxs("div",{className:"pt-2 space-y-4",children:[s.jsx(ee,{label:"",value:r.notes||"",onChange:C=>h("notes",C.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[s.jsx(ie,{variant:"ghost",type:"button",onClick:d,className:"h-12 px-6 text-muted-foreground",children:""}),s.jsx(ie,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-pink-500/20 bg-pink-600 hover:bg-pink-700 text-white",children:""})]})]})]})},Gp={quantity:1,price_per_item:0,description:"",notes:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},Zp={description:c=>c?null:{level:"error",message:""},price_per_item:c=>F(c)<=0?{level:"error",message:""}:null},Kp=({initialData:c,onSubmit:u,onCancel:d})=>{const{formData:r,errors:m,isDirty:h,validate:b,handleChange:p,handleNumberChange:x,getFormattedNumber:T}=Ha({...Gp,...c},Zp),z=J.useMemo(()=>{const S={...r,type:V.REMOVAL,id:"preview"};return et.calculateDetailedPrice(S)},[r]),C=S=>{if(S.preventDefault(),b().isValid){const _={...r,quantity:F(r.quantity),price_per_item:F(r.price_per_item),set_price_override:F(r.set_price_override)};u(_)}};return s.jsxs("form",{onSubmit:C,className:"space-y-6 pb-20 sm:pb-0",children:[s.jsxs("section",{className:"space-y-4 bg-card p-5 rounded-2xl border border-border shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold mb-2",children:[s.jsx(v0,{className:"w-5 h-5 text-destructive"}),s.jsx("h2",{children:""})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ee,{label:" / ",placeholder:" , ...",value:r.description,onChange:S=>p("description",S.target.value),autoFocus:!0,className:"bg-muted/50",error:m.description}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("label",{className:"text-sm font-bold text-foreground mb-1.5 block",children:""}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{type:"button",onClick:()=>x("quantity",String(Math.max(1,F(r.quantity)-1))),className:"w-10 h-10 rounded-l-xl bg-muted text-muted-foreground hover:bg-accent flex items-center justify-center border-y border-l border-input",children:"-"}),s.jsx("input",{type:"number",value:r.quantity,onChange:S=>x("quantity",S.target.value),className:"w-full h-10 text-center border-y border-input bg-background text-foreground font-bold"}),s.jsx("button",{type:"button",onClick:()=>x("quantity",String(F(r.quantity)+1)),className:"w-10 h-10 rounded-r-xl bg-muted text-muted-foreground hover:bg-accent flex items-center justify-center border-y border-r border-input",children:"+"})]})]}),s.jsx(ee,{label:"",placeholder:"0.00",value:r.price_per_item,onChange:S=>x("price_per_item",S.target.value),inputMode:"decimal",className:"bg-muted/50",error:m.price_per_item})]})]})]}),s.jsxs("section",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-destructive/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),s.jsxs("div",{className:"flex items-center gap-2 text-destructive font-bold border-b border-border pb-3",children:[s.jsx(y0,{className:"w-5 h-5"}),s.jsx("h3",{children:""})]}),s.jsxs("div",{className:"flex justify-between items-baseline",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:""}),s.jsx("span",{className:"text-3xl font-bold font-mono text-destructive",children:Oe(z.total)})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jt,{checked:r.enable_set_price||!1,onCheckedChange:S=>p("enable_set_price",S),className:"data-[state=checked]:bg-primary"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:" (Override)"})]}),r.enable_set_price&&s.jsx("div",{className:"w-32",children:s.jsx("input",{type:"text",inputMode:"decimal",value:T("set_price_override"),onChange:S=>x("set_price_override",S.target.value),placeholder:"",className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-primary transition-colors"})})]})]}),s.jsxs("div",{className:"pt-2",children:[s.jsx(ee,{label:"",value:r.notes,onChange:S=>p("notes",S.target.value),className:"bg-muted/50 border-transparent focus:bg-background transition-colors"}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-border mt-4",children:[s.jsx(ie,{variant:"ghost",type:"button",onClick:d,className:"text-muted-foreground",children:""}),s.jsx(ie,{type:"submit",className:"min-w-[120px] bg-destructive hover:bg-destructive/90 text-destructive-foreground",disabled:!h&&!c?.description,children:""})]})]})]})},Jp={indigo:{container:"bg-indigo-50 dark:bg-indigo-500/10 border-indigo-200 dark:border-indigo-500/20",iconWrapper:"bg-white dark:bg-indigo-500/20 text-indigo-600 dark:text-indigo-300",title:"text-indigo-900 dark:text-indigo-100",icon:"text-indigo-600 dark:text-indigo-400",hover:"hover:border-indigo-300 dark:hover:border-indigo-500/50",badge:"bg-indigo-100 text-indigo-700 dark:bg-indigo-500/20 dark:text-indigo-300"},orange:{container:"bg-orange-50 dark:bg-orange-500/10 border-orange-200 dark:border-orange-500/20",iconWrapper:"bg-white dark:bg-orange-500/20 text-orange-600 dark:text-orange-300",title:"text-orange-900 dark:text-orange-100",icon:"text-orange-600 dark:text-orange-400",hover:"hover:border-orange-300 dark:hover:border-orange-500/50",badge:"bg-orange-100 text-orange-700 dark:bg-orange-500/20 dark:text-orange-300"},blue:{container:"bg-blue-50 dark:bg-blue-500/10 border-blue-200 dark:border-blue-500/20",iconWrapper:"bg-white dark:bg-blue-500/20 text-blue-600 dark:text-blue-300",title:"text-blue-900 dark:text-blue-100",icon:"text-blue-600 dark:text-blue-400",hover:"hover:border-blue-300 dark:hover:border-blue-500/50",badge:"bg-blue-100 text-blue-700 dark:bg-blue-500/20 dark:text-blue-300"},amber:{container:"bg-amber-50 dark:bg-amber-500/10 border-amber-200 dark:border-amber-500/20",iconWrapper:"bg-white dark:bg-amber-500/20 text-amber-600 dark:text-amber-300",title:"text-amber-900 dark:text-amber-100",icon:"text-amber-600 dark:text-amber-400",hover:"hover:border-amber-300 dark:hover:border-amber-500/50",badge:"bg-amber-100 text-amber-700 dark:bg-amber-500/20 dark:text-amber-300"},cyan:{container:"bg-cyan-50 dark:bg-cyan-500/10 border-cyan-200 dark:border-cyan-500/20",iconWrapper:"bg-white dark:bg-cyan-500/20 text-cyan-600 dark:text-cyan-300",title:"text-cyan-900 dark:text-cyan-100",icon:"text-cyan-600 dark:text-cyan-400",hover:"hover:border-cyan-300 dark:hover:border-cyan-500/50",badge:"bg-cyan-100 text-cyan-700 dark:bg-cyan-500/20 dark:text-cyan-300"},emerald:{container:"bg-emerald-50 dark:bg-emerald-500/10 border-emerald-200 dark:border-emerald-500/20",iconWrapper:"bg-white dark:bg-emerald-500/20 text-emerald-600 dark:text-emerald-300",title:"text-emerald-900 dark:text-emerald-100",icon:"text-emerald-600 dark:text-emerald-400",hover:"hover:border-emerald-300 dark:hover:border-emerald-500/50",badge:"bg-emerald-100 text-emerald-700 dark:bg-emerald-500/20 dark:text-emerald-300"},teal:{container:"bg-teal-50 dark:bg-teal-500/10 border-teal-200 dark:border-teal-500/20",iconWrapper:"bg-white dark:bg-teal-500/20 text-teal-600 dark:text-teal-300",title:"text-teal-900 dark:text-teal-100",icon:"text-teal-600 dark:text-teal-400",hover:"hover:border-teal-300 dark:hover:border-teal-500/50",badge:"bg-teal-100 text-teal-700 dark:bg-teal-500/20 dark:text-teal-300"},rose:{container:"bg-rose-50 dark:bg-rose-500/10 border-rose-200 dark:border-rose-500/20",iconWrapper:"bg-white dark:bg-rose-500/20 text-rose-600 dark:text-rose-300",title:"text-rose-900 dark:text-rose-100",icon:"text-rose-600 dark:text-rose-400",hover:"hover:border-rose-300 dark:hover:border-rose-500/50",badge:"bg-rose-100 text-rose-700 dark:bg-rose-500/20 dark:text-rose-300"},slate:{container:"bg-slate-50 dark:bg-slate-500/10 border-slate-200 dark:border-slate-500/20",iconWrapper:"bg-white dark:bg-slate-500/20 text-slate-600 dark:text-slate-300",title:"text-slate-900 dark:text-slate-100",icon:"text-slate-600 dark:text-slate-400",hover:"hover:border-slate-300 dark:hover:border-slate-500/50",badge:"bg-slate-100 text-slate-700 dark:bg-slate-500/20 dark:text-slate-300"}},Fp={[V.CURTAIN]:"indigo",[V.WALLPAPER]:"orange",[V.ROLLER_BLIND]:"blue",[V.WOODEN_BLIND]:"amber",[V.VERTICAL_BLIND]:"cyan",[V.ALUMINUM_BLIND]:"slate",[V.PARTITION]:"emerald",[V.PLEATED_SCREEN]:"teal",[V.REMOVAL]:"rose"},Wp=c=>{const u=Fp[c]||"slate";return Jp[u]},$p=[{id:V.CURTAIN,icon:j0},{id:V.WOODEN_BLIND,icon:il},{id:V.ROLLER_BLIND,icon:b0},{id:V.VERTICAL_BLIND,icon:p0},{id:V.PARTITION,icon:Js},{id:V.PLEATED_SCREEN,icon:mb},{id:V.WALLPAPER,icon:Ti},{id:V.REMOVAL,icon:oo}],Ip=({isOpen:c,onClose:u,mode:d,itemType:r,initialData:m,onSubmit:h})=>{const{trigger:b}=ol(),p=D=>D==="set"?V.CURTAIN:D,[x,T]=J.useState(p(r)),[z,C]=J.useState(!0);J.useEffect(()=>{if(c){if(d==="add")C(!0),T(p(r));else if(d==="edit"&&m){C(!1);const D=m.type||r;T(p(D))}}},[c]);const S=D=>{b("selection"),T(D),C(!1)},_=(D,L=!0)=>{const y={...D,type:x};h(y,L)},k=ka[x];return s.jsx(zt,{isOpen:c,onClose:u,title:z?"":k?.name||"",maxWidth:"lg",children:z?s.jsx("div",{className:"pb-safe-area",children:s.jsx("div",{className:"grid grid-cols-2 gap-3 p-1",children:$p.map(D=>{const L=ka[D.id]?.name||D.id,y=Wp(D.id);return s.jsxs("button",{onClick:()=>S(D.id),className:G("group relative flex flex-col items-start p-4 rounded-2xl border transition-all duration-300 ease-out","active:scale-[0.96] hover:-translate-y-0.5 shadow-sm",y.container,y.hover),children:[s.jsx("div",{className:G("w-10 h-10 rounded-xl flex items-center justify-center mb-3 transition-colors duration-300",y.iconWrapper),children:s.jsx(D.icon,{className:"w-5 h-5 transition-colors",strokeWidth:2})}),s.jsx("span",{className:G("text-[14px] font-bold",y.title),children:L}),s.jsx("div",{className:G("absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none","bg-gradient-to-tr from-white/0 via-white/0 to-white/5 dark:to-white/5")})]},D.id)})})}):s.jsxs("div",{className:"relative",children:[d==="add"&&s.jsxs("button",{onClick:()=>C(!0),className:G("absolute -top-[52px] right-0 z-10","flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold transition-all","bg-secondary text-secondary-foreground hover:bg-secondary/80 active:scale-95","dark:bg-secondary/50 dark:hover:bg-secondary/70"),children:[s.jsx(hb,{className:"w-3.5 h-3.5"})," "]}),s.jsxs("div",{className:"animate-fade-in",children:[x===V.CURTAIN&&s.jsx(Dp,{initialData:m,onSubmit:_,onCancel:u}),x===V.WALLPAPER&&s.jsx(Rp,{initialData:m,onSubmit:_,onCancel:u}),x===V.ROLLER_BLIND&&s.jsx(Up,{initialData:m,onSubmit:_,onCancel:u}),(x===V.WOODEN_BLIND||x===V.ALUMINUM_BLIND)&&s.jsx(kp,{itemType:x,initialData:m,onSubmit:_,onCancel:u}),x===V.VERTICAL_BLIND&&s.jsx(qp,{initialData:m,onSubmit:_,onCancel:u}),x===V.PARTITION&&s.jsx(Xp,{initialData:m,onSubmit:_,onCancel:u}),x===V.PLEATED_SCREEN&&s.jsx(Qp,{initialData:m,onSubmit:_,onCancel:u}),x===V.REMOVAL&&s.jsx(Kp,{initialData:m,onSubmit:_,onCancel:u})]})]})})},Pp=({isOpen:c,onClose:u})=>{const d=le(h=>h.customer),r=le(h=>h.setCustomer),m=(h,b)=>{r({[h]:b})};return s.jsx(zt,{isOpen:c,onClose:u,title:" (Customer Info)",children:s.jsxs("div",{className:"space-y-6 pb-safe-area",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(ee,{prefix:s.jsx(xb,{className:"w-4 h-4 text-slate-400"}),label:" /  (Name)",placeholder:"...",value:d.name,onChange:h=>m("name",h.target.value),autoFocus:!0}),s.jsx(ee,{prefix:s.jsx(bb,{className:"w-4 h-4 text-slate-400"}),label:" (Phone)",placeholder:"08X-XXX-XXXX",value:d.phone,onChange:h=>m("phone",h.target.value),inputMode:"tel"}),s.jsx(ee,{prefix:s.jsx(Mi,{className:"w-4 h-4 text-slate-400"}),label:" (Tax ID)",placeholder:"...",value:d.taxId||"",onChange:h=>m("taxId",h.target.value)}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("label",{className:"text-[15px] font-medium text-slate-700 ml-1 flex items-center gap-2",children:[s.jsx(pb,{className:"w-4 h-4"}),"  (Billing Address)"]}),s.jsx("textarea",{className:"w-full p-3 rounded-xl border border-slate-200 bg-white text-slate-900 focus:outline-none focus:ring-2 focus:ring-slate-900 min-h-[80px] resize-none text-[16px]",placeholder:", , /...",value:d.address,onChange:h=>m("address",h.target.value)})]})]}),s.jsx("hr",{className:"border-slate-100"}),s.jsxs("div",{className:"space-y-4 bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"font-semibold text-slate-700 flex items-center gap-2",children:[s.jsx(N0,{className:"w-4 h-4"}),"  (Site Location)"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-xs text-slate-500 cursor-pointer",htmlFor:"show-site",children:""}),s.jsx(jt,{id:"show-site",checked:d.showInstallationAddress!==!1,onCheckedChange:h=>m("showInstallationAddress",h)})]})]}),s.jsxs("div",{className:"flex items-center justify-between py-1",children:[s.jsx("span",{className:"text-sm text-slate-600",children:""}),s.jsx(jt,{checked:d.useSameAddress!==!1,onCheckedChange:h=>m("useSameAddress",h)})]}),d.useSameAddress===!1&&s.jsx("div",{className:"animate-fade-in",children:s.jsx("textarea",{className:"w-full p-3 rounded-xl border border-slate-200 bg-white text-slate-900 focus:outline-none focus:ring-2 focus:ring-slate-900 min-h-[80px] resize-none text-[16px]",placeholder:"...",value:d.installationAddress||"",onChange:h=>m("installationAddress",h.target.value)})}),d.useSameAddress!==!1&&s.jsx("div",{className:"p-3 border border-dashed border-slate-300 rounded-xl text-center text-slate-400 text-xs",children:""})]}),s.jsx("div",{className:"pt-2 flex justify-end",children:s.jsx(ie,{onClick:u,className:"w-full sm:w-auto bg-slate-900 text-white min-w-[120px]",children:""})})]})})};var A0=Qb();const nl=c=>c.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2}),eg=()=>{const c=new Date,u=c.getFullYear().toString().slice(-2),d=(c.getMonth()+1).toString().padStart(2,"0"),r=Math.floor(Math.random()*1e3).toString().padStart(4,"0");return`QT-${u}${d}-${r}`},tg=c=>{const u=[];return c.forEach(d=>{if(d.is_suspended)return;const r=et.calculatePrice(d),{id:m,...h}=d,b=JSON.stringify(h),p=u.find(x=>{const{id:T,...z}=x.item;return JSON.stringify(z)===b});p?(p.count+=1,p.totalPrice+=r):u.push({item:d,count:1,unitPrice:r,totalPrice:r})}),u},ag=Fl.forwardRef(({docType:c},u)=>{const{shopConfig:d,customer:r,rooms:m}=le(y=>y),{grandTotal:h,discountAmount:b,vatAmount:p,finalTotal:x}=Li(),T=c==="delivery",z=!T,[C]=J.useState(eg),S={quotation:" (QUOTATION)",delivery:" /  (DELIVERY NOTE)",receipt:" (RECEIPT)"},_=`
      @page { size: A4; margin: 10mm 15mm; }
      @media print {
        body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
        html, body { height: auto !important; overflow: visible !important; }
        #root { display: block !important; }
        thead { display: table-header-group; }
        tfoot { display: table-footer-group; }
        tr { break-inside: avoid; page-break-inside: avoid; }
        .room-header { break-after: avoid; page-break-after: avoid; }
        .no-print { display: none !important; }
      }
    `,k=r.showInstallationAddress!==!1,D=r.useSameAddress!==!1,L=D?"()":r.installationAddress||"-";return s.jsxs("div",{ref:u,className:"bg-white text-slate-900 font-sans leading-normal text-[12px]",children:[s.jsx("style",{children:_}),s.jsxs("div",{className:"w-[210mm] min-h-[297mm] px-[10mm] py-[10mm] mx-auto flex flex-col bg-white",children:[s.jsxs("header",{className:"flex justify-between items-start border-b-2 border-slate-800 pb-4 mb-4",children:[s.jsxs("div",{className:"flex gap-4 items-start",children:[d.logoUrl?s.jsx("img",{src:d.logoUrl,alt:"Logo",className:"w-[80px] h-[80px] object-contain border border-slate-100 rounded"}):s.jsx("div",{className:"w-[80px] h-[80px] bg-slate-100 flex items-center justify-center text-slate-300 font-bold rounded",children:"LOGO"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-slate-900",children:d.name||""}),s.jsx("div",{className:"text-slate-600 whitespace-pre-line mt-1 leading-tight",children:d.address}),s.jsxs("div",{className:"text-slate-600 mt-2",children:[s.jsx("span",{className:"font-bold",children:":"})," ",d.phone,d.taxId&&s.jsxs("span",{className:"ml-3",children:[s.jsx("span",{className:"font-bold",children:":"})," ",d.taxId]})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:G("inline-block px-4 py-1.5 text-sm font-bold rounded border mb-3",T?"bg-slate-100 border-slate-300":"bg-slate-900 text-white border-slate-900"),children:S[c]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-end items-center gap-2",children:[s.jsx("span",{className:"font-bold text-slate-500",children:":"}),s.jsx("span",{className:"font-mono font-bold text-base",children:C})]}),s.jsxs("div",{className:"flex justify-end items-center gap-2",children:[s.jsx("span",{className:"font-bold text-slate-500",children:":"}),s.jsx("div",{className:"w-[100px] border-b border-slate-400 h-5"})]})]})]})]}),s.jsxs("section",{className:"mb-5 border border-slate-300 rounded-xl flex overflow-hidden bg-white",children:[s.jsxs("div",{className:G("p-4",k?"flex-[1.2]":"flex-1"),children:[s.jsx("div",{className:"flex items-center gap-2 mb-3",children:s.jsx("h3",{className:"font-bold text-slate-900 text-xs uppercase tracking-wider bg-slate-100 px-2 py-0.5 rounded",children:" (Customer)"})}),s.jsxs("div",{className:"space-y-1.5 text-sm",children:[s.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2",children:[s.jsx("span",{className:"text-slate-500 font-medium",children:":"}),s.jsx("span",{className:"font-bold text-slate-900 text-[13px]",children:r.name||"-"})]}),s.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2",children:[s.jsx("span",{className:"text-slate-500 font-medium",children:":"}),s.jsx("span",{className:"text-slate-800 leading-snug",children:r.address||"-"})]}),s.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2",children:[s.jsx("span",{className:"text-slate-500 font-medium",children:":"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("span",{className:"font-mono text-slate-800",children:r.phone||"-"}),r.taxId&&s.jsxs("span",{className:"text-slate-600",children:[s.jsx("span",{className:"font-medium text-slate-500 mr-1",children:"Tax ID:"}),r.taxId]})]})]})]})]}),k&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-px bg-slate-200 my-3"}),s.jsxs("div",{className:"flex-1 p-4 bg-slate-50/30",children:[s.jsx("div",{className:"flex items-center gap-2 mb-3",children:s.jsx("h3",{className:"font-bold text-slate-900 text-xs uppercase tracking-wider bg-slate-100 px-2 py-0.5 rounded",children:" (Site Location)"})}),s.jsx("div",{className:G("text-sm leading-relaxed",D?"text-slate-400 italic":"text-slate-700"),children:L})]})]})]}),s.jsx("div",{className:"flex-1",children:s.jsxs("table",{className:"w-full border border-slate-300 border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-slate-100 text-slate-900 text-xs border-b border-slate-300",children:[s.jsx("th",{className:"py-2 w-[45px] text-center font-bold border-r border-slate-300",children:""}),s.jsx("th",{className:"py-2 px-2 text-left font-bold border-r border-slate-300",children:" (Description)"}),s.jsx("th",{className:"py-2 px-2 w-[60px] text-center font-bold border-r border-slate-300",children:""}),z?s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"py-2 px-2 w-[110px] text-right font-bold border-r border-slate-300",children:"/"}),s.jsx("th",{className:"py-2 pr-2 w-[120px] text-right font-bold",children:""})]}):s.jsx("th",{className:"py-2 px-2 w-[150px] text-center font-bold",children:""})]})}),m.map((y,O)=>{if(y.items.length===0)return null;const Q=tg(y.items);return s.jsxs("tbody",{className:"border-b border-slate-300 last:border-0",children:[s.jsxs("tr",{className:"bg-slate-50/80 room-header border-b border-slate-300",children:[s.jsx("td",{className:"py-1.5 px-1 text-center font-bold text-slate-600 border-r border-slate-300 bg-slate-100",children:O+1}),s.jsxs("td",{colSpan:z?4:3,className:"py-1.5 px-2 font-bold text-slate-900",children:[" ",y.name]})]}),Q.map((H,v)=>{const{item:Y,count:X,unitPrice:Z,totalPrice:K}=H,te=ka[Y.type];let je=te?te.name:"",Ne="",I="";return zi(Y)?(je="",Ne=`${Y.style||"-"} (${Y.fabric_variant||"-"}) ${Y.code?`: ${Y.code}`:""}`,I=`${Pe(Y.width_m)}  ${Pe(Y.height_m)} .`):Oi(Y)?(je="",Ne=Y.wallpaper_code?`Code: ${Y.wallpaper_code}`:"",I="-"):S0(Y)?(je="/",Ne=Y.description||"",I="-"):Ri(Y)&&(Ne=Y.code?`: ${Y.code}`:"",I=`${Pe(Y.width_m)}  ${Pe(Y.height_m)} .`),s.jsxs("tr",{className:"border-b border-slate-200 text-xs even:bg-slate-50 hover:bg-slate-100/50",children:[s.jsxs("td",{className:"py-2.5 px-1 text-center text-slate-500 align-top border-r border-slate-300",children:[O+1,".",v+1]}),s.jsxs("td",{className:"py-2.5 px-2 align-top border-r border-slate-300",children:[s.jsx("div",{className:"font-bold text-slate-800 text-[13px]",children:je}),s.jsx("div",{className:"text-slate-600",children:Ne}),I!=="-"&&s.jsx("div",{className:"text-slate-500 font-mono mt-0.5 text-[11px]",children:I}),Y.notes&&s.jsxs("div",{className:"text-[10px] text-red-500 mt-0.5",children:["* ",Y.notes]})]}),s.jsx("td",{className:"py-2.5 px-2 text-center align-top font-mono text-slate-900 border-r border-slate-300 font-bold text-[13px]",children:X}),z?s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"py-2.5 px-2 text-right align-top font-mono text-slate-700 border-r border-slate-300 text-[13px]",children:nl(Z)}),s.jsx("td",{className:"py-2.5 pr-2 text-right align-top font-mono font-bold text-slate-900 text-[13px]",children:nl(K)})]}):s.jsx("td",{className:"py-2.5 px-2 text-center align-top text-slate-400",children:"-"})]},v)})]},y.id)})]})}),s.jsxs("div",{className:"mt-6 break-inside-avoid page-break-inside-avoid",children:[s.jsxs("div",{className:"flex items-start border-t-2 border-slate-800 pt-4 gap-6",children:[s.jsxs("div",{className:"flex-1",children:[z&&s.jsxs("div",{className:"bg-slate-100 p-2 rounded mb-3 text-center border border-slate-200",children:[s.jsx("span",{className:"text-[10px] text-slate-500 block uppercase tracking-wider mb-1",children:""}),s.jsx("span",{className:"font-bold text-slate-800 text-sm",children:dp(x)})]}),s.jsxs("div",{className:"text-[10px] text-slate-600 space-y-1",children:[s.jsx("div",{className:"font-bold text-slate-800 text-xs",children:" / :"}),s.jsxs("ul",{className:"list-disc list-inside pl-1",children:[d.pdf?.priceValidity&&s.jsxs("li",{children:[" ",d.pdf.priceValidity]}),d.pdf?.paymentTerms&&s.jsx("li",{children:d.pdf.paymentTerms}),d.pdf?.notes?.map((y,O)=>y.trim()&&s.jsx("li",{children:y},O))]}),d.bankAccount?.isEnabled!==!1&&d.bankAccount?.accountNumber&&s.jsxs("div",{className:"mt-2 p-2 border border-slate-300 rounded bg-white inline-block min-w-[250px]",children:[s.jsx("div",{className:"font-bold text-slate-900 mb-1 border-b border-slate-200 pb-1",children:""}),s.jsxs("div",{className:"grid grid-cols-[60px_1fr] gap-1",children:[s.jsx("span",{className:"text-slate-500",children:":"}),s.jsx("span",{children:d.bankAccount.bankName}),s.jsx("span",{className:"text-slate-500",children:":"}),s.jsx("span",{children:d.bankAccount.accountName}),s.jsx("span",{className:"text-slate-500",children:":"}),s.jsx("span",{className:"font-mono font-bold text-slate-900 text-[13px]",children:d.bankAccount.accountNumber}),d.bankAccount.branch&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-slate-500",children:":"}),s.jsx("span",{children:d.bankAccount.branch})]})]})]})]})]}),z&&s.jsxs("div",{className:"w-[260px] text-sm",children:[s.jsxs("div",{className:"space-y-1 border-b border-slate-300 pb-2 mb-2",children:[s.jsxs("div",{className:"flex justify-between text-slate-600",children:[s.jsx("span",{children:""}),s.jsx("span",{className:"font-mono font-medium text-[13px]",children:nl(h)})]}),b>0&&s.jsxs("div",{className:"flex justify-between text-green-700",children:[s.jsx("span",{children:""}),s.jsxs("span",{className:"font-mono font-medium text-[13px]",children:["-",nl(b)]})]}),d.baseVatRate>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between text-slate-600 text-xs",children:[s.jsx("span",{children:""}),s.jsx("span",{className:"font-mono",children:nl(h-b)})]}),s.jsxs("div",{className:"flex justify-between text-slate-600",children:[s.jsxs("span",{children:["VAT ",d.baseVatRate,"%"]}),s.jsx("span",{className:"font-mono",children:nl(p)})]})]})]}),s.jsxs("div",{className:"flex justify-between items-center bg-slate-900 text-white p-3 rounded shadow-sm",children:[s.jsx("span",{className:"font-bold",children:""}),s.jsx("span",{className:"font-bold text-xl font-mono",children:nl(x)})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-8 mt-10",children:[s.jsxs("div",{className:"border border-slate-300 rounded-xl p-4 flex flex-col items-center justify-between min-h-[180px]",children:[s.jsx("div",{className:"text-xs font-bold text-slate-900 uppercase tracking-wide",children:" / "}),s.jsxs("div",{className:"w-full flex flex-col items-center mt-auto",children:[s.jsx("div",{className:"border-b border-slate-900 w-[160px] h-8 mb-6"}),s.jsxs("div",{className:"flex gap-1 text-slate-500 text-[11px]",children:["(",s.jsx("div",{className:"w-[140px] text-center relative top-[2px]",children:".................................................."}),")"]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-[11px] text-slate-500 mt-4",children:[s.jsx("span",{children:":"}),s.jsx("div",{className:"w-8 border-b border-slate-400 h-4"}),s.jsx("span",{children:"/"}),s.jsx("div",{className:"w-8 border-b border-slate-400 h-4"}),s.jsx("span",{children:"/"}),s.jsx("div",{className:"w-10 border-b border-slate-400 h-4"})]})]}),s.jsxs("div",{className:"border border-slate-300 rounded-xl p-4 flex flex-col items-center justify-between min-h-[180px]",children:[s.jsx("div",{className:"text-xs font-bold text-slate-900 uppercase tracking-wide",children:" / "}),s.jsxs("div",{className:"w-full flex flex-col items-center mt-auto",children:[s.jsx("div",{className:"border-b border-slate-900 w-[160px] h-8 mb-6"}),s.jsxs("div",{className:"flex gap-1 text-slate-500 text-[11px]",children:["(",s.jsx("div",{className:"w-[140px] text-center relative top-[2px]",children:".................................................."}),")"]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-[11px] text-slate-500 mt-4",children:[s.jsx("span",{children:":"}),s.jsx("div",{className:"w-8 border-b border-slate-400 h-4"}),s.jsx("span",{children:"/"}),s.jsx("div",{className:"w-8 border-b border-slate-400 h-4"}),s.jsx("span",{children:"/"}),s.jsx("div",{className:"w-10 border-b border-slate-400 h-4"})]})]})]})]})]})]})}),lg=({isOpen:c,onClose:u})=>{const d=J.useRef(null),[r,m]=J.useState("quotation"),[h,b]=J.useState(!1),p=A0.useReactToPrint({contentRef:d,documentTitle:`Marnthara_${r}_${new Date().toISOString().split("T")[0]}`,onBeforeGetContent:()=>new Promise(T=>{b(!0),setTimeout(T,300)}),onAfterPrint:()=>{b(!1)}}),x=[{id:"quotation",label:"1. ",icon:Mi},{id:"delivery",label:"2. ",icon:N0},{id:"receipt",label:"3. ",icon:gb}];return s.jsx(ra,{show:c,as:Fl.Fragment,children:s.jsxs(Si,{onClose:u,className:"relative z-50",children:[s.jsx(Ba,{as:Fl.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm"})}),s.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 sm:p-6",children:s.jsx(Ba,{as:Fl.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95 translate-y-4",enterTo:"opacity-100 scale-100 translate-y-0",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100 translate-y-0",leaveTo:"opacity-0 scale-95 translate-y-4",children:s.jsxs(wi,{className:"w-full max-w-6xl h-[90vh] bg-slate-100 rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"bg-white border-b border-slate-200 p-4 flex flex-col sm:flex-row items-center justify-between gap-4 shrink-0 z-10",children:[s.jsx("div",{className:"flex p-1 bg-slate-100 rounded-xl w-full sm:w-auto overflow-x-auto",children:x.map(T=>{const z=T.icon,C=r===T.id;return s.jsxs("button",{onClick:()=>m(T.id),className:G("flex-1 sm:flex-none flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-all whitespace-nowrap",C?"bg-white text-slate-900 shadow-sm font-semibold":"text-slate-500 hover:text-slate-700"),children:[s.jsx(z,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:T.label})]},T.id)})}),s.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[s.jsx(ie,{variant:"ghost",onClick:u,className:"flex-1 sm:flex-none",children:""}),s.jsxs(ie,{onClick:()=>p(),className:"flex-1 sm:flex-none bg-slate-900 text-white hover:bg-slate-800 shadow-lg",children:[s.jsx(vb,{className:"w-4 h-4 mr-2"})," "]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-500/10 p-4 sm:p-8 flex justify-center items-start",children:s.jsx("div",{className:G("shadow-2xl origin-top transition-all duration-300 bg-white",h?"scale-100":"scale-[0.6] sm:scale-[0.75] lg:scale-[0.85]"),children:s.jsx(ag,{ref:d,docType:r})})})]})})})]})})},sg=({isOpen:c,onClose:u})=>{const d=le(y=>y.shopConfig),r=le(y=>y.updateShopConfig),m=le(y=>y.factoryReset),{confirm:h}=oa(),b=Ke(y=>y.addToast),[p,x]=J.useState(d),[T,z]=J.useState("general"),C=()=>{r(p),b("success",""),u()},S=async()=>{await h({title:"?",description:"   ",confirmLabel:"",variant:"destructive"})&&(m(),b("success",""),u())},_=(y,O)=>{x(Q=>({...Q,[y]:O}))},k=(y,O)=>{x(Q=>({...Q,pdf:{...Q.pdf,[y]:O}}))},D=y=>{const O=y.split(`
`);x(Q=>({...Q,pdf:{...Q.pdf,notes:O}}))},L=(y,O)=>{x(Q=>({...Q,bankAccount:{...Q.bankAccount,[y]:O}}))};return s.jsxs(zt,{isOpen:c,onClose:u,title:" (Shop Settings)",children:[s.jsxs("div",{className:"flex p-1 bg-slate-100 rounded-xl mb-6",children:[s.jsxs("button",{onClick:()=>z("general"),className:G("flex-1 py-2 text-sm font-medium rounded-lg transition-all flex items-center justify-center gap-2",T==="general"?"bg-white shadow-sm text-slate-900":"text-slate-500 hover:text-slate-700"),children:[s.jsx(yb,{className:"w-4 h-4"})," "]}),s.jsxs("button",{onClick:()=>z("payment"),className:G("flex-1 py-2 text-sm font-medium rounded-lg transition-all flex items-center justify-center gap-2",T==="payment"?"bg-white shadow-sm text-slate-900":"text-slate-500 hover:text-slate-700"),children:[s.jsx(jb,{className:"w-4 h-4"})," "]})]}),s.jsx("div",{className:"space-y-4 pb-safe-area",children:T==="general"?s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(ee,{label:"",value:p.name,onChange:y=>_("name",y.target.value)}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ee,{label:"",value:p.phone,onChange:y=>_("phone",y.target.value)}),s.jsx(ee,{label:"",value:p.taxId,onChange:y=>_("taxId",y.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-slate-700 mb-1 block",children:""}),s.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl text-[16px] focus:outline-none focus:ring-2 focus:ring-slate-900 resize-none h-20",value:p.address,onChange:y=>_("address",y.target.value)})]}),s.jsx(ee,{label:"Logo URL",placeholder:"https://...",value:p.logoUrl,onChange:y=>_("logoUrl",y.target.value)})]}),s.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Mi,{className:"w-5 h-5 text-blue-600"}),s.jsx("h3",{className:"font-bold text-slate-900",children:" (Document Footer)"})]}),s.jsxs("div",{className:"space-y-4 bg-slate-50 p-4 rounded-2xl border border-slate-200",children:[s.jsx(ee,{label:"1. ",placeholder:" 30 ",value:p.pdf?.priceValidity||"",onChange:y=>k("priceValidity",y.target.value)}),s.jsx(ee,{label:"2. ",placeholder:"  50%...",value:p.pdf?.paymentTerms||"",onChange:y=>k("paymentTerms",y.target.value)}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-slate-700 mb-1 block",children:"3.  ()"}),s.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl text-[16px] focus:outline-none focus:ring-2 focus:ring-slate-900 resize-none h-24",placeholder:" ...",value:p.pdf?.notes?.join(`
`)||"",onChange:y=>D(y.target.value)})]})]})]})]}):s.jsxs("div",{className:"space-y-5 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-4 rounded-xl border border-slate-200",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-bold text-slate-900",children:""}),s.jsx("span",{className:"text-xs text-slate-500",children:""})]}),s.jsx(jt,{checked:p.bankAccount?.isEnabled!==!1,onCheckedChange:y=>L("isEnabled",y)})]}),s.jsxs("div",{className:G("space-y-4 transition-opacity",p.bankAccount?.isEnabled===!1&&"opacity-50 pointer-events-none"),children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ee,{label:"",placeholder:" , SCB",value:p.bankAccount?.bankName||"",onChange:y=>L("bankName",y.target.value)}),s.jsx(ee,{label:" ()",value:p.bankAccount?.branch||"",onChange:y=>L("branch",y.target.value)})]}),s.jsx(ee,{label:"",placeholder:"...",value:p.bankAccount?.accountName||"",onChange:y=>L("accountName",y.target.value)}),s.jsx(ee,{label:"",placeholder:"XXX-X-XXXXX-X",className:"font-mono",value:p.bankAccount?.accountNumber||"",onChange:y=>L("accountNumber",y.target.value)})]})]})}),s.jsxs("div",{className:"flex justify-between mt-4 pt-4 border-t border-slate-100",children:[s.jsxs(ie,{variant:"ghost",onClick:S,className:"text-red-500 hover:bg-red-50 hover:text-red-600",children:[s.jsx(Ua,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ie,{variant:"ghost",onClick:u,children:""}),s.jsxs(ie,{onClick:C,className:"bg-slate-900 text-white w-32",children:[s.jsx(Di,{className:"w-4 h-4 mr-2"})," "]})]})]})]})},ng=({isOpen:c,onClose:u})=>{const[d,r]=J.useState(ne.CURTAIN_MAIN),{removeFavorite:m,updateFavorite:h,updateUnifiedCost:b,addFavorite:p,rooms:x}=le(),T=ho(d),{confirm:z}=oa(),[C,S]=J.useState(null),[_,k]=J.useState({}),[D,L]=J.useState(""),y=[{id:ne.CURTAIN_MAIN,label:"",icon:j0},{id:ne.CURTAIN_SHEER,label:"",icon:ji},{id:ne.WALLPAPER,label:"",icon:Ti},{id:ne.WOODEN_BLIND,label:"",icon:il},{id:ne.ROLLER_BLIND,label:"",icon:il},{id:ne.VERTICAL_BLIND,label:"",icon:il},{id:ne.ALUMINUM_BLIND,label:"",icon:il},{id:ne.PARTITION,label:"",icon:Js},{id:ne.PLEATED_SCREEN,label:"",icon:Js}],O=async()=>{if(!await z({title:"?",description:` "${y.find(K=>K.id===d)?.label}"  `,confirmLabel:"",variant:"default"}))return;let Z=0;x.forEach(K=>{K.items.forEach(te=>{let je=!1,Ne="",I=0,Ve="";d===ne.CURTAIN_MAIN&&te.type===V.CURTAIN?(je=!0,Ne=te.code,I=te.price_per_m_raw):d===ne.CURTAIN_SHEER&&te.type===V.CURTAIN?te.sheer_code&&(je=!0,Ne=te.sheer_code,I=te.sheer_price_per_m,Ve=": "):d===ne.WALLPAPER&&te.type===V.WALLPAPER?(je=!0,Ne=te.wallpaper_code,I=te.price_per_roll):te.type===d&&(je=!0,Ne=te.code,I=te.price_sqyd||te.price_per_item),je&&Ne&&(T.find(U=>U.code===Ne)||(p(d,{code:Ne,default_price_per_m:F(I),note:Ve||""}),Z++))})}),Z>0?alert(`  ${Z} !`):alert("  ")},Q=X=>{S(X.id),k({...X,cost_per_yard:X.cost_per_yard})},H=X=>{h(d,X,{code:_.code,default_price_per_m:F(_.default_price_per_m),note:_.note}),_.code&&_.cost_per_yard!==void 0&&b(_.code,F(_.cost_per_yard)),S(null)},v=async X=>{await z({title:"?",description:"?",confirmLabel:"",variant:"destructive"})&&(m(d,X),S(null))},Y=T.filter(X=>X.code.toLowerCase().includes(D.toLowerCase())||X.note&&X.note.toLowerCase().includes(D.toLowerCase())||!1);return s.jsx(zt,{isOpen:c,onClose:u,title:" &  (Price List)",maxWidth:"2xl",children:s.jsxs("div",{className:"flex flex-col h-[70vh]",children:[s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"...",value:D,onChange:X=>L(X.target.value),className:"w-full pl-9 pr-4 py-2 bg-muted/30 rounded-lg border border-transparent focus:bg-background focus:border-primary outline-none transition-colors"})]}),s.jsxs(ie,{variant:"outline",onClick:O,title:"",children:[s.jsx(wo,{className:"w-4 h-4 mr-2"})," "]})]}),s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 border-b border-border mb-2 no-scrollbar",children:y.map(X=>{const Z=X.icon;return s.jsxs("button",{onClick:()=>r(X.id),className:G("px-3 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors flex items-center gap-2",d===X.id?"bg-primary text-primary-foreground shadow-sm":"bg-muted text-muted-foreground hover:bg-muted/80"),children:[s.jsx(Z,{className:"w-4 h-4"}),X.label]},X.id)})}),s.jsxs("div",{className:"grid grid-cols-12 gap-2 px-3 py-2 text-xs font-bold text-muted-foreground uppercase tracking-wider bg-muted/20 rounded-t-lg",children:[s.jsx("div",{className:"col-span-4",children:""}),s.jsx("div",{className:"col-span-3 text-right text-amber-600",children:""}),s.jsx("div",{className:"col-span-3 text-right text-emerald-600",children:""}),s.jsx("div",{className:"col-span-2 text-center",children:""})]}),s.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1 border border-t-0 border-border rounded-b-lg p-1 bg-background",children:Y.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-muted-foreground opacity-50",children:[s.jsx(yi,{className:"w-10 h-10 mb-2"}),s.jsx("span",{children:""})]}):Y.map(X=>s.jsx("div",{className:G("p-3 rounded-lg border transition-all",C===X.id?"bg-card border-primary shadow-md ring-1 ring-primary/20":"bg-card border-border hover:border-primary/30"),children:C===X.id?s.jsxs("div",{className:"space-y-3 animate-fade-in",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(ee,{label:"",value:_.code,onChange:Z=>k({..._,code:Z.target.value})}),s.jsx(ee,{label:"Note",value:_.note||"",onChange:Z=>k({..._,note:Z.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 p-3 bg-muted/30 rounded-lg",children:[s.jsx(ee,{label:" (Cost)",value:_.cost_per_yard,onChange:Z=>k({..._,cost_per_yard:F(Z.target.value)}),className:"text-amber-600 font-mono",type:"number"}),s.jsx(ee,{label:" (Price)",value:_.default_price_per_m,onChange:Z=>k({..._,default_price_per_m:F(Z.target.value)}),className:"text-emerald-600 font-bold",type:"number"})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-border/50",children:[s.jsxs(ie,{variant:"ghost",size:"sm",onClick:()=>v(X.id),className:"text-red-500 hover:text-red-600 hover:bg-red-50",children:[s.jsx(Fs,{className:"w-4 h-4 mr-1"})," "]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ie,{variant:"ghost",size:"sm",onClick:()=>S(null),children:[s.jsx(Ws,{className:"w-4 h-4 mr-1"})," "]}),s.jsxs(ie,{size:"sm",onClick:()=>H(X.id),children:[s.jsx(Di,{className:"w-4 h-4 mr-1"})," "]})]})]})]}):s.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[s.jsxs("div",{className:"col-span-4",children:[s.jsx("div",{className:"font-bold text-sm truncate",children:X.code}),s.jsx("div",{className:"text-[10px] text-muted-foreground truncate",children:X.note})]}),s.jsx("div",{className:"col-span-3 text-right font-mono text-sm text-amber-600/80",children:F(X.cost_per_yard)>0?Oe(X.cost_per_yard):"-"}),s.jsx("div",{className:"col-span-3 text-right font-bold text-sm text-emerald-600",children:Oe(X.default_price_per_m)}),s.jsx("div",{className:"col-span-2 flex justify-end",children:s.jsx("button",{onClick:()=>Q(X),className:"p-2 rounded-lg bg-muted hover:bg-primary/10 text-muted-foreground hover:text-primary transition-colors flex items-center justify-center w-8 h-8",title:" / ",children:s.jsx(d0,{className:"w-4 h-4"})})})]})},X.id))})]})})},ig=({isOpen:c,onClose:u})=>{const d=le(y=>y.discount),r=le(y=>y.setDiscount),m=le(y=>y.shopConfig),h=le(y=>y.updateShopConfig),{grandTotal:b}=Li(),{trigger:p}=ol(),[x,T]=J.useState(d.is_enabled??d.value>0),[z,C]=J.useState(d.type),[S,_]=J.useState(d.value===0?"":d.value.toString()),k=()=>{p("selection");const y=F(S);if(y>0&&b>0)if(z==="amount"){const O=y/b*100;_(O.toFixed(2))}else{const O=y*b/100;_(O.toFixed(0))}C(O=>O==="amount"?"percent":"amount")},D=()=>{p("success"),r({type:z,value:F(S),is_enabled:x}),u()},L=(()=>{const y=F(S);let O=0;x&&y>0&&(O=z==="percent"?b*y/100:y);const Q=Math.max(0,b-O),H=m.baseVatRate>0?Q*m.baseVatRate/100:0;return{discountAmt:O,afterDiscount:Q,vatAmt:H,netTotal:Q+H}})();return s.jsx(zt,{isOpen:c,onClose:u,title:" &  (Discount & Tax)",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:G("relative overflow-hidden rounded-2xl border transition-all duration-300",x?"bg-emerald-50/50 border-emerald-200 dark:bg-emerald-900/10 dark:border-emerald-500/30":"bg-muted/40 border-border"),children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:G("p-2 rounded-lg",x?"bg-emerald-100 text-emerald-600 dark:bg-emerald-500/20 dark:text-emerald-400":"bg-muted text-muted-foreground"),children:s.jsx(x0,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:G("font-semibold text-sm",x?"text-emerald-900 dark:text-emerald-100":"text-foreground"),children:""}),s.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Apply Discount"})]})]}),s.jsx(jt,{checked:x,onCheckedChange:y=>{p("light"),T(y)}})]}),s.jsxs("div",{className:G("transition-all duration-300 grid grid-cols-[1fr_auto] gap-2",x?"opacity-100 translate-y-0":"opacity-30 pointer-events-none translate-y-2"),children:[s.jsxs("div",{className:"relative",children:[s.jsx(ee,{type:"number",inputMode:"decimal",placeholder:"0.00",value:S,onChange:y=>_(y.target.value),className:"pr-12 text-lg font-mono font-bold text-emerald-600 dark:text-emerald-400 border-emerald-100 focus:border-emerald-500 dark:border-white/10 dark:bg-black/20"}),s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs font-bold text-emerald-500/70 pointer-events-none",children:z==="percent"?"%":"THB"})]}),s.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-4 rounded-xl bg-card border border-emerald-100 shadow-sm text-emerald-700 hover:bg-emerald-50 active:scale-95 transition-all dark:bg-emerald-950 dark:border-emerald-800 dark:text-emerald-300",children:[z==="percent"?s.jsx(Dm,{className:"w-4 h-4"}):s.jsx(Nb,{className:"w-4 h-4"}),s.jsx(_b,{className:"w-3 h-3 opacity-50"})]})]})]})}),s.jsx("div",{className:"rounded-2xl border border-border bg-card p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-50 text-blue-600 dark:bg-blue-500/20 dark:text-blue-400",children:s.jsx(Dm,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-sm text-foreground",children:" (VAT 7%)"}),s.jsx("div",{className:"text-[10px] text-muted-foreground",children:""})]})]}),s.jsx(jt,{checked:m.baseVatRate>0,onCheckedChange:y=>{p("light"),h({baseVatRate:y?7:0})}})]})}),s.jsxs("div",{className:"bg-primary text-primary-foreground/80 rounded-2xl p-5 space-y-3 shadow-xl shadow-primary/10",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:""}),s.jsx("span",{className:"font-mono text-primary-foreground",children:Oe(b)})]}),x&&L.discountAmt>0&&s.jsxs("div",{className:"flex justify-between text-sm text-emerald-400 animate-fade-in",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(yo,{className:"w-3 h-3"}),"  (",z==="percent"?`${S}%`:"",")"]}),s.jsxs("span",{className:"font-mono font-bold",children:["-",Oe(L.discountAmt)]})]}),L.vatAmt>0&&s.jsxs("div",{className:"flex justify-between text-sm text-blue-400 animate-fade-in",children:[s.jsx("span",{children:"VAT 7%"}),s.jsxs("span",{className:"font-mono font-bold",children:["+",Oe(L.vatAmt)]})]}),s.jsx("div",{className:"h-px bg-primary-foreground/10 my-2"}),s.jsxs("div",{className:"flex justify-between items-end",children:[s.jsx("span",{className:"text-primary-foreground font-medium",children:" (Net Total)"}),s.jsx("span",{className:"text-2xl font-bold text-primary-foreground tracking-tight font-mono",children:Oe(L.netTotal)})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(ie,{variant:"ghost",onClick:u,className:"h-12",children:""}),s.jsx(ie,{onClick:D,className:"h-12 bg-primary text-primary-foreground shadow-xl shadow-primary/20 hover:bg-primary/90",children:""})]})]})})},cg=({isOpen:c,onClose:u,roomId:d})=>{const r=le(y=>y.rooms.find(O=>O.id===d)),m=le(y=>y.updateRoomDefaults),h=r?.room_defaults||{},[b,p]=J.useState(String(h.width_m||"")),[x,T]=J.useState(String(h.height_m||"")),[z,C]=J.useState(String(h.default_fabric_price||"")),[S,_]=J.useState(String(h.default_wallpaper_price||"")),[k,D]=J.useState(String(h.default_blind_price||"")),L=()=>{d&&m(d,{width_m:b,height_m:x,default_fabric_price:z,default_wallpaper_price:S,default_blind_price:k}),u()};return s.jsx(zt,{isOpen:c,onClose:u,title:"",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(ee,{label:" (.)",value:b,onChange:y=>p(y.target.value)}),s.jsx(ee,{label:" (.)",value:x,onChange:y=>T(y.target.value)}),s.jsxs("div",{className:"pt-2 border-t border-slate-100",children:[s.jsx("h4",{className:"text-sm font-medium text-slate-900 mb-2",children:" (Defaults)"}),s.jsx(ee,{label:" (/.)",value:z,onChange:y=>C(y.target.value)}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[s.jsx(ee,{label:" (/)",value:S,onChange:y=>_(y.target.value)}),s.jsx(ee,{label:" (/..)",value:k,onChange:y=>D(y.target.value)})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(ie,{variant:"ghost",onClick:u,children:""}),s.jsxs(ie,{onClick:L,className:"gap-2",children:[s.jsx(Di,{className:"w-4"})," "]})]})]})})},rg=({isOpen:c,onClose:u})=>{const{resetProject:d,factoryReset:r,importFavorites:m,importSecrets:h}=le(),b=Ke(v=>v.addToast),{confirm:p}=oa(),[x,T]=J.useState(""),[z,C]=J.useState(!1),[S,_]=J.useState(""),[k,D]=J.useState("favorites"),L=()=>{try{const v=le.getState(),Y={customer:v.customer,rooms:v.rooms,shopConfig:v.shopConfig,discount:v.discount,favorites:v.favorites,production:{laborCosts:v.laborCosts,accessoryCosts:v.accessoryCosts,fabricCosts:v.fabricCosts},version:"1.0.0",exportDate:new Date().toISOString()},X=new Blob([JSON.stringify(Y,null,2)],{type:"application/json"}),Z=URL.createObjectURL(X),K=document.createElement("a");K.href=Z,K.download=`mtr-backup-${Vb(new Date,"yyyy-MM-dd-HHmm")}.json`,document.body.appendChild(K),K.click(),document.body.removeChild(K),b("success","Backup ")}catch(v){console.error(v),b("error"," Backup")}},y=v=>{const Y=v.target.files?.[0];if(!Y)return;const X=new FileReader;X.onload=Z=>{try{const K=JSON.parse(Z.target?.result);le.setState(K),K.production&&le.setState(te=>({...te,laborCosts:K.production.laborCosts||te.laborCosts,accessoryCosts:K.production.accessoryCosts||te.accessoryCosts,fabricCosts:K.production.fabricCosts||te.fabricCosts})),b("success",""),u()}catch{b("error"," ")}},X.readAsText(Y)},O=()=>{if(!S.trim()){b("warning"," JSON");return}try{let v=!1;k==="favorites"?(v=m(S),v&&(b("success",""),_(""))):(v=h(S),v&&(b("success",""),_(""))),v?u():b("error"," JSON ")}catch(v){console.error("Import error:",v),b("error","")}},Q=async()=>{await p({title:"?",description:'  ""  "" ',confirmLabel:"",variant:"default"})&&(d(),b("success",""),u())},H=async()=>{if(x!=="RESET")return;await p({title:" (Factory Reset)?",description:" , ,  ! ?",confirmLabel:"",variant:"destructive"})&&(r(),b("success",""),u())};return s.jsx(zt,{isOpen:c,onClose:u,title:" (Data Management)",maxWidth:"lg",children:s.jsxs("div",{className:"space-y-6 pb-safe-area",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(Sb,{className:"w-4 h-4"})," "]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs(ie,{variant:"outline",onClick:L,className:"h-auto py-4 flex flex-col gap-2 border-slate-200 hover:bg-indigo-50 hover:border-indigo-200",children:[s.jsx("div",{className:"p-2 bg-indigo-100 text-indigo-600 rounded-full",children:s.jsx(wo,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-bold text-slate-700",children:"Backup"}),s.jsx("div",{className:"text-xs text-slate-400 font-normal",children:" .json"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsxs(ie,{variant:"outline",onClick:()=>document.getElementById("data-importer")?.click(),className:"w-full h-full py-4 flex flex-col gap-2 border-slate-200 hover:bg-emerald-50 hover:border-emerald-200",children:[s.jsx("div",{className:"p-2 bg-emerald-100 text-emerald-600 rounded-full",children:s.jsx(vi,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-bold text-slate-700",children:"Restore"}),s.jsx("div",{className:"text-xs text-slate-400 font-normal",children:" .json"})]})]}),s.jsx("input",{type:"file",id:"data-importer",className:"hidden",accept:".json,application/json",onChange:y})]})]})]}),s.jsx("div",{className:"h-px bg-slate-100 my-2"}),s.jsxs("div",{className:"bg-amber-50/50 border border-amber-100 rounded-2xl p-5 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vi,{className:"w-5 h-5 text-amber-600"}),s.jsx("h4",{className:"font-bold text-slate-800",children:" (JSON)"})]}),s.jsxs("div",{className:"flex border-b border-amber-100",children:[s.jsx("button",{className:G("flex-1 py-2 text-sm font-medium border-b-2 transition-colors",k==="favorites"?"border-amber-500 text-amber-700":"border-transparent text-slate-500 hover:text-slate-700"),onClick:()=>D("favorites"),children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(cl,{className:"w-4 h-4"})," (Favorites)"]})}),s.jsx("button",{className:G("flex-1 py-2 text-sm font-medium border-b-2 transition-colors",k==="cost"?"border-amber-500 text-amber-700":"border-transparent text-slate-500 hover:text-slate-700"),onClick:()=>D("cost"),children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(y0,{className:"w-4 h-4"})," (Cost)"]})})]}),s.jsx("p",{className:"text-sm text-slate-600",children:k==="favorites"?" JSON  (Favorites) ":" JSON  (Labor, Accessory, Fabric)"}),s.jsx("textarea",{className:`w-full h-32 p-3 text-sm font-mono border border-amber-200 rounded-lg 
                       focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent
                       bg-white/50 resize-none`,placeholder:` JSON ${k==="favorites"?"":""} ...`,value:S,onChange:v=>_(v.target.value)}),s.jsxs(ie,{onClick:O,className:`w-full bg-amber-600 hover:bg-amber-700 text-white 
                     shadow-lg shadow-amber-500/20`,disabled:!S.trim(),children:[s.jsx(vi,{className:"w-4 h-4 mr-2"})," ",k==="favorites"?"":""]})]}),s.jsx("div",{className:"h-px bg-slate-100 my-2"}),s.jsx("div",{className:"bg-blue-50/50 border border-blue-100 rounded-2xl p-5 space-y-3",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 bg-white rounded-xl shadow-sm border border-blue-100",children:s.jsx(wb,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-bold text-slate-800",children:" (New Project)"}),s.jsxs("p",{className:"text-sm text-slate-500 mt-1 leading-relaxed",children:[" ",s.jsx("br",{}),s.jsx("span",{className:"text-blue-600 font-medium text-xs bg-blue-100 px-1.5 py-0.5 rounded",children:""})," "]}),s.jsx(ie,{onClick:Q,className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white shadow-lg shadow-blue-500/20 w-full sm:w-auto",children:""})]})]})}),s.jsx("div",{className:"pt-4",children:z?s.jsxs("div",{className:"border border-red-200 bg-red-50/50 rounded-2xl p-5 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 text-red-700 font-bold",children:[s.jsx(Fs,{className:"w-5 h-5"})," (Danger Zone)"]}),s.jsxs("p",{className:"text-sm text-slate-600 mb-4",children:[" ",s.jsx("strong",{children:'"Factory Reset"'}),"   ()"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:' "RESET" '}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:x,onChange:v=>T(v.target.value),placeholder:"RESET",className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 font-mono uppercase"}),s.jsxs(ie,{disabled:x!=="RESET",variant:"destructive",onClick:H,className:"whitespace-nowrap",children:[s.jsx(_o,{className:"w-4 h-4 mr-2"})," "]})]})]})]}):s.jsxs("button",{onClick:()=>C(!0),className:"w-full py-3 text-xs font-medium text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all border border-dashed border-slate-200 hover:border-red-200 flex items-center justify-center gap-2",children:[s.jsx(Ua,{className:"w-3 h-3"})," ()"]})})]})})},og=c=>{const{width:u=0,height:d=0}=c,h=u>0&&d>0?Math.min(80/u,80/d):1,b=u*h||50,p=d*h||50,x=(100-b)/2,T=(90-p)/2;return{x,y:T,w:b,h:p}},ug=(c,u)=>{const d=c.style==="";let r="";if(d){const b=u.h/4;for(let p=0;p<4;p++)r+=`<rect x="${u.x}" y="${u.y+p*b}" width="${u.w}" height="${b-1}" fill="#e2e8f0" stroke="#94a3b8" stroke-width="0.5" />`}else{r=`<rect x="${u.x}" y="${u.y}" width="${u.w}" height="${u.h}" fill="#f1f5f9" stroke="#cbd5e1" rx="2" />`;for(let h=1;h<4;h++)r+=`<path d="M${u.x+u.w/4*h} ${u.y} L${u.x+u.w/4*h} ${u.y+u.h}" stroke="#e2e8f0" stroke-width="1" />`}return`<rect x="${u.x-2}" y="${u.y-2}" width="${u.w+4}" height="2" fill="#64748b" />`+r},dg=(c,u)=>{const d=`<pattern id="p-${c.wallpaper_code}" width="4" height="4" patternUnits="userSpaceOnUse">
      <path d="M0 4L4 0M-1 1L1 -1M3 5L5 3" stroke="#cbd5e1" stroke-width="0.5"/>
  </pattern>`,r=`<rect x="${u.x}" y="${u.y}" width="${u.w}" height="${u.h}" fill="url(#p-${c.wallpaper_code})" stroke="#94a3b8" />`;return`<defs>${d}</defs>${r}`},fg=(c,u)=>{const r=u.h/8;let m="";for(let b=0;b<8;b++)m+=`<line x1="${u.x}" y1="${u.y+b*r}" x2="${u.x+u.w}" y2="${u.y+b*r}" stroke="#cbd5e1" stroke-width="1" />`;return`<rect x="${u.x}" y="${u.y}" width="${u.w}" height="${u.h}" fill="none" stroke="#94a3b8" stroke-width="1" />`+m},mg=c=>{if(c.type===V.REMOVAL||c.is_suspended)return'<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="20" fill="#f1f5f9"/><path d="M40 60 L60 40 M40 40 L60 60" stroke="#cbd5e1" stroke-width="2"/></svg>';let u=0,d=0;"width_m"in c&&"height_m"in c?(u=F(c.width_m),d=F(c.height_m)):c.type===V.WALLPAPER&&(u=3,d=2.6);const r=og({width:u,height:d});let m="";return c.type===V.CURTAIN?m=ug(c,r):c.type===V.WALLPAPER?m=dg(c,r):m=fg(c,r),`<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">${m}</svg>`},hg=Fl.forwardRef((c,u)=>{const{shopConfig:d,rooms:r}=le(b=>b),m=new Date().toLocaleDateString("th-TH",{dateStyle:"long"}),h=b=>({__html:mg(b)});return s.jsxs("div",{ref:u,className:"w-[210mm] min-h-[297mm] bg-white p-[15mm] mx-auto text-slate-900 relative flex flex-col font-sans",children:[s.jsxs("div",{className:"flex justify-between items-end border-b-2 border-slate-800 pb-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:d.name||"Marnthara"}),s.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[": ",m]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xl font-bold",children:"LOOKBOOK"}),s.jsx("div",{className:"text-sm text-slate-500",children:""})]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-6 content-start",children:r.map(b=>b.items.length===0?null:b.items.map((p,x)=>{if(p.is_suspended)return null;let T=ka[p.type]?.name||"",z="";const C=[];if(p.type===V.CURTAIN){const S=p;T=`${S.style||""} (${S.fabric_variant})`,S.code&&C.push(`: ${S.code}`),S.sheer_code&&C.push(`: ${S.sheer_code}`),S.bracket_color&&C.push(`: ${S.bracket_color}`),z=`${Pe(S.width_m)} x ${Pe(S.height_m)} .`}else if(p.type===V.WALLPAPER){const S=p;T="",S.wallpaper_code&&C.push(`: ${S.wallpaper_code}`),z=`${S.widths.length}  ( ${Pe(S.height_m)} .)`}else if([V.WOODEN_BLIND,V.ROLLER_BLIND,V.VERTICAL_BLIND,V.ALUMINUM_BLIND,V.PARTITION,V.PLEATED_SCREEN].includes(p.type)){const S=p;S.code&&C.push(`: ${S.code}`),z=`${Pe(S.width_m)} x ${Pe(S.height_m)} .`,p.type===V.WOODEN_BLIND?T=`${S.fabric_variant||""}`:p.type===V.ROLLER_BLIND?T=` (${S.fabric_variant||""})`:p.type===V.PARTITION?T=` (${S.opening_style||""})`:p.type===V.PLEATED_SCREEN&&(T=` (${S.opening_style||""})`),S.adjustment_side&&C.push(S.adjustment_side)}else p.type===V.REMOVAL&&(T=p.description||"");return s.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden flex bg-white break-inside-avoid",children:[s.jsx("div",{className:"w-1/2 bg-slate-50 flex items-center justify-center p-2 min-h-[140px]",dangerouslySetInnerHTML:h(p)}),s.jsxs("div",{className:"w-1/2 p-3 flex flex-col relative",children:[s.jsxs("div",{className:"inline-block self-start px-2 py-0.5 bg-slate-100 text-[10px] font-bold text-slate-500 rounded mb-1",children:[" ",b.name]}),s.jsx("div",{className:"font-bold text-sm text-slate-900 leading-tight mb-1",children:T}),s.jsx("div",{className:"text-sm font-mono font-bold text-slate-800 border-b border-dashed border-slate-300 pb-1 mb-2",children:z}),s.jsx("ul",{className:"text-xs text-slate-600 space-y-1",children:C.map((S,_)=>s.jsxs("li",{className:"truncate",children:[" ",S]},_))}),p.notes&&s.jsxs("div",{className:"mt-auto pt-1 text-[10px] text-orange-600 line-clamp-2",children:[" ",p.notes]})]})]},`${b.id}-${p.id}-${x}`)}))}),s.jsx("div",{className:"mt-auto pt-8 text-center text-[10px] text-slate-400",children:" Marnthara QOL   1/1"})]})}),xg=({isOpen:c,onClose:u})=>{const d=le(p=>p.rooms),r=J.useRef(null),[m,h]=J.useState(!1),b=A0.useReactToPrint({contentRef:r,documentTitle:`QC_Lookbook_${new Date().toISOString().split("T")[0]}`,onBeforeGetContent:()=>(h(!0),Promise.resolve()),onAfterPrint:()=>h(!1)});return s.jsxs(zt,{isOpen:c,onClose:u,title:"Lookbook /  (Preview)",maxWidth:"2xl",children:[s.jsx("div",{className:"space-y-6 pb-safe-area",children:d.map(p=>s.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4 border border-slate-100",children:[s.jsxs("h3",{className:"font-bold text-slate-800 mb-3 flex items-center gap-2",children:[" ",p.name]}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:p.items.filter(x=>!x.is_suspended).map(x=>s.jsxs("div",{className:"bg-white p-3 rounded-xl border border-slate-200 shadow-sm flex flex-col",children:[s.jsx("div",{className:"aspect-[4/3] bg-slate-50 rounded-lg mb-2 flex items-center justify-center overflow-hidden relative",children:s.jsx("div",{className:"text-xs text-slate-400",children:"Preview"})}),s.jsxs("div",{className:"mt-auto",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("span",{className:"font-semibold text-sm text-slate-700",children:ka[x.type]?.name}),"width_m"in x&&s.jsxs("div",{className:"bg-slate-900 text-white text-xs font-mono px-1.5 py-0.5 rounded",children:[Pe(x.width_m),"  ",Pe(x.height_m)]})]}),s.jsxs("div",{className:"text-xs text-slate-600 space-y-1 mt-auto",children:["fabric_variant"in x&&s.jsxs("div",{children:[" /: ",x.fabric_variant]}),"code"in x&&x.code&&s.jsxs("div",{children:[" : ",s.jsx("span",{className:"font-mono font-bold",children:x.code})]}),"adjustment_side"in x&&s.jsxs("div",{children:[" : ",x.adjustment_side]}),x.notes&&s.jsxs("div",{className:"text-amber-600 mt-1",children:[" ",x.notes]})]})]})]},x.id))})]},p.id))}),s.jsxs("div",{className:"flex justify-end pt-4 border-t border-slate-100",children:[s.jsx(ie,{onClick:u,children:""}),s.jsx(ie,{onClick:()=>b(),disabled:m,className:"ml-2 bg-slate-900 text-white",children:m?"...":" Lookbook"})]}),s.jsx("div",{style:{display:"none"},children:s.jsx("div",{ref:r,children:s.jsx(hg,{})})})]})},bg=({isOpen:c,onClose:u})=>{const d=le(x=>x.rooms),{openModal:r}=le(),{finalTotal:m}=Li(),h=d.map(x=>({...x,items:x.items.filter(T=>!T.is_suspended),total:x.items.filter(T=>!T.is_suspended).reduce((T,z)=>T+et.calculatePrice(z),0)})).filter(x=>x.items.length>0),b=h.reduce((x,T)=>x+T.items.length,0),p=x=>x.type==="curtain"&&"width_m"in x?`${Pe(x.width_m)}${Pe(x.height_m)} | ${x.style}`:"width_m"in x&&"height_m"in x?`${Pe(x.width_m)}${Pe(x.height_m)}`:"";return s.jsxs(zt,{isOpen:c,onClose:u,title:" (Project Overview)",maxWidth:"md",children:[s.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl p-6 mb-6 shadow-lg relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full blur-2xl"}),s.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[s.jsx("span",{className:"text-slate-300 text-sm font-medium mb-1",children:""}),s.jsx("span",{className:"text-4xl font-bold font-mono tracking-tight",children:Oe(m)}),s.jsxs("div",{className:"flex gap-4 mt-4 text-xs text-slate-400",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ro,{className:"w-3 h-3"})," ",h.length," "]}),s.jsx("div",{className:"w-px h-3 bg-slate-700"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(yi,{className:"w-3 h-3"})," ",b," "]})]})]})]}),s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"font-bold text-slate-700",children:[" (",b,")"]}),s.jsxs(ie,{size:"sm",onClick:()=>r("costDashboard"),className:"bg-slate-900 text-white shadow-lg shadow-indigo-500/20",children:[s.jsx(Co,{className:"w-4 h-4 mr-2"})," & "]})]}),s.jsxs("div",{className:"space-y-4 pb-safe-area",children:[s.jsxs("div",{className:"bg-muted/30 p-4 rounded-2xl border border-border flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wider",children:""}),s.jsx("div",{className:"text-3xl font-bold text-foreground font-mono tracking-tight mt-1",children:Oe(m)})]}),s.jsxs("div",{className:"text-right text-xs text-muted-foreground",children:[s.jsxs("div",{children:[b," "]}),s.jsxs("div",{children:[h.length," "]})]})]}),h.map(x=>s.jsxs("div",{className:"border border-border rounded-xl overflow-hidden",children:[s.jsxs("div",{className:"bg-muted/50 px-4 py-2 border-b border-border flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ro,{className:"w-4 h-4 text-slate-400"}),s.jsx("span",{className:"font-bold text-foreground",children:x.name})]}),s.jsx("span",{className:"font-mono font-bold text-muted-foreground text-sm",children:Oe(x.total)})]}),s.jsx("div",{className:"divide-y divide-slate-100 dark:divide-border/50 bg-white dark:bg-card",children:x.items.map((T,z)=>s.jsxs("div",{className:"px-4 py-2 flex justify-between items-baseline hover:bg-muted/30 transition-colors",children:[s.jsx("div",{className:"flex-1 min-w-0 pr-4",children:s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsxs("span",{className:"text-[10px] font-bold text-muted-foreground min-w-[20px]",children:["#",z+1]}),s.jsx("span",{className:"text-sm font-medium text-foreground truncate",children:ka[T.type]?.name}),s.jsxs("span",{className:"text-xs text-muted-foreground truncate font-mono",children:["(",p(T),")"]})]})}),s.jsx("div",{className:"text-sm text-muted-foreground font-mono shrink-0",children:Oe(et.calculatePrice(T))})]},T.id))})]},x.id)),h.length===0&&s.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:""})]}),s.jsx("div",{className:"flex justify-end pt-4 border-t border-slate-100",children:s.jsx(ie,{onClick:u,className:"w-full sm:w-auto min-w-[120px]",children:""})})]})},pg={document:{light:"bg-primary/5 text-primary border-primary/10 hover:bg-primary/10 hover:border-primary/20 shadow-sm",dark:"bg-primary/10 text-primary-foreground border-primary/20 hover:bg-primary/20",iconLight:"bg-primary/10 text-primary",iconDark:"bg-primary/20 text-primary-foreground"},creative:{light:"bg-secondary text-secondary-foreground border-border hover:bg-secondary/80 shadow-sm",dark:"bg-secondary/50 text-secondary-foreground border-border hover:bg-secondary/70",iconLight:"bg-background text-foreground",iconDark:"bg-background text-foreground"},system:{light:"bg-muted text-foreground border-border hover:bg-muted/80",dark:"bg-muted/50 text-muted-foreground border-border hover:bg-muted/70",iconLight:"bg-background text-muted-foreground",iconDark:"bg-background text-muted-foreground"}},gg=({isOpen:c,onClose:u,onOpenPdf:d,onOpenLookbook:r,onOpenCustomer:m,onOpenShopSettings:h,onOpenDiscount:b,onOpenData:p,onOpenFavorites:x,onOpenProductionSettings:T,onOpenCostDashboard:z})=>{const{theme:C,toggleTheme:S}=w0(),{trigger:_}=ol(),k=[{title:" & ",items:[{icon:Mi,label:" (PDF)",description:" / ",onClick:d,theme:"document"},{icon:Eb,label:"Lookbook",description:"",onClick:r,theme:"creative"}]},{title:"",items:[{icon:Mb,label:"",description:"  ",onClick:m,theme:"system"},{icon:Db,label:"",description:"",onClick:x,theme:"system"},{icon:zb,label:" (Backup)",description:"Export / Import ",onClick:p,theme:"system"}]},{title:"",items:[{icon:Ob,label:"",description:"  ",onClick:h,theme:"system"},{icon:h0,label:" (Admin)",description:"  ",onClick:T,theme:"system"},{icon:Co,label:"Cost Dashboard",description:"",onClick:z,theme:"system"},{icon:ca,label:" & VAT",description:"",onClick:b,theme:"system"}]}],D=({icon:L,label:y,description:O,onClick:Q,themeConfig:H,currentTheme:v})=>{const Y=pg[H],X=v==="dark"?Y.dark:Y.light,Z=v==="dark"?Y.iconDark:Y.iconLight;return s.jsxs("button",{onClick:()=>{_("selection"),Q()},className:G("group w-full flex items-center gap-4 p-3 rounded-2xl border transition-all duration-200 active:scale-[0.98] text-left",X),children:[s.jsx("div",{className:G("w-10 h-10 rounded-xl flex items-center justify-center shrink-0 transition-colors",Z),children:s.jsx(L,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-semibold text-sm",children:y}),s.jsx("div",{className:"text-xs opacity-70 truncate",children:O})]}),s.jsx(r0,{className:"w-4 h-4 opacity-30 group-hover:opacity-100 transition-opacity"})]})};return s.jsx(zt,{isOpen:c,onClose:u,title:" (Main Menu)",children:s.jsxs("div",{className:"space-y-6 pb-safe-area",children:[s.jsx("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-violet-600 to-indigo-600 p-0.5 shadow-lg",children:s.jsxs("button",{onClick:()=>{_("medium"),S()},className:"relative w-full flex items-center justify-between bg-black/20 backdrop-blur-xl p-4 rounded-[14px] text-white hover:bg-black/30 transition-all",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(Cb,{className:"w-5 h-5 text-yellow-300"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-bold text-sm",children:"Appearance"}),s.jsx("div",{className:"text-xs text-white/70",children:C==="dark"?"Dark Mode (Active)":"Light Mode (Active)"})]})]}),s.jsx("div",{className:G("w-10 h-10 rounded-full flex items-center justify-center transition-all duration-500",C==="dark"?"bg-slate-800 text-slate-200 rotate-0":"bg-white text-amber-500 rotate-180"),children:C==="dark"?s.jsx(Ab,{className:"w-4 h-4",strokeWidth:2.5}):s.jsx(Tb,{className:"w-4 h-4",strokeWidth:2.5,fill:"currentColor"})})]})}),s.jsx("div",{className:"space-y-6",children:k.map(L=>s.jsxs("div",{className:"space-y-3 animate-fade-in",children:[s.jsx("h3",{className:"text-[11px] font-bold uppercase tracking-widest text-muted-foreground px-2",children:L.title}),s.jsx("div",{className:"grid gap-3",children:L.items.map(y=>s.jsx(D,{icon:y.icon,label:y.label,description:y.description,onClick:y.onClick,themeConfig:y.theme,currentTheme:C},y.label))})]},L.title))}),s.jsx("div",{className:"text-center pt-4",children:s.jsx("p",{className:"text-[10px] text-muted-foreground font-mono",children:"Marnthara Smart Quotation v6.6.4 (Stable)"})})]})})},co={rail_wave:" ()",rail_pleated:" ( M)",rail_eyelet:" ()",rail_roman:" ()",rail_rod:" ()",rail_louis:"/ ",eyelet_ring:"",tape_wave:"/",tape_pleated:"",bracket:"",finial:"",installation_cost:" (/)"},vg=({isOpen:c,onClose:u})=>{const{laborCosts:d,accessoryCosts:r,fabricCosts:m,updateLaborCost:h,updateAccessoryCost:b,updateFabricCost:p,removeAccessoryCost:x,removeFabricCost:T,exportSecrets:z,importSecrets:C}=le(),S=Ke(I=>I.addToast),[_,k]=J.useState("labor"),[D,L]=J.useState(!0),[y,O]=J.useState(""),[Q,H]=J.useState(""),[v,Y]=J.useState(""),X=[{id:"labor",label:" (Labor)",icon:v0},{id:"accessories",label:" (Acc)",icon:oo},{id:"fabric",label:" (Fabric)",icon:ji}],Z=()=>{if(!Q||!v)return;const I=F(v);_==="accessories"?(b(Q,I),S("success",` ${Q} `)):_==="fabric"&&(p(Q,I),S("success",` ${Q} `)),H(""),Y("")},K=()=>{const I=z();navigator.clipboard.writeText(I),S("success","  Clipboard ")},te=()=>{const I=window.prompt(" (Paste)  JSON :");if(!I)return;C(I)?S("success"," "):S("error"," ")},je=I=>Object.entries(I).filter(([Ve])=>Ve.toLowerCase().includes(y.toLowerCase())||co[Ve]&&co[Ve].includes(y)),Ne=I=>co[I]||I;return s.jsx(zt,{isOpen:c,onClose:u,title:" (Vault)",maxWidth:"md",children:s.jsxs("div",{className:"flex flex-col h-[75vh]",children:[s.jsxs("div",{className:"flex items-center justify-end gap-2 mb-2 pb-2 border-b border-border/50",children:[s.jsx("div",{className:"text-[10px] text-muted-foreground mr-auto pl-1",children:D?" Locked ()":" Unlocked ()"}),s.jsxs("button",{onClick:()=>L(!D),className:G("h-8 px-3 rounded-lg flex items-center gap-2 text-xs font-bold transition-all border",D?"bg-emerald-50 text-emerald-600 border-emerald-200":"bg-amber-50 text-amber-600 border-amber-200 animate-pulse"),children:[D?s.jsx(Rb,{className:"w-3.5 h-3.5"}):s.jsx(Lb,{className:"w-3.5 h-3.5"}),D?"":""]}),s.jsxs(bo,{as:"div",className:"relative",children:[s.jsx(po,{className:"h-8 w-8 rounded-lg border border-border bg-background flex items-center justify-center hover:bg-muted text-muted-foreground transition-colors",children:s.jsx(go,{className:"w-4 h-4"})}),s.jsx(ra,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:s.jsx(vo,{className:"absolute right-0 mt-2 w-48 origin-top-right divide-y divide-border rounded-xl bg-popover shadow-xl ring-1 ring-black/5 focus:outline-none z-50",children:s.jsxs("div",{className:"p-1",children:[s.jsx(Ut,{children:({active:I})=>s.jsxs("button",{onClick:K,className:G("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",I?"bg-accent text-accent-foreground":"text-foreground"),children:[s.jsx(wo,{className:"w-4 h-4"}),"  (Backup)"]})}),s.jsx(Ut,{children:({active:I})=>s.jsxs("button",{onClick:te,className:G("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",I?"bg-accent text-accent-foreground":"text-foreground"),children:[s.jsx(vi,{className:"w-4 h-4"}),"  (Restore)"]})})]})})})]})]}),s.jsx("div",{className:"flex bg-muted/40 p-1 rounded-xl mb-4 shrink-0",children:X.map(I=>s.jsxs("button",{onClick:()=>k(I.id),className:G("flex-1 px-2 py-2.5 text-xs font-bold rounded-lg flex items-center justify-center gap-2 transition-all",_===I.id?"bg-background text-foreground shadow-sm ring-1 ring-border":"text-muted-foreground hover:bg-muted/50 hover:text-foreground"),children:[s.jsx(I.icon,{className:G("w-4 h-4",_===I.id?"text-primary":"opacity-70")}),s.jsx("span",{children:I.label})]},I.id))}),_!=="labor"&&s.jsxs("div",{className:"space-y-3 mb-4 animate-fade-in shrink-0",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:`${_==="fabric"?"":""}...`,value:y,onChange:I=>O(I.target.value),className:"w-full pl-9 pr-4 h-10 bg-muted/30 rounded-xl border border-transparent focus:bg-background focus:border-primary outline-none transition-colors text-sm"})]}),!D&&s.jsxs("div",{className:"flex gap-2 p-2 bg-primary/5 rounded-xl border border-primary/10",children:[s.jsx("input",{placeholder:_==="fabric"?"...":" (Key)...",value:Q,onChange:I=>H(I.target.value),className:"flex-1 h-10 px-3 rounded-lg border border-border bg-white text-sm focus:outline-none focus:ring-2 focus:ring-primary/20"}),s.jsx("input",{placeholder:"",value:v,onChange:I=>Y(I.target.value),type:"number",className:"w-20 h-10 px-2 text-center rounded-lg border border-border bg-white text-sm focus:outline-none focus:ring-2 focus:ring-primary/20"}),s.jsx(ie,{size:"icon",onClick:Z,disabled:!Q||!v,className:"h-10 w-10 shrink-0",children:s.jsx(xo,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto pr-1 space-y-3 pb-safe-area min-h-0",children:[_==="labor"&&s.jsx("div",{className:"space-y-3",children:Object.entries(d).map(([I,Ve])=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-card border border-border rounded-xl shadow-sm",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-bold text-sm text-foreground",children:I}),s.jsxs("span",{className:"text-[10px] text-muted-foreground",children:[": ",Ve.unit]})]}),s.jsxs("div",{className:"w-32 relative",children:[s.jsx(ee,{className:G("h-10 text-right font-bold transition-all pr-8",D?"bg-muted/30 border-transparent text-muted-foreground":"bg-amber-50 border-amber-200 text-amber-700"),value:Ve.rate,disabled:D,onChange:lt=>h(I,{rate:F(lt.target.value)}),type:"number"}),s.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none",children:""})]})]},I))}),(_==="accessories"||_==="fabric")&&s.jsxs("div",{className:"space-y-2",children:[je(_==="accessories"?r:m).map(([I,Ve])=>s.jsxs("div",{className:"group relative flex items-center gap-3 p-3 bg-card border border-border rounded-xl shadow-sm hover:border-primary/30 transition-all",children:[s.jsx("div",{className:G("flex items-center justify-center w-10 h-10 rounded-full shrink-0 shadow-sm",_==="accessories"?"bg-orange-100 text-orange-600":"bg-indigo-100 text-indigo-600"),children:_==="accessories"?s.jsx(oo,{className:"w-5 h-5"}):s.jsx(ji,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-bold text-sm truncate text-foreground",children:_==="accessories"?Ne(I):I}),s.jsx("div",{className:"text-[10px] text-muted-foreground font-mono truncate",children:I})]}),s.jsxs("div",{className:"relative w-28 shrink-0",children:[s.jsx(ee,{className:G("h-10 text-right font-mono font-bold transition-all pr-8",D?"bg-transparent border-transparent shadow-none text-muted-foreground":"bg-white border-input text-amber-600 shadow-sm"),value:Ve,readOnly:D,onChange:lt=>{const U=F(lt.target.value);_==="accessories"?b(I,U):p(I,U)},type:"number"}),s.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none",children:""})]}),!D&&s.jsx("button",{onClick:()=>{confirm(` "${I}"?`)&&(_==="accessories"?x(I):T(I))},className:"absolute -top-2 -right-2 p-1.5 bg-red-100 text-red-600 rounded-full shadow-sm opacity-0 group-hover:opacity-100 transition-all hover:scale-110",children:s.jsx(Ws,{className:"w-3 h-3",strokeWidth:3})})]},I)),je(_==="accessories"?r:m).length===0&&s.jsxs("div",{className:"text-center py-10 text-muted-foreground opacity-60",children:[s.jsx(Ub,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:""})]})]})]})]})})},yg={analyze:c=>{const u=le.getState(),{fabricCosts:d,laborCosts:r,accessoryCosts:m}=u,h=et.calculatePrice(c);let b=0,p=0,x=0,T=0,z=0;const C=0;let S=0,_="";if(zi(c)){if(_="",c.code){const H=d[c.code]||0,v=_i(c.style,F(c.width_m));p=v*H,S+=v}if(c.sheer_code&&(c.layer_mode==="double"||c.layer_mode==="sheer")){const H=d[c.sheer_code]||0;x=_i(c.style,F(c.width_m))*H}const y=F(c.width_m),O=m.rail_standard||120;z=y*O;const Q=r[c.style]?.rate||60;T=y*Q,b=p+x+T+z+C}else if(Oi(c)){_="";const y=c.wallpaper_code;if(y){const Q=d[y]||0,H=c.widths.reduce((Y,X)=>Y+F(X),0),v=Math.ceil(H/mo.ROLL_WIDTH_M);p=v*Q,S=v}T=F(c.install_cost_per_roll)*S,b=p+T}else if(Ri(c)){if(_="..",c.code){const y=d[c.code]||0,Q=F(c.width_m)*F(c.height_m)*1.2;p=Q*y,S=Q}b=p}const k=h-b;let D=0;h>0&&(D=k/h*100);let L="profit";return k<0?L="loss":D<20&&(L="warning"),{totalCost:b,sellingPrice:h,profitAmount:k,marginPercent:D,status:L,fabricCost:p,sheerCost:x,laborCost:T,railCost:z,accCost:C,usedQuantity:Number(S.toFixed(2)),unit:_}}},jg=({isOpen:c,onClose:u})=>{const d=le(H=>H.rooms),r=le(H=>H.fabricCosts),m=le(H=>H.favorites),h=le(H=>H.updateUnifiedCost),[b,p]=J.useState({}),[x,T]=J.useState(!1),[z,C]=J.useState(""),S=J.useCallback(()=>{const H={};return d.forEach(v=>{v.is_suspended||v.items.forEach(Y=>{if(Y.is_suspended)return;let X="",Z="curtain";if(zi(Y)?(X=Y.code||Y.sheer_code||"No Code",Z="curtain"):Oi(Y)?(X=Y.wallpaper_code||"No Code",Z="wallpaper"):Ri(Y)&&(X=Y.code||"No Code",Z="blind"),X==="No Code")return;const K=yg.analyze(Y);H[X]||(H[X]={code:X,totalQty:0,unit:K.unit,usageCount:0,itemIds:[],type:Z,avgCost:0,avgPrice:0,totalRevenue:0,totalCost:0,profit:0,margin:0,status:"profit"});const te=H[X];te.totalQty+=K.usedQuantity,te.usageCount+=1,te.itemIds.push(Y.id),te.totalRevenue+=K.sellingPrice;const je=b[X]!==void 0?b[X]:r[X]||0;te.totalCost+=je*K.usedQuantity+(K.laborCost||0)+(K.accCost||0)+(K.railCost||0),te.avgCost=je})}),Object.values(H).map(v=>(v.profit=v.totalRevenue-v.totalCost,v.margin=v.totalRevenue>0?v.profit/v.totalRevenue*100:0,v.profit<0?v.status="loss":v.margin<20?v.status="warning":v.status="profit",v)).sort(v=>v.status==="loss"?-1:1)},[d,r,b]),_=J.useMemo(()=>c?S():[],[c,S]),k=(H,v)=>{const Y=F(v);p(X=>({...X,[H]:Y})),T(!0)},D=()=>{Object.entries(b).forEach(([H,v])=>{h(H,v)}),p({}),T(!1)},L=()=>{p({}),T(!1)},y=J.useMemo(()=>_.filter(H=>H.code.toLowerCase().includes(z.toLowerCase())),[_,z]),O=J.useMemo(()=>_.reduce((H,v)=>({revenue:H.revenue+v.totalRevenue,cost:H.cost+v.totalCost,profit:H.profit+v.profit}),{revenue:0,cost:0,profit:0}),[_]),Q=O.revenue>0?O.profit/O.revenue*100:0;return s.jsx(zt,{isOpen:c,onClose:u,title:" (Cost Intelligence)",maxWidth:"2xl",children:s.jsxs("div",{className:"flex flex-col h-[80vh] bg-slate-50 -m-5 sm:-m-6",children:[s.jsxs("div",{className:"bg-white border-b border-slate-200 p-4 shadow-sm z-10",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"p-3 bg-emerald-50 rounded-xl border border-emerald-100 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-emerald-600 font-bold uppercase",children:" (Net Profit)"}),s.jsx("div",{className:"text-2xl font-bold text-emerald-700 font-mono",children:Oe(O.profit)})]}),s.jsx("div",{className:"h-10 w-10 bg-emerald-100 rounded-full flex items-center justify-center",children:s.jsx(Co,{className:"w-6 h-6 text-emerald-600"})})]}),s.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-200 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-slate-500 font-bold uppercase",children:"Margin "}),s.jsxs("div",{className:G("text-2xl font-bold font-mono",Q<20?"text-amber-500":"text-slate-700"),children:[Q.toFixed(1),"%"]})]}),s.jsx("div",{className:"h-10 w-10 bg-slate-100 rounded-full flex items-center justify-center",children:s.jsx(Bb,{className:"w-6 h-6 text-slate-500"})})]})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),s.jsx("input",{type:"text",placeholder:"/...",value:z,onChange:H=>C(H.target.value),className:"w-full pl-9 pr-4 py-2 bg-slate-100 border-none rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 outline-none"})]}),x&&s.jsxs("div",{className:"flex gap-2 animate-fade-in",children:[s.jsxs(ie,{size:"sm",variant:"ghost",onClick:L,className:"text-slate-500",children:[s.jsx(_o,{className:"w-4 h-4 mr-1"})," "]}),s.jsxs(ie,{size:"sm",onClick:D,className:"bg-emerald-600 hover:bg-emerald-700 text-white shadow-lg shadow-emerald-200",children:[s.jsx(Di,{className:"w-4 h-4 mr-1"})," "]})]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:y.length===0?s.jsxs("div",{className:"text-center py-10 text-slate-400",children:[s.jsx(Ks,{className:"w-10 h-10 mx-auto mb-2 opacity-20"}),s.jsx("p",{children:""})]}):y.map(H=>{const v=b[H.code]!==void 0,Y=H.avgCost>0,X=H.type==="curtain"?ne.CURTAIN_MAIN:H.type==="wallpaper"?ne.WALLPAPER:"",Z=X&&m[X]?.some(K=>K.code===H.code);return s.jsxs("div",{className:G("bg-white rounded-xl border p-3 shadow-sm transition-all",H.status==="loss"?"border-red-200 shadow-red-100":"border-slate-100 hover:border-emerald-200"),children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:G("h-10 w-10 rounded-lg flex items-center justify-center text-white shadow-sm",H.type==="curtain"?"bg-indigo-500":H.type==="wallpaper"?"bg-orange-500":"bg-teal-500"),children:H.type==="curtain"?s.jsx(ji,{className:"w-5 h-5"}):H.type==="wallpaper"?s.jsx(Ti,{className:"w-5 h-5"}):s.jsx(il,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-bold text-slate-800 text-base flex items-center gap-2",children:[H.code,Z&&s.jsx("span",{className:"text-[10px] bg-amber-100 text-amber-700 px-1.5 py-0.5 rounded-full",children:"Fav"})]}),s.jsxs("div",{className:"text-xs text-slate-500",children:[" ",H.totalQty.toFixed(2)," ",H.unit," ( ",H.usageCount," )"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:G("font-bold font-mono text-lg",H.profit<0?"text-red-500":"text-emerald-600"),children:[H.profit>0?"+":"",Oe(H.profit)]}),s.jsx("div",{className:"text-[10px] text-slate-400",children:""})]})]}),s.jsxs("div",{className:"bg-slate-50 rounded-lg p-2 mt-2 flex items-center justify-between border border-slate-100",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[!Y&&s.jsx(Ua,{className:"w-3 h-3 text-amber-500 animate-pulse"}),s.jsxs("span",{children:["/",H.unit,":"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"relative",children:s.jsx("input",{type:"number",value:v?b[H.code]:H.avgCost||"",onChange:K=>k(H.code,K.target.value),placeholder:"0.00",className:G("w-24 text-right font-bold text-lg bg-white/50 border-b-2 focus:outline-none focus:bg-white rounded px-1 transition-all",v?"border-amber-500 text-amber-700":"border-transparent hover:border-slate-300")})}),s.jsx("div",{className:G("text-[10px] mt-1 font-medium",H.margin<0?"text-red-600":H.margin<20?"text-amber-600":"text-emerald-600"),children:Y?`Margin ${H.margin.toFixed(1)}%`:""})]})]})]},H.code)})}),x&&s.jsxs("div",{className:"flex items-center gap-2 text-amber-800 text-xs bg-amber-50 p-3 rounded-lg border border-amber-200 animate-fade-in shadow-sm mx-4 mb-4",children:[s.jsx(Ua,{className:"w-4 h-4 shrink-0 text-amber-600"}),s.jsxs("span",{children:["  ",s.jsx("strong",{children:'""'})," "]})]})]})})},Ng=()=>{const{activeModal:c,modalProps:u,modalStack:d,closeModal:r,addItem:m,updateItem:h,openModal:b}=le(),p=Ke(Q=>Q.addToast),x=Q=>c===Q||d.some(H=>H.type===Q),T=Q=>{const{mode:H,roomId:v,itemId:Y}=u;H==="add"&&v?(m(v,Q),p("success","")):H==="edit"&&v&&Y&&(h(v,Y,Q),p("success","")),r()},z=()=>b("pdf"),C=()=>b("lookbook"),S=()=>b("customer"),_=()=>b("shopSettings"),k=()=>b("data"),D=()=>b("favoriteManager"),L=()=>b("discount"),y=()=>b("productionSettings"),O=()=>b("costDashboard");return s.jsxs(s.Fragment,{children:[s.jsx(Ip,{isOpen:x("item"),onClose:r,mode:u.mode||"add",itemType:u.itemType||V.CURTAIN,initialData:u.initialData,onSubmit:T}),s.jsx(Pp,{isOpen:x("customer"),onClose:r}),s.jsx(lg,{isOpen:x("pdf"),onClose:r},x("pdf")?"pdf-open":"pdf-closed"),s.jsx(sg,{isOpen:x("shopSettings"),onClose:r},x("shopSettings")?"shop-open":"shop-closed"),s.jsx(ng,{isOpen:x("favoriteManager"),onClose:r}),s.jsx(ig,{isOpen:x("discount"),onClose:r},x("discount")?"discount-open":"discount-closed"),s.jsx(rg,{isOpen:x("data"),onClose:r}),s.jsx(xg,{isOpen:x("lookbook"),onClose:r}),s.jsx(bg,{isOpen:x("projectOverview"),onClose:r}),s.jsx(cg,{isOpen:x("roomDefaults"),onClose:r,roomId:u.roomId},u.roomId||"defaults"),s.jsx(vg,{isOpen:x("productionSettings"),onClose:r}),s.jsx(jg,{isOpen:x("costDashboard"),onClose:r}),s.jsx(gg,{isOpen:x("mainMenu"),onClose:r,onOpenPdf:z,onOpenLookbook:C,onOpenCustomer:S,onOpenShopSettings:_,onOpenDiscount:L,onOpenData:k,onOpenFavorites:D,onOpenProductionSettings:y,onOpenCostDashboard:O})]})};function _g(){const c=le(_=>_.rooms),u=le(_=>_.openModal),d=le(_=>_.favorites),r=le(_=>_.fabricCosts),m=le(_=>_.batchUpdateFabricCosts),h=w0(_=>_.theme);J.useEffect(()=>{document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(h)},[h]);const b=J.useRef(!1);J.useEffect(()=>{if(b.current)return;const _={};let k=!1;Object.values(d).flat().forEach(D=>{D.cost_per_yard&&D.cost_per_yard>0&&(r[D.code]||(_[D.code]=D.cost_per_yard,k=!0))}),k&&(console.log(" System: Migrating legacy costs to vault...",_),m(_)),b.current=!0},[d,r,m]);const p=()=>u("mainMenu"),x=()=>u("discount"),T=()=>u("projectOverview"),z=_=>{u("item",{mode:"add",roomId:_,itemType:V.CURTAIN})},C=(_,k)=>{u("item",{mode:"edit",roomId:_,itemId:k.id,itemType:k.type,initialData:k})},S=_=>{u("roomDefaults",{roomId:_})};return s.jsxs(s.Fragment,{children:[s.jsx(mp,{onOpenMainMenu:p,onOpenDiscount:x,onOpenOverview:T,children:c.map((_,k)=>s.jsx(xp,{room:_,index:k,totalRooms:c.length,onAddItem:z,onEditItem:C,onOpenDefaults:S},_.id))}),s.jsx(Ng,{}),s.jsx(pp,{}),s.jsx(gp,{})]})}const T0=()=>{document.documentElement.style.setProperty("--app-height",`${window.innerHeight}px`)};window.addEventListener("resize",T0);T0();$b.createRoot(document.getElementById("root")).render(s.jsx(J.StrictMode,{children:s.jsx(_g,{})}));
