import{r as j,C as sl,L as ny,S as hs,P as el,H as ay,M as ly,T as md,G as ps,B as no,a as wd,b as Sd,c as oo,d as co,e as fx,l as uo,f as fo,E as mo,K as zn,R as ee,y as ho,g as Xt,h as ry,i as mx,j as po,k as Cd,m as cr,n as sy,o as hx,p as Ed,q as px,I as iy,s as Jn,t as go,u as rr,v as xo,O as Ca,z as vo,Q as Td,w as gx,x as oy,X as tl,A as gs,D as cy,F as uy,J as dy,N as fy,U as my,V as hy,W as Ad,Y as xx,Z as Dd,_ as nl,$ as bo,a0 as yo,a1 as zd,a2 as No,a3 as py,a4 as jo,a5 as sr,a6 as Rd,a7 as Ns,a8 as Ea,a9 as Od,aa as vx,ab as ao,ac as gy,ad as xy,ae as vy,af as _o,ag as by,ah as bx,ai as yy,aj as Ny,ak as jy,al as _y,am as wy,an as js,ao as Sy,ap as ms,aq as yx,ar as hd,as as Cy,at as Ey,au as Ty,av as Nx,aw as Ay,ax as Dy,ay as zy,az as Ry,aA as Oy,aB as My,aC as ky,aD as jx,aE as Ly,aF as Fp,aG as _x,aH as Uy}from"./vendor-ui-BV5ZUFhR.js";import{r as By,a as Zy}from"./vendor-react-DlBnNAMw.js";import{c as Md,t as Hy,a as qy,b as Iy}from"./vendor-utils-B1GlHgO4.js";import{r as $y}from"./vendor-print-9rBBBGhr.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function i(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(d){if(d.ep)return;d.ep=!0;const f=i(d);fetch(d.href,f)}})();var Xu={exports:{}},is={};var Qp;function Vy(){if(Qp)return is;Qp=1;var n=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function i(o,d,f){var m=null;if(f!==void 0&&(m=""+f),d.key!==void 0&&(m=""+d.key),"key"in d){f={};for(var h in d)h!=="key"&&(f[h]=d[h])}else f=d;return d=f.ref,{$$typeof:n,type:o,key:m,ref:d!==void 0?d:null,props:f}}return is.Fragment=l,is.jsx=i,is.jsxs=i,is}var Kp;function Yy(){return Kp||(Kp=1,Xu.exports=Vy()),Xu.exports}var r=Yy(),Gu={exports:{}},os={},Fu={exports:{}},Qu={};var Jp;function Xy(){return Jp||(Jp=1,(function(n){function l(H,B){var K=H.length;H.push(B);e:for(;0<K;){var fe=K-1>>>1,we=H[fe];if(0<d(we,B))H[fe]=B,H[K]=we,K=fe;else break e}}function i(H){return H.length===0?null:H[0]}function o(H){if(H.length===0)return null;var B=H[0],K=H.pop();if(K!==B){H[0]=K;e:for(var fe=0,we=H.length,Je=we>>>1;fe<Je;){var Me=2*(fe+1)-1,be=H[Me],Ge=Me+1,Et=H[Ge];if(0>d(be,K))Ge<we&&0>d(Et,be)?(H[fe]=Et,H[Ge]=K,fe=Ge):(H[fe]=be,H[Me]=K,fe=Me);else if(Ge<we&&0>d(Et,K))H[fe]=Et,H[Ge]=K,fe=Ge;else break e}}return B}function d(H,B){var K=H.sortIndex-B.sortIndex;return K!==0?K:H.id-B.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var m=Date,h=m.now();n.unstable_now=function(){return m.now()-h}}var g=[],x=[],y=1,b=null,N=3,w=!1,C=!1,S=!1,D=!1,E=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function A(H){for(var B=i(x);B!==null;){if(B.callback===null)o(x);else if(B.startTime<=H)o(x),B.sortIndex=B.expirationTime,l(g,B);else break;B=i(x)}}function _(H){if(S=!1,A(H),!C)if(i(g)!==null)C=!0,L||(L=!0,le());else{var B=i(x);B!==null&&ne(_,B.startTime-H)}}var L=!1,q=-1,W=5,J=-1;function Q(){return D?!0:!(n.unstable_now()-J<W)}function ae(){if(D=!1,L){var H=n.unstable_now();J=H;var B=!0;try{e:{C=!1,S&&(S=!1,O(q),q=-1),w=!0;var K=N;try{t:{for(A(H),b=i(g);b!==null&&!(b.expirationTime>H&&Q());){var fe=b.callback;if(typeof fe=="function"){b.callback=null,N=b.priorityLevel;var we=fe(b.expirationTime<=H);if(H=n.unstable_now(),typeof we=="function"){b.callback=we,A(H),B=!0;break t}b===i(g)&&o(g),A(H)}else o(g);b=i(g)}if(b!==null)B=!0;else{var Je=i(x);Je!==null&&ne(_,Je.startTime-H),B=!1}}break e}finally{b=null,N=K,w=!1}B=void 0}}finally{B?le():L=!1}}}var le;if(typeof Z=="function")le=function(){Z(ae)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,Oe=te.port2;te.port1.onmessage=ae,le=function(){Oe.postMessage(null)}}else le=function(){E(ae,0)};function ne(H,B){q=E(function(){H(n.unstable_now())},B)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_next=function(H){switch(N){case 1:case 2:case 3:var B=3;break;default:B=N}var K=N;N=B;try{return H()}finally{N=K}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(H,B){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var K=N;N=H;try{return B()}finally{N=K}},n.unstable_scheduleCallback=function(H,B,K){var fe=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?fe+K:fe):K=fe,H){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=K+we,H={id:y++,callback:B,priorityLevel:H,startTime:K,expirationTime:we,sortIndex:-1},K>fe?(H.sortIndex=K,l(x,H),i(g)===null&&H===i(x)&&(S?(O(q),q=-1):S=!0,ne(_,K-fe))):(H.sortIndex=we,l(g,H),C||w||(C=!0,L||(L=!0,le()))),H},n.unstable_shouldYield=Q,n.unstable_wrapCallback=function(H){var B=N;return function(){var K=N;N=B;try{return H.apply(this,arguments)}finally{N=K}}}})(Qu)),Qu}var Wp;function Gy(){return Wp||(Wp=1,Fu.exports=Xy()),Fu.exports}var Pp;function Fy(){if(Pp)return os;Pp=1;var n=Gy(),l=By(),i=Zy();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(o(188))}function x(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(o(188));return t!==e?null:e}for(var a=e,s=t;;){var c=a.return;if(c===null)break;var u=c.alternate;if(u===null){if(s=c.return,s!==null){a=s;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===a)return g(c),e;if(u===s)return g(c),t;u=u.sibling}throw Error(o(188))}if(a.return!==s.return)a=c,s=u;else{for(var p=!1,v=c.child;v;){if(v===a){p=!0,a=c,s=u;break}if(v===s){p=!0,s=c,a=u;break}v=v.sibling}if(!p){for(v=u.child;v;){if(v===a){p=!0,a=u,s=c;break}if(v===s){p=!0,s=u,a=c;break}v=v.sibling}if(!p)throw Error(o(189))}}if(a.alternate!==s)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,N=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function le(e){return e===null||typeof e!="object"?null:(e=ae&&e[ae]||e["@@iterator"],typeof e=="function"?e:null)}var te=Symbol.for("react.client.reference");function Oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===te?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case E:return"Profiler";case D:return"StrictMode";case _:return"Suspense";case L:return"SuspenseList";case J:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case Z:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case A:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return t=e.displayName||null,t!==null?t:Oe(e.type)||"Memo";case W:t=e._payload,e=e._init;try{return Oe(e(t))}catch{}}return null}var ne=Array.isArray,H=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},fe=[],we=-1;function Je(e){return{current:e}}function Me(e){0>we||(e.current=fe[we],fe[we]=null,we--)}function be(e,t){we++,fe[we]=e.current,e.current=t}var Ge=Je(null),Et=Je(null),Ft=Je(null),xn=Je(null);function vn(e,t){switch(be(Ft,t),be(Et,e),be(Ge,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?xp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=xp(t),e=vp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Me(Ge),be(Ge,e)}function bn(){Me(Ge),Me(Et),Me(Ft)}function za(e){e.memoizedState!==null&&be(xn,e);var t=Ge.current,a=vp(t,e.type);t!==a&&(be(Et,e),be(Ge,a))}function cn(e){Et.current===e&&(Me(Ge),Me(Et)),xn.current===e&&(Me(xn),as._currentValue=K)}var ul,mr;function pe(e){if(ul===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ul=t&&t[1]||"",mr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ul+e+mr}var dl=!1;function fl(e,t){if(!e||dl)return"";dl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(I){var U=I}Reflect.construct(e,[],F)}else{try{F.call()}catch(I){U=I}e.call(F.prototype)}}else{try{throw Error()}catch(I){U=I}(F=e())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(I){if(I&&U&&typeof I.stack=="string")return[I.stack,U.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),p=u[0],v=u[1];if(p&&v){var T=p.split(`
`),k=v.split(`
`);for(c=s=0;s<T.length&&!T[s].includes("DetermineComponentFrameRoot");)s++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(s===T.length||c===k.length)for(s=T.length-1,c=k.length-1;1<=s&&0<=c&&T[s]!==k[c];)c--;for(;1<=s&&0<=c;s--,c--)if(T[s]!==k[c]){if(s!==1||c!==1)do if(s--,c--,0>c||T[s]!==k[c]){var $=`
`+T[s].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=s&&0<=c);break}}}finally{dl=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?pe(a):""}function hr(e,t){switch(e.tag){case 26:case 27:case 5:return pe(e.type);case 16:return pe("Lazy");case 13:return e.child!==t&&t!==null?pe("Suspense Fallback"):pe("Suspense");case 19:return pe("SuspenseList");case 0:case 15:return fl(e.type,!1);case 11:return fl(e.type.render,!1);case 1:return fl(e.type,!0);case 31:return pe("Activity");default:return""}}function ws(e){try{var t="",a=null;do t+=hr(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var pr=Object.prototype.hasOwnProperty,yn=n.unstable_scheduleCallback,ml=n.unstable_cancelCallback,Do=n.unstable_shouldYield,Ra=n.unstable_requestPaint,_t=n.unstable_now,Ss=n.unstable_getCurrentPriorityLevel,Cs=n.unstable_ImmediatePriority,Es=n.unstable_UserBlockingPriority,Rn=n.unstable_NormalPriority,zo=n.unstable_LowPriority,gr=n.unstable_IdlePriority,Ro=n.log,Oa=n.unstable_setDisableYieldValue,Pn=null,wt=null;function Nn(e){if(typeof Ro=="function"&&Oa(e),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Pn,e)}catch{}}var St=Math.clz32?Math.clz32:he,Oo=Math.log,Mo=Math.LN2;function he(e){return e>>>=0,e===0?32:31-(Oo(e)/Mo|0)|0}var Te=256,ze=262144,ye=4194304;function ke(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function dt(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var c=0,u=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var v=s&134217727;return v!==0?(s=v&~u,s!==0?c=ke(s):(p&=v,p!==0?c=ke(p):a||(a=v&~e,a!==0&&(c=ke(a))))):(v=s&~u,v!==0?c=ke(v):p!==0?c=ke(p):a||(a=s&~e,a!==0&&(c=ke(a)))),c===0?0:t!==0&&t!==c&&(t&u)===0&&(u=c&-c,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:c}function nt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function jn(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tt(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function un(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function At(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Qt(e,t,a,s,c,u){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,T=e.expirationTimes,k=e.hiddenUpdates;for(a=p&~a;0<a;){var $=31-St(a),F=1<<$;v[$]=0,T[$]=-1;var U=k[$];if(U!==null)for(k[$]=null,$=0;$<U.length;$++){var I=U[$];I!==null&&(I.lane&=-536870913)}a&=~F}s!==0&&Ma(e,s,0),u!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=u&~(p&~t))}function Ma(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-St(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function xr(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-St(a),c=1<<s;c&t|e[s]&t&&(e[s]|=t),a&=~c}}function ef(e,t){var a=t&-t;return a=(a&42)!==0?1:ko(a),(a&(e.suspendedLanes|t))!==0?0:a}function ko(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Lo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tf(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:qp(e.type))}function nf(e,t){var a=B.p;try{return B.p=e,t()}finally{B.p=a}}var ea=Math.random().toString(36).slice(2),xt="__reactFiber$"+ea,Dt="__reactProps$"+ea,hl="__reactContainer$"+ea,Uo="__reactEvents$"+ea,Y0="__reactListeners$"+ea,X0="__reactHandles$"+ea,af="__reactResources$"+ea,vr="__reactMarker$"+ea;function Bo(e){delete e[xt],delete e[Dt],delete e[Uo],delete e[Y0],delete e[X0]}function pl(e){var t=e[xt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[hl]||a[xt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Sp(e);e!==null;){if(a=e[xt])return a;e=Sp(e)}return t}e=a,a=e.parentNode}return null}function gl(e){if(e=e[xt]||e[hl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function br(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function xl(e){var t=e[af];return t||(t=e[af]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ht(e){e[vr]=!0}var lf=new Set,rf={};function ka(e,t){vl(e,t),vl(e+"Capture",t)}function vl(e,t){for(rf[e]=t,e=0;e<t.length;e++)lf.add(t[e])}var G0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sf={},of={};function F0(e){return pr.call(of,e)?!0:pr.call(sf,e)?!1:G0.test(e)?of[e]=!0:(sf[e]=!0,!1)}function Ts(e,t,a){if(F0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function As(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function On(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function Kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Q0(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(p){a=""+p,u.call(this,p)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zo(e){if(!e._valueTracker){var t=cf(e)?"checked":"value";e._valueTracker=Q0(e,t,""+e[t])}}function uf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=cf(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function Ds(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var K0=/[\n"\\]/g;function Jt(e){return e.replace(K0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ho(e,t,a,s,c,u,p,v){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Kt(t)):e.value!==""+Kt(t)&&(e.value=""+Kt(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?qo(e,p,Kt(t)):a!=null?qo(e,p,Kt(a)):s!=null&&e.removeAttribute("value"),c==null&&u!=null&&(e.defaultChecked=!!u),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Kt(v):e.removeAttribute("name")}function df(e,t,a,s,c,u,p,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Zo(e);return}a=a!=null?""+Kt(a):"",t=t!=null?""+Kt(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}s=s??c,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=v?e.checked:!!s,e.defaultChecked=!!s,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Zo(e)}function qo(e,t,a){t==="number"&&Ds(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function bl(e,t,a,s){if(e=e.options,t){t={};for(var c=0;c<a.length;c++)t["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=t.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Kt(a),t=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,s&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function ff(e,t,a){if(t!=null&&(t=""+Kt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Kt(a):""}function mf(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(o(92));if(ne(s)){if(1<s.length)throw Error(o(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=Kt(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),Zo(e)}function yl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var J0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hf(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||J0.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function pf(e,t,a){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var c in t)s=t[c],t.hasOwnProperty(c)&&a[c]!==s&&hf(e,c,s)}else for(var u in t)t.hasOwnProperty(u)&&hf(e,u,t[u])}function Io(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var W0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),P0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zs(e){return P0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Mn(){}var $o=null;function Vo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nl=null,jl=null;function gf(e){var t=gl(e);if(t&&(e=t.stateNode)){var a=e[Dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ho(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Jt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var c=s[Dt]||null;if(!c)throw Error(o(90));Ho(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&uf(s)}break e;case"textarea":ff(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&bl(e,!!a.multiple,t,!1)}}}var Yo=!1;function xf(e,t,a){if(Yo)return e(t,a);Yo=!0;try{var s=e(t);return s}finally{if(Yo=!1,(Nl!==null||jl!==null)&&(vi(),Nl&&(t=Nl,e=jl,jl=Nl=null,gf(t),e)))for(t=0;t<e.length;t++)gf(e[t])}}function yr(e,t){var a=e.stateNode;if(a===null)return null;var s=a[Dt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,t,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xo=!1;if(kn)try{var Nr={};Object.defineProperty(Nr,"passive",{get:function(){Xo=!0}}),window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{Xo=!1}var ta=null,Go=null,Rs=null;function vf(){if(Rs)return Rs;var e,t=Go,a=t.length,s,c="value"in ta?ta.value:ta.textContent,u=c.length;for(e=0;e<a&&t[e]===c[e];e++);var p=a-e;for(s=1;s<=p&&t[a-s]===c[u-s];s++);return Rs=c.slice(e,1<s?1-s:void 0)}function Os(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ms(){return!0}function bf(){return!1}function zt(e){function t(a,s,c,u,p){this._reactName=a,this._targetInst=c,this.type=s,this.nativeEvent=u,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Ms:bf,this.isPropagationStopped=bf,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),t}var La={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ks=zt(La),jr=b({},La,{view:0,detail:0}),ev=zt(jr),Fo,Qo,_r,Ls=b({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_r&&(_r&&e.type==="mousemove"?(Fo=e.screenX-_r.screenX,Qo=e.screenY-_r.screenY):Qo=Fo=0,_r=e),Fo)},movementY:function(e){return"movementY"in e?e.movementY:Qo}}),yf=zt(Ls),tv=b({},Ls,{dataTransfer:0}),nv=zt(tv),av=b({},jr,{relatedTarget:0}),Ko=zt(av),lv=b({},La,{animationName:0,elapsedTime:0,pseudoElement:0}),rv=zt(lv),sv=b({},La,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iv=zt(sv),ov=b({},La,{data:0}),Nf=zt(ov),cv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dv[e])?!!t[e]:!1}function Jo(){return fv}var mv=b({},jr,{key:function(e){if(e.key){var t=cv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Os(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jo,charCode:function(e){return e.type==="keypress"?Os(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Os(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hv=zt(mv),pv=b({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jf=zt(pv),gv=b({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jo}),xv=zt(gv),vv=b({},La,{propertyName:0,elapsedTime:0,pseudoElement:0}),bv=zt(vv),yv=b({},Ls,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nv=zt(yv),jv=b({},La,{newState:0,oldState:0}),_v=zt(jv),wv=[9,13,27,32],Wo=kn&&"CompositionEvent"in window,wr=null;kn&&"documentMode"in document&&(wr=document.documentMode);var Sv=kn&&"TextEvent"in window&&!wr,_f=kn&&(!Wo||wr&&8<wr&&11>=wr),wf=" ",Sf=!1;function Cf(e,t){switch(e){case"keyup":return wv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ef(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _l=!1;function Cv(e,t){switch(e){case"compositionend":return Ef(t);case"keypress":return t.which!==32?null:(Sf=!0,wf);case"textInput":return e=t.data,e===wf&&Sf?null:e;default:return null}}function Ev(e,t){if(_l)return e==="compositionend"||!Wo&&Cf(e,t)?(e=vf(),Rs=Go=ta=null,_l=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _f&&t.locale!=="ko"?null:t.data;default:return null}}var Tv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tv[e.type]:t==="textarea"}function Af(e,t,a,s){Nl?jl?jl.push(s):jl=[s]:Nl=s,t=Si(t,"onChange"),0<t.length&&(a=new ks("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Sr=null,Cr=null;function Av(e){dp(e,0)}function Us(e){var t=br(e);if(uf(t))return e}function Df(e,t){if(e==="change")return t}var zf=!1;if(kn){var Po;if(kn){var ec="oninput"in document;if(!ec){var Rf=document.createElement("div");Rf.setAttribute("oninput","return;"),ec=typeof Rf.oninput=="function"}Po=ec}else Po=!1;zf=Po&&(!document.documentMode||9<document.documentMode)}function Of(){Sr&&(Sr.detachEvent("onpropertychange",Mf),Cr=Sr=null)}function Mf(e){if(e.propertyName==="value"&&Us(Cr)){var t=[];Af(t,Cr,e,Vo(e)),xf(Av,t)}}function Dv(e,t,a){e==="focusin"?(Of(),Sr=t,Cr=a,Sr.attachEvent("onpropertychange",Mf)):e==="focusout"&&Of()}function zv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Us(Cr)}function Rv(e,t){if(e==="click")return Us(t)}function Ov(e,t){if(e==="input"||e==="change")return Us(t)}function Mv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zt=typeof Object.is=="function"?Object.is:Mv;function Er(e,t){if(Zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var c=a[s];if(!pr.call(t,c)||!Zt(e[c],t[c]))return!1}return!0}function kf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lf(e,t){var a=kf(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kf(a)}}function Uf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Uf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ds(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ds(e.document)}return t}function tc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var kv=kn&&"documentMode"in document&&11>=document.documentMode,wl=null,nc=null,Tr=null,ac=!1;function Zf(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ac||wl==null||wl!==Ds(s)||(s=wl,"selectionStart"in s&&tc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Tr&&Er(Tr,s)||(Tr=s,s=Si(nc,"onSelect"),0<s.length&&(t=new ks("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=wl)))}function Ua(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Sl={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionrun:Ua("Transition","TransitionRun"),transitionstart:Ua("Transition","TransitionStart"),transitioncancel:Ua("Transition","TransitionCancel"),transitionend:Ua("Transition","TransitionEnd")},lc={},Hf={};kn&&(Hf=document.createElement("div").style,"AnimationEvent"in window||(delete Sl.animationend.animation,delete Sl.animationiteration.animation,delete Sl.animationstart.animation),"TransitionEvent"in window||delete Sl.transitionend.transition);function Ba(e){if(lc[e])return lc[e];if(!Sl[e])return e;var t=Sl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Hf)return lc[e]=t[a];return e}var qf=Ba("animationend"),If=Ba("animationiteration"),$f=Ba("animationstart"),Lv=Ba("transitionrun"),Uv=Ba("transitionstart"),Bv=Ba("transitioncancel"),Vf=Ba("transitionend"),Yf=new Map,rc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rc.push("scrollEnd");function dn(e,t){Yf.set(e,t),ka(t,[e])}var Bs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Wt=[],Cl=0,sc=0;function Zs(){for(var e=Cl,t=sc=Cl=0;t<e;){var a=Wt[t];Wt[t++]=null;var s=Wt[t];Wt[t++]=null;var c=Wt[t];Wt[t++]=null;var u=Wt[t];if(Wt[t++]=null,s!==null&&c!==null){var p=s.pending;p===null?c.next=c:(c.next=p.next,p.next=c),s.pending=c}u!==0&&Xf(a,c,u)}}function Hs(e,t,a,s){Wt[Cl++]=e,Wt[Cl++]=t,Wt[Cl++]=a,Wt[Cl++]=s,sc|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function ic(e,t,a,s){return Hs(e,t,a,s),qs(e)}function Za(e,t){return Hs(e,null,null,t),qs(e)}function Xf(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var c=!1,u=e.return;u!==null;)u.childLanes|=a,s=u.alternate,s!==null&&(s.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(c=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,c&&t!==null&&(c=31-St(a),e=u.hiddenUpdates,s=e[c],s===null?e[c]=[t]:s.push(t),t.lane=a|536870912),u):null}function qs(e){if(50<Kr)throw Kr=0,gu=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var El={};function Zv(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,a,s){return new Zv(e,t,a,s)}function oc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ln(e,t){var a=e.alternate;return a===null?(a=Ht(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Gf(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Is(e,t,a,s,c,u){var p=0;if(s=e,typeof e=="function")oc(e)&&(p=1);else if(typeof e=="string")p=Vb(e,a,Ge.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case J:return e=Ht(31,a,t,c),e.elementType=J,e.lanes=u,e;case S:return Ha(a.children,c,u,t);case D:p=8,c|=24;break;case E:return e=Ht(12,a,t,c|2),e.elementType=E,e.lanes=u,e;case _:return e=Ht(13,a,t,c),e.elementType=_,e.lanes=u,e;case L:return e=Ht(19,a,t,c),e.elementType=L,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z:p=10;break e;case O:p=9;break e;case A:p=11;break e;case q:p=14;break e;case W:p=16,s=null;break e}p=29,a=Error(o(130,e===null?"null":typeof e,"")),s=null}return t=Ht(p,a,t,c),t.elementType=e,t.type=s,t.lanes=u,t}function Ha(e,t,a,s){return e=Ht(7,e,s,t),e.lanes=a,e}function cc(e,t,a){return e=Ht(6,e,null,t),e.lanes=a,e}function Ff(e){var t=Ht(18,null,null,0);return t.stateNode=e,t}function uc(e,t,a){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qf=new WeakMap;function Pt(e,t){if(typeof e=="object"&&e!==null){var a=Qf.get(e);return a!==void 0?a:(t={value:e,source:t,stack:ws(t)},Qf.set(e,t),t)}return{value:e,source:t,stack:ws(t)}}var Tl=[],Al=0,$s=null,Ar=0,en=[],tn=0,na=null,_n=1,wn="";function Un(e,t){Tl[Al++]=Ar,Tl[Al++]=$s,$s=e,Ar=t}function Kf(e,t,a){en[tn++]=_n,en[tn++]=wn,en[tn++]=na,na=e;var s=_n;e=wn;var c=32-St(s)-1;s&=~(1<<c),a+=1;var u=32-St(t)+c;if(30<u){var p=c-c%5;u=(s&(1<<p)-1).toString(32),s>>=p,c-=p,_n=1<<32-St(t)+c|a<<c|s,wn=u+e}else _n=1<<u|a<<c|s,wn=e}function dc(e){e.return!==null&&(Un(e,1),Kf(e,1,0))}function fc(e){for(;e===$s;)$s=Tl[--Al],Tl[Al]=null,Ar=Tl[--Al],Tl[Al]=null;for(;e===na;)na=en[--tn],en[tn]=null,wn=en[--tn],en[tn]=null,_n=en[--tn],en[tn]=null}function Jf(e,t){en[tn++]=_n,en[tn++]=wn,en[tn++]=na,_n=t.id,wn=t.overflow,na=e}var vt=null,$e=null,Ee=!1,aa=null,nn=!1,mc=Error(o(519));function la(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Dr(Pt(t,e)),mc}function Wf(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[xt]=e,t[Dt]=s,a){case"dialog":je("cancel",t),je("close",t);break;case"iframe":case"object":case"embed":je("load",t);break;case"video":case"audio":for(a=0;a<Wr.length;a++)je(Wr[a],t);break;case"source":je("error",t);break;case"img":case"image":case"link":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"input":je("invalid",t),df(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":je("invalid",t);break;case"textarea":je("invalid",t),mf(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||pp(t.textContent,a)?(s.popover!=null&&(je("beforetoggle",t),je("toggle",t)),s.onScroll!=null&&je("scroll",t),s.onScrollEnd!=null&&je("scrollend",t),s.onClick!=null&&(t.onclick=Mn),t=!0):t=!1,t||la(e,!0)}function Pf(e){for(vt=e.return;vt;)switch(vt.tag){case 5:case 31:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:vt=vt.return}}function Dl(e){if(e!==vt)return!1;if(!Ee)return Pf(e),Ee=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||zu(e.type,e.memoizedProps)),a=!a),a&&$e&&la(e),Pf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));$e=wp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));$e=wp(e)}else t===27?(t=$e,va(e.type)?(e=Lu,Lu=null,$e=e):$e=t):$e=vt?ln(e.stateNode.nextSibling):null;return!0}function qa(){$e=vt=null,Ee=!1}function hc(){var e=aa;return e!==null&&(kt===null?kt=e:kt.push.apply(kt,e),aa=null),e}function Dr(e){aa===null?aa=[e]:aa.push(e)}var pc=Je(null),Ia=null,Bn=null;function ra(e,t,a){be(pc,t._currentValue),t._currentValue=a}function Zn(e){e._currentValue=pc.current,Me(pc)}function gc(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function xc(e,t,a,s){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var u=c.dependencies;if(u!==null){var p=c.child;u=u.firstContext;e:for(;u!==null;){var v=u;u=c;for(var T=0;T<t.length;T++)if(v.context===t[T]){u.lanes|=a,v=u.alternate,v!==null&&(v.lanes|=a),gc(u.return,a,e),s||(p=null);break e}u=v.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(o(341));p.lanes|=a,u=p.alternate,u!==null&&(u.lanes|=a),gc(p,a,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function zl(e,t,a,s){e=null;for(var c=t,u=!1;c!==null;){if(!u){if((c.flags&524288)!==0)u=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(o(387));if(p=p.memoizedProps,p!==null){var v=c.type;Zt(c.pendingProps.value,p.value)||(e!==null?e.push(v):e=[v])}}else if(c===xn.current){if(p=c.alternate,p===null)throw Error(o(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(as):e=[as])}c=c.return}e!==null&&xc(t,e,a,s),t.flags|=262144}function Vs(e){for(e=e.firstContext;e!==null;){if(!Zt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function $a(e){Ia=e,Bn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function bt(e){return em(Ia,e)}function Ys(e,t){return Ia===null&&$a(e),em(e,t)}function em(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Bn===null){if(e===null)throw Error(o(308));Bn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Bn=Bn.next=t;return a}var Hv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},qv=n.unstable_scheduleCallback,Iv=n.unstable_NormalPriority,rt={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vc(){return{controller:new Hv,data:new Map,refCount:0}}function zr(e){e.refCount--,e.refCount===0&&qv(Iv,function(){e.controller.abort()})}var Rr=null,bc=0,Rl=0,Ol=null;function $v(e,t){if(Rr===null){var a=Rr=[];bc=0,Rl=ju(),Ol={status:"pending",value:void 0,then:function(s){a.push(s)}}}return bc++,t.then(tm,tm),t}function tm(){if(--bc===0&&Rr!==null){Ol!==null&&(Ol.status="fulfilled");var e=Rr;Rr=null,Rl=0,Ol=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Vv(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var c=0;c<a.length;c++)(0,a[c])(t)},function(c){for(s.status="rejected",s.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),s}var nm=H.S;H.S=function(e,t){Zh=_t(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&$v(e,t),nm!==null&&nm(e,t)};var Va=Je(null);function yc(){var e=Va.current;return e!==null?e:qe.pooledCache}function Xs(e,t){t===null?be(Va,Va.current):be(Va,t.pool)}function am(){var e=yc();return e===null?null:{parent:rt._currentValue,pool:e}}var Ml=Error(o(460)),Nc=Error(o(474)),Gs=Error(o(542)),Fs={then:function(){}};function lm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function rm(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Mn,Mn),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,im(e),e;default:if(typeof t.status=="string")t.then(Mn,Mn);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=s}},function(s){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,im(e),e}throw Xa=t,Ml}}function Ya(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Xa=a,Ml):a}}var Xa=null;function sm(){if(Xa===null)throw Error(o(459));var e=Xa;return Xa=null,e}function im(e){if(e===Ml||e===Gs)throw Error(o(483))}var kl=null,Or=0;function Qs(e){var t=Or;return Or+=1,kl===null&&(kl=[]),rm(kl,e,t)}function Mr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ks(e,t){throw t.$$typeof===N?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function om(e){function t(R,z){if(e){var M=R.deletions;M===null?(R.deletions=[z],R.flags|=16):M.push(z)}}function a(R,z){if(!e)return null;for(;z!==null;)t(R,z),z=z.sibling;return null}function s(R){for(var z=new Map;R!==null;)R.key!==null?z.set(R.key,R):z.set(R.index,R),R=R.sibling;return z}function c(R,z){return R=Ln(R,z),R.index=0,R.sibling=null,R}function u(R,z,M){return R.index=M,e?(M=R.alternate,M!==null?(M=M.index,M<z?(R.flags|=67108866,z):M):(R.flags|=67108866,z)):(R.flags|=1048576,z)}function p(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function v(R,z,M,X){return z===null||z.tag!==6?(z=cc(M,R.mode,X),z.return=R,z):(z=c(z,M),z.return=R,z)}function T(R,z,M,X){var ce=M.type;return ce===S?$(R,z,M.props.children,X,M.key):z!==null&&(z.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===W&&Ya(ce)===z.type)?(z=c(z,M.props),Mr(z,M),z.return=R,z):(z=Is(M.type,M.key,M.props,null,R.mode,X),Mr(z,M),z.return=R,z)}function k(R,z,M,X){return z===null||z.tag!==4||z.stateNode.containerInfo!==M.containerInfo||z.stateNode.implementation!==M.implementation?(z=uc(M,R.mode,X),z.return=R,z):(z=c(z,M.children||[]),z.return=R,z)}function $(R,z,M,X,ce){return z===null||z.tag!==7?(z=Ha(M,R.mode,X,ce),z.return=R,z):(z=c(z,M),z.return=R,z)}function F(R,z,M){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=cc(""+z,R.mode,M),z.return=R,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return M=Is(z.type,z.key,z.props,null,R.mode,M),Mr(M,z),M.return=R,M;case C:return z=uc(z,R.mode,M),z.return=R,z;case W:return z=Ya(z),F(R,z,M)}if(ne(z)||le(z))return z=Ha(z,R.mode,M,null),z.return=R,z;if(typeof z.then=="function")return F(R,Qs(z),M);if(z.$$typeof===Z)return F(R,Ys(R,z),M);Ks(R,z)}return null}function U(R,z,M,X){var ce=z!==null?z.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return ce!==null?null:v(R,z,""+M,X);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case w:return M.key===ce?T(R,z,M,X):null;case C:return M.key===ce?k(R,z,M,X):null;case W:return M=Ya(M),U(R,z,M,X)}if(ne(M)||le(M))return ce!==null?null:$(R,z,M,X,null);if(typeof M.then=="function")return U(R,z,Qs(M),X);if(M.$$typeof===Z)return U(R,z,Ys(R,M),X);Ks(R,M)}return null}function I(R,z,M,X,ce){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return R=R.get(M)||null,v(z,R,""+X,ce);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case w:return R=R.get(X.key===null?M:X.key)||null,T(z,R,X,ce);case C:return R=R.get(X.key===null?M:X.key)||null,k(z,R,X,ce);case W:return X=Ya(X),I(R,z,M,X,ce)}if(ne(X)||le(X))return R=R.get(M)||null,$(z,R,X,ce,null);if(typeof X.then=="function")return I(R,z,M,Qs(X),ce);if(X.$$typeof===Z)return I(R,z,M,Ys(z,X),ce);Ks(z,X)}return null}function re(R,z,M,X){for(var ce=null,Ae=null,ie=z,xe=z=0,Ce=null;ie!==null&&xe<M.length;xe++){ie.index>xe?(Ce=ie,ie=null):Ce=ie.sibling;var De=U(R,ie,M[xe],X);if(De===null){ie===null&&(ie=Ce);break}e&&ie&&De.alternate===null&&t(R,ie),z=u(De,z,xe),Ae===null?ce=De:Ae.sibling=De,Ae=De,ie=Ce}if(xe===M.length)return a(R,ie),Ee&&Un(R,xe),ce;if(ie===null){for(;xe<M.length;xe++)ie=F(R,M[xe],X),ie!==null&&(z=u(ie,z,xe),Ae===null?ce=ie:Ae.sibling=ie,Ae=ie);return Ee&&Un(R,xe),ce}for(ie=s(ie);xe<M.length;xe++)Ce=I(ie,R,xe,M[xe],X),Ce!==null&&(e&&Ce.alternate!==null&&ie.delete(Ce.key===null?xe:Ce.key),z=u(Ce,z,xe),Ae===null?ce=Ce:Ae.sibling=Ce,Ae=Ce);return e&&ie.forEach(function(_a){return t(R,_a)}),Ee&&Un(R,xe),ce}function me(R,z,M,X){if(M==null)throw Error(o(151));for(var ce=null,Ae=null,ie=z,xe=z=0,Ce=null,De=M.next();ie!==null&&!De.done;xe++,De=M.next()){ie.index>xe?(Ce=ie,ie=null):Ce=ie.sibling;var _a=U(R,ie,De.value,X);if(_a===null){ie===null&&(ie=Ce);break}e&&ie&&_a.alternate===null&&t(R,ie),z=u(_a,z,xe),Ae===null?ce=_a:Ae.sibling=_a,Ae=_a,ie=Ce}if(De.done)return a(R,ie),Ee&&Un(R,xe),ce;if(ie===null){for(;!De.done;xe++,De=M.next())De=F(R,De.value,X),De!==null&&(z=u(De,z,xe),Ae===null?ce=De:Ae.sibling=De,Ae=De);return Ee&&Un(R,xe),ce}for(ie=s(ie);!De.done;xe++,De=M.next())De=I(ie,R,xe,De.value,X),De!==null&&(e&&De.alternate!==null&&ie.delete(De.key===null?xe:De.key),z=u(De,z,xe),Ae===null?ce=De:Ae.sibling=De,Ae=De);return e&&ie.forEach(function(ty){return t(R,ty)}),Ee&&Un(R,xe),ce}function He(R,z,M,X){if(typeof M=="object"&&M!==null&&M.type===S&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case w:e:{for(var ce=M.key;z!==null;){if(z.key===ce){if(ce=M.type,ce===S){if(z.tag===7){a(R,z.sibling),X=c(z,M.props.children),X.return=R,R=X;break e}}else if(z.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===W&&Ya(ce)===z.type){a(R,z.sibling),X=c(z,M.props),Mr(X,M),X.return=R,R=X;break e}a(R,z);break}else t(R,z);z=z.sibling}M.type===S?(X=Ha(M.props.children,R.mode,X,M.key),X.return=R,R=X):(X=Is(M.type,M.key,M.props,null,R.mode,X),Mr(X,M),X.return=R,R=X)}return p(R);case C:e:{for(ce=M.key;z!==null;){if(z.key===ce)if(z.tag===4&&z.stateNode.containerInfo===M.containerInfo&&z.stateNode.implementation===M.implementation){a(R,z.sibling),X=c(z,M.children||[]),X.return=R,R=X;break e}else{a(R,z);break}else t(R,z);z=z.sibling}X=uc(M,R.mode,X),X.return=R,R=X}return p(R);case W:return M=Ya(M),He(R,z,M,X)}if(ne(M))return re(R,z,M,X);if(le(M)){if(ce=le(M),typeof ce!="function")throw Error(o(150));return M=ce.call(M),me(R,z,M,X)}if(typeof M.then=="function")return He(R,z,Qs(M),X);if(M.$$typeof===Z)return He(R,z,Ys(R,M),X);Ks(R,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,z!==null&&z.tag===6?(a(R,z.sibling),X=c(z,M),X.return=R,R=X):(a(R,z),X=cc(M,R.mode,X),X.return=R,R=X),p(R)):a(R,z)}return function(R,z,M,X){try{Or=0;var ce=He(R,z,M,X);return kl=null,ce}catch(ie){if(ie===Ml||ie===Gs)throw ie;var Ae=Ht(29,ie,null,R.mode);return Ae.lanes=X,Ae.return=R,Ae}finally{}}}var Ga=om(!0),cm=om(!1),sa=!1;function jc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _c(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ia(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oa(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Re&2)!==0){var c=s.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),s.pending=t,t=qs(e),Xf(e,null,a),t}return Hs(e,s,t,a),qs(e)}function kr(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,xr(e,a)}}function wc(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var c=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?c=u=p:u=u.next=p,a=a.next}while(a!==null);u===null?c=u=t:u=u.next=t}else c=u=t;a={baseState:s.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Sc=!1;function Lr(){if(Sc){var e=Ol;if(e!==null)throw e}}function Ur(e,t,a,s){Sc=!1;var c=e.updateQueue;sa=!1;var u=c.firstBaseUpdate,p=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var T=v,k=T.next;T.next=null,p===null?u=k:p.next=k,p=T;var $=e.alternate;$!==null&&($=$.updateQueue,v=$.lastBaseUpdate,v!==p&&(v===null?$.firstBaseUpdate=k:v.next=k,$.lastBaseUpdate=T))}if(u!==null){var F=c.baseState;p=0,$=k=T=null,v=u;do{var U=v.lane&-536870913,I=U!==v.lane;if(I?(Se&U)===U:(s&U)===U){U!==0&&U===Rl&&(Sc=!0),$!==null&&($=$.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var re=e,me=v;U=t;var He=a;switch(me.tag){case 1:if(re=me.payload,typeof re=="function"){F=re.call(He,F,U);break e}F=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=me.payload,U=typeof re=="function"?re.call(He,F,U):re,U==null)break e;F=b({},F,U);break e;case 2:sa=!0}}U=v.callback,U!==null&&(e.flags|=64,I&&(e.flags|=8192),I=c.callbacks,I===null?c.callbacks=[U]:I.push(U))}else I={lane:U,tag:v.tag,payload:v.payload,callback:v.callback,next:null},$===null?(k=$=I,T=F):$=$.next=I,p|=U;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;I=v,v=I.next,I.next=null,c.lastBaseUpdate=I,c.shared.pending=null}}while(!0);$===null&&(T=F),c.baseState=T,c.firstBaseUpdate=k,c.lastBaseUpdate=$,u===null&&(c.shared.lanes=0),ma|=p,e.lanes=p,e.memoizedState=F}}function um(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function dm(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)um(a[e],t)}var Ll=Je(null),Js=Je(0);function fm(e,t){e=Fn,be(Js,e),be(Ll,t),Fn=e|t.baseLanes}function Cc(){be(Js,Fn),be(Ll,Ll.current)}function Ec(){Fn=Js.current,Me(Ll),Me(Js)}var qt=Je(null),an=null;function ca(e){var t=e.alternate;be(at,at.current&1),be(qt,e),an===null&&(t===null||Ll.current!==null||t.memoizedState!==null)&&(an=e)}function Tc(e){be(at,at.current),be(qt,e),an===null&&(an=e)}function mm(e){e.tag===22?(be(at,at.current),be(qt,e),an===null&&(an=e)):ua()}function ua(){be(at,at.current),be(qt,qt.current)}function It(e){Me(qt),an===e&&(an=null),Me(at)}var at=Je(0);function Ws(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Mu(a)||ku(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hn=0,ge=null,Be=null,st=null,Ps=!1,Ul=!1,Fa=!1,ei=0,Br=0,Bl=null,Yv=0;function We(){throw Error(o(321))}function Ac(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Zt(e[a],t[a]))return!1;return!0}function Dc(e,t,a,s,c,u){return Hn=u,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,H.H=e===null||e.memoizedState===null?Km:Yc,Fa=!1,u=a(s,c),Fa=!1,Ul&&(u=pm(t,a,s,c)),hm(e),u}function hm(e){H.H=qr;var t=Be!==null&&Be.next!==null;if(Hn=0,st=Be=ge=null,Ps=!1,Br=0,Bl=null,t)throw Error(o(300));e===null||it||(e=e.dependencies,e!==null&&Vs(e)&&(it=!0))}function pm(e,t,a,s){ge=e;var c=0;do{if(Ul&&(Bl=null),Br=0,Ul=!1,25<=c)throw Error(o(301));if(c+=1,st=Be=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}H.H=Jm,u=t(a,s)}while(Ul);return u}function Xv(){var e=H.H,t=e.useState()[0];return t=typeof t.then=="function"?Zr(t):t,e=e.useState()[0],(Be!==null?Be.memoizedState:null)!==e&&(ge.flags|=1024),t}function zc(){var e=ei!==0;return ei=0,e}function Rc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Oc(e){if(Ps){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ps=!1}Hn=0,st=Be=ge=null,Ul=!1,Br=ei=0,Bl=null}function Ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?ge.memoizedState=st=e:st=st.next=e,st}function lt(){if(Be===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=st===null?ge.memoizedState:st.next;if(t!==null)st=t,Be=e;else{if(e===null)throw ge.alternate===null?Error(o(467)):Error(o(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},st===null?ge.memoizedState=st=e:st=st.next=e}return st}function ti(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zr(e){var t=Br;return Br+=1,Bl===null&&(Bl=[]),e=rm(Bl,e,t),t=ge,(st===null?t.memoizedState:st.next)===null&&(t=t.alternate,H.H=t===null||t.memoizedState===null?Km:Yc),e}function ni(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zr(e);if(e.$$typeof===Z)return bt(e)}throw Error(o(438,String(e)))}function Mc(e){var t=null,a=ge.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=ge.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=ti(),ge.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=Q;return t.index++,a}function qn(e,t){return typeof t=="function"?t(e):t}function ai(e){var t=lt();return kc(t,Be,e)}function kc(e,t,a){var s=e.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=a;var c=e.baseQueue,u=s.pending;if(u!==null){if(c!==null){var p=c.next;c.next=u.next,u.next=p}t.baseQueue=c=u,s.pending=null}if(u=e.baseState,c===null)e.memoizedState=u;else{t=c.next;var v=p=null,T=null,k=t,$=!1;do{var F=k.lane&-536870913;if(F!==k.lane?(Se&F)===F:(Hn&F)===F){var U=k.revertLane;if(U===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),F===Rl&&($=!0);else if((Hn&U)===U){k=k.next,U===Rl&&($=!0);continue}else F={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},T===null?(v=T=F,p=u):T=T.next=F,ge.lanes|=U,ma|=U;F=k.action,Fa&&a(u,F),u=k.hasEagerState?k.eagerState:a(u,F)}else U={lane:F,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},T===null?(v=T=U,p=u):T=T.next=U,ge.lanes|=F,ma|=F;k=k.next}while(k!==null&&k!==t);if(T===null?p=u:T.next=v,!Zt(u,e.memoizedState)&&(it=!0,$&&(a=Ol,a!==null)))throw a;e.memoizedState=u,e.baseState=p,e.baseQueue=T,s.lastRenderedState=u}return c===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Lc(e){var t=lt(),a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var s=a.dispatch,c=a.pending,u=t.memoizedState;if(c!==null){a.pending=null;var p=c=c.next;do u=e(u,p.action),p=p.next;while(p!==c);Zt(u,t.memoizedState)||(it=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,s]}function gm(e,t,a){var s=ge,c=lt(),u=Ee;if(u){if(a===void 0)throw Error(o(407));a=a()}else a=t();var p=!Zt((Be||c).memoizedState,a);if(p&&(c.memoizedState=a,it=!0),c=c.queue,Zc(bm.bind(null,s,c,e),[e]),c.getSnapshot!==t||p||st!==null&&st.memoizedState.tag&1){if(s.flags|=2048,Zl(9,{destroy:void 0},vm.bind(null,s,c,a,t),null),qe===null)throw Error(o(349));u||(Hn&127)!==0||xm(s,t,a)}return a}function xm(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ge.updateQueue,t===null?(t=ti(),ge.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function vm(e,t,a,s){t.value=a,t.getSnapshot=s,ym(t)&&Nm(e)}function bm(e,t,a){return a(function(){ym(t)&&Nm(e)})}function ym(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Zt(e,a)}catch{return!0}}function Nm(e){var t=Za(e,2);t!==null&&Lt(t,e,2)}function Uc(e){var t=Ct();if(typeof e=="function"){var a=e;if(e=a(),Fa){Nn(!0);try{a()}finally{Nn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:e},t}function jm(e,t,a,s){return e.baseState=a,kc(e,Be,typeof s=="function"?s:qn)}function Gv(e,t,a,s,c){if(si(e))throw Error(o(485));if(e=t.action,e!==null){var u={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){u.listeners.push(p)}};H.T!==null?a(!0):u.isTransition=!1,s(u),a=t.pending,a===null?(u.next=t.pending=u,_m(t,u)):(u.next=a.next,t.pending=a.next=u)}}function _m(e,t){var a=t.action,s=t.payload,c=e.state;if(t.isTransition){var u=H.T,p={};H.T=p;try{var v=a(c,s),T=H.S;T!==null&&T(p,v),wm(e,t,v)}catch(k){Bc(e,t,k)}finally{u!==null&&p.types!==null&&(u.types=p.types),H.T=u}}else try{u=a(c,s),wm(e,t,u)}catch(k){Bc(e,t,k)}}function wm(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Sm(e,t,s)},function(s){return Bc(e,t,s)}):Sm(e,t,a)}function Sm(e,t,a){t.status="fulfilled",t.value=a,Cm(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,_m(e,a)))}function Bc(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Cm(t),t=t.next;while(t!==s)}e.action=null}function Cm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Em(e,t){return t}function Tm(e,t){if(Ee){var a=qe.formState;if(a!==null){e:{var s=ge;if(Ee){if($e){t:{for(var c=$e,u=nn;c.nodeType!==8;){if(!u){c=null;break t}if(c=ln(c.nextSibling),c===null){c=null;break t}}u=c.data,c=u==="F!"||u==="F"?c:null}if(c){$e=ln(c.nextSibling),s=c.data==="F!";break e}}la(s)}s=!1}s&&(t=a[0])}}return a=Ct(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Em,lastRenderedState:t},a.queue=s,a=Gm.bind(null,ge,s),s.dispatch=a,s=Uc(!1),u=Vc.bind(null,ge,!1,s.queue),s=Ct(),c={state:t,dispatch:null,action:e,pending:null},s.queue=c,a=Gv.bind(null,ge,c,u,a),c.dispatch=a,s.memoizedState=e,[t,a,!1]}function Am(e){var t=lt();return Dm(t,Be,e)}function Dm(e,t,a){if(t=kc(e,t,Em)[0],e=ai(qn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Zr(t)}catch(p){throw p===Ml?Gs:p}else s=t;t=lt();var c=t.queue,u=c.dispatch;return a!==t.memoizedState&&(ge.flags|=2048,Zl(9,{destroy:void 0},Fv.bind(null,c,a),null)),[s,u,e]}function Fv(e,t){e.action=t}function zm(e){var t=lt(),a=Be;if(a!==null)return Dm(t,a,e);lt(),t=t.memoizedState,a=lt();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Zl(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=ge.updateQueue,t===null&&(t=ti(),ge.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Rm(){return lt().memoizedState}function li(e,t,a,s){var c=Ct();ge.flags|=e,c.memoizedState=Zl(1|t,{destroy:void 0},a,s===void 0?null:s)}function ri(e,t,a,s){var c=lt();s=s===void 0?null:s;var u=c.memoizedState.inst;Be!==null&&s!==null&&Ac(s,Be.memoizedState.deps)?c.memoizedState=Zl(t,u,a,s):(ge.flags|=e,c.memoizedState=Zl(1|t,u,a,s))}function Om(e,t){li(8390656,8,e,t)}function Zc(e,t){ri(2048,8,e,t)}function Qv(e){ge.flags|=4;var t=ge.updateQueue;if(t===null)t=ti(),ge.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Mm(e){var t=lt().memoizedState;return Qv({ref:t,nextImpl:e}),function(){if((Re&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function km(e,t){return ri(4,2,e,t)}function Lm(e,t){return ri(4,4,e,t)}function Um(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bm(e,t,a){a=a!=null?a.concat([e]):null,ri(4,4,Um.bind(null,t,e),a)}function Hc(){}function Zm(e,t){var a=lt();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&Ac(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function Hm(e,t){var a=lt();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&Ac(t,s[1]))return s[0];if(s=e(),Fa){Nn(!0);try{e()}finally{Nn(!1)}}return a.memoizedState=[s,t],s}function qc(e,t,a){return a===void 0||(Hn&1073741824)!==0&&(Se&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=qh(),ge.lanes|=e,ma|=e,a)}function qm(e,t,a,s){return Zt(a,t)?a:Ll.current!==null?(e=qc(e,a,s),Zt(e,t)||(it=!0),e):(Hn&42)===0||(Hn&1073741824)!==0&&(Se&261930)===0?(it=!0,e.memoizedState=a):(e=qh(),ge.lanes|=e,ma|=e,t)}function Im(e,t,a,s,c){var u=B.p;B.p=u!==0&&8>u?u:8;var p=H.T,v={};H.T=v,Vc(e,!1,t,a);try{var T=c(),k=H.S;if(k!==null&&k(v,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var $=Vv(T,s);Hr(e,t,$,Yt(e))}else Hr(e,t,s,Yt(e))}catch(F){Hr(e,t,{then:function(){},status:"rejected",reason:F},Yt())}finally{B.p=u,p!==null&&v.types!==null&&(p.types=v.types),H.T=p}}function Kv(){}function Ic(e,t,a,s){if(e.tag!==5)throw Error(o(476));var c=$m(e).queue;Im(e,c,t,K,a===null?Kv:function(){return Vm(e),a(s)})}function $m(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:K},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Vm(e){var t=$m(e);t.next===null&&(t=e.alternate.memoizedState),Hr(e,t.next.queue,{},Yt())}function $c(){return bt(as)}function Ym(){return lt().memoizedState}function Xm(){return lt().memoizedState}function Jv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Yt();e=ia(a);var s=oa(t,e,a);s!==null&&(Lt(s,t,a),kr(s,t,a)),t={cache:vc()},e.payload=t;return}t=t.return}}function Wv(e,t,a){var s=Yt();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},si(e)?Fm(t,a):(a=ic(e,t,a,s),a!==null&&(Lt(a,e,s),Qm(a,t,s)))}function Gm(e,t,a){var s=Yt();Hr(e,t,a,s)}function Hr(e,t,a,s){var c={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(si(e))Fm(t,c);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var p=t.lastRenderedState,v=u(p,a);if(c.hasEagerState=!0,c.eagerState=v,Zt(v,p))return Hs(e,t,c,0),qe===null&&Zs(),!1}catch{}finally{}if(a=ic(e,t,c,s),a!==null)return Lt(a,e,s),Qm(a,t,s),!0}return!1}function Vc(e,t,a,s){if(s={lane:2,revertLane:ju(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},si(e)){if(t)throw Error(o(479))}else t=ic(e,a,s,2),t!==null&&Lt(t,e,2)}function si(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function Fm(e,t){Ul=Ps=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Qm(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,xr(e,a)}}var qr={readContext:bt,use:ni,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We};qr.useEffectEvent=We;var Km={readContext:bt,use:ni,useCallback:function(e,t){return Ct().memoizedState=[e,t===void 0?null:t],e},useContext:bt,useEffect:Om,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,li(4194308,4,Um.bind(null,t,e),a)},useLayoutEffect:function(e,t){return li(4194308,4,e,t)},useInsertionEffect:function(e,t){li(4,2,e,t)},useMemo:function(e,t){var a=Ct();t=t===void 0?null:t;var s=e();if(Fa){Nn(!0);try{e()}finally{Nn(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=Ct();if(a!==void 0){var c=a(t);if(Fa){Nn(!0);try{a(t)}finally{Nn(!1)}}}else c=t;return s.memoizedState=s.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},s.queue=e,e=e.dispatch=Wv.bind(null,ge,e),[s.memoizedState,e]},useRef:function(e){var t=Ct();return e={current:e},t.memoizedState=e},useState:function(e){e=Uc(e);var t=e.queue,a=Gm.bind(null,ge,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Hc,useDeferredValue:function(e,t){var a=Ct();return qc(a,e,t)},useTransition:function(){var e=Uc(!1);return e=Im.bind(null,ge,e.queue,!0,!1),Ct().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=ge,c=Ct();if(Ee){if(a===void 0)throw Error(o(407));a=a()}else{if(a=t(),qe===null)throw Error(o(349));(Se&127)!==0||xm(s,t,a)}c.memoizedState=a;var u={value:a,getSnapshot:t};return c.queue=u,Om(bm.bind(null,s,u,e),[e]),s.flags|=2048,Zl(9,{destroy:void 0},vm.bind(null,s,u,a,t),null),a},useId:function(){var e=Ct(),t=qe.identifierPrefix;if(Ee){var a=wn,s=_n;a=(s&~(1<<32-St(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=ei++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Yv++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:$c,useFormState:Tm,useActionState:Tm,useOptimistic:function(e){var t=Ct();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Vc.bind(null,ge,!0,a),a.dispatch=t,[e,t]},useMemoCache:Mc,useCacheRefresh:function(){return Ct().memoizedState=Jv.bind(null,ge)},useEffectEvent:function(e){var t=Ct(),a={impl:e};return t.memoizedState=a,function(){if((Re&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},Yc={readContext:bt,use:ni,useCallback:Zm,useContext:bt,useEffect:Zc,useImperativeHandle:Bm,useInsertionEffect:km,useLayoutEffect:Lm,useMemo:Hm,useReducer:ai,useRef:Rm,useState:function(){return ai(qn)},useDebugValue:Hc,useDeferredValue:function(e,t){var a=lt();return qm(a,Be.memoizedState,e,t)},useTransition:function(){var e=ai(qn)[0],t=lt().memoizedState;return[typeof e=="boolean"?e:Zr(e),t]},useSyncExternalStore:gm,useId:Ym,useHostTransitionStatus:$c,useFormState:Am,useActionState:Am,useOptimistic:function(e,t){var a=lt();return jm(a,Be,e,t)},useMemoCache:Mc,useCacheRefresh:Xm};Yc.useEffectEvent=Mm;var Jm={readContext:bt,use:ni,useCallback:Zm,useContext:bt,useEffect:Zc,useImperativeHandle:Bm,useInsertionEffect:km,useLayoutEffect:Lm,useMemo:Hm,useReducer:Lc,useRef:Rm,useState:function(){return Lc(qn)},useDebugValue:Hc,useDeferredValue:function(e,t){var a=lt();return Be===null?qc(a,e,t):qm(a,Be.memoizedState,e,t)},useTransition:function(){var e=Lc(qn)[0],t=lt().memoizedState;return[typeof e=="boolean"?e:Zr(e),t]},useSyncExternalStore:gm,useId:Ym,useHostTransitionStatus:$c,useFormState:zm,useActionState:zm,useOptimistic:function(e,t){var a=lt();return Be!==null?jm(a,Be,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Mc,useCacheRefresh:Xm};Jm.useEffectEvent=Mm;function Xc(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:b({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Gc={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Yt(),c=ia(s);c.payload=t,a!=null&&(c.callback=a),t=oa(e,c,s),t!==null&&(Lt(t,e,s),kr(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Yt(),c=ia(s);c.tag=1,c.payload=t,a!=null&&(c.callback=a),t=oa(e,c,s),t!==null&&(Lt(t,e,s),kr(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Yt(),s=ia(a);s.tag=2,t!=null&&(s.callback=t),t=oa(e,s,a),t!==null&&(Lt(t,e,a),kr(t,e,a))}};function Wm(e,t,a,s,c,u,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,p):t.prototype&&t.prototype.isPureReactComponent?!Er(a,s)||!Er(c,u):!0}function Pm(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Gc.enqueueReplaceState(t,t.state,null)}function Qa(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=b({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}function eh(e){Bs(e)}function th(e){console.error(e)}function nh(e){Bs(e)}function ii(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function ah(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Fc(e,t,a){return a=ia(a),a.tag=3,a.payload={element:null},a.callback=function(){ii(e,t)},a}function lh(e){return e=ia(e),e.tag=3,e}function rh(e,t,a,s){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var u=s.value;e.payload=function(){return c(u)},e.callback=function(){ah(t,a,s)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){ah(t,a,s),typeof c!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})})}function Pv(e,t,a,s,c){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&zl(t,a,c,!0),a=qt.current,a!==null){switch(a.tag){case 31:case 13:return an===null?bi():a.alternate===null&&Pe===0&&(Pe=3),a.flags&=-257,a.flags|=65536,a.lanes=c,s===Fs?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),bu(e,s,c)),!1;case 22:return a.flags|=65536,s===Fs?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),bu(e,s,c)),!1}throw Error(o(435,a.tag))}return bu(e,s,c),bi(),!1}if(Ee)return t=qt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,s!==mc&&(e=Error(o(422),{cause:s}),Dr(Pt(e,a)))):(s!==mc&&(t=Error(o(423),{cause:s}),Dr(Pt(t,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,s=Pt(s,a),c=Fc(e.stateNode,s,c),wc(e,c),Pe!==4&&(Pe=2)),!1;var u=Error(o(520),{cause:s});if(u=Pt(u,a),Qr===null?Qr=[u]:Qr.push(u),Pe!==4&&(Pe=2),t===null)return!0;s=Pt(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=Fc(a.stateNode,s,e),wc(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(ha===null||!ha.has(u))))return a.flags|=65536,c&=-c,a.lanes|=c,c=lh(c),rh(c,e,a,s),wc(a,c),!1}a=a.return}while(a!==null);return!1}var Qc=Error(o(461)),it=!1;function yt(e,t,a,s){t.child=e===null?cm(t,null,a,s):Ga(t,e.child,a,s)}function sh(e,t,a,s,c){a=a.render;var u=t.ref;if("ref"in s){var p={};for(var v in s)v!=="ref"&&(p[v]=s[v])}else p=s;return $a(t),s=Dc(e,t,a,p,u,c),v=zc(),e!==null&&!it?(Rc(e,t,c),In(e,t,c)):(Ee&&v&&dc(t),t.flags|=1,yt(e,t,s,c),t.child)}function ih(e,t,a,s,c){if(e===null){var u=a.type;return typeof u=="function"&&!oc(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,oh(e,t,u,s,c)):(e=Is(a.type,null,s,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!au(e,c)){var p=u.memoizedProps;if(a=a.compare,a=a!==null?a:Er,a(p,s)&&e.ref===t.ref)return In(e,t,c)}return t.flags|=1,e=Ln(u,s),e.ref=t.ref,e.return=t,t.child=e}function oh(e,t,a,s,c){if(e!==null){var u=e.memoizedProps;if(Er(u,s)&&e.ref===t.ref)if(it=!1,t.pendingProps=s=u,au(e,c))(e.flags&131072)!==0&&(it=!0);else return t.lanes=e.lanes,In(e,t,c)}return Kc(e,t,a,s,c)}function ch(e,t,a,s){var c=s.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(s=t.child=e.child,c=0;s!==null;)c=c|s.lanes|s.childLanes,s=s.sibling;s=c&~u}else s=0,t.child=null;return uh(e,t,u,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Xs(t,u!==null?u.cachePool:null),u!==null?fm(t,u):Cc(),mm(t);else return s=t.lanes=536870912,uh(e,t,u!==null?u.baseLanes|a:a,a,s)}else u!==null?(Xs(t,u.cachePool),fm(t,u),ua(),t.memoizedState=null):(e!==null&&Xs(t,null),Cc(),ua());return yt(e,t,c,a),t.child}function Ir(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function uh(e,t,a,s,c){var u=yc();return u=u===null?null:{parent:rt._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&Xs(t,null),Cc(),mm(t),e!==null&&zl(e,t,s,!0),t.childLanes=c,null}function oi(e,t){return t=ui({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function dh(e,t,a){return Ga(t,e.child,null,a),e=oi(t,t.pendingProps),e.flags|=2,It(t),t.memoizedState=null,e}function eb(e,t,a){var s=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ee){if(s.mode==="hidden")return e=oi(t,s),t.lanes=536870912,Ir(null,e);if(Tc(t),(e=$e)?(e=_p(e,nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:na!==null?{id:_n,overflow:wn}:null,retryLane:536870912,hydrationErrors:null},a=Ff(e),a.return=t,t.child=a,vt=t,$e=null)):e=null,e===null)throw la(t);return t.lanes=536870912,null}return oi(t,s)}var u=e.memoizedState;if(u!==null){var p=u.dehydrated;if(Tc(t),c)if(t.flags&256)t.flags&=-257,t=dh(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(it||zl(e,t,a,!1),c=(a&e.childLanes)!==0,it||c){if(s=qe,s!==null&&(p=ef(s,a),p!==0&&p!==u.retryLane))throw u.retryLane=p,Za(e,p),Lt(s,e,p),Qc;bi(),t=dh(e,t,a)}else e=u.treeContext,$e=ln(p.nextSibling),vt=t,Ee=!0,aa=null,nn=!1,e!==null&&Jf(t,e),t=oi(t,s),t.flags|=4096;return t}return e=Ln(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ci(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Kc(e,t,a,s,c){return $a(t),a=Dc(e,t,a,s,void 0,c),s=zc(),e!==null&&!it?(Rc(e,t,c),In(e,t,c)):(Ee&&s&&dc(t),t.flags|=1,yt(e,t,a,c),t.child)}function fh(e,t,a,s,c,u){return $a(t),t.updateQueue=null,a=pm(t,s,a,c),hm(e),s=zc(),e!==null&&!it?(Rc(e,t,u),In(e,t,u)):(Ee&&s&&dc(t),t.flags|=1,yt(e,t,a,u),t.child)}function mh(e,t,a,s,c){if($a(t),t.stateNode===null){var u=El,p=a.contextType;typeof p=="object"&&p!==null&&(u=bt(p)),u=new a(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Gc,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},jc(t),p=a.contextType,u.context=typeof p=="object"&&p!==null?bt(p):El,u.state=t.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Xc(t,a,p,s),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(p=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),p!==u.state&&Gc.enqueueReplaceState(u,u.state,null),Ur(t,s,u,c),Lr(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var v=t.memoizedProps,T=Qa(a,v);u.props=T;var k=u.context,$=a.contextType;p=El,typeof $=="object"&&$!==null&&(p=bt($));var F=a.getDerivedStateFromProps;$=typeof F=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,$||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||k!==p)&&Pm(t,u,s,p),sa=!1;var U=t.memoizedState;u.state=U,Ur(t,s,u,c),Lr(),k=t.memoizedState,v||U!==k||sa?(typeof F=="function"&&(Xc(t,a,F,s),k=t.memoizedState),(T=sa||Wm(t,a,T,s,U,k,p))?($||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=k),u.props=s,u.state=k,u.context=p,s=T):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,_c(e,t),p=t.memoizedProps,$=Qa(a,p),u.props=$,F=t.pendingProps,U=u.context,k=a.contextType,T=El,typeof k=="object"&&k!==null&&(T=bt(k)),v=a.getDerivedStateFromProps,(k=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(p!==F||U!==T)&&Pm(t,u,s,T),sa=!1,U=t.memoizedState,u.state=U,Ur(t,s,u,c),Lr();var I=t.memoizedState;p!==F||U!==I||sa||e!==null&&e.dependencies!==null&&Vs(e.dependencies)?(typeof v=="function"&&(Xc(t,a,v,s),I=t.memoizedState),($=sa||Wm(t,a,$,s,U,I,T)||e!==null&&e.dependencies!==null&&Vs(e.dependencies))?(k||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,I,T),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,I,T)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||p===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=I),u.props=s,u.state=I,u.context=T,s=$):(typeof u.componentDidUpdate!="function"||p===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,ci(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=Ga(t,e.child,null,c),t.child=Ga(t,null,a,c)):yt(e,t,a,c),t.memoizedState=u.state,e=t.child):e=In(e,t,c),e}function hh(e,t,a,s){return qa(),t.flags|=256,yt(e,t,a,s),t.child}var Jc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wc(e){return{baseLanes:e,cachePool:am()}}function Pc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Vt),e}function ph(e,t,a){var s=t.pendingProps,c=!1,u=(t.flags&128)!==0,p;if((p=u)||(p=e!==null&&e.memoizedState===null?!1:(at.current&2)!==0),p&&(c=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(c?ca(t):ua(),(e=$e)?(e=_p(e,nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:na!==null?{id:_n,overflow:wn}:null,retryLane:536870912,hydrationErrors:null},a=Ff(e),a.return=t,t.child=a,vt=t,$e=null)):e=null,e===null)throw la(t);return ku(e)?t.lanes=32:t.lanes=536870912,null}var v=s.children;return s=s.fallback,c?(ua(),c=t.mode,v=ui({mode:"hidden",children:v},c),s=Ha(s,c,a,null),v.return=t,s.return=t,v.sibling=s,t.child=v,s=t.child,s.memoizedState=Wc(a),s.childLanes=Pc(e,p,a),t.memoizedState=Jc,Ir(null,s)):(ca(t),eu(t,v))}var T=e.memoizedState;if(T!==null&&(v=T.dehydrated,v!==null)){if(u)t.flags&256?(ca(t),t.flags&=-257,t=tu(e,t,a)):t.memoizedState!==null?(ua(),t.child=e.child,t.flags|=128,t=null):(ua(),v=s.fallback,c=t.mode,s=ui({mode:"visible",children:s.children},c),v=Ha(v,c,a,null),v.flags|=2,s.return=t,v.return=t,s.sibling=v,t.child=s,Ga(t,e.child,null,a),s=t.child,s.memoizedState=Wc(a),s.childLanes=Pc(e,p,a),t.memoizedState=Jc,t=Ir(null,s));else if(ca(t),ku(v)){if(p=v.nextSibling&&v.nextSibling.dataset,p)var k=p.dgst;p=k,s=Error(o(419)),s.stack="",s.digest=p,Dr({value:s,source:null,stack:null}),t=tu(e,t,a)}else if(it||zl(e,t,a,!1),p=(a&e.childLanes)!==0,it||p){if(p=qe,p!==null&&(s=ef(p,a),s!==0&&s!==T.retryLane))throw T.retryLane=s,Za(e,s),Lt(p,e,s),Qc;Mu(v)||bi(),t=tu(e,t,a)}else Mu(v)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,$e=ln(v.nextSibling),vt=t,Ee=!0,aa=null,nn=!1,e!==null&&Jf(t,e),t=eu(t,s.children),t.flags|=4096);return t}return c?(ua(),v=s.fallback,c=t.mode,T=e.child,k=T.sibling,s=Ln(T,{mode:"hidden",children:s.children}),s.subtreeFlags=T.subtreeFlags&65011712,k!==null?v=Ln(k,v):(v=Ha(v,c,a,null),v.flags|=2),v.return=t,s.return=t,s.sibling=v,t.child=s,Ir(null,s),s=t.child,v=e.child.memoizedState,v===null?v=Wc(a):(c=v.cachePool,c!==null?(T=rt._currentValue,c=c.parent!==T?{parent:T,pool:T}:c):c=am(),v={baseLanes:v.baseLanes|a,cachePool:c}),s.memoizedState=v,s.childLanes=Pc(e,p,a),t.memoizedState=Jc,Ir(e.child,s)):(ca(t),a=e.child,e=a.sibling,a=Ln(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=a,t.memoizedState=null,a)}function eu(e,t){return t=ui({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ui(e,t){return e=Ht(22,e,null,t),e.lanes=0,e}function tu(e,t,a){return Ga(t,e.child,null,a),e=eu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gh(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),gc(e.return,t,a)}function nu(e,t,a,s,c,u){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:c,treeForkCount:u}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=s,p.tail=a,p.tailMode=c,p.treeForkCount=u)}function xh(e,t,a){var s=t.pendingProps,c=s.revealOrder,u=s.tail;s=s.children;var p=at.current,v=(p&2)!==0;if(v?(p=p&1|2,t.flags|=128):p&=1,be(at,p),yt(e,t,s,a),s=Ee?Ar:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gh(e,a,t);else if(e.tag===19)gh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(a=t.child,c=null;a!==null;)e=a.alternate,e!==null&&Ws(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=t.child,t.child=null):(c=a.sibling,a.sibling=null),nu(t,!1,c,a,u,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Ws(e)===null){t.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}nu(t,!0,a,null,u,s);break;case"together":nu(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function In(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ma|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(zl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,a=Ln(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Ln(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function au(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Vs(e)))}function tb(e,t,a){switch(t.tag){case 3:vn(t,t.stateNode.containerInfo),ra(t,rt,e.memoizedState.cache),qa();break;case 27:case 5:za(t);break;case 4:vn(t,t.stateNode.containerInfo);break;case 10:ra(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Tc(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(ca(t),t.flags|=128,null):(a&t.child.childLanes)!==0?ph(e,t,a):(ca(t),e=In(e,t,a),e!==null?e.sibling:null);ca(t);break;case 19:var c=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(zl(e,t,a,!1),s=(a&t.childLanes)!==0),c){if(s)return xh(e,t,a);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),be(at,at.current),s)break;return null;case 22:return t.lanes=0,ch(e,t,a,t.pendingProps);case 24:ra(t,rt,e.memoizedState.cache)}return In(e,t,a)}function vh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)it=!0;else{if(!au(e,a)&&(t.flags&128)===0)return it=!1,tb(e,t,a);it=(e.flags&131072)!==0}else it=!1,Ee&&(t.flags&1048576)!==0&&Kf(t,Ar,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Ya(t.elementType),t.type=e,typeof e=="function")oc(e)?(s=Qa(e,s),t.tag=1,t=mh(null,t,e,s,a)):(t.tag=0,t=Kc(null,t,e,s,a));else{if(e!=null){var c=e.$$typeof;if(c===A){t.tag=11,t=sh(null,t,e,s,a);break e}else if(c===q){t.tag=14,t=ih(null,t,e,s,a);break e}}throw t=Oe(e)||e,Error(o(306,t,""))}}return t;case 0:return Kc(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,c=Qa(s,t.pendingProps),mh(e,t,s,c,a);case 3:e:{if(vn(t,t.stateNode.containerInfo),e===null)throw Error(o(387));s=t.pendingProps;var u=t.memoizedState;c=u.element,_c(e,t),Ur(t,s,null,a);var p=t.memoizedState;if(s=p.cache,ra(t,rt,s),s!==u.cache&&xc(t,[rt],a,!0),Lr(),s=p.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=hh(e,t,s,a);break e}else if(s!==c){c=Pt(Error(o(424)),t),Dr(c),t=hh(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($e=ln(e.firstChild),vt=t,Ee=!0,aa=null,nn=!0,a=cm(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(qa(),s===c){t=In(e,t,a);break e}yt(e,t,s,a)}t=t.child}return t;case 26:return ci(e,t),e===null?(a=Ap(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ee||(a=t.type,e=t.pendingProps,s=Ci(Ft.current).createElement(a),s[xt]=t,s[Dt]=e,Nt(s,a,e),ht(s),t.stateNode=s):t.memoizedState=Ap(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return za(t),e===null&&Ee&&(s=t.stateNode=Cp(t.type,t.pendingProps,Ft.current),vt=t,nn=!0,c=$e,va(t.type)?(Lu=c,$e=ln(s.firstChild)):$e=c),yt(e,t,t.pendingProps.children,a),ci(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((c=s=$e)&&(s=zb(s,t.type,t.pendingProps,nn),s!==null?(t.stateNode=s,vt=t,$e=ln(s.firstChild),nn=!1,c=!0):c=!1),c||la(t)),za(t),c=t.type,u=t.pendingProps,p=e!==null?e.memoizedProps:null,s=u.children,zu(c,u)?s=null:p!==null&&zu(c,p)&&(t.flags|=32),t.memoizedState!==null&&(c=Dc(e,t,Xv,null,null,a),as._currentValue=c),ci(e,t),yt(e,t,s,a),t.child;case 6:return e===null&&Ee&&((e=a=$e)&&(a=Rb(a,t.pendingProps,nn),a!==null?(t.stateNode=a,vt=t,$e=null,e=!0):e=!1),e||la(t)),null;case 13:return ph(e,t,a);case 4:return vn(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ga(t,null,s,a):yt(e,t,s,a),t.child;case 11:return sh(e,t,t.type,t.pendingProps,a);case 7:return yt(e,t,t.pendingProps,a),t.child;case 8:return yt(e,t,t.pendingProps.children,a),t.child;case 12:return yt(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,ra(t,t.type,s.value),yt(e,t,s.children,a),t.child;case 9:return c=t.type._context,s=t.pendingProps.children,$a(t),c=bt(c),s=s(c),t.flags|=1,yt(e,t,s,a),t.child;case 14:return ih(e,t,t.type,t.pendingProps,a);case 15:return oh(e,t,t.type,t.pendingProps,a);case 19:return xh(e,t,a);case 31:return eb(e,t,a);case 22:return ch(e,t,a,t.pendingProps);case 24:return $a(t),s=bt(rt),e===null?(c=yc(),c===null&&(c=qe,u=vc(),c.pooledCache=u,u.refCount++,u!==null&&(c.pooledCacheLanes|=a),c=u),t.memoizedState={parent:s,cache:c},jc(t),ra(t,rt,c)):((e.lanes&a)!==0&&(_c(e,t),Ur(t,null,null,a),Lr()),c=e.memoizedState,u=t.memoizedState,c.parent!==s?(c={parent:s,cache:s},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),ra(t,rt,s)):(s=u.cache,ra(t,rt,s),s!==c.cache&&xc(t,[rt],a,!0))),yt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function $n(e){e.flags|=4}function lu(e,t,a,s,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Yh())e.flags|=8192;else throw Xa=Fs,Nc}else e.flags&=-16777217}function bh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Mp(t))if(Yh())e.flags|=8192;else throw Xa=Fs,Nc}function di(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Tt():536870912,e.lanes|=t,$l|=t)}function $r(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,s|=c.subtreeFlags&65011712,s|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,s|=c.subtreeFlags,s|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function nb(e,t,a){var s=t.pendingProps;switch(fc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return Ve(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Zn(rt),bn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Dl(t)?$n(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,hc())),Ve(t),null;case 26:var c=t.type,u=t.memoizedState;return e===null?($n(t),u!==null?(Ve(t),bh(t,u)):(Ve(t),lu(t,c,null,s,a))):u?u!==e.memoizedState?($n(t),Ve(t),bh(t,u)):(Ve(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&$n(t),Ve(t),lu(t,c,e,s,a)),null;case 27:if(cn(t),a=Ft.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&$n(t);else{if(!s){if(t.stateNode===null)throw Error(o(166));return Ve(t),null}e=Ge.current,Dl(t)?Wf(t):(e=Cp(c,s,a),t.stateNode=e,$n(t))}return Ve(t),null;case 5:if(cn(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&$n(t);else{if(!s){if(t.stateNode===null)throw Error(o(166));return Ve(t),null}if(u=Ge.current,Dl(t))Wf(t);else{var p=Ci(Ft.current);switch(u){case 1:u=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:u=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":u=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":u=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":u=p.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?p.createElement("select",{is:s.is}):p.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?p.createElement(c,{is:s.is}):p.createElement(c)}}u[xt]=t,u[Dt]=s;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)u.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=u;e:switch(Nt(u,c,s),c){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&$n(t)}}return Ve(t),lu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&$n(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(o(166));if(e=Ft.current,Dl(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,c=vt,c!==null)switch(c.tag){case 27:case 5:s=c.memoizedProps}e[xt]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||pp(e.nodeValue,a)),e||la(t,!0)}else e=Ci(e).createTextNode(s),e[xt]=t,t.stateNode=e}return Ve(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=Dl(t),a!==null){if(e===null){if(!s)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[xt]=t}else qa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),e=!1}else a=hc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(It(t),t):(It(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Ve(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Dl(t),s!==null&&s.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[xt]=t}else qa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),c=!1}else c=hc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(It(t),t):(It(t),null)}return It(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,c=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(c=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==c&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),di(t,t.updateQueue),Ve(t),null);case 4:return bn(),e===null&&Cu(t.stateNode.containerInfo),Ve(t),null;case 10:return Zn(t.type),Ve(t),null;case 19:if(Me(at),s=t.memoizedState,s===null)return Ve(t),null;if(c=(t.flags&128)!==0,u=s.rendering,u===null)if(c)$r(s,!1);else{if(Pe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Ws(e),u!==null){for(t.flags|=128,$r(s,!1),e=u.updateQueue,t.updateQueue=e,di(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Gf(a,e),a=a.sibling;return be(at,at.current&1|2),Ee&&Un(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&_t()>gi&&(t.flags|=128,c=!0,$r(s,!1),t.lanes=4194304)}else{if(!c)if(e=Ws(u),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,di(t,e),$r(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!Ee)return Ve(t),null}else 2*_t()-s.renderingStartTime>gi&&a!==536870912&&(t.flags|=128,c=!0,$r(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=_t(),e.sibling=null,a=at.current,be(at,c?a&1|2:a&1),Ee&&Un(t,s.treeForkCount),e):(Ve(t),null);case 22:case 23:return It(t),Ec(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),a=t.updateQueue,a!==null&&di(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&Me(Va),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Zn(rt),Ve(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function ab(e,t){switch(fc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zn(rt),bn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return cn(t),null;case 31:if(t.memoizedState!==null){if(It(t),t.alternate===null)throw Error(o(340));qa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(It(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));qa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(at),null;case 4:return bn(),null;case 10:return Zn(t.type),null;case 22:case 23:return It(t),Ec(),e!==null&&Me(Va),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Zn(rt),null;case 25:return null;default:return null}}function yh(e,t){switch(fc(t),t.tag){case 3:Zn(rt),bn();break;case 26:case 27:case 5:cn(t);break;case 4:bn();break;case 31:t.memoizedState!==null&&It(t);break;case 13:It(t);break;case 19:Me(at);break;case 10:Zn(t.type);break;case 22:case 23:It(t),Ec(),e!==null&&Me(Va);break;case 24:Zn(rt)}}function Vr(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var c=s.next;a=c;do{if((a.tag&e)===e){s=void 0;var u=a.create,p=a.inst;s=u(),p.destroy=s}a=a.next}while(a!==c)}}catch(v){Ue(t,t.return,v)}}function da(e,t,a){try{var s=t.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var u=c.next;s=u;do{if((s.tag&e)===e){var p=s.inst,v=p.destroy;if(v!==void 0){p.destroy=void 0,c=t;var T=a,k=v;try{k()}catch($){Ue(c,T,$)}}}s=s.next}while(s!==u)}}catch($){Ue(t,t.return,$)}}function Nh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{dm(t,a)}catch(s){Ue(e,e.return,s)}}}function jh(e,t,a){a.props=Qa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Ue(e,t,s)}}function Yr(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(c){Ue(e,t,c)}}function Sn(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(c){Ue(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Ue(e,t,c)}else a.current=null}function _h(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(c){Ue(e,e.return,c)}}function ru(e,t,a){try{var s=e.stateNode;Sb(s,e.type,a,t),s[Dt]=t}catch(c){Ue(e,e.return,c)}}function wh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&va(e.type)||e.tag===4}function su(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&va(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function iu(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Mn));else if(s!==4&&(s===27&&va(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(iu(e,t,a),e=e.sibling;e!==null;)iu(e,t,a),e=e.sibling}function fi(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&va(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(fi(e,t,a),e=e.sibling;e!==null;)fi(e,t,a),e=e.sibling}function Sh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Nt(t,s,a),t[xt]=e,t[Dt]=a}catch(u){Ue(e,e.return,u)}}var Vn=!1,ot=!1,ou=!1,Ch=typeof WeakSet=="function"?WeakSet:Set,pt=null;function lb(e,t){if(e=e.containerInfo,Au=Oi,e=Bf(e),tc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var c=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var p=0,v=-1,T=-1,k=0,$=0,F=e,U=null;t:for(;;){for(var I;F!==a||c!==0&&F.nodeType!==3||(v=p+c),F!==u||s!==0&&F.nodeType!==3||(T=p+s),F.nodeType===3&&(p+=F.nodeValue.length),(I=F.firstChild)!==null;)U=F,F=I;for(;;){if(F===e)break t;if(U===a&&++k===c&&(v=p),U===u&&++$===s&&(T=p),(I=F.nextSibling)!==null)break;F=U,U=F.parentNode}F=I}a=v===-1||T===-1?null:{start:v,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(Du={focusedElem:e,selectionRange:a},Oi=!1,pt=t;pt!==null;)if(t=pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pt=e;else for(;pt!==null;){switch(t=pt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)c=e[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,c=u.memoizedProps,u=u.memoizedState,s=a.stateNode;try{var re=Qa(a.type,c);e=s.getSnapshotBeforeUpdate(re,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(me){Ue(a,a.return,me)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Ou(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ou(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,pt=e;break}pt=t.return}}function Eh(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:Xn(e,a),s&4&&Vr(5,a);break;case 1:if(Xn(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(p){Ue(a,a.return,p)}else{var c=Qa(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Ue(a,a.return,p)}}s&64&&Nh(a),s&512&&Yr(a,a.return);break;case 3:if(Xn(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{dm(e,t)}catch(p){Ue(a,a.return,p)}}break;case 27:t===null&&s&4&&Sh(a);case 26:case 5:Xn(e,a),t===null&&s&4&&_h(a),s&512&&Yr(a,a.return);break;case 12:Xn(e,a);break;case 31:Xn(e,a),s&4&&Dh(e,a);break;case 13:Xn(e,a),s&4&&zh(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=mb.bind(null,a),Ob(e,a))));break;case 22:if(s=a.memoizedState!==null||Vn,!s){t=t!==null&&t.memoizedState!==null||ot,c=Vn;var u=ot;Vn=s,(ot=t)&&!u?Gn(e,a,(a.subtreeFlags&8772)!==0):Xn(e,a),Vn=c,ot=u}break;case 30:break;default:Xn(e,a)}}function Th(e){var t=e.alternate;t!==null&&(e.alternate=null,Th(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Bo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ye=null,Rt=!1;function Yn(e,t,a){for(a=a.child;a!==null;)Ah(e,t,a),a=a.sibling}function Ah(e,t,a){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Pn,a)}catch{}switch(a.tag){case 26:ot||Sn(a,t),Yn(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ot||Sn(a,t);var s=Ye,c=Rt;va(a.type)&&(Ye=a.stateNode,Rt=!1),Yn(e,t,a),es(a.stateNode),Ye=s,Rt=c;break;case 5:ot||Sn(a,t);case 6:if(s=Ye,c=Rt,Ye=null,Yn(e,t,a),Ye=s,Rt=c,Ye!==null)if(Rt)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(a.stateNode)}catch(u){Ue(a,t,u)}else try{Ye.removeChild(a.stateNode)}catch(u){Ue(a,t,u)}break;case 18:Ye!==null&&(Rt?(e=Ye,Np(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Jl(e)):Np(Ye,a.stateNode));break;case 4:s=Ye,c=Rt,Ye=a.stateNode.containerInfo,Rt=!0,Yn(e,t,a),Ye=s,Rt=c;break;case 0:case 11:case 14:case 15:da(2,a,t),ot||da(4,a,t),Yn(e,t,a);break;case 1:ot||(Sn(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&jh(a,t,s)),Yn(e,t,a);break;case 21:Yn(e,t,a);break;case 22:ot=(s=ot)||a.memoizedState!==null,Yn(e,t,a),ot=s;break;default:Yn(e,t,a)}}function Dh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Jl(e)}catch(a){Ue(t,t.return,a)}}}function zh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Jl(e)}catch(a){Ue(t,t.return,a)}}function rb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ch),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ch),t;default:throw Error(o(435,e.tag))}}function mi(e,t){var a=rb(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var c=hb.bind(null,e,s);s.then(c,c)}})}function Ot(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var c=a[s],u=e,p=t,v=p;e:for(;v!==null;){switch(v.tag){case 27:if(va(v.type)){Ye=v.stateNode,Rt=!1;break e}break;case 5:Ye=v.stateNode,Rt=!1;break e;case 3:case 4:Ye=v.stateNode.containerInfo,Rt=!0;break e}v=v.return}if(Ye===null)throw Error(o(160));Ah(u,p,c),Ye=null,Rt=!1,u=c.alternate,u!==null&&(u.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Rh(t,e),t=t.sibling}var fn=null;function Rh(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ot(t,e),Mt(e),s&4&&(da(3,e,e.return),Vr(3,e),da(5,e,e.return));break;case 1:Ot(t,e),Mt(e),s&512&&(ot||a===null||Sn(a,a.return)),s&64&&Vn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var c=fn;if(Ot(t,e),Mt(e),s&512&&(ot||a===null||Sn(a,a.return)),s&4){var u=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,c=c.ownerDocument||c;t:switch(s){case"title":u=c.getElementsByTagName("title")[0],(!u||u[vr]||u[xt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=c.createElement(s),c.head.insertBefore(u,c.querySelector("head > title"))),Nt(u,s,a),u[xt]=e,ht(u),s=u;break e;case"link":var p=Rp("link","href",c).get(s+(a.href||""));if(p){for(var v=0;v<p.length;v++)if(u=p[v],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(v,1);break t}}u=c.createElement(s),Nt(u,s,a),c.head.appendChild(u);break;case"meta":if(p=Rp("meta","content",c).get(s+(a.content||""))){for(v=0;v<p.length;v++)if(u=p[v],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(v,1);break t}}u=c.createElement(s),Nt(u,s,a),c.head.appendChild(u);break;default:throw Error(o(468,s))}u[xt]=e,ht(u),s=u}e.stateNode=s}else Op(c,e.type,e.stateNode);else e.stateNode=zp(c,s,e.memoizedProps);else u!==s?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,s===null?Op(c,e.type,e.stateNode):zp(c,s,e.memoizedProps)):s===null&&e.stateNode!==null&&ru(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ot(t,e),Mt(e),s&512&&(ot||a===null||Sn(a,a.return)),a!==null&&s&4&&ru(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ot(t,e),Mt(e),s&512&&(ot||a===null||Sn(a,a.return)),e.flags&32){c=e.stateNode;try{yl(c,"")}catch(re){Ue(e,e.return,re)}}s&4&&e.stateNode!=null&&(c=e.memoizedProps,ru(e,c,a!==null?a.memoizedProps:c)),s&1024&&(ou=!0);break;case 6:if(Ot(t,e),Mt(e),s&4){if(e.stateNode===null)throw Error(o(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(re){Ue(e,e.return,re)}}break;case 3:if(Ai=null,c=fn,fn=Ei(t.containerInfo),Ot(t,e),fn=c,Mt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Jl(t.containerInfo)}catch(re){Ue(e,e.return,re)}ou&&(ou=!1,Oh(e));break;case 4:s=fn,fn=Ei(e.stateNode.containerInfo),Ot(t,e),Mt(e),fn=s;break;case 12:Ot(t,e),Mt(e);break;case 31:Ot(t,e),Mt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,mi(e,s)));break;case 13:Ot(t,e),Mt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pi=_t()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,mi(e,s)));break;case 22:c=e.memoizedState!==null;var T=a!==null&&a.memoizedState!==null,k=Vn,$=ot;if(Vn=k||c,ot=$||T,Ot(t,e),ot=$,Vn=k,Mt(e),s&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(a===null||T||Vn||ot||Ka(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){T=a=t;try{if(u=T.stateNode,c)p=u.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{v=T.stateNode;var F=T.memoizedProps.style,U=F!=null&&F.hasOwnProperty("display")?F.display:null;v.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(re){Ue(T,T.return,re)}}}else if(t.tag===6){if(a===null){T=t;try{T.stateNode.nodeValue=c?"":T.memoizedProps}catch(re){Ue(T,T.return,re)}}}else if(t.tag===18){if(a===null){T=t;try{var I=T.stateNode;c?jp(I,!0):jp(T.stateNode,!1)}catch(re){Ue(T,T.return,re)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,mi(e,a))));break;case 19:Ot(t,e),Mt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,mi(e,s)));break;case 30:break;case 21:break;default:Ot(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(wh(s)){a=s;break}s=s.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var c=a.stateNode,u=su(e);fi(e,u,c);break;case 5:var p=a.stateNode;a.flags&32&&(yl(p,""),a.flags&=-33);var v=su(e);fi(e,v,p);break;case 3:case 4:var T=a.stateNode.containerInfo,k=su(e);iu(e,k,T);break;default:throw Error(o(161))}}catch($){Ue(e,e.return,$)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Oh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Oh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Xn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Eh(e,t.alternate,t),t=t.sibling}function Ka(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:da(4,t,t.return),Ka(t);break;case 1:Sn(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&jh(t,t.return,a),Ka(t);break;case 27:es(t.stateNode);case 26:case 5:Sn(t,t.return),Ka(t);break;case 22:t.memoizedState===null&&Ka(t);break;case 30:Ka(t);break;default:Ka(t)}e=e.sibling}}function Gn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,c=e,u=t,p=u.flags;switch(u.tag){case 0:case 11:case 15:Gn(c,u,a),Vr(4,u);break;case 1:if(Gn(c,u,a),s=u,c=s.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){Ue(s,s.return,k)}if(s=u,c=s.updateQueue,c!==null){var v=s.stateNode;try{var T=c.shared.hiddenCallbacks;if(T!==null)for(c.shared.hiddenCallbacks=null,c=0;c<T.length;c++)um(T[c],v)}catch(k){Ue(s,s.return,k)}}a&&p&64&&Nh(u),Yr(u,u.return);break;case 27:Sh(u);case 26:case 5:Gn(c,u,a),a&&s===null&&p&4&&_h(u),Yr(u,u.return);break;case 12:Gn(c,u,a);break;case 31:Gn(c,u,a),a&&p&4&&Dh(c,u);break;case 13:Gn(c,u,a),a&&p&4&&zh(c,u);break;case 22:u.memoizedState===null&&Gn(c,u,a),Yr(u,u.return);break;case 30:break;default:Gn(c,u,a)}t=t.sibling}}function cu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&zr(a))}function uu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zr(e))}function mn(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Mh(e,t,a,s),t=t.sibling}function Mh(e,t,a,s){var c=t.flags;switch(t.tag){case 0:case 11:case 15:mn(e,t,a,s),c&2048&&Vr(9,t);break;case 1:mn(e,t,a,s);break;case 3:mn(e,t,a,s),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zr(e)));break;case 12:if(c&2048){mn(e,t,a,s),e=t.stateNode;try{var u=t.memoizedProps,p=u.id,v=u.onPostCommit;typeof v=="function"&&v(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Ue(t,t.return,T)}}else mn(e,t,a,s);break;case 31:mn(e,t,a,s);break;case 13:mn(e,t,a,s);break;case 23:break;case 22:u=t.stateNode,p=t.alternate,t.memoizedState!==null?u._visibility&2?mn(e,t,a,s):Xr(e,t):u._visibility&2?mn(e,t,a,s):(u._visibility|=2,Hl(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),c&2048&&cu(p,t);break;case 24:mn(e,t,a,s),c&2048&&uu(t.alternate,t);break;default:mn(e,t,a,s)}}function Hl(e,t,a,s,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,p=t,v=a,T=s,k=p.flags;switch(p.tag){case 0:case 11:case 15:Hl(u,p,v,T,c),Vr(8,p);break;case 23:break;case 22:var $=p.stateNode;p.memoizedState!==null?$._visibility&2?Hl(u,p,v,T,c):Xr(u,p):($._visibility|=2,Hl(u,p,v,T,c)),c&&k&2048&&cu(p.alternate,p);break;case 24:Hl(u,p,v,T,c),c&&k&2048&&uu(p.alternate,p);break;default:Hl(u,p,v,T,c)}t=t.sibling}}function Xr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,c=s.flags;switch(s.tag){case 22:Xr(a,s),c&2048&&cu(s.alternate,s);break;case 24:Xr(a,s),c&2048&&uu(s.alternate,s);break;default:Xr(a,s)}t=t.sibling}}var Gr=8192;function ql(e,t,a){if(e.subtreeFlags&Gr)for(e=e.child;e!==null;)kh(e,t,a),e=e.sibling}function kh(e,t,a){switch(e.tag){case 26:ql(e,t,a),e.flags&Gr&&e.memoizedState!==null&&Yb(a,fn,e.memoizedState,e.memoizedProps);break;case 5:ql(e,t,a);break;case 3:case 4:var s=fn;fn=Ei(e.stateNode.containerInfo),ql(e,t,a),fn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Gr,Gr=16777216,ql(e,t,a),Gr=s):ql(e,t,a));break;default:ql(e,t,a)}}function Lh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Fr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];pt=s,Bh(s,e)}Lh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Uh(e),e=e.sibling}function Uh(e){switch(e.tag){case 0:case 11:case 15:Fr(e),e.flags&2048&&da(9,e,e.return);break;case 3:Fr(e);break;case 12:Fr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,hi(e)):Fr(e);break;default:Fr(e)}}function hi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];pt=s,Bh(s,e)}Lh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:da(8,t,t.return),hi(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,hi(t));break;default:hi(t)}e=e.sibling}}function Bh(e,t){for(;pt!==null;){var a=pt;switch(a.tag){case 0:case 11:case 15:da(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:zr(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,pt=s;else e:for(a=e;pt!==null;){s=pt;var c=s.sibling,u=s.return;if(Th(s),s===a){pt=null;break e}if(c!==null){c.return=u,pt=c;break e}pt=u}}}var sb={getCacheForType:function(e){var t=bt(rt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return bt(rt).controller.signal}},ib=typeof WeakMap=="function"?WeakMap:Map,Re=0,qe=null,Ne=null,Se=0,Le=0,$t=null,fa=!1,Il=!1,du=!1,Fn=0,Pe=0,ma=0,Ja=0,fu=0,Vt=0,$l=0,Qr=null,kt=null,mu=!1,pi=0,Zh=0,gi=1/0,xi=null,ha=null,ft=0,pa=null,Vl=null,Qn=0,hu=0,pu=null,Hh=null,Kr=0,gu=null;function Yt(){return(Re&2)!==0&&Se!==0?Se&-Se:H.T!==null?ju():tf()}function qh(){if(Vt===0)if((Se&536870912)===0||Ee){var e=ze;ze<<=1,(ze&3932160)===0&&(ze=262144),Vt=e}else Vt=536870912;return e=qt.current,e!==null&&(e.flags|=32),Vt}function Lt(e,t,a){(e===qe&&(Le===2||Le===9)||e.cancelPendingCommit!==null)&&(Yl(e,0),ga(e,Se,Vt,!1)),At(e,a),((Re&2)===0||e!==qe)&&(e===qe&&((Re&2)===0&&(Ja|=a),Pe===4&&ga(e,Se,Vt,!1)),Cn(e))}function Ih(e,t,a){if((Re&6)!==0)throw Error(o(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||nt(e,t),c=s?ub(e,t):vu(e,t,!0),u=s;do{if(c===0){Il&&!s&&ga(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!ob(a)){c=vu(e,t,!1),u=!1;continue}if(c===2){if(u=t,e.errorRecoveryDisabledLanes&u)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var v=e;c=Qr;var T=v.current.memoizedState.isDehydrated;if(T&&(Yl(v,p).flags|=256),p=vu(v,p,!1),p!==2){if(du&&!T){v.errorRecoveryDisabledLanes|=u,Ja|=u,c=4;break e}u=kt,kt=c,u!==null&&(kt===null?kt=u:kt.push.apply(kt,u))}c=p}if(u=!1,c!==2)continue}}if(c===1){Yl(e,0),ga(e,t,0,!0);break}e:{switch(s=e,u=c,u){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:ga(s,t,Vt,!fa);break e;case 2:kt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(c=pi+300-_t(),10<c)){if(ga(s,t,Vt,!fa),dt(s,0,!0)!==0)break e;Qn=t,s.timeoutHandle=bp($h.bind(null,s,a,kt,xi,mu,t,Vt,Ja,$l,fa,u,"Throttled",-0,0),c);break e}$h(s,a,kt,xi,mu,t,Vt,Ja,$l,fa,u,null,-0,0)}}break}while(!0);Cn(e)}function $h(e,t,a,s,c,u,p,v,T,k,$,F,U,I){if(e.timeoutHandle=-1,F=t.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mn},kh(t,u,F);var re=(u&62914560)===u?pi-_t():(u&4194048)===u?Zh-_t():0;if(re=Xb(F,re),re!==null){Qn=u,e.cancelPendingCommit=re(Jh.bind(null,e,t,u,a,s,c,p,v,T,$,F,null,U,I)),ga(e,u,p,!k);return}}Jh(e,t,u,a,s,c,p,v,T)}function ob(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var c=a[s],u=c.getSnapshot;c=c.value;try{if(!Zt(u(),c))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ga(e,t,a,s){t&=~fu,t&=~Ja,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var c=t;0<c;){var u=31-St(c),p=1<<u;s[u]=-1,c&=~p}a!==0&&Ma(e,a,t)}function vi(){return(Re&6)===0?(Jr(0),!1):!0}function xu(){if(Ne!==null){if(Le===0)var e=Ne.return;else e=Ne,Bn=Ia=null,Oc(e),kl=null,Or=0,e=Ne;for(;e!==null;)yh(e.alternate,e),e=e.return;Ne=null}}function Yl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Tb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Qn=0,xu(),qe=e,Ne=a=Ln(e.current,null),Se=t,Le=0,$t=null,fa=!1,Il=nt(e,t),du=!1,$l=Vt=fu=Ja=ma=Pe=0,kt=Qr=null,mu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var c=31-St(s),u=1<<c;t|=e[c],s&=~u}return Fn=t,Zs(),a}function Vh(e,t){ge=null,H.H=qr,t===Ml||t===Gs?(t=sm(),Le=3):t===Nc?(t=sm(),Le=4):Le=t===Qc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,$t=t,Ne===null&&(Pe=1,ii(e,Pt(t,e.current)))}function Yh(){var e=qt.current;return e===null?!0:(Se&4194048)===Se?an===null:(Se&62914560)===Se||(Se&536870912)!==0?e===an:!1}function Xh(){var e=H.H;return H.H=qr,e===null?qr:e}function Gh(){var e=H.A;return H.A=sb,e}function bi(){Pe=4,fa||(Se&4194048)!==Se&&qt.current!==null||(Il=!0),(ma&134217727)===0&&(Ja&134217727)===0||qe===null||ga(qe,Se,Vt,!1)}function vu(e,t,a){var s=Re;Re|=2;var c=Xh(),u=Gh();(qe!==e||Se!==t)&&(xi=null,Yl(e,t)),t=!1;var p=Pe;e:do try{if(Le!==0&&Ne!==null){var v=Ne,T=$t;switch(Le){case 8:xu(),p=6;break e;case 3:case 2:case 9:case 6:qt.current===null&&(t=!0);var k=Le;if(Le=0,$t=null,Xl(e,v,T,k),a&&Il){p=0;break e}break;default:k=Le,Le=0,$t=null,Xl(e,v,T,k)}}cb(),p=Pe;break}catch($){Vh(e,$)}while(!0);return t&&e.shellSuspendCounter++,Bn=Ia=null,Re=s,H.H=c,H.A=u,Ne===null&&(qe=null,Se=0,Zs()),p}function cb(){for(;Ne!==null;)Fh(Ne)}function ub(e,t){var a=Re;Re|=2;var s=Xh(),c=Gh();qe!==e||Se!==t?(xi=null,gi=_t()+500,Yl(e,t)):Il=nt(e,t);e:do try{if(Le!==0&&Ne!==null){t=Ne;var u=$t;t:switch(Le){case 1:Le=0,$t=null,Xl(e,t,u,1);break;case 2:case 9:if(lm(u)){Le=0,$t=null,Qh(t);break}t=function(){Le!==2&&Le!==9||qe!==e||(Le=7),Cn(e)},u.then(t,t);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:lm(u)?(Le=0,$t=null,Qh(t)):(Le=0,$t=null,Xl(e,t,u,7));break;case 5:var p=null;switch(Ne.tag){case 26:p=Ne.memoizedState;case 5:case 27:var v=Ne;if(p?Mp(p):v.stateNode.complete){Le=0,$t=null;var T=v.sibling;if(T!==null)Ne=T;else{var k=v.return;k!==null?(Ne=k,yi(k)):Ne=null}break t}}Le=0,$t=null,Xl(e,t,u,5);break;case 6:Le=0,$t=null,Xl(e,t,u,6);break;case 8:xu(),Pe=6;break e;default:throw Error(o(462))}}db();break}catch($){Vh(e,$)}while(!0);return Bn=Ia=null,H.H=s,H.A=c,Re=a,Ne!==null?0:(qe=null,Se=0,Zs(),Pe)}function db(){for(;Ne!==null&&!Do();)Fh(Ne)}function Fh(e){var t=vh(e.alternate,e,Fn);e.memoizedProps=e.pendingProps,t===null?yi(e):Ne=t}function Qh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=fh(a,t,t.pendingProps,t.type,void 0,Se);break;case 11:t=fh(a,t,t.pendingProps,t.type.render,t.ref,Se);break;case 5:Oc(t);default:yh(a,t),t=Ne=Gf(t,Fn),t=vh(a,t,Fn)}e.memoizedProps=e.pendingProps,t===null?yi(e):Ne=t}function Xl(e,t,a,s){Bn=Ia=null,Oc(t),kl=null,Or=0;var c=t.return;try{if(Pv(e,c,t,a,Se)){Pe=1,ii(e,Pt(a,e.current)),Ne=null;return}}catch(u){if(c!==null)throw Ne=c,u;Pe=1,ii(e,Pt(a,e.current)),Ne=null;return}t.flags&32768?(Ee||s===1?e=!0:Il||(Se&536870912)!==0?e=!1:(fa=e=!0,(s===2||s===9||s===3||s===6)&&(s=qt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Kh(t,e)):yi(t)}function yi(e){var t=e;do{if((t.flags&32768)!==0){Kh(t,fa);return}e=t.return;var a=nb(t.alternate,t,Fn);if(a!==null){Ne=a;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Pe===0&&(Pe=5)}function Kh(e,t){do{var a=ab(e.alternate,e);if(a!==null){a.flags&=32767,Ne=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Ne=e;return}Ne=e=a}while(e!==null);Pe=6,Ne=null}function Jh(e,t,a,s,c,u,p,v,T){e.cancelPendingCommit=null;do Ni();while(ft!==0);if((Re&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(u=t.lanes|t.childLanes,u|=sc,Qt(e,a,u,p,v,T),e===qe&&(Ne=qe=null,Se=0),Vl=t,pa=e,Qn=a,hu=u,pu=c,Hh=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,pb(Rn,function(){return np(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=H.T,H.T=null,c=B.p,B.p=2,p=Re,Re|=4;try{lb(e,t,a)}finally{Re=p,B.p=c,H.T=s}}ft=1,Wh(),Ph(),ep()}}function Wh(){if(ft===1){ft=0;var e=pa,t=Vl,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var s=B.p;B.p=2;var c=Re;Re|=4;try{Rh(t,e);var u=Du,p=Bf(e.containerInfo),v=u.focusedElem,T=u.selectionRange;if(p!==v&&v&&v.ownerDocument&&Uf(v.ownerDocument.documentElement,v)){if(T!==null&&tc(v)){var k=T.start,$=T.end;if($===void 0&&($=k),"selectionStart"in v)v.selectionStart=k,v.selectionEnd=Math.min($,v.value.length);else{var F=v.ownerDocument||document,U=F&&F.defaultView||window;if(U.getSelection){var I=U.getSelection(),re=v.textContent.length,me=Math.min(T.start,re),He=T.end===void 0?me:Math.min(T.end,re);!I.extend&&me>He&&(p=He,He=me,me=p);var R=Lf(v,me),z=Lf(v,He);if(R&&z&&(I.rangeCount!==1||I.anchorNode!==R.node||I.anchorOffset!==R.offset||I.focusNode!==z.node||I.focusOffset!==z.offset)){var M=F.createRange();M.setStart(R.node,R.offset),I.removeAllRanges(),me>He?(I.addRange(M),I.extend(z.node,z.offset)):(M.setEnd(z.node,z.offset),I.addRange(M))}}}}for(F=[],I=v;I=I.parentNode;)I.nodeType===1&&F.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<F.length;v++){var X=F[v];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Oi=!!Au,Du=Au=null}finally{Re=c,B.p=s,H.T=a}}e.current=t,ft=2}}function Ph(){if(ft===2){ft=0;var e=pa,t=Vl,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var s=B.p;B.p=2;var c=Re;Re|=4;try{Eh(e,t.alternate,t)}finally{Re=c,B.p=s,H.T=a}}ft=3}}function ep(){if(ft===4||ft===3){ft=0,Ra();var e=pa,t=Vl,a=Qn,s=Hh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ft=5:(ft=0,Vl=pa=null,tp(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ha=null),Lo(a),t=t.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Pn,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=H.T,c=B.p,B.p=2,H.T=null;try{for(var u=e.onRecoverableError,p=0;p<s.length;p++){var v=s[p];u(v.value,{componentStack:v.stack})}}finally{H.T=t,B.p=c}}(Qn&3)!==0&&Ni(),Cn(e),c=e.pendingLanes,(a&261930)!==0&&(c&42)!==0?e===gu?Kr++:(Kr=0,gu=e):Kr=0,Jr(0)}}function tp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,zr(t)))}function Ni(){return Wh(),Ph(),ep(),np()}function np(){if(ft!==5)return!1;var e=pa,t=hu;hu=0;var a=Lo(Qn),s=H.T,c=B.p;try{B.p=32>a?32:a,H.T=null,a=pu,pu=null;var u=pa,p=Qn;if(ft=0,Vl=pa=null,Qn=0,(Re&6)!==0)throw Error(o(331));var v=Re;if(Re|=4,Uh(u.current),Mh(u,u.current,p,a),Re=v,Jr(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Pn,u)}catch{}return!0}finally{B.p=c,H.T=s,tp(e,t)}}function ap(e,t,a){t=Pt(a,t),t=Fc(e.stateNode,t,2),e=oa(e,t,2),e!==null&&(At(e,2),Cn(e))}function Ue(e,t,a){if(e.tag===3)ap(e,e,a);else for(;t!==null;){if(t.tag===3){ap(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ha===null||!ha.has(s))){e=Pt(a,e),a=lh(2),s=oa(t,a,2),s!==null&&(rh(a,s,t,e),At(s,2),Cn(s));break}}t=t.return}}function bu(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new ib;var c=new Set;s.set(t,c)}else c=s.get(t),c===void 0&&(c=new Set,s.set(t,c));c.has(a)||(du=!0,c.add(a),e=fb.bind(null,e,t,a),t.then(e,e))}function fb(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,qe===e&&(Se&a)===a&&(Pe===4||Pe===3&&(Se&62914560)===Se&&300>_t()-pi?(Re&2)===0&&Yl(e,0):fu|=a,$l===Se&&($l=0)),Cn(e)}function lp(e,t){t===0&&(t=Tt()),e=Za(e,t),e!==null&&(At(e,t),Cn(e))}function mb(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),lp(e,a)}function hb(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(o(314))}s!==null&&s.delete(t),lp(e,a)}function pb(e,t){return yn(e,t)}var ji=null,Gl=null,yu=!1,_i=!1,Nu=!1,xa=0;function Cn(e){e!==Gl&&e.next===null&&(Gl===null?ji=Gl=e:Gl=Gl.next=e),_i=!0,yu||(yu=!0,xb())}function Jr(e,t){if(!Nu&&_i){Nu=!0;do for(var a=!1,s=ji;s!==null;){if(e!==0){var c=s.pendingLanes;if(c===0)var u=0;else{var p=s.suspendedLanes,v=s.pingedLanes;u=(1<<31-St(42|e)+1)-1,u&=c&~(p&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,op(s,u))}else u=Se,u=dt(s,s===qe?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||nt(s,u)||(a=!0,op(s,u));s=s.next}while(a);Nu=!1}}function gb(){rp()}function rp(){_i=yu=!1;var e=0;xa!==0&&Eb()&&(e=xa);for(var t=_t(),a=null,s=ji;s!==null;){var c=s.next,u=sp(s,t);u===0?(s.next=null,a===null?ji=c:a.next=c,c===null&&(Gl=a)):(a=s,(e!==0||(u&3)!==0)&&(_i=!0)),s=c}ft!==0&&ft!==5||Jr(e),xa!==0&&(xa=0)}function sp(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,c=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var p=31-St(u),v=1<<p,T=c[p];T===-1?((v&a)===0||(v&s)!==0)&&(c[p]=jn(v,t)):T<=t&&(e.expiredLanes|=v),u&=~v}if(t=qe,a=Se,a=dt(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Le===2||Le===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&ml(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||nt(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&ml(s),Lo(a)){case 2:case 8:a=Es;break;case 32:a=Rn;break;case 268435456:a=gr;break;default:a=Rn}return s=ip.bind(null,e),a=yn(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&ml(s),e.callbackPriority=2,e.callbackNode=null,2}function ip(e,t){if(ft!==0&&ft!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ni()&&e.callbackNode!==a)return null;var s=Se;return s=dt(e,e===qe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Ih(e,s,t),sp(e,_t()),e.callbackNode!=null&&e.callbackNode===a?ip.bind(null,e):null)}function op(e,t){if(Ni())return null;Ih(e,t,!0)}function xb(){Ab(function(){(Re&6)!==0?yn(Cs,gb):rp()})}function ju(){if(xa===0){var e=Rl;e===0&&(e=Te,Te<<=1,(Te&261888)===0&&(Te=256)),xa=e}return xa}function cp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zs(""+e)}function up(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function vb(e,t,a,s,c){if(t==="submit"&&a&&a.stateNode===c){var u=cp((c[Dt]||null).action),p=s.submitter;p&&(t=(t=p[Dt]||null)?cp(t.formAction):p.getAttribute("formAction"),t!==null&&(u=t,p=null));var v=new ks("action","action",null,s,c);e.push({event:v,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(xa!==0){var T=p?up(c,p):new FormData(c);Ic(a,{pending:!0,data:T,method:c.method,action:u},null,T)}}else typeof u=="function"&&(v.preventDefault(),T=p?up(c,p):new FormData(c),Ic(a,{pending:!0,data:T,method:c.method,action:u},u,T))},currentTarget:c}]})}}for(var _u=0;_u<rc.length;_u++){var wu=rc[_u],bb=wu.toLowerCase(),yb=wu[0].toUpperCase()+wu.slice(1);dn(bb,"on"+yb)}dn(qf,"onAnimationEnd"),dn(If,"onAnimationIteration"),dn($f,"onAnimationStart"),dn("dblclick","onDoubleClick"),dn("focusin","onFocus"),dn("focusout","onBlur"),dn(Lv,"onTransitionRun"),dn(Uv,"onTransitionStart"),dn(Bv,"onTransitionCancel"),dn(Vf,"onTransitionEnd"),vl("onMouseEnter",["mouseout","mouseover"]),vl("onMouseLeave",["mouseout","mouseover"]),vl("onPointerEnter",["pointerout","pointerover"]),vl("onPointerLeave",["pointerout","pointerover"]),ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ka("onBeforeInput",["compositionend","keypress","textInput","paste"]),ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wr));function dp(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],c=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var p=s.length-1;0<=p;p--){var v=s[p],T=v.instance,k=v.currentTarget;if(v=v.listener,T!==u&&c.isPropagationStopped())break e;u=v,c.currentTarget=k;try{u(c)}catch($){Bs($)}c.currentTarget=null,u=T}else for(p=0;p<s.length;p++){if(v=s[p],T=v.instance,k=v.currentTarget,v=v.listener,T!==u&&c.isPropagationStopped())break e;u=v,c.currentTarget=k;try{u(c)}catch($){Bs($)}c.currentTarget=null,u=T}}}}function je(e,t){var a=t[Uo];a===void 0&&(a=t[Uo]=new Set);var s=e+"__bubble";a.has(s)||(fp(t,e,2,!1),a.add(s))}function Su(e,t,a){var s=0;t&&(s|=4),fp(a,e,s,t)}var wi="_reactListening"+Math.random().toString(36).slice(2);function Cu(e){if(!e[wi]){e[wi]=!0,lf.forEach(function(a){a!=="selectionchange"&&(Nb.has(a)||Su(a,!1,e),Su(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wi]||(t[wi]=!0,Su("selectionchange",!1,t))}}function fp(e,t,a,s){switch(qp(t)){case 2:var c=Qb;break;case 8:c=Kb;break;default:c=qu}a=c.bind(null,t,a,e),c=void 0,!Xo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),s?c!==void 0?e.addEventListener(t,a,{capture:!0,passive:c}):e.addEventListener(t,a,!0):c!==void 0?e.addEventListener(t,a,{passive:c}):e.addEventListener(t,a,!1)}function Eu(e,t,a,s,c){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var p=s.tag;if(p===3||p===4){var v=s.stateNode.containerInfo;if(v===c)break;if(p===4)for(p=s.return;p!==null;){var T=p.tag;if((T===3||T===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;v!==null;){if(p=pl(v),p===null)return;if(T=p.tag,T===5||T===6||T===26||T===27){s=u=p;continue e}v=v.parentNode}}s=s.return}xf(function(){var k=u,$=Vo(a),F=[];e:{var U=Yf.get(e);if(U!==void 0){var I=ks,re=e;switch(e){case"keypress":if(Os(a)===0)break e;case"keydown":case"keyup":I=hv;break;case"focusin":re="focus",I=Ko;break;case"focusout":re="blur",I=Ko;break;case"beforeblur":case"afterblur":I=Ko;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=yf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=nv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=xv;break;case qf:case If:case $f:I=rv;break;case Vf:I=bv;break;case"scroll":case"scrollend":I=ev;break;case"wheel":I=Nv;break;case"copy":case"cut":case"paste":I=iv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=jf;break;case"toggle":case"beforetoggle":I=_v}var me=(t&4)!==0,He=!me&&(e==="scroll"||e==="scrollend"),R=me?U!==null?U+"Capture":null:U;me=[];for(var z=k,M;z!==null;){var X=z;if(M=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||M===null||R===null||(X=yr(z,R),X!=null&&me.push(Pr(z,X,M))),He)break;z=z.return}0<me.length&&(U=new I(U,re,null,a,$),F.push({event:U,listeners:me}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",I=e==="mouseout"||e==="pointerout",U&&a!==$o&&(re=a.relatedTarget||a.fromElement)&&(pl(re)||re[hl]))break e;if((I||U)&&(U=$.window===$?$:(U=$.ownerDocument)?U.defaultView||U.parentWindow:window,I?(re=a.relatedTarget||a.toElement,I=k,re=re?pl(re):null,re!==null&&(He=f(re),me=re.tag,re!==He||me!==5&&me!==27&&me!==6)&&(re=null)):(I=null,re=k),I!==re)){if(me=yf,X="onMouseLeave",R="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(me=jf,X="onPointerLeave",R="onPointerEnter",z="pointer"),He=I==null?U:br(I),M=re==null?U:br(re),U=new me(X,z+"leave",I,a,$),U.target=He,U.relatedTarget=M,X=null,pl($)===k&&(me=new me(R,z+"enter",re,a,$),me.target=M,me.relatedTarget=He,X=me),He=X,I&&re)t:{for(me=jb,R=I,z=re,M=0,X=R;X;X=me(X))M++;X=0;for(var ce=z;ce;ce=me(ce))X++;for(;0<M-X;)R=me(R),M--;for(;0<X-M;)z=me(z),X--;for(;M--;){if(R===z||z!==null&&R===z.alternate){me=R;break t}R=me(R),z=me(z)}me=null}else me=null;I!==null&&mp(F,U,I,me,!1),re!==null&&He!==null&&mp(F,He,re,me,!0)}}e:{if(U=k?br(k):window,I=U.nodeName&&U.nodeName.toLowerCase(),I==="select"||I==="input"&&U.type==="file")var Ae=Df;else if(Tf(U))if(zf)Ae=Ov;else{Ae=zv;var ie=Dv}else I=U.nodeName,!I||I.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?k&&Io(k.elementType)&&(Ae=Df):Ae=Rv;if(Ae&&(Ae=Ae(e,k))){Af(F,Ae,a,$);break e}ie&&ie(e,U,k),e==="focusout"&&k&&U.type==="number"&&k.memoizedProps.value!=null&&qo(U,"number",U.value)}switch(ie=k?br(k):window,e){case"focusin":(Tf(ie)||ie.contentEditable==="true")&&(wl=ie,nc=k,Tr=null);break;case"focusout":Tr=nc=wl=null;break;case"mousedown":ac=!0;break;case"contextmenu":case"mouseup":case"dragend":ac=!1,Zf(F,a,$);break;case"selectionchange":if(kv)break;case"keydown":case"keyup":Zf(F,a,$)}var xe;if(Wo)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else _l?Cf(e,a)&&(Ce="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ce="onCompositionStart");Ce&&(_f&&a.locale!=="ko"&&(_l||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&_l&&(xe=vf()):(ta=$,Go="value"in ta?ta.value:ta.textContent,_l=!0)),ie=Si(k,Ce),0<ie.length&&(Ce=new Nf(Ce,e,null,a,$),F.push({event:Ce,listeners:ie}),xe?Ce.data=xe:(xe=Ef(a),xe!==null&&(Ce.data=xe)))),(xe=Sv?Cv(e,a):Ev(e,a))&&(Ce=Si(k,"onBeforeInput"),0<Ce.length&&(ie=new Nf("onBeforeInput","beforeinput",null,a,$),F.push({event:ie,listeners:Ce}),ie.data=xe)),vb(F,e,k,a,$)}dp(F,t)})}function Pr(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Si(e,t){for(var a=t+"Capture",s=[];e!==null;){var c=e,u=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||u===null||(c=yr(e,a),c!=null&&s.unshift(Pr(e,c,u)),c=yr(e,t),c!=null&&s.push(Pr(e,c,u))),e.tag===3)return s;e=e.return}return[]}function jb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function mp(e,t,a,s,c){for(var u=t._reactName,p=[];a!==null&&a!==s;){var v=a,T=v.alternate,k=v.stateNode;if(v=v.tag,T!==null&&T===s)break;v!==5&&v!==26&&v!==27||k===null||(T=k,c?(k=yr(a,u),k!=null&&p.unshift(Pr(a,k,T))):c||(k=yr(a,u),k!=null&&p.push(Pr(a,k,T)))),a=a.return}p.length!==0&&e.push({event:t,listeners:p})}var _b=/\r\n?/g,wb=/\u0000|\uFFFD/g;function hp(e){return(typeof e=="string"?e:""+e).replace(_b,`
`).replace(wb,"")}function pp(e,t){return t=hp(t),hp(e)===t}function Ze(e,t,a,s,c,u){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||yl(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&yl(e,""+s);break;case"className":As(e,"class",s);break;case"tabIndex":As(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":As(e,a,s);break;case"style":pf(e,s,u);break;case"data":if(t!=="object"){As(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=zs(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&Ze(e,t,"name",c.name,c,null),Ze(e,t,"formEncType",c.formEncType,c,null),Ze(e,t,"formMethod",c.formMethod,c,null),Ze(e,t,"formTarget",c.formTarget,c,null)):(Ze(e,t,"encType",c.encType,c,null),Ze(e,t,"method",c.method,c,null),Ze(e,t,"target",c.target,c,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=zs(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=Mn);break;case"onScroll":s!=null&&je("scroll",e);break;case"onScrollEnd":s!=null&&je("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(a=s.__html,a!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=zs(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":je("beforetoggle",e),je("toggle",e),Ts(e,"popover",s);break;case"xlinkActuate":On(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":On(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":On(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":On(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":On(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":On(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":On(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":On(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":On(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ts(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=W0.get(a)||a,Ts(e,a,s))}}function Tu(e,t,a,s,c,u){switch(a){case"style":pf(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(a=s.__html,a!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof s=="string"?yl(e,s):(typeof s=="number"||typeof s=="bigint")&&yl(e,""+s);break;case"onScroll":s!=null&&je("scroll",e);break;case"onScrollEnd":s!=null&&je("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rf.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),t=a.slice(2,c?a.length-7:void 0),u=e[Dt]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,c),typeof s=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,c);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Ts(e,a,s)}}}function Nt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",e),je("load",e);var s=!1,c=!1,u;for(u in a)if(a.hasOwnProperty(u)){var p=a[u];if(p!=null)switch(u){case"src":s=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ze(e,t,u,p,a,null)}}c&&Ze(e,t,"srcSet",a.srcSet,a,null),s&&Ze(e,t,"src",a.src,a,null);return;case"input":je("invalid",e);var v=u=p=c=null,T=null,k=null;for(s in a)if(a.hasOwnProperty(s)){var $=a[s];if($!=null)switch(s){case"name":c=$;break;case"type":p=$;break;case"checked":T=$;break;case"defaultChecked":k=$;break;case"value":u=$;break;case"defaultValue":v=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(o(137,t));break;default:Ze(e,t,s,$,a,null)}}df(e,u,v,T,k,p,c,!1);return;case"select":je("invalid",e),s=p=u=null;for(c in a)if(a.hasOwnProperty(c)&&(v=a[c],v!=null))switch(c){case"value":u=v;break;case"defaultValue":p=v;break;case"multiple":s=v;default:Ze(e,t,c,v,a,null)}t=u,a=p,e.multiple=!!s,t!=null?bl(e,!!s,t,!1):a!=null&&bl(e,!!s,a,!0);return;case"textarea":je("invalid",e),u=c=s=null;for(p in a)if(a.hasOwnProperty(p)&&(v=a[p],v!=null))switch(p){case"value":s=v;break;case"defaultValue":c=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(o(91));break;default:Ze(e,t,p,v,a,null)}mf(e,s,c,u);return;case"option":for(T in a)if(a.hasOwnProperty(T)&&(s=a[T],s!=null))switch(T){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ze(e,t,T,s,a,null)}return;case"dialog":je("beforetoggle",e),je("toggle",e),je("cancel",e),je("close",e);break;case"iframe":case"object":je("load",e);break;case"video":case"audio":for(s=0;s<Wr.length;s++)je(Wr[s],e);break;case"image":je("error",e),je("load",e);break;case"details":je("toggle",e);break;case"embed":case"source":case"link":je("error",e),je("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(s=a[k],s!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ze(e,t,k,s,a,null)}return;default:if(Io(t)){for($ in a)a.hasOwnProperty($)&&(s=a[$],s!==void 0&&Tu(e,t,$,s,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(s=a[v],s!=null&&Ze(e,t,v,s,a,null))}function Sb(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,u=null,p=null,v=null,T=null,k=null,$=null;for(I in a){var F=a[I];if(a.hasOwnProperty(I)&&F!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":T=F;default:s.hasOwnProperty(I)||Ze(e,t,I,null,s,F)}}for(var U in s){var I=s[U];if(F=a[U],s.hasOwnProperty(U)&&(I!=null||F!=null))switch(U){case"type":u=I;break;case"name":c=I;break;case"checked":k=I;break;case"defaultChecked":$=I;break;case"value":p=I;break;case"defaultValue":v=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(o(137,t));break;default:I!==F&&Ze(e,t,U,I,s,F)}}Ho(e,p,v,T,k,$,u,c);return;case"select":I=p=v=U=null;for(u in a)if(T=a[u],a.hasOwnProperty(u)&&T!=null)switch(u){case"value":break;case"multiple":I=T;default:s.hasOwnProperty(u)||Ze(e,t,u,null,s,T)}for(c in s)if(u=s[c],T=a[c],s.hasOwnProperty(c)&&(u!=null||T!=null))switch(c){case"value":U=u;break;case"defaultValue":v=u;break;case"multiple":p=u;default:u!==T&&Ze(e,t,c,u,s,T)}t=v,a=p,s=I,U!=null?bl(e,!!a,U,!1):!!s!=!!a&&(t!=null?bl(e,!!a,t,!0):bl(e,!!a,a?[]:"",!1));return;case"textarea":I=U=null;for(v in a)if(c=a[v],a.hasOwnProperty(v)&&c!=null&&!s.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ze(e,t,v,null,s,c)}for(p in s)if(c=s[p],u=a[p],s.hasOwnProperty(p)&&(c!=null||u!=null))switch(p){case"value":U=c;break;case"defaultValue":I=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==u&&Ze(e,t,p,c,s,u)}ff(e,U,I);return;case"option":for(var re in a)if(U=a[re],a.hasOwnProperty(re)&&U!=null&&!s.hasOwnProperty(re))switch(re){case"selected":e.selected=!1;break;default:Ze(e,t,re,null,s,U)}for(T in s)if(U=s[T],I=a[T],s.hasOwnProperty(T)&&U!==I&&(U!=null||I!=null))switch(T){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Ze(e,t,T,U,s,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in a)U=a[me],a.hasOwnProperty(me)&&U!=null&&!s.hasOwnProperty(me)&&Ze(e,t,me,null,s,U);for(k in s)if(U=s[k],I=a[k],s.hasOwnProperty(k)&&U!==I&&(U!=null||I!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(o(137,t));break;default:Ze(e,t,k,U,s,I)}return;default:if(Io(t)){for(var He in a)U=a[He],a.hasOwnProperty(He)&&U!==void 0&&!s.hasOwnProperty(He)&&Tu(e,t,He,void 0,s,U);for($ in s)U=s[$],I=a[$],!s.hasOwnProperty($)||U===I||U===void 0&&I===void 0||Tu(e,t,$,U,s,I);return}}for(var R in a)U=a[R],a.hasOwnProperty(R)&&U!=null&&!s.hasOwnProperty(R)&&Ze(e,t,R,null,s,U);for(F in s)U=s[F],I=a[F],!s.hasOwnProperty(F)||U===I||U==null&&I==null||Ze(e,t,F,U,s,I)}function gp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Cb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var c=a[s],u=c.transferSize,p=c.initiatorType,v=c.duration;if(u&&v&&gp(p)){for(p=0,v=c.responseEnd,s+=1;s<a.length;s++){var T=a[s],k=T.startTime;if(k>v)break;var $=T.transferSize,F=T.initiatorType;$&&gp(F)&&(T=T.responseEnd,p+=$*(T<v?1:(v-k)/(T-k)))}if(--s,t+=8*(u+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Au=null,Du=null;function Ci(e){return e.nodeType===9?e:e.ownerDocument}function xp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function zu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ru=null;function Eb(){var e=window.event;return e&&e.type==="popstate"?e===Ru?!1:(Ru=e,!0):(Ru=null,!1)}var bp=typeof setTimeout=="function"?setTimeout:void 0,Tb=typeof clearTimeout=="function"?clearTimeout:void 0,yp=typeof Promise=="function"?Promise:void 0,Ab=typeof queueMicrotask=="function"?queueMicrotask:typeof yp<"u"?function(e){return yp.resolve(null).then(e).catch(Db)}:bp;function Db(e){setTimeout(function(){throw e})}function va(e){return e==="head"}function Np(e,t){var a=t,s=0;do{var c=a.nextSibling;if(e.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(c),Jl(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")es(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,es(a);for(var u=a.firstChild;u;){var p=u.nextSibling,v=u.nodeName;u[vr]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=p}}else a==="body"&&es(e.ownerDocument.body);a=c}while(a);Jl(t)}function jp(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function Ou(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ou(a),Bo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function zb(e,t,a,s){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[vr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=ln(e.nextSibling),e===null)break}return null}function Rb(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ln(e.nextSibling),e===null))return null;return e}function _p(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ln(e.nextSibling),e===null))return null;return e}function Mu(e){return e.data==="$?"||e.data==="$~"}function ku(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ob(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Lu=null;function wp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return ln(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Sp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Cp(e,t,a){switch(t=Ci(a),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function es(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Bo(e)}var rn=new Map,Ep=new Set;function Ei(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Kn=B.d;B.d={f:Mb,r:kb,D:Lb,C:Ub,L:Bb,m:Zb,X:qb,S:Hb,M:Ib};function Mb(){var e=Kn.f(),t=vi();return e||t}function kb(e){var t=gl(e);t!==null&&t.tag===5&&t.type==="form"?Vm(t):Kn.r(e)}var Fl=typeof document>"u"?null:document;function Tp(e,t,a){var s=Fl;if(s&&typeof t=="string"&&t){var c=Jt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Ep.has(c)||(Ep.add(c),e={rel:e,crossOrigin:a,href:t},s.querySelector(c)===null&&(t=s.createElement("link"),Nt(t,"link",e),ht(t),s.head.appendChild(t)))}}function Lb(e){Kn.D(e),Tp("dns-prefetch",e,null)}function Ub(e,t){Kn.C(e,t),Tp("preconnect",e,t)}function Bb(e,t,a){Kn.L(e,t,a);var s=Fl;if(s&&e&&t){var c='link[rel="preload"][as="'+Jt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Jt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Jt(a.imageSizes)+'"]')):c+='[href="'+Jt(e)+'"]';var u=c;switch(t){case"style":u=Ql(e);break;case"script":u=Kl(e)}rn.has(u)||(e=b({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),rn.set(u,e),s.querySelector(c)!==null||t==="style"&&s.querySelector(ts(u))||t==="script"&&s.querySelector(ns(u))||(t=s.createElement("link"),Nt(t,"link",e),ht(t),s.head.appendChild(t)))}}function Zb(e,t){Kn.m(e,t);var a=Fl;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Jt(s)+'"][href="'+Jt(e)+'"]',u=c;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Kl(e)}if(!rn.has(u)&&(e=b({rel:"modulepreload",href:e},t),rn.set(u,e),a.querySelector(c)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ns(u)))return}s=a.createElement("link"),Nt(s,"link",e),ht(s),a.head.appendChild(s)}}}function Hb(e,t,a){Kn.S(e,t,a);var s=Fl;if(s&&e){var c=xl(s).hoistableStyles,u=Ql(e);t=t||"default";var p=c.get(u);if(!p){var v={loading:0,preload:null};if(p=s.querySelector(ts(u)))v.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},a),(a=rn.get(u))&&Uu(e,a);var T=p=s.createElement("link");ht(T),Nt(T,"link",e),T._p=new Promise(function(k,$){T.onload=k,T.onerror=$}),T.addEventListener("load",function(){v.loading|=1}),T.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Ti(p,t,s)}p={type:"stylesheet",instance:p,count:1,state:v},c.set(u,p)}}}function qb(e,t){Kn.X(e,t);var a=Fl;if(a&&e){var s=xl(a).hoistableScripts,c=Kl(e),u=s.get(c);u||(u=a.querySelector(ns(c)),u||(e=b({src:e,async:!0},t),(t=rn.get(c))&&Bu(e,t),u=a.createElement("script"),ht(u),Nt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(c,u))}}function Ib(e,t){Kn.M(e,t);var a=Fl;if(a&&e){var s=xl(a).hoistableScripts,c=Kl(e),u=s.get(c);u||(u=a.querySelector(ns(c)),u||(e=b({src:e,async:!0,type:"module"},t),(t=rn.get(c))&&Bu(e,t),u=a.createElement("script"),ht(u),Nt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(c,u))}}function Ap(e,t,a,s){var c=(c=Ft.current)?Ei(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Ql(a.href),a=xl(c).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ql(a.href);var u=xl(c).hoistableStyles,p=u.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,p),(u=c.querySelector(ts(e)))&&!u._p&&(p.instance=u,p.state.loading=5),rn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},rn.set(e,a),u||$b(c,e,a,p.state))),t&&s===null)throw Error(o(528,""));return p}if(t&&s!==null)throw Error(o(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Kl(a),a=xl(c).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Ql(e){return'href="'+Jt(e)+'"'}function ts(e){return'link[rel="stylesheet"]['+e+"]"}function Dp(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function $b(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Nt(t,"link",a),ht(t),e.head.appendChild(t))}function Kl(e){return'[src="'+Jt(e)+'"]'}function ns(e){return"script[async]"+e}function zp(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Jt(a.href)+'"]');if(s)return t.instance=s,ht(s),s;var c=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),ht(s),Nt(s,"style",c),Ti(s,a.precedence,e),t.instance=s;case"stylesheet":c=Ql(a.href);var u=e.querySelector(ts(c));if(u)return t.state.loading|=4,t.instance=u,ht(u),u;s=Dp(a),(c=rn.get(c))&&Uu(s,c),u=(e.ownerDocument||e).createElement("link"),ht(u);var p=u;return p._p=new Promise(function(v,T){p.onload=v,p.onerror=T}),Nt(u,"link",s),t.state.loading|=4,Ti(u,a.precedence,e),t.instance=u;case"script":return u=Kl(a.src),(c=e.querySelector(ns(u)))?(t.instance=c,ht(c),c):(s=a,(c=rn.get(u))&&(s=b({},a),Bu(s,c)),e=e.ownerDocument||e,c=e.createElement("script"),ht(c),Nt(c,"link",s),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Ti(s,a.precedence,e));return t.instance}function Ti(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=s.length?s[s.length-1]:null,u=c,p=0;p<s.length;p++){var v=s[p];if(v.dataset.precedence===t)u=v;else if(u!==c)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Uu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Bu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ai=null;function Rp(e,t,a){if(Ai===null){var s=new Map,c=Ai=new Map;c.set(a,s)}else c=Ai,s=c.get(a),s||(s=new Map,c.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var u=a[c];if(!(u[vr]||u[xt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var p=u.getAttribute(t)||"";p=e+p;var v=s.get(p);v?v.push(u):s.set(p,[u])}}return s}function Op(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Vb(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Mp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Yb(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=Ql(s.href),u=t.querySelector(ts(c));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Di.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,ht(u);return}u=t.ownerDocument||t,s=Dp(s),(c=rn.get(c))&&Uu(s,c),u=u.createElement("link"),ht(u);var p=u;p._p=new Promise(function(v,T){p.onload=v,p.onerror=T}),Nt(u,"link",s),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Di.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Zu=0;function Xb(e,t){return e.stylesheets&&e.count===0&&Ri(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Ri(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Zu===0&&(Zu=62500*Cb());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ri(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Zu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(c)}}:null}function Di(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ri(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zi=null;function Ri(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zi=new Map,t.forEach(Gb,e),zi=null,Di.call(e))}function Gb(e,t){if(!(t.state.loading&4)){var a=zi.get(e);if(a)var s=a.get(null);else{a=new Map,zi.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<c.length;u++){var p=c[u];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),s=p)}s&&a.set(null,s)}c=t.instance,p=c.getAttribute("data-precedence"),u=a.get(p)||s,u===s&&a.set(null,c),a.set(p,c),this.count++,s=Di.bind(this),c.addEventListener("load",s),c.addEventListener("error",s),u?u.parentNode.insertBefore(c,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var as={$$typeof:Z,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function Fb(e,t,a,s,c,u,p,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=un(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=un(0),this.hiddenUpdates=un(null),this.identifierPrefix=s,this.onUncaughtError=c,this.onCaughtError=u,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function kp(e,t,a,s,c,u,p,v,T,k,$,F){return e=new Fb(e,t,a,p,T,k,$,F,v),t=1,u===!0&&(t|=24),u=Ht(3,null,null,t),e.current=u,u.stateNode=e,t=vc(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:a,cache:t},jc(u),e}function Lp(e){return e?(e=El,e):El}function Up(e,t,a,s,c,u){c=Lp(c),s.context===null?s.context=c:s.pendingContext=c,s=ia(t),s.payload={element:a},u=u===void 0?null:u,u!==null&&(s.callback=u),a=oa(e,s,t),a!==null&&(Lt(a,e,t),kr(a,e,t))}function Bp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Hu(e,t){Bp(e,t),(e=e.alternate)&&Bp(e,t)}function Zp(e){if(e.tag===13||e.tag===31){var t=Za(e,67108864);t!==null&&Lt(t,e,67108864),Hu(e,67108864)}}function Hp(e){if(e.tag===13||e.tag===31){var t=Yt();t=ko(t);var a=Za(e,t);a!==null&&Lt(a,e,t),Hu(e,t)}}var Oi=!0;function Qb(e,t,a,s){var c=H.T;H.T=null;var u=B.p;try{B.p=2,qu(e,t,a,s)}finally{B.p=u,H.T=c}}function Kb(e,t,a,s){var c=H.T;H.T=null;var u=B.p;try{B.p=8,qu(e,t,a,s)}finally{B.p=u,H.T=c}}function qu(e,t,a,s){if(Oi){var c=Iu(s);if(c===null)Eu(e,t,s,Mi,a),Ip(e,s);else if(Wb(c,e,t,a,s))s.stopPropagation();else if(Ip(e,s),t&4&&-1<Jb.indexOf(e)){for(;c!==null;){var u=gl(c);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var p=ke(u.pendingLanes);if(p!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;p;){var T=1<<31-St(p);v.entanglements[1]|=T,p&=~T}Cn(u),(Re&6)===0&&(gi=_t()+500,Jr(0))}}break;case 31:case 13:v=Za(u,2),v!==null&&Lt(v,u,2),vi(),Hu(u,2)}if(u=Iu(s),u===null&&Eu(e,t,s,Mi,a),u===c)break;c=u}c!==null&&s.stopPropagation()}else Eu(e,t,s,null,a)}}function Iu(e){return e=Vo(e),$u(e)}var Mi=null;function $u(e){if(Mi=null,e=pl(e),e!==null){var t=f(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=m(t),e!==null)return e;e=null}else if(a===31){if(e=h(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Mi=e,null}function qp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ss()){case Cs:return 2;case Es:return 8;case Rn:case zo:return 32;case gr:return 268435456;default:return 32}default:return 32}}var Vu=!1,ba=null,ya=null,Na=null,ls=new Map,rs=new Map,ja=[],Jb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ip(e,t){switch(e){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":Na=null;break;case"pointerover":case"pointerout":ls.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rs.delete(t.pointerId)}}function ss(e,t,a,s,c,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:u,targetContainers:[c]},t!==null&&(t=gl(t),t!==null&&Zp(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Wb(e,t,a,s,c){switch(t){case"focusin":return ba=ss(ba,e,t,a,s,c),!0;case"dragenter":return ya=ss(ya,e,t,a,s,c),!0;case"mouseover":return Na=ss(Na,e,t,a,s,c),!0;case"pointerover":var u=c.pointerId;return ls.set(u,ss(ls.get(u)||null,e,t,a,s,c)),!0;case"gotpointercapture":return u=c.pointerId,rs.set(u,ss(rs.get(u)||null,e,t,a,s,c)),!0}return!1}function $p(e){var t=pl(e.target);if(t!==null){var a=f(t);if(a!==null){if(t=a.tag,t===13){if(t=m(a),t!==null){e.blockedOn=t,nf(e.priority,function(){Hp(a)});return}}else if(t===31){if(t=h(a),t!==null){e.blockedOn=t,nf(e.priority,function(){Hp(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ki(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Iu(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);$o=s,a.target.dispatchEvent(s),$o=null}else return t=gl(a),t!==null&&Zp(t),e.blockedOn=a,!1;t.shift()}return!0}function Vp(e,t,a){ki(e)&&a.delete(t)}function Pb(){Vu=!1,ba!==null&&ki(ba)&&(ba=null),ya!==null&&ki(ya)&&(ya=null),Na!==null&&ki(Na)&&(Na=null),ls.forEach(Vp),rs.forEach(Vp)}function Li(e,t){e.blockedOn===t&&(e.blockedOn=null,Vu||(Vu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Pb)))}var Ui=null;function Yp(e){Ui!==e&&(Ui=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ui===e&&(Ui=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],c=e[t+2];if(typeof s!="function"){if($u(s||a)===null)continue;break}var u=gl(a);u!==null&&(e.splice(t,3),t-=3,Ic(u,{pending:!0,data:c,method:a.method,action:s},s,c))}}))}function Jl(e){function t(T){return Li(T,e)}ba!==null&&Li(ba,e),ya!==null&&Li(ya,e),Na!==null&&Li(Na,e),ls.forEach(t),rs.forEach(t);for(var a=0;a<ja.length;a++){var s=ja[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<ja.length&&(a=ja[0],a.blockedOn===null);)$p(a),a.blockedOn===null&&ja.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var c=a[s],u=a[s+1],p=c[Dt]||null;if(typeof u=="function")p||Yp(a);else if(p){var v=null;if(u&&u.hasAttribute("formAction")){if(c=u,p=u[Dt]||null)v=p.formAction;else if($u(c)!==null)continue}else v=p.action;typeof v=="function"?a[s+1]=v:(a.splice(s,3),s-=3),Yp(a)}}}function Xp(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function Yu(e){this._internalRoot=e}Bi.prototype.render=Yu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var a=t.current,s=Yt();Up(a,s,e,t,null,null)},Bi.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Up(e.current,2,null,e,null,null),vi(),t[hl]=null}};function Bi(e){this._internalRoot=e}Bi.prototype.unstable_scheduleHydration=function(e){if(e){var t=tf();e={blockedOn:null,target:e,priority:t};for(var a=0;a<ja.length&&t!==0&&t<ja[a].priority;a++);ja.splice(a,0,e),a===0&&$p(e)}};var Gp=l.version;if(Gp!=="19.2.1")throw Error(o(527,Gp,"19.2.1"));B.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=x(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var ey={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zi.isDisabled&&Zi.supportsFiber)try{Pn=Zi.inject(ey),wt=Zi}catch{}}return os.createRoot=function(e,t){if(!d(e))throw Error(o(299));var a=!1,s="",c=eh,u=th,p=nh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=kp(e,1,!1,null,null,a,s,null,c,u,p,Xp),e[hl]=t.current,Cu(e),new Yu(t)},os.hydrateRoot=function(e,t,a){if(!d(e))throw Error(o(299));var s=!1,c="",u=eh,p=th,v=nh,T=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(T=a.formState)),t=kp(e,1,!0,t,a??null,s,c,T,u,p,v,Xp),t.context=Lp(null),a=t.current,s=Yt(),s=ko(s),c=ia(s),c.callback=null,oa(a,c,s),a=s,t.current.lanes=a,At(t,a),Cn(t),e[hl]=t.current,Cu(e),new Bi(t)},os.version="19.2.1",os}var eg;function Qy(){if(eg)return Gu.exports;eg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(l){console.error(l)}}return n(),Gu.exports=Fy(),Gu.exports}var Ky=Qy();function kd(n,l){let i;try{i=n()}catch{return}return{getItem:d=>{var f;const m=g=>g===null?null:JSON.parse(g,void 0),h=(f=i.getItem(d))!=null?f:null;return h instanceof Promise?h.then(m):m(h)},setItem:(d,f)=>i.setItem(d,JSON.stringify(f,void 0)),removeItem:d=>i.removeItem(d)}}const pd=n=>l=>{try{const i=n(l);return i instanceof Promise?i:{then(o){return pd(o)(i)},catch(o){return this}}}catch(i){return{then(o){return this},catch(o){return pd(o)(i)}}}},Jy=(n,l)=>(i,o,d)=>{let f={storage:kd(()=>localStorage),partialize:S=>S,version:0,merge:(S,D)=>({...D,...S}),...l},m=!1;const h=new Set,g=new Set;let x=f.storage;if(!x)return n((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),i(...S)},o,d);const y=()=>{const S=f.partialize({...o()});return x.setItem(f.name,{state:S,version:f.version})},b=d.setState;d.setState=(S,D)=>(b(S,D),y());const N=n((...S)=>(i(...S),y()),o,d);d.getInitialState=()=>N;let w;const C=()=>{var S,D;if(!x)return;m=!1,h.forEach(O=>{var Z;return O((Z=o())!=null?Z:N)});const E=((D=f.onRehydrateStorage)==null?void 0:D.call(f,(S=o())!=null?S:N))||void 0;return pd(x.getItem.bind(x))(f.name).then(O=>{if(O)if(typeof O.version=="number"&&O.version!==f.version){if(f.migrate){const Z=f.migrate(O.state,O.version);return Z instanceof Promise?Z.then(A=>[!0,A]):[!0,Z]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,O.state];return[!1,void 0]}).then(O=>{var Z;const[A,_]=O;if(w=f.merge(_,(Z=o())!=null?Z:N),i(w,!0),A)return y()}).then(()=>{E?.(w,void 0),w=o(),m=!0,g.forEach(O=>O(w))}).catch(O=>{E?.(void 0,O)})};return d.persist={setOptions:S=>{f={...f,...S},S.storage&&(x=S.storage)},clearStorage:()=>{x?.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>C(),hasHydrated:()=>m,onHydrate:S=>(h.add(S),()=>{h.delete(S)}),onFinishHydration:S=>(g.add(S),()=>{g.delete(S)})},f.skipHydration||C(),w||N},wx=Jy,V={CURTAIN:"curtain",WALLPAPER:"wallpaper",WOODEN_BLIND:"wooden_blind",ROLLER_BLIND:"roller_blind",VERTICAL_BLIND:"vertical_blind",ALUMINUM_BLIND:"aluminum_blind",PARTITION:"partition",PLEATED_SCREEN:"pleated_screen",REMOVAL:"removal"},ve={CURTAIN_MAIN:"curtain_main",CURTAIN_SHEER:"curtain_sheer",WALLPAPER:V.WALLPAPER,WOODEN_BLIND:V.WOODEN_BLIND,ROLLER_BLIND:V.ROLLER_BLIND,VERTICAL_BLIND:V.VERTICAL_BLIND,ALUMINUM_BLIND:V.ALUMINUM_BLIND,PARTITION:V.PARTITION,PLEATED_SCREEN:V.PLEATED_SCREEN},et={MAIN:"main",SHEER:"sheer",DOUBLE:"double"},Dn={CENTER:"center",SIDE:"side"},Wy="marnthara.input.v6.4",tg=[{label:" (Wave)",value:""},{label:" (Pleated)",value:""},{label:" (Eyelet)",value:""},{label:" (Roman)",value:""},{label:"/ (Rod)",value:""},{label:" (Louis)",value:""}],Py={:{hasRail:!0,hasHook:!0,hasChain:!1,hasEyelet:!1},:{hasRail:!0,hasHook:!0,hasChain:!0,hasEyelet:!1},:{hasRail:!0,hasHook:!1,hasChain:!1,hasEyelet:!0},:{hasRail:!0,hasHook:!1,hasChain:!0,hasEyelet:!1},:{hasRail:!1,hasHook:!1,hasChain:!1,hasEyelet:!1},:{hasRail:!0,hasHook:!0,hasChain:!1,hasEyelet:!1}},Ta={[V.CURTAIN]:{id:V.CURTAIN,name:"",unit:"",icon:"AlignLeft"},[V.WALLPAPER]:{id:V.WALLPAPER,name:"",unit:"",icon:"ScrollText"},[V.WOODEN_BLIND]:{id:V.WOODEN_BLIND,name:"",unit:"",icon:"Blinds"},[V.ROLLER_BLIND]:{id:V.ROLLER_BLIND,name:"",unit:"",icon:"Minimize2"},[V.VERTICAL_BLIND]:{id:V.VERTICAL_BLIND,name:"",unit:"",icon:"Columns"},[V.ALUMINUM_BLIND]:{id:V.ALUMINUM_BLIND,name:"",unit:"",icon:"Blinds"},[V.PARTITION]:{id:V.PARTITION,name:"",unit:"",icon:"Grid3X3"},[V.PLEATED_SCREEN]:{id:V.PLEATED_SCREEN,name:"",unit:"",icon:"Grid3X3"},[V.REMOVAL]:{id:V.REMOVAL,name:"/",unit:"",icon:"Scissors"}},eN={name:"Marnthara Smart Quotation",address:"123/45     10110",phone:"081-234-5678",taxId:"",logoUrl:"",baseVatRate:0,bankAccount:{bankName:"",accountName:".  ",accountNumber:"123-4-56789-0",branch:"",isEnabled:!0},pdf:{paymentTerms:" 50%  ",priceValidity:" 30 ",notes:[" ()"," 1  ()"]}},tN=n=>({customer:{name:"",phone:"",address:"",taxId:"",installationAddress:"",useSameAddress:!0,showInstallationAddress:!0},setCustomer:l=>n(i=>({customer:{...i.customer,...l}}))}),Ld=n=>n.type===V.CURTAIN,Ud=n=>n.type===V.WALLPAPER,Bd=n=>n.type===V.REMOVAL,Zd=n=>!Ld(n)&&!Ud(n)&&!Bd(n),cs=()=>Math.random().toString(36).substring(2,9),nN=n=>({rooms:[],addRoom:l=>n(i=>({rooms:[...i.rooms,{id:cs(),name:l||` ${i.rooms.length+1}`,items:[],is_suspended:!1,room_defaults:{}}]})),updateRoom:(l,i)=>n(o=>({rooms:o.rooms.map(d=>d.id===l?{...d,...i}:d)})),removeRoom:l=>n(i=>({rooms:i.rooms.filter(o=>o.id!==l)})),duplicateRoom:l=>n(i=>{const o=i.rooms.find(f=>f.id===l);if(!o)return i;const d={...o,id:cs(),name:`${o.name} (Copy)`,items:o.items.map(f=>({...f,id:cs()}))};return{rooms:[...i.rooms,d]}}),toggleRoomSuspension:l=>n(i=>({rooms:i.rooms.map(o=>o.id===l?{...o,is_suspended:!o.is_suspended}:o)})),updateRoomDefaults:(l,i)=>n(o=>({rooms:o.rooms.map(d=>d.id===l?{...d,room_defaults:{...d.room_defaults,...i}}:d)})),addItem:(l,i)=>n(o=>({rooms:o.rooms.map(d=>d.id!==l?d:{...d,items:[...d.items,{...i,id:cs()}]})})),updateItem:(l,i,o)=>n(d=>({rooms:d.rooms.map(f=>f.id!==l?f:{...f,items:f.items.map(m=>m.id===i?{...m,...o}:m)})})),removeItem:(l,i)=>n(o=>({rooms:o.rooms.map(d=>d.id!==l?d:{...d,items:d.items.filter(f=>f.id!==i)})})),duplicateItem:(l,i)=>n(o=>({rooms:o.rooms.map(d=>{if(d.id!==l)return d;const f=d.items.findIndex(x=>x.id===i);if(f===-1)return d;const h={...d.items[f],id:cs()},g=[...d.items];return g.splice(f+1,0,h),{...d,items:g}})})),updatePriceByCode:(l,i,o)=>{let d=0;const f=String(o);return n(m=>({rooms:m.rooms.map(h=>({...h,items:h.items.map(g=>l===ve.CURTAIN_MAIN&&g.type===V.CURTAIN&&g.code===i?(d++,{...g,price_per_m_raw:f}):l===ve.CURTAIN_SHEER&&g.type===V.CURTAIN&&g.sheer_code===i?(d++,{...g,sheer_price_per_m:f}):l===ve.WALLPAPER&&g.type===V.WALLPAPER&&g.wallpaper_code===i?(d++,{...g,price_per_roll:o}):l===g.type&&Zd(g)&&g.code===i?(d++,{...g,price_sqyd:o}):g)}))})),d},resetProject:()=>n(()=>({rooms:[],customer:{name:"",phone:"",address:"",taxId:"",installationAddress:"",useSameAddress:!0,showInstallationAddress:!0},discount:{type:"amount",value:0}})),factoryReset:()=>{localStorage.removeItem("marnthara.input.v6.4"),window.location.reload()}}),aN=n=>({shopConfig:eN,discount:{type:"amount",value:0},setDiscount:l=>n({discount:l}),updateShopConfig:l=>n(i=>({shopConfig:{...i.shopConfig,...l}})),updateLogo:l=>n(i=>({shopConfig:{...i.shopConfig,logoUrl:l}}))}),lN=()=>Math.random().toString(36).substring(2,9),rN=(n,l)=>({inventory:{},addToInventory:(i,o)=>{o.cost_per_yard&&o.cost_per_yard>0&&l().updateFabricCost(o.code,o.cost_per_yard);const d={id:lN(),code:o.code,default_price_per_m:o.default_price_per_m,note:o.note};n(f=>({inventory:{...f.inventory,[i]:[...f.inventory[i]||[],d]}}))},removeFromInventory:(i,o)=>n(d=>({inventory:{...d.inventory,[i]:(d.inventory[i]||[]).filter(f=>f.id!==o)}})),updateInventoryItem:(i,o,d)=>{d.cost_per_yard&&d.cost_per_yard>0&&d.code&&l().updateFabricCost(d.code,d.cost_per_yard);const f={...d};delete f.cost_per_yard,n(m=>({inventory:{...m.inventory,[i]:(m.inventory[i]||[]).map(h=>h.id===o?{...h,...f}:h)}}))},importInventory:i=>{try{let o;const d=i.trim();try{o=JSON.parse(d)}catch{try{const h=decodeURIComponent(escape(atob(d)));o=JSON.parse(h)}catch{return!1}}const f=o.inventory||o.inventory?o.inventory:null;if(typeof f!="object"||f===null)return!1;const m={...f};return Object.values(m).forEach(h=>{Array.isArray(h)&&h.forEach(g=>{g.cost_per_yard&&g.cost_per_yard>0&&(l().updateFabricCost(g.code,g.cost_per_yard),delete g.cost_per_yard)})}),n(h=>({inventory:{...h.inventory,...m}})),!0}catch(o){return console.error("Import failed:",o),!1}}}),sN=n=>({activeModal:null,modalProps:{},modalStack:[],openModal:(l,i={})=>n(o=>o.activeModal&&o.activeModal!==l?{modalStack:[...o.modalStack,{type:o.activeModal,props:o.modalProps}],activeModal:l,modalProps:i}:{activeModal:l,modalProps:i}),closeModal:()=>n(l=>{if(l.modalStack.length>0){const i=l.modalStack[l.modalStack.length-1],o=l.modalStack.slice(0,-1);return{activeModal:i.type,modalProps:i.props,modalStack:o}}return{activeModal:null,modalProps:{}}}),closeAllModals:()=>n({activeModal:null,modalProps:{},modalStack:[]})}),ng={},ag={},iN=(n,l)=>({laborCosts:ng,accessoryCosts:ag,fabricCosts:{},updateLaborCost:(i,o)=>n(d=>({laborCosts:{...d.laborCosts,[i]:{...d.laborCosts[i]||{},...o}}})),updateAccessoryCost:(i,o)=>n(d=>({accessoryCosts:{...d.accessoryCosts,[i]:o}})),removeAccessoryCost:i=>n(o=>{const d={...o.accessoryCosts};return delete d[i],{accessoryCosts:d}}),updateFabricCost:(i,o)=>n(d=>({fabricCosts:{...d.fabricCosts,[i]:o}})),removeFabricCost:i=>n(o=>{const d={...o.fabricCosts};return delete d[i],{fabricCosts:d}}),updateUnifiedCost:(i,o)=>{l().updateFabricCost(i,o)},batchUpdateFabricCosts:i=>n(o=>({fabricCosts:{...o.fabricCosts,...i}})),resetProductionCosts:()=>n(()=>({laborCosts:ng,accessoryCosts:ag,fabricCosts:{}})),exportSecrets:()=>{const{laborCosts:i,accessoryCosts:o,fabricCosts:d}=l();return JSON.stringify({laborCosts:i,accessoryCosts:o,fabricCosts:d},null,2)},importSecrets:i=>{try{const o=JSON.parse(i);return!o.laborCosts&&!o.accessoryCosts&&!o.fabricCosts?!1:(n(d=>({laborCosts:{...d.laborCosts,...o.laborCosts},accessoryCosts:{...d.accessoryCosts,...o.accessoryCosts},fabricCosts:{...d.fabricCosts,...o.fabricCosts}})),!0)}catch(o){return console.error("Import failed",o),!1}}}),lg={curtain:{multiplier_wave:2.7,multiplier_pleated:2.7,multiplier_eyelet:2.7,multiplier_roman:1.5,roman_blind_offset:.45,hem_offset:.3,yard_conversion:1.11},wallpaper:{roll_width:.53,roll_length:10,waste_margin:.1},area:{sqm_to_sqyd:1.2,min_yield:1}},oN=n=>({formulas:lg,updateFormula:(l,i)=>n(o=>({formulas:{...o.formulas,[l]:{...o.formulas[l],...i}}})),resetFormulas:()=>n(()=>({formulas:lg}))}),se=Md()(Hy(wx((...n)=>({...tN(...n),...nN(...n),...aN(...n),...rN(...n),...sN(...n),...iN(...n),...oN(...n)}),{name:Wy,storage:kd(()=>localStorage),version:1,partialize:n=>{const{rooms:l,customer:i,shopConfig:o,discount:d,laborCosts:f,accessoryCosts:m,fabricCosts:h,inventory:g,formulas:x}=n;return{rooms:l,customer:i,shopConfig:o,discount:d,laborCosts:f,accessoryCosts:m,fabricCosts:h,inventory:g,formulas:x}}}),{limit:20,partialize:n=>{const{rooms:l,customer:i,shopConfig:o,discount:d,laborCosts:f,accessoryCosts:m,fabricCosts:h,inventory:g,formulas:x}=n;return{rooms:l,customer:i,shopConfig:o,discount:d,laborCosts:f,accessoryCosts:m,fabricCosts:h,inventory:g,formulas:x}}})),P=n=>{if(typeof n=="number")return Number.isFinite(n)?n:0;if(!n)return 0;const l=typeof n=="string"?n.replace(/,/g,""):String(n),i=parseFloat(l);return Number.isFinite(i)?i:0},pn=n=>{const l=P(n);return l>0?l.toFixed(2):""},cN=n=>{const l=n.replace(/,/g,"").trim();if(l===""||l===".")return"";let i=parseFloat(l);return isNaN(i)?n:(Math.abs(i)>=10&&(i=i/100),i.toFixed(2))},uN=(n,l=2,i=!1)=>Number.isFinite(n)?n.toLocaleString("th-TH",{minimumFractionDigits:i?2:0,maximumFractionDigits:l}):"0",_e=n=>uN(n,2,!0),dN=n=>{if(!n)return"";const l=["","","","","","","","","","",""],i=["","","","","","",""];n=parseFloat(n.toFixed(2));let o="";if(n===0)return"";const d=h=>{let g="";const x=String(h);for(let y=0;y<x.length;y++){const b=parseInt(x[y]),N=x.length-y-1;b!==0&&(N===1&&b===1?g+=i[N]:N===1&&b===2?g+=""+i[N]:N===0&&b===1&&x.length>1?g+="":g+=l[b]+i[N])}return g},f=Math.floor(n),m=Math.round((n-f)*100);return f>0&&(o+=d(f),o+=""),m>0?(o+=d(m),o+=""):o+="",o},rg=(n,l,i,o)=>{if(n<=0)return 0;const f=(o||se.getState().formulas).curtain;let m=2.5;if(l==="")m=f.multiplier_wave??2.7;else if(l==="")m=f.multiplier_pleated??2.7;else if(l==="")m=f.multiplier_eyelet??2.7;else if(l===""){const x=f.roman_blind_offset??.45,y=n*m+x;return Math.ceil(y/.9*100)/100}const g=(n*m+(f.hem_offset??.3))/.9;return Math.ceil(g*100)/100},sg={calculate:(n,l)=>{if(n.enable_set_price&&P(n.set_price_override)>0)return{total:P(n.set_price_override)};const i=P(n.width_m),o=P(n.height_m);if(i<=0||o<=0)return{total:0};const d=n.layer_mode||et.MAIN,f=d===et.MAIN||d===et.DOUBLE,m=d===et.SHEER||d===et.DOUBLE;let h=0,g=0;if(f){const C=P(n.price_per_m_raw);h=i*C}if(m){const C=P(n.sheer_price_per_m);g=i*C}let x=0,y=0;f&&(x=rg(i,n.style,n.opening_style,l?.formulas)),m&&(y=rg(i,n.style,n.opening_style,l?.formulas));const w=h+g+0+0;return{total:Math.round(w*100)/100,breakdown:{fabricPrice:h,sheerPrice:g,fabricYards:x,sheerYards:y,fabricMeters:i,sheerMeters:m?i:0}}},validate:n=>{const l=[];return P(n.width_m)<=0&&l.push(""),P(n.height_m)<=0&&l.push(""),n.style||l.push(""),l},getSpecs:n=>{const l=[` ${n.width_m} x  ${n.height_m} .`,n.style];return n.opening_style&&l.push(`(${n.opening_style})`),n.layer_mode===et.DOUBLE&&l.push("+"),l}},ig={calculate:(n,l)=>{const i=n.widths.reduce((C,S)=>C+P(S),0),o=P(n.height_m);if(i<=0||o<=0)return{total:0,breakdown:{}};const f=(l?.formulas||se.getState().formulas).wallpaper,m=o+f.waste_margin,h=Math.floor(f.roll_length/m);let g=0;if(h>0){const C=Math.ceil(i/f.roll_width);g=Math.ceil(C/h)}else g=0;const x=P(n.price_per_roll),y=P(n.install_cost_per_roll),b=g*x,N=g*y;let w=b+N;return n.enable_set_price&&P(n.set_price_override)>0&&(w=P(n.set_price_override)),w=Math.round(w*100)/100,{total:w,breakdown:{rolls:g,materialPrice:b,laborPrice:N,totalWidth:i}}},validate:n=>{const l=[];return n.widths.reduce((o,d)=>o+P(d),0)<=0&&l.push(" 1 "),P(n.height_m)<=0&&l.push(""),n.wallpaper_code||l.push(""),l},getSpecs:n=>{const l=n.widths.reduce((h,g)=>h+P(g),0),i=[`:  ${l.toFixed(2)} . x  ${n.height_m} .`];n.wallpaper_code&&i.push(`: ${n.wallpaper_code}`);const{formulas:o}=se.getState(),d=o.wallpaper,f=P(n.height_m);let m=0;if(f>0&&l>0){const h=f+d.waste_margin,g=Math.floor(d.roll_length/h);if(g>0){const x=Math.ceil(l/d.roll_width);m=Math.ceil(x/g)}}return i.push(`: ${m}  ()`),i}},og={calculate:n=>{if(n.enable_set_price&&P(n.set_price_override)>0)return{total:P(n.set_price_override)};const l=P(n.quantity),i=P(n.price_per_item);if(l<=0||i<=0)return{total:0};const o=l*i;return{total:Math.round(o*100)/100}},validate:n=>{const l=[];return n.description||l.push(""),!n.enable_set_price&&P(n.price_per_item)<=0&&l.push(""),l},getSpecs:n=>{const l=[];n.description&&l.push(n.description);const i=P(n.quantity);return i>0&&l.push(`: ${i} /`),l}},ur=n=>({calculate:(l,i)=>{if(l.enable_set_price&&P(l.set_price_override)>0)return{total:P(l.set_price_override)};const o=P(l.width_m),d=P(l.height_m),f=P(l.price_sqyd);if(o<=0||d<=0)return{total:0,breakdown:{}};const h=(i?.formulas||se.getState().formulas).area,g=o*d,x=h?.sqm_to_sqyd??1.2;let y=g*x;const b=h?.min_yield??1;y<b&&(y=b);let N=y*f;return N=Math.round(N*100)/100,{total:N,breakdown:{areaSqm:g,areaSqyd:y,pricePerUnit:f}}},validate:l=>{const i=[];return P(l.width_m)<=0&&i.push(""),P(l.height_m)<=0&&i.push(""),!l.enable_set_price&&P(l.price_sqyd)<=0&&i.push(" .."),i},getSpecs:l=>{const i=[`: ${l.width_m} x ${l.height_m} .`];return l.code&&i.push(`: ${l.code}`),l.fabric_variant&&i.push(`/: ${l.fabric_variant}`),l.adjustment_side&&i.push(`: ${l.adjustment_side}`),i}}),cg=ur(),ug=ur(),dg=ur(),fg=ur(),mg=ur(),hg=ur(),gt={calculatePrice:(n,l)=>{const i=gt.calculateDetailedPrice(n,l).total;return Number.isFinite(i)?i:0},calculateDetailedPrice:(n,l)=>{if(!n||!n.type)return{total:0};try{switch(n.type){case V.CURTAIN:return sg.calculate(n,l);case V.WALLPAPER:return ig.calculate(n,l);case V.WOODEN_BLIND:return cg.calculate(n,l);case V.ROLLER_BLIND:return ug.calculate(n,l);case V.VERTICAL_BLIND:return dg.calculate(n,l);case V.ALUMINUM_BLIND:return fg.calculate(n,l);case V.PARTITION:return mg.calculate(n,l);case V.PLEATED_SCREEN:return hg.calculate(n,l);case V.REMOVAL:return og.calculate(n,l);default:return console.warn("[PricingEngine]  Unknown item type detected:",n),{total:0}}}catch(i){return console.error("[PricingEngine]  Critical Calculation Error:",i),{total:0}}},getItemSpecs:n=>{if(!n||!n.type)return[];try{switch(n.type){case V.CURTAIN:return sg.getSpecs(n);case V.WALLPAPER:return ig.getSpecs(n);case V.WOODEN_BLIND:return cg.getSpecs(n);case V.ROLLER_BLIND:return ug.getSpecs(n);case V.VERTICAL_BLIND:return dg.getSpecs(n);case V.ALUMINUM_BLIND:return fg.getSpecs(n);case V.PARTITION:return mg.getSpecs(n);case V.PLEATED_SCREEN:return hg.getSpecs(n);case V.REMOVAL:return og.getSpecs(n);default:return[]}}catch{return["Error generating specs"]}}};function fN(n){return new Worker("/g/assets/pricing.worker-Db1Pj06Z.js",{name:n?.name})}const mN=()=>{const n=j.useRef(null);return j.useEffect(()=>(n.current=new fN,()=>{n.current?.terminate(),n.current=null}),[]),{calculateBatch:j.useCallback(i=>new Promise((o,d)=>{if(!n.current){d(new Error("Pricing Worker is not initialized"));return}const{formulas:f}=se.getState(),m=Math.random().toString(36).substring(7),h=g=>{if(g.data.id===m){if(g.data.error)d(new Error(g.data.error));else{const x=g.data.results,y={};x.forEach(b=>{y[b.itemId]=b.total}),o(y)}n.current?.removeEventListener("message",h)}};n.current.addEventListener("message",h),n.current.postMessage({id:m,items:i,context:{formulas:f}})}),[])}},hN=50,pg={grandTotal:0,discountAmount:0,vatAmount:0,finalTotal:0,netTotal:0,isCalculating:!1},Hd=()=>{const n=se(w=>w.rooms),l=se(w=>w.discount),i=se(w=>w.shopConfig),{calculateBatch:o}=mN(),[d,f]=j.useState(null),[m,h]=j.useState(!1),g=j.useRef(!0),x=j.useMemo(()=>n.flatMap(w=>w.is_suspended?[]:w.items),[n]),b=x.length>=hN;j.useEffect(()=>{if(b)return setTimeout(()=>h(!0),0),o(x).then(w=>{if(!g.current)return;const C=Object.values(w).reduce((D,E)=>D+E,0),S=gg(C,l,i.baseVatRate);f({...S,isCalculating:!1}),h(!1)}).catch(w=>{g.current&&(console.error("Worker Failed:",w),h(!1))}),()=>{g.current=!1,b&&(f(null),h(!1))}},[x,l,i.baseVatRate,o,b]),j.useEffect(()=>()=>{g.current=!1},[]);const N=j.useMemo(()=>{if(b)return pg;const w=x.reduce((C,S)=>C+gt.calculatePrice(S),0);return{...gg(w,l,i.baseVatRate),isCalculating:!1}},[x,l,i.baseVatRate,b]);return b?{...d||pg,isCalculating:m}:N},gg=(n,l,i)=>{let o=0;l.is_enabled&&l.value>0&&(l.type==="percent"?o=n*l.value/100:o=l.value,o>n&&(o=n));const d=n-o;let f=0,m=d;return i>0&&(f=d*i/100,m=d+f),{grandTotal:Math.round(n*100)/100,discountAmount:Math.round(o*100)/100,netTotal:Math.round(d*100)/100,vatAmount:Math.round(f*100)/100,finalTotal:Math.round(m*100)/100}},sn=()=>({trigger:j.useCallback((l="selection")=>{if(typeof navigator>"u"||!navigator.vibrate){console.warn("Vibration API not supported in this environment");return}try{switch(l){case"light":navigator.vibrate(5);break;case"medium":navigator.vibrate(10);break;case"heavy":navigator.vibrate(15);break;case"selection":navigator.vibrate(2);break;case"success":navigator.vibrate([10,30,10]);break;case"warning":navigator.vibrate([30,50,10]);break;case"error":navigator.vibrate([50,100,50,100]);break;default:navigator.vibrate(10)}}catch(i){console.error("Failed to trigger haptic feedback:",i)}},[])});function Y(...n){return qy(Iy(n))}const pN=({children:n,onOpenMainMenu:l,onOpenDiscount:i,onOpenOverview:o})=>{const d=se(C=>C.shopConfig),f=se(C=>C.discount),m=se(C=>C.addRoom),{finalTotal:h}=Hd(),{trigger:g}=sn(),[x,y]=j.useState(!1),b=f.is_enabled&&f.value>0,N=d.baseVatRate>0;j.useEffect(()=>{const C=()=>y(window.scrollY>10);return window.addEventListener("scroll",C),()=>window.removeEventListener("scroll",C)},[]);const w=()=>{g("medium"),m(),setTimeout(()=>window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"}),100)};return r.jsxs("div",{className:"relative min-h-[100dvh] bg-background text-foreground",children:[r.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 h-safe-top bg-background/80 backdrop-blur-md border-b border-transparent transition-all duration-300"}),r.jsx("header",{className:"fixed top-0 left-0 right-0 z-40 pt-safe-top transition-all duration-300",children:r.jsxs("div",{className:Y("h-14 px-6 flex items-center justify-between transition-all duration-500","bg-background/80 backdrop-blur-md border-b border-border/50",x?"shadow-sm":""),children:[r.jsxs("button",{className:"flex flex-col items-start text-left group active:scale-95 transition-transform outline-none",onClick:()=>{g("light"),l?.()},children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h1",{className:"text-lg font-bold tracking-tight text-foreground group-hover:text-primary transition-colors",children:d.name||"Marnthara"}),r.jsx(sl,{className:"w-3.5 h-3.5 text-muted-foreground/50 group-hover:text-primary/50 transition-colors"})]}),r.jsx("span",{className:"text-[10px] font-medium text-muted-foreground tracking-widest uppercase",children:"Quotation"})]}),r.jsxs("div",{className:"flex flex-col items-end cursor-pointer active:scale-95 transition-transform outline-none",onClick:()=>{g("selection"),i?.()},children:[r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsxs("div",{className:"flex gap-0.5",children:[b&&r.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-success shadow-[0_0_6px_rgba(var(--color-success),0.5)] animate-pulse"}),N&&r.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-info shadow-[0_0_6px_rgba(var(--color-info),0.5)]"})]}),r.jsx("span",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-wider",children:"Net"})]}),r.jsx("div",{className:Y("text-sm font-mono font-bold leading-none transition-colors",b||N?"text-primary":"text-foreground"),children:_e(h)})]})]})}),r.jsx("main",{className:"pt-[calc(3.5rem+env(safe-area-inset-top))] pb-[calc(5rem+env(safe-area-inset-bottom))] px-4 sm:px-6 space-y-4 max-w-3xl mx-auto overflow-x-hidden",children:n}),r.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 w-full max-w-[320px] px-4 mb-safe-bottom",children:r.jsxs("div",{className:"flex items-center justify-between px-2 py-1.5 rounded-full bg-primary/90 backdrop-blur-xl shadow-2xl border border-primary-foreground/10 ring-1 ring-black/20",children:[r.jsx(Hi,{icon:ny,onClick:o,label:"Overview"}),r.jsx(Hi,{icon:hs,onClick:()=>g("light"),label:"Search"}),r.jsx("div",{className:"px-2",children:r.jsx("button",{onClick:w,className:"group relative w-10 h-10 rounded-full bg-primary shadow-lg shadow-primary/30 flex items-center justify-center transform transition-all duration-300 active:scale-90 hover:shadow-primary/50",children:r.jsx(el,{className:"w-5 h-5 text-white group-hover:rotate-90 transition-transform duration-300",strokeWidth:3})})}),r.jsx(Hi,{icon:ay,onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),label:"Home"}),r.jsx(Hi,{icon:ly,onClick:l,label:"Menu"})]})})]})},Hi=({icon:n,onClick:l,label:i})=>{const{trigger:o}=sn();return r.jsx("button",{onClick:()=>{o("light"),l?.()},className:"group flex flex-col items-center justify-center w-10 h-10 rounded-full hover:bg-primary-foreground/10 transition-colors active:scale-90 outline-none","aria-label":i,children:r.jsx(n,{className:"w-5 h-5 text-primary-foreground/60 group-hover:text-primary-foreground transition-colors",strokeWidth:2})})},jt=Md(n=>({toasts:[],addToast:(l,i,o)=>{const d=Math.random().toString(36).substring(2,9);n(f=>({toasts:[...f.toasts,{id:d,type:l,title:i,message:o}]})),setTimeout(()=>{n(f=>({toasts:f.toasts.filter(m=>m.id!==d)}))},3e3)},removeToast:l=>n(i=>({toasts:i.toasts.filter(o=>o.id!==l)})),alertConfig:{isOpen:!1,title:"",description:"",variant:"default",confirmLabel:"",cancelLabel:"",onConfirm:()=>{},onCancel:()=>{}},openAlert:l=>n(i=>({alertConfig:{...i.alertConfig,...l,isOpen:!0}})),closeAlert:()=>n(l=>({alertConfig:{...l.alertConfig,isOpen:!1}}))})),Aa=()=>{const n=jt(i=>i.openAlert);return{confirm:i=>new Promise(o=>{n({...i,onConfirm:()=>o(!0),onCancel:()=>o(!1)})})}},gN=({type:n,className:l})=>{const o={[V.CURTAIN]:md,[V.WALLPAPER]:co,[V.REMOVAL]:oo,[V.WOODEN_BLIND]:no,[V.ROLLER_BLIND]:Sd,[V.VERTICAL_BLIND]:wd,[V.ALUMINUM_BLIND]:no,[V.PARTITION]:ps,[V.PLEATED_SCREEN]:ps,set:md}[n]||fx;return r.jsx("div",{className:Y("flex items-center justify-center",l),children:r.jsx(o,{className:"w-full h-full"})})},xN=({item:n,index:l,roomId:i,onEdit:o})=>{const d=se(w=>w.removeItem),f=se(w=>w.duplicateItem),m=se(w=>w.updateItem),{confirm:h}=Aa(),g=gt.calculatePrice(n),{title:x,specs:y}=j.useMemo(()=>{const w=Ta[n.type],S=gt.getItemSpecs(n).filter(D=>D&&D.trim()!=="");return{title:w?.name||"",specs:S.join("  ")}},[n]),b=async()=>{await h({title:"?",description:` "${x}" ?`,confirmLabel:"",variant:"destructive"})&&d(i,n.id)},N=()=>{m(i,n.id,{is_suspended:!n.is_suspended})};return r.jsxs("div",{className:Y("group relative flex flex-col gap-3 rounded-2xl border bg-card p-4 transition-all duration-200",n.is_suspended?"opacity-60 grayscale border-dashed border-border":"border-border shadow-sm hover:shadow-md hover:border-primary/20"),children:[r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",onClick:o,children:[r.jsx("div",{className:Y("flex h-10 w-10 shrink-0 items-center justify-center rounded-xl transition-colors",n.is_suspended?"bg-muted text-muted-foreground":"bg-primary/5 text-primary"),children:r.jsx(gN,{type:n.type,className:"h-5 w-5"})}),r.jsxs("div",{className:"flex flex-col min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-xs font-bold text-muted-foreground/70 tracking-wider uppercase",children:["#",l+1]}),r.jsx("span",{className:"font-semibold text-foreground truncate text-[15px]",children:x})]}),r.jsx("div",{className:"text-xs text-muted-foreground truncate mt-0.5 font-medium leading-relaxed",children:y||""}),n.notes&&r.jsxs("div",{className:"text-[11px] text-amber-600/90 mt-1 flex items-center gap-1 font-medium",children:[r.jsx("span",{className:"w-1 h-1 rounded-full bg-amber-500"}),n.notes]})]})]}),r.jsxs(uo,{as:"div",className:"relative shrink-0",children:[r.jsx(fo,{className:"flex h-8 w-8 items-center justify-center rounded-lg text-muted-foreground hover:bg-muted hover:text-foreground transition-colors focus:outline-none",children:r.jsx(mo,{className:"h-5 w-5"})}),r.jsx(zn,{as:ee.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:r.jsxs(ho,{className:"absolute right-0 z-20 mt-1 w-48 origin-top-right divide-y divide-border rounded-xl bg-popover p-1 shadow-xl ring-1 ring-black/5 focus:outline-none",children:[r.jsxs("div",{className:"px-1 py-1",children:[r.jsx(Xt,{children:({active:w})=>r.jsxs("button",{onClick:o,className:Y("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",w?"bg-primary/10 text-primary":"text-foreground"),children:[r.jsx(ry,{className:"h-4 w-4"})," "]})}),r.jsx(Xt,{children:({active:w})=>r.jsxs("button",{onClick:()=>f(i,n.id),className:Y("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",w?"bg-accent text-accent-foreground":"text-foreground"),children:[r.jsx(mx,{className:"h-4 w-4"})," "]})})]}),r.jsxs("div",{className:"px-1 py-1",children:[r.jsx(Xt,{children:({active:w})=>r.jsxs("button",{onClick:N,className:Y("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",w?"bg-warning/10 text-warning-foreground":"text-foreground"),children:[n.is_suspended?r.jsx(po,{className:"h-4 w-4"}):r.jsx(Cd,{className:"h-4 w-4"}),n.is_suspended?"":""]})}),r.jsx(Xt,{children:({active:w})=>r.jsxs("button",{onClick:b,className:Y("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm text-destructive",w?"bg-destructive/10":""),children:[r.jsx(cr,{className:"h-4 w-4"})," "]})})]})]})})]})]}),r.jsxs("div",{className:"flex items-center justify-between border-t border-border/50 pt-3 mt-1",onClick:o,children:[r.jsx("div",{className:"text-[11px] text-muted-foreground font-medium",children:""}),r.jsx("div",{className:Y("text-lg font-bold font-mono tracking-tight",n.is_suspended?"text-muted-foreground line-through":"text-primary"),children:_e(g)})]})]})},vN=({room:n,onAddItem:l,onEditItem:i,onOpenDefaults:o,className:d})=>{const[f,m]=j.useState(!0),h=se(C=>C.removeRoom),g=se(C=>C.duplicateRoom),x=se(C=>C.toggleRoomSuspension),{confirm:y}=Aa(),b=j.useMemo(()=>n.is_suspended?0:n.items.filter(C=>!C.is_suspended).reduce((C,S)=>C+gt.calculatePrice(S),0),[n.items,n.is_suspended]),N=n.items.length,w=async()=>{await y({title:` "${n.name}"?`,description:"",confirmLabel:"",variant:"destructive"})&&h(n.id)};return r.jsxs("div",{className:Y("flex flex-col gap-4",d),children:[r.jsx("div",{className:Y("rounded-2xl border transition-all duration-300 bg-card",f?"border-primary/20 shadow-sm":"border-border opacity-80",n.is_suspended&&"grayscale opacity-60 border-dashed"),children:r.jsx("div",{className:"p-1",children:r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-muted/30 hover:bg-muted/50 transition-colors",children:[r.jsxs("button",{onClick:()=>m(!f),className:"flex items-center gap-3 flex-1 text-left min-w-0",children:[r.jsx("div",{className:Y("h-8 w-8 shrink-0 rounded-lg flex items-center justify-center transition-transform duration-300 text-muted-foreground bg-background border border-border/50",f&&"rotate-180 text-primary border-primary/20 bg-primary/5"),children:r.jsx(sy,{className:"w-5 h-5"})}),r.jsxs("div",{className:"min-w-0 flex-1 pr-2",children:[r.jsx("h3",{className:Y("font-bold text-[17px] truncate",n.is_suspended&&"line-through text-muted-foreground"),children:n.name}),r.jsxs("div",{className:"text-xs text-muted-foreground font-medium mt-0.5 truncate",children:[N,"   ",r.jsx("span",{className:"text-emerald-600 dark:text-emerald-400",children:_e(b)})]})]})]}),r.jsxs(uo,{as:"div",className:"relative z-10 shrink-0",children:[r.jsx(fo,{className:"p-2 rounded-lg text-muted-foreground hover:bg-background hover:text-foreground transition-colors focus:outline-none focus:ring-2 focus:ring-primary/20",children:r.jsx(mo,{className:"w-5 h-5"})}),r.jsx(zn,{as:ee.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:r.jsxs(ho,{className:"absolute right-0 z-50 mt-2 w-48 origin-top-right divide-y divide-border rounded-xl bg-popover p-1 shadow-xl ring-1 ring-black/5 focus:outline-none border border-border/50",children:[r.jsxs("div",{className:"p-1",children:[r.jsx(Xt,{children:({active:C})=>r.jsxs("button",{onClick:()=>o(n.id),className:Y("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",C?"bg-primary/10 text-primary":"text-foreground"),children:[r.jsx(hx,{className:"w-4 h-4"})," "]})}),r.jsx(Xt,{children:({active:C})=>r.jsxs("button",{onClick:()=>g(n.id),className:Y("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",C?"bg-accent":"text-foreground"),children:[r.jsx(mx,{className:"w-4 h-4"})," "]})}),r.jsx(Xt,{children:({active:C})=>r.jsxs("button",{onClick:()=>x(n.id),className:Y("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",C?"bg-warning/10 text-warning-foreground":"text-foreground"),children:[n.is_suspended?r.jsx(po,{className:"w-4 h-4"}):r.jsx(Cd,{className:"w-4 h-4"}),n.is_suspended?"":""]})})]}),r.jsx("div",{className:"p-1",children:r.jsx(Xt,{children:({active:C})=>r.jsxs("button",{onClick:w,className:Y("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm text-destructive",C?"bg-destructive/10":""),children:[r.jsx(cr,{className:"w-4 h-4"})," "]})})})]})})]})]})})}),f&&!n.is_suspended&&r.jsxs("div",{className:"space-y-3 animate-fade-in pl-2 border-l-2 border-border/40 ml-4 pb-2",children:[n.items.map((C,S)=>r.jsx(xN,{item:C,index:S,roomId:n.id,onEdit:()=>i(n.id,C)},C.id)),r.jsxs("button",{onClick:()=>l(n.id),className:"w-full group flex flex-col items-center justify-center gap-2 h-24 rounded-2xl border-2 border-dashed border-border/60 hover:border-primary/50 bg-muted/20 hover:bg-primary/5 transition-all active:scale-[0.99]",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-background border border-border group-hover:border-primary group-hover:text-primary flex items-center justify-center shadow-sm transition-colors",children:r.jsx(el,{className:"w-6 h-6"})}),r.jsx("span",{className:"text-sm font-medium text-muted-foreground group-hover:text-primary",children:""})]})]})]})},bN=({rooms:n,onAddItem:l,onEditItem:i,onOpenDefaults:o})=>{const d=j.useRef(null),[f,m]=j.useState(0),{trigger:h}=sn(),g=se(b=>b.addRoom);j.useEffect(()=>{const b=d.current;if(!b)return;const N=new IntersectionObserver(C=>{C.forEach(S=>{if(S.isIntersecting){const D=Number(S.target.getAttribute("data-index"));isNaN(D)||m(E=>E!==D?(h("selection"),D):E)}})},{root:b,threshold:.6});return b.querySelectorAll(".room-slide").forEach(C=>N.observe(C)),()=>N.disconnect()},[n.length,h]);const x=b=>{const N=d.current;if(!N)return;const w=Math.max(0,Math.min(b,n.length)),C=N.clientWidth;N.scrollTo({left:w*C,behavior:"smooth"})},y=()=>{h("medium"),g(),setTimeout(()=>x(n.length),100)};return r.jsxs("div",{className:"relative w-full",children:[r.jsx("div",{className:"sticky top-0 z-10 flex justify-center py-2 mb-2",children:r.jsxs("div",{className:"flex items-center gap-1.5 bg-black/10 dark:bg-white/10 backdrop-blur-md px-3 py-1.5 rounded-full border border-white/5 shadow-sm",children:[n.map((b,N)=>r.jsx("button",{onClick:()=>x(N),className:Y("w-2 h-2 rounded-full transition-all duration-300",f===N?"bg-primary w-6":"bg-muted-foreground/30 hover:bg-muted-foreground/60")},`dot-${N}`)),r.jsx("div",{className:Y("w-2 h-2 rounded-full transition-all duration-300",f===n.length?"bg-primary w-6":"bg-muted-foreground/30")})]})}),r.jsxs("div",{ref:d,className:Y("flex overflow-x-auto snap-x snap-mandatory scrollbar-hide pb-4","overflow-y-hidden"),style:{scrollBehavior:"smooth"},children:[n.map((b,N)=>r.jsx("div",{"data-index":N,className:"room-slide min-w-full px-1 snap-center",children:r.jsx("div",{className:Y("transition-all duration-500 ease-out h-full",f===N?"scale-100 opacity-100":"scale-[0.96] opacity-70 blur-[1px]"),children:r.jsx(vN,{room:b,index:N,totalRooms:n.length,onAddItem:l,onEditItem:i,onOpenDefaults:o})})},b.id)),r.jsx("div",{"data-index":n.length,className:"room-slide min-w-full px-1 snap-center flex",children:r.jsxs("button",{onClick:y,className:Y("w-full rounded-2xl border-2 border-dashed border-muted-foreground/20","flex flex-col items-center justify-center gap-4 min-h-[300px]","bg-muted/5 hover:bg-muted/10 active:scale-[0.98] transition-all","text-muted-foreground hover:text-primary group",f===n.length?"scale-100 opacity-100":"scale-[0.96] opacity-70"),children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-background shadow-sm border border-border flex items-center justify-center group-hover:shadow-md group-hover:scale-110 transition-all duration-300",children:r.jsx(el,{className:"w-8 h-8 text-primary/50 group-hover:text-primary"})}),r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-lg font-bold group-hover:text-primary transition-colors",children:""}),r.jsx("p",{className:"text-sm opacity-60",children:"Add New Room"})]})]})})]}),r.jsxs("div",{className:"hidden sm:block",children:[f>0&&r.jsx("button",{onClick:()=>x(f-1),className:"absolute top-1/2 -left-4 -translate-y-1/2 p-2 rounded-full bg-background border border-border shadow-lg hover:bg-accent transition-colors z-20",children:r.jsx(Ed,{className:"w-5 h-5"})}),f<n.length&&r.jsx("button",{onClick:()=>x(f+1),className:"absolute top-1/2 -right-4 -translate-y-1/2 p-2 rounded-full bg-background border border-border shadow-lg hover:bg-accent transition-colors z-20",children:r.jsx(sl,{className:"w-5 h-5"})})]})]})},Sx=Md()(wx(n=>({theme:"light",toggleTheme:()=>n(l=>{const i=l.theme==="light"?"dark":"light";return Ku(i),{theme:i}}),setTheme:l=>{Ku(l),n({theme:l})}}),{name:"marnthara-theme",storage:kd(()=>localStorage),onRehydrateStorage:()=>n=>{n&&Ku(n.theme)}})),Ku=n=>{const l=window.document.documentElement;l.classList.remove("light","dark"),l.classList.add(n);const i=document.querySelector('meta[name="theme-color"]');i&&i.setAttribute("content",n==="dark"?"#0D0814":"#FBFBFE")},yN=({toast:n,onDismiss:l})=>{const i={success:r.jsx("div",{className:"bg-success rounded-full p-1",children:r.jsx(rr,{className:"w-3 h-3 text-white",strokeWidth:4})}),error:r.jsx(go,{className:"w-5 h-5 text-destructive"}),warning:r.jsx(Jn,{className:"w-5 h-5 text-warning"}),info:r.jsx(iy,{className:"w-5 h-5 text-info"})};return r.jsx(zn,{show:!0,appear:!0,enter:"transform ease-out duration-300 transition",enterFrom:"translate-y-[-150%] opacity-0 scale-90",enterTo:"translate-y-0 opacity-100 scale-100",leave:"transition ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:r.jsxs("div",{className:Y("pointer-events-auto flex items-center gap-3 px-4 py-3 shadow-2xl mb-3 cursor-pointer select-none","bg-primary/95 backdrop-blur-md border border-primary-foreground/10","rounded-full min-w-[200px] max-w-[90vw]","text-primary-foreground"),onClick:()=>l(n.id),children:[r.jsx("div",{className:"shrink-0 flex items-center",children:i[n.type]}),r.jsxs("div",{className:"flex-1 min-w-0 text-center sm:text-left mr-2",children:[r.jsx("p",{className:"text-[14px] font-semibold leading-tight tracking-tight",children:n.title}),n.message&&r.jsx("p",{className:"text-[12px] text-primary-foreground/70 mt-0.5 truncate max-w-[240px]",children:n.message})]})]})})},NN=()=>{const n=jt(i=>i.toasts),l=jt(i=>i.removeToast);return n.length===0?null:px.createPortal(r.jsx("div",{className:"fixed top-6 left-0 right-0 z-[100] flex flex-col items-center pointer-events-none px-4",children:n.map(i=>r.jsx(yN,{toast:i,onDismiss:l},i.id))}),document.body)},de=({className:n,variant:l="primary",size:i="md",disableHaptic:o=!1,onClick:d,ref:f,...m})=>{const{trigger:h}=sn(),g=b=>{o||h(l==="destructive"?"warning":"light"),d?.(b)},x={primary:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md shadow-primary/20 border border-transparent active:scale-[0.98]",secondary:"bg-secondary text-secondary-foreground border border-transparent hover:bg-secondary/80 active:scale-[0.98]",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground active:scale-[0.98]",ghost:"hover:bg-accent hover:text-accent-foreground border border-transparent active:scale-[0.98]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 border border-transparent shadow-sm active:scale-[0.98]"},y={sm:"h-9 px-3 text-xs rounded-lg",md:"h-12 px-5 py-2 rounded-xl text-base font-medium",lg:"h-14 px-8 rounded-2xl text-lg font-bold",icon:"h-12 w-12 p-0 rounded-xl flex items-center justify-center"};return r.jsx("button",{ref:f,onClick:g,className:Y("inline-flex items-center justify-center whitespace-nowrap transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 select-none",x[l],y[i],n),...m})},jN=()=>{const{isOpen:n,title:l,description:i,variant:o,confirmLabel:d,cancelLabel:f,onConfirm:m,onCancel:h}=jt(y=>y.alertConfig),g=jt(y=>y.closeAlert),x=y=>{g(),y?m():h()};return r.jsx(zn,{show:n,as:j.Fragment,children:r.jsxs(xo,{onClose:()=>x(!1),className:"relative z-[110]",children:[r.jsx(Ca,{as:j.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:r.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-[2px]"})}),r.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:r.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:r.jsx(Ca,{as:j.Fragment,enter:"ease-ios duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:r.jsxs(vo,{className:"w-full max-w-sm transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o==="destructive"&&r.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:r.jsx(Jn,{className:"w-5 h-5 text-red-600"})}),r.jsx("div",{children:r.jsx(Td,{as:"h3",className:"text-lg font-bold leading-6 text-slate-900",children:l})})]}),r.jsx("div",{className:"mt-2",children:r.jsx("p",{className:"text-sm text-slate-500",children:i})}),r.jsxs("div",{className:"mt-6 flex gap-3 justify-end",children:[r.jsx(de,{variant:"ghost",onClick:()=>x(!1),children:f}),r.jsx(de,{variant:o==="destructive"?"destructive":"primary",onClick:()=>x(!0),children:d})]})]})})})})]})})};function Sa(n,l,{checkForDefaultPrevented:i=!0}={}){return function(d){if(n?.(d),i===!1||!d.defaultPrevented)return l?.(d)}}function xg(n,l){if(typeof n=="function")return n(l);n!=null&&(n.current=l)}function Cx(...n){return l=>{let i=!1;const o=n.map(d=>{const f=xg(d,l);return!i&&typeof f=="function"&&(i=!0),f});if(i)return()=>{for(let d=0;d<o.length;d++){const f=o[d];typeof f=="function"?f():xg(n[d],null)}}}}function il(...n){return j.useCallback(Cx(...n),n)}function _N(n,l){const i=j.createContext(l),o=f=>{const{children:m,...h}=f,g=j.useMemo(()=>h,Object.values(h));return r.jsx(i.Provider,{value:g,children:m})};o.displayName=n+"Provider";function d(f){const m=j.useContext(i);if(m)return m;if(l!==void 0)return l;throw new Error(`\`${f}\` must be used within \`${n}\``)}return[o,d]}function wN(n,l=[]){let i=[];function o(f,m){const h=j.createContext(m),g=i.length;i=[...i,m];const x=b=>{const{scope:N,children:w,...C}=b,S=N?.[n]?.[g]||h,D=j.useMemo(()=>C,Object.values(C));return r.jsx(S.Provider,{value:D,children:w})};x.displayName=f+"Provider";function y(b,N){const w=N?.[n]?.[g]||h,C=j.useContext(w);if(C)return C;if(m!==void 0)return m;throw new Error(`\`${b}\` must be used within \`${f}\``)}return[x,y]}const d=()=>{const f=i.map(m=>j.createContext(m));return function(h){const g=h?.[n]||f;return j.useMemo(()=>({[`__scope${n}`]:{...h,[n]:g}}),[h,g])}};return d.scopeName=n,[o,SN(d,...l)]}function SN(...n){const l=n[0];if(n.length===1)return l;const i=()=>{const o=n.map(d=>({useScope:d(),scopeName:d.scopeName}));return function(f){const m=o.reduce((h,{useScope:g,scopeName:x})=>{const b=g(f)[`__scope${x}`];return{...h,...b}},{});return j.useMemo(()=>({[`__scope${l.scopeName}`]:m}),[m])}};return i.scopeName=l.scopeName,i}var xs=globalThis?.document?j.useLayoutEffect:()=>{},CN=gx[" useId ".trim().toString()]||(()=>{}),EN=0;function Ju(n){const[l,i]=j.useState(CN());return xs(()=>{i(o=>o??String(EN++))},[n]),n||(l?`radix-${l}`:"")}var TN=gx[" useInsertionEffect ".trim().toString()]||xs;function AN({prop:n,defaultProp:l,onChange:i=()=>{},caller:o}){const[d,f,m]=DN({defaultProp:l,onChange:i}),h=n!==void 0,g=h?n:d;{const y=j.useRef(n!==void 0);j.useEffect(()=>{const b=y.current;b!==h&&console.warn(`${o} is changing from ${b?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=h},[h,o])}const x=j.useCallback(y=>{if(h){const b=zN(y)?y(n):y;b!==n&&m.current?.(b)}else f(y)},[h,n,f,m]);return[g,x]}function DN({defaultProp:n,onChange:l}){const[i,o]=j.useState(n),d=j.useRef(i),f=j.useRef(l);return TN(()=>{f.current=l},[l]),j.useEffect(()=>{d.current!==i&&(f.current?.(i),d.current=i)},[i,d]),[i,o,f]}function zN(n){return typeof n=="function"}function Ex(n){const l=RN(n),i=j.forwardRef((o,d)=>{const{children:f,...m}=o,h=j.Children.toArray(f),g=h.find(MN);if(g){const x=g.props.children,y=h.map(b=>b===g?j.Children.count(x)>1?j.Children.only(null):j.isValidElement(x)?x.props.children:null:b);return r.jsx(l,{...m,ref:d,children:j.isValidElement(x)?j.cloneElement(x,void 0,y):null})}return r.jsx(l,{...m,ref:d,children:f})});return i.displayName=`${n}.Slot`,i}function RN(n){const l=j.forwardRef((i,o)=>{const{children:d,...f}=i;if(j.isValidElement(d)){const m=LN(d),h=kN(f,d.props);return d.type!==j.Fragment&&(h.ref=o?Cx(o,m):m),j.cloneElement(d,h)}return j.Children.count(d)>1?j.Children.only(null):null});return l.displayName=`${n}.SlotClone`,l}var ON=Symbol("radix.slottable");function MN(n){return j.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===ON}function kN(n,l){const i={...l};for(const o in l){const d=n[o],f=l[o];/^on[A-Z]/.test(o)?d&&f?i[o]=(...h)=>{const g=f(...h);return d(...h),g}:d&&(i[o]=d):o==="style"?i[o]={...d,...f}:o==="className"&&(i[o]=[d,f].filter(Boolean).join(" "))}return{...n,...i}}function LN(n){let l=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,i=l&&"isReactWarning"in l&&l.isReactWarning;return i?n.ref:(l=Object.getOwnPropertyDescriptor(n,"ref")?.get,i=l&&"isReactWarning"in l&&l.isReactWarning,i?n.props.ref:n.props.ref||n.ref)}var UN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Wn=UN.reduce((n,l)=>{const i=Ex(`Primitive.${l}`),o=j.forwardRef((d,f)=>{const{asChild:m,...h}=d,g=m?i:l;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(g,{...h,ref:f})});return o.displayName=`Primitive.${l}`,{...n,[l]:o}},{});function BN(n,l){n&&px.flushSync(()=>n.dispatchEvent(l))}function vs(n){const l=j.useRef(n);return j.useEffect(()=>{l.current=n}),j.useMemo(()=>(...i)=>l.current?.(...i),[])}function ZN(n,l=globalThis?.document){const i=vs(n);j.useEffect(()=>{const o=d=>{d.key==="Escape"&&i(d)};return l.addEventListener("keydown",o,{capture:!0}),()=>l.removeEventListener("keydown",o,{capture:!0})},[i,l])}var HN="DismissableLayer",gd="dismissableLayer.update",qN="dismissableLayer.pointerDownOutside",IN="dismissableLayer.focusOutside",vg,Tx=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ax=j.forwardRef((n,l)=>{const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:o,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,...g}=n,x=j.useContext(Tx),[y,b]=j.useState(null),N=y?.ownerDocument??globalThis?.document,[,w]=j.useState({}),C=il(l,q=>b(q)),S=Array.from(x.layers),[D]=[...x.layersWithOutsidePointerEventsDisabled].slice(-1),E=S.indexOf(D),O=y?S.indexOf(y):-1,Z=x.layersWithOutsidePointerEventsDisabled.size>0,A=O>=E,_=YN(q=>{const W=q.target,J=[...x.branches].some(Q=>Q.contains(W));!A||J||(d?.(q),m?.(q),q.defaultPrevented||h?.())},N),L=XN(q=>{const W=q.target;[...x.branches].some(Q=>Q.contains(W))||(f?.(q),m?.(q),q.defaultPrevented||h?.())},N);return ZN(q=>{O===x.layers.size-1&&(o?.(q),!q.defaultPrevented&&h&&(q.preventDefault(),h()))},N),j.useEffect(()=>{if(y)return i&&(x.layersWithOutsidePointerEventsDisabled.size===0&&(vg=N.body.style.pointerEvents,N.body.style.pointerEvents="none"),x.layersWithOutsidePointerEventsDisabled.add(y)),x.layers.add(y),bg(),()=>{i&&x.layersWithOutsidePointerEventsDisabled.size===1&&(N.body.style.pointerEvents=vg)}},[y,N,i,x]),j.useEffect(()=>()=>{y&&(x.layers.delete(y),x.layersWithOutsidePointerEventsDisabled.delete(y),bg())},[y,x]),j.useEffect(()=>{const q=()=>w({});return document.addEventListener(gd,q),()=>document.removeEventListener(gd,q)},[]),r.jsx(Wn.div,{...g,ref:C,style:{pointerEvents:Z?A?"auto":"none":void 0,...n.style},onFocusCapture:Sa(n.onFocusCapture,L.onFocusCapture),onBlurCapture:Sa(n.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Sa(n.onPointerDownCapture,_.onPointerDownCapture)})});Ax.displayName=HN;var $N="DismissableLayerBranch",VN=j.forwardRef((n,l)=>{const i=j.useContext(Tx),o=j.useRef(null),d=il(l,o);return j.useEffect(()=>{const f=o.current;if(f)return i.branches.add(f),()=>{i.branches.delete(f)}},[i.branches]),r.jsx(Wn.div,{...n,ref:d})});VN.displayName=$N;function YN(n,l=globalThis?.document){const i=vs(n),o=j.useRef(!1),d=j.useRef(()=>{});return j.useEffect(()=>{const f=h=>{if(h.target&&!o.current){let g=function(){Dx(qN,i,x,{discrete:!0})};const x={originalEvent:h};h.pointerType==="touch"?(l.removeEventListener("click",d.current),d.current=g,l.addEventListener("click",d.current,{once:!0})):g()}else l.removeEventListener("click",d.current);o.current=!1},m=window.setTimeout(()=>{l.addEventListener("pointerdown",f)},0);return()=>{window.clearTimeout(m),l.removeEventListener("pointerdown",f),l.removeEventListener("click",d.current)}},[l,i]),{onPointerDownCapture:()=>o.current=!0}}function XN(n,l=globalThis?.document){const i=vs(n),o=j.useRef(!1);return j.useEffect(()=>{const d=f=>{f.target&&!o.current&&Dx(IN,i,{originalEvent:f},{discrete:!1})};return l.addEventListener("focusin",d),()=>l.removeEventListener("focusin",d)},[l,i]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function bg(){const n=new CustomEvent(gd);document.dispatchEvent(n)}function Dx(n,l,i,{discrete:o}){const d=i.originalEvent.target,f=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:i});l&&d.addEventListener(n,l,{once:!0}),o?BN(d,f):d.dispatchEvent(f)}var Wu="focusScope.autoFocusOnMount",Pu="focusScope.autoFocusOnUnmount",yg={bubbles:!1,cancelable:!0},GN="FocusScope",zx=j.forwardRef((n,l)=>{const{loop:i=!1,trapped:o=!1,onMountAutoFocus:d,onUnmountAutoFocus:f,...m}=n,[h,g]=j.useState(null),x=vs(d),y=vs(f),b=j.useRef(null),N=il(l,S=>g(S)),w=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(o){let S=function(Z){if(w.paused||!h)return;const A=Z.target;h.contains(A)?b.current=A:wa(b.current,{select:!0})},D=function(Z){if(w.paused||!h)return;const A=Z.relatedTarget;A!==null&&(h.contains(A)||wa(b.current,{select:!0}))},E=function(Z){if(document.activeElement===document.body)for(const _ of Z)_.removedNodes.length>0&&wa(h)};document.addEventListener("focusin",S),document.addEventListener("focusout",D);const O=new MutationObserver(E);return h&&O.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",D),O.disconnect()}}},[o,h,w.paused]),j.useEffect(()=>{if(h){jg.add(w);const S=document.activeElement;if(!h.contains(S)){const E=new CustomEvent(Wu,yg);h.addEventListener(Wu,x),h.dispatchEvent(E),E.defaultPrevented||(FN(PN(Rx(h)),{select:!0}),document.activeElement===S&&wa(h))}return()=>{h.removeEventListener(Wu,x),setTimeout(()=>{const E=new CustomEvent(Pu,yg);h.addEventListener(Pu,y),h.dispatchEvent(E),E.defaultPrevented||wa(S??document.body,{select:!0}),h.removeEventListener(Pu,y),jg.remove(w)},0)}}},[h,x,y,w]);const C=j.useCallback(S=>{if(!i&&!o||w.paused)return;const D=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,E=document.activeElement;if(D&&E){const O=S.currentTarget,[Z,A]=QN(O);Z&&A?!S.shiftKey&&E===A?(S.preventDefault(),i&&wa(Z,{select:!0})):S.shiftKey&&E===Z&&(S.preventDefault(),i&&wa(A,{select:!0})):E===O&&S.preventDefault()}},[i,o,w.paused]);return r.jsx(Wn.div,{tabIndex:-1,...m,ref:N,onKeyDown:C})});zx.displayName=GN;function FN(n,{select:l=!1}={}){const i=document.activeElement;for(const o of n)if(wa(o,{select:l}),document.activeElement!==i)return}function QN(n){const l=Rx(n),i=Ng(l,n),o=Ng(l.reverse(),n);return[i,o]}function Rx(n){const l=[],i=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const d=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||d?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)l.push(i.currentNode);return l}function Ng(n,l){for(const i of n)if(!KN(i,{upTo:l}))return i}function KN(n,{upTo:l}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(l!==void 0&&n===l)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function JN(n){return n instanceof HTMLInputElement&&"select"in n}function wa(n,{select:l=!1}={}){if(n&&n.focus){const i=document.activeElement;n.focus({preventScroll:!0}),n!==i&&JN(n)&&l&&n.select()}}var jg=WN();function WN(){let n=[];return{add(l){const i=n[0];l!==i&&i?.pause(),n=_g(n,l),n.unshift(l)},remove(l){n=_g(n,l),n[0]?.resume()}}}function _g(n,l){const i=[...n],o=i.indexOf(l);return o!==-1&&i.splice(o,1),i}function PN(n){return n.filter(l=>l.tagName!=="A")}var ej="Portal",Ox=j.forwardRef((n,l)=>{const{container:i,...o}=n,[d,f]=j.useState(!1);xs(()=>f(!0),[]);const m=i||d&&globalThis?.document?.body;return m?oy.createPortal(r.jsx(Wn.div,{...o,ref:l}),m):null});Ox.displayName=ej;function tj(n,l){return j.useReducer((i,o)=>l[i][o]??i,n)}var wo=n=>{const{present:l,children:i}=n,o=nj(l),d=typeof i=="function"?i({present:o.isPresent}):j.Children.only(i),f=il(o.ref,aj(d));return typeof i=="function"||o.isPresent?j.cloneElement(d,{ref:f}):null};wo.displayName="Presence";function nj(n){const[l,i]=j.useState(),o=j.useRef(null),d=j.useRef(n),f=j.useRef("none"),m=n?"mounted":"unmounted",[h,g]=tj(m,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const x=qi(o.current);f.current=h==="mounted"?x:"none"},[h]),xs(()=>{const x=o.current,y=d.current;if(y!==n){const N=f.current,w=qi(x);n?g("MOUNT"):w==="none"||x?.display==="none"?g("UNMOUNT"):g(y&&N!==w?"ANIMATION_OUT":"UNMOUNT"),d.current=n}},[n,g]),xs(()=>{if(l){let x;const y=l.ownerDocument.defaultView??window,b=w=>{const S=qi(o.current).includes(CSS.escape(w.animationName));if(w.target===l&&S&&(g("ANIMATION_END"),!d.current)){const D=l.style.animationFillMode;l.style.animationFillMode="forwards",x=y.setTimeout(()=>{l.style.animationFillMode==="forwards"&&(l.style.animationFillMode=D)})}},N=w=>{w.target===l&&(f.current=qi(o.current))};return l.addEventListener("animationstart",N),l.addEventListener("animationcancel",b),l.addEventListener("animationend",b),()=>{y.clearTimeout(x),l.removeEventListener("animationstart",N),l.removeEventListener("animationcancel",b),l.removeEventListener("animationend",b)}}else g("ANIMATION_END")},[l,g]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:j.useCallback(x=>{o.current=x?getComputedStyle(x):null,i(x)},[])}}function qi(n){return n?.animationName||"none"}function aj(n){let l=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,i=l&&"isReactWarning"in l&&l.isReactWarning;return i?n.ref:(l=Object.getOwnPropertyDescriptor(n,"ref")?.get,i=l&&"isReactWarning"in l&&l.isReactWarning,i?n.props.ref:n.props.ref||n.ref)}var ed=0;function lj(){j.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??wg()),document.body.insertAdjacentElement("beforeend",n[1]??wg()),ed++,()=>{ed===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(l=>l.remove()),ed--}},[])}function wg(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var An=function(){return An=Object.assign||function(l){for(var i,o=1,d=arguments.length;o<d;o++){i=arguments[o];for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(l[f]=i[f])}return l},An.apply(this,arguments)};function Mx(n,l){var i={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&l.indexOf(o)<0&&(i[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,o=Object.getOwnPropertySymbols(n);d<o.length;d++)l.indexOf(o[d])<0&&Object.prototype.propertyIsEnumerable.call(n,o[d])&&(i[o[d]]=n[o[d]]);return i}function rj(n,l,i){if(i||arguments.length===2)for(var o=0,d=l.length,f;o<d;o++)(f||!(o in l))&&(f||(f=Array.prototype.slice.call(l,0,o)),f[o]=l[o]);return n.concat(f||Array.prototype.slice.call(l))}var Pi="right-scroll-bar-position",eo="width-before-scroll-bar",sj="with-scroll-bars-hidden",ij="--removed-body-scroll-bar-size";function td(n,l){return typeof n=="function"?n(l):n&&(n.current=l),n}function oj(n,l){var i=j.useState(function(){return{value:n,callback:l,facade:{get current(){return i.value},set current(o){var d=i.value;d!==o&&(i.value=o,i.callback(o,d))}}}})[0];return i.callback=l,i.facade}var cj=typeof window<"u"?j.useLayoutEffect:j.useEffect,Sg=new WeakMap;function uj(n,l){var i=oj(null,function(o){return n.forEach(function(d){return td(d,o)})});return cj(function(){var o=Sg.get(i);if(o){var d=new Set(o),f=new Set(n),m=i.current;d.forEach(function(h){f.has(h)||td(h,null)}),f.forEach(function(h){d.has(h)||td(h,m)})}Sg.set(i,n)},[n]),i}function dj(n){return n}function fj(n,l){l===void 0&&(l=dj);var i=[],o=!1,d={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:n},useMedium:function(f){var m=l(f,o);return i.push(m),function(){i=i.filter(function(h){return h!==m})}},assignSyncMedium:function(f){for(o=!0;i.length;){var m=i;i=[],m.forEach(f)}i={push:function(h){return f(h)},filter:function(){return i}}},assignMedium:function(f){o=!0;var m=[];if(i.length){var h=i;i=[],h.forEach(f),m=i}var g=function(){var y=m;m=[],y.forEach(f)},x=function(){return Promise.resolve().then(g)};x(),i={push:function(y){m.push(y),x()},filter:function(y){return m=m.filter(y),i}}}};return d}function mj(n){n===void 0&&(n={});var l=fj(null);return l.options=An({async:!0,ssr:!1},n),l}var kx=function(n){var l=n.sideCar,i=Mx(n,["sideCar"]);if(!l)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=l.read();if(!o)throw new Error("Sidecar medium not found");return j.createElement(o,An({},i))};kx.isSideCarExport=!0;function hj(n,l){return n.useMedium(l),kx}var Lx=mj(),nd=function(){},So=j.forwardRef(function(n,l){var i=j.useRef(null),o=j.useState({onScrollCapture:nd,onWheelCapture:nd,onTouchMoveCapture:nd}),d=o[0],f=o[1],m=n.forwardProps,h=n.children,g=n.className,x=n.removeScrollBar,y=n.enabled,b=n.shards,N=n.sideCar,w=n.noRelative,C=n.noIsolation,S=n.inert,D=n.allowPinchZoom,E=n.as,O=E===void 0?"div":E,Z=n.gapMode,A=Mx(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=N,L=uj([i,l]),q=An(An({},A),d);return j.createElement(j.Fragment,null,y&&j.createElement(_,{sideCar:Lx,removeScrollBar:x,shards:b,noRelative:w,noIsolation:C,inert:S,setCallbacks:f,allowPinchZoom:!!D,lockRef:i,gapMode:Z}),m?j.cloneElement(j.Children.only(h),An(An({},q),{ref:L})):j.createElement(O,An({},q,{className:g,ref:L}),h))});So.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};So.classNames={fullWidth:eo,zeroRight:Pi};var pj=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gj(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var l=pj();return l&&n.setAttribute("nonce",l),n}function xj(n,l){n.styleSheet?n.styleSheet.cssText=l:n.appendChild(document.createTextNode(l))}function vj(n){var l=document.head||document.getElementsByTagName("head")[0];l.appendChild(n)}var bj=function(){var n=0,l=null;return{add:function(i){n==0&&(l=gj())&&(xj(l,i),vj(l)),n++},remove:function(){n--,!n&&l&&(l.parentNode&&l.parentNode.removeChild(l),l=null)}}},yj=function(){var n=bj();return function(l,i){j.useEffect(function(){return n.add(l),function(){n.remove()}},[l&&i])}},Ux=function(){var n=yj(),l=function(i){var o=i.styles,d=i.dynamic;return n(o,d),null};return l},Nj={left:0,top:0,right:0,gap:0},ad=function(n){return parseInt(n||"",10)||0},jj=function(n){var l=window.getComputedStyle(document.body),i=l[n==="padding"?"paddingLeft":"marginLeft"],o=l[n==="padding"?"paddingTop":"marginTop"],d=l[n==="padding"?"paddingRight":"marginRight"];return[ad(i),ad(o),ad(d)]},_j=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return Nj;var l=jj(n),i=document.documentElement.clientWidth,o=window.innerWidth;return{left:l[0],top:l[1],right:l[2],gap:Math.max(0,o-i+l[2]-l[0])}},wj=Ux(),nr="data-scroll-locked",Sj=function(n,l,i,o){var d=n.left,f=n.top,m=n.right,h=n.gap;return i===void 0&&(i="margin"),`
  .`.concat(sj,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(h,"px ").concat(o,`;
  }
  body[`).concat(nr,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([l&&"position: relative ".concat(o,";"),i==="margin"&&`
    padding-left: `.concat(d,`px;
    padding-top: `).concat(f,`px;
    padding-right: `).concat(m,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(o,`;
    `),i==="padding"&&"padding-right: ".concat(h,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pi,` {
    right: `).concat(h,"px ").concat(o,`;
  }
  
  .`).concat(eo,` {
    margin-right: `).concat(h,"px ").concat(o,`;
  }
  
  .`).concat(Pi," .").concat(Pi,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(eo," .").concat(eo,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(nr,`] {
    `).concat(ij,": ").concat(h,`px;
  }
`)},Cg=function(){var n=parseInt(document.body.getAttribute(nr)||"0",10);return isFinite(n)?n:0},Cj=function(){j.useEffect(function(){return document.body.setAttribute(nr,(Cg()+1).toString()),function(){var n=Cg()-1;n<=0?document.body.removeAttribute(nr):document.body.setAttribute(nr,n.toString())}},[])},Ej=function(n){var l=n.noRelative,i=n.noImportant,o=n.gapMode,d=o===void 0?"margin":o;Cj();var f=j.useMemo(function(){return _j(d)},[d]);return j.createElement(wj,{styles:Sj(f,!l,d,i?"":"!important")})},xd=!1;if(typeof window<"u")try{var Ii=Object.defineProperty({},"passive",{get:function(){return xd=!0,!0}});window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{xd=!1}var Wl=xd?{passive:!1}:!1,Tj=function(n){return n.tagName==="TEXTAREA"},Bx=function(n,l){if(!(n instanceof Element))return!1;var i=window.getComputedStyle(n);return i[l]!=="hidden"&&!(i.overflowY===i.overflowX&&!Tj(n)&&i[l]==="visible")},Aj=function(n){return Bx(n,"overflowY")},Dj=function(n){return Bx(n,"overflowX")},Eg=function(n,l){var i=l.ownerDocument,o=l;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var d=Zx(n,o);if(d){var f=Hx(n,o),m=f[1],h=f[2];if(m>h)return!0}o=o.parentNode}while(o&&o!==i.body);return!1},zj=function(n){var l=n.scrollTop,i=n.scrollHeight,o=n.clientHeight;return[l,i,o]},Rj=function(n){var l=n.scrollLeft,i=n.scrollWidth,o=n.clientWidth;return[l,i,o]},Zx=function(n,l){return n==="v"?Aj(l):Dj(l)},Hx=function(n,l){return n==="v"?zj(l):Rj(l)},Oj=function(n,l){return n==="h"&&l==="rtl"?-1:1},Mj=function(n,l,i,o,d){var f=Oj(n,window.getComputedStyle(l).direction),m=f*o,h=i.target,g=l.contains(h),x=!1,y=m>0,b=0,N=0;do{if(!h)break;var w=Hx(n,h),C=w[0],S=w[1],D=w[2],E=S-D-f*C;(C||E)&&Zx(n,h)&&(b+=E,N+=C);var O=h.parentNode;h=O&&O.nodeType===Node.DOCUMENT_FRAGMENT_NODE?O.host:O}while(!g&&h!==document.body||g&&(l.contains(h)||l===h));return(y&&Math.abs(b)<1||!y&&Math.abs(N)<1)&&(x=!0),x},$i=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Tg=function(n){return[n.deltaX,n.deltaY]},Ag=function(n){return n&&"current"in n?n.current:n},kj=function(n,l){return n[0]===l[0]&&n[1]===l[1]},Lj=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},Uj=0,Pl=[];function Bj(n){var l=j.useRef([]),i=j.useRef([0,0]),o=j.useRef(),d=j.useState(Uj++)[0],f=j.useState(Ux)[0],m=j.useRef(n);j.useEffect(function(){m.current=n},[n]),j.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(d));var S=rj([n.lockRef.current],(n.shards||[]).map(Ag),!0).filter(Boolean);return S.forEach(function(D){return D.classList.add("allow-interactivity-".concat(d))}),function(){document.body.classList.remove("block-interactivity-".concat(d)),S.forEach(function(D){return D.classList.remove("allow-interactivity-".concat(d))})}}},[n.inert,n.lockRef.current,n.shards]);var h=j.useCallback(function(S,D){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!m.current.allowPinchZoom;var E=$i(S),O=i.current,Z="deltaX"in S?S.deltaX:O[0]-E[0],A="deltaY"in S?S.deltaY:O[1]-E[1],_,L=S.target,q=Math.abs(Z)>Math.abs(A)?"h":"v";if("touches"in S&&q==="h"&&L.type==="range")return!1;var W=window.getSelection(),J=W&&W.anchorNode,Q=J?J===L||J.contains(L):!1;if(Q)return!1;var ae=Eg(q,L);if(!ae)return!0;if(ae?_=q:(_=q==="v"?"h":"v",ae=Eg(q,L)),!ae)return!1;if(!o.current&&"changedTouches"in S&&(Z||A)&&(o.current=_),!_)return!0;var le=o.current||_;return Mj(le,D,S,le==="h"?Z:A)},[]),g=j.useCallback(function(S){var D=S;if(!(!Pl.length||Pl[Pl.length-1]!==f)){var E="deltaY"in D?Tg(D):$i(D),O=l.current.filter(function(_){return _.name===D.type&&(_.target===D.target||D.target===_.shadowParent)&&kj(_.delta,E)})[0];if(O&&O.should){D.cancelable&&D.preventDefault();return}if(!O){var Z=(m.current.shards||[]).map(Ag).filter(Boolean).filter(function(_){return _.contains(D.target)}),A=Z.length>0?h(D,Z[0]):!m.current.noIsolation;A&&D.cancelable&&D.preventDefault()}}},[]),x=j.useCallback(function(S,D,E,O){var Z={name:S,delta:D,target:E,should:O,shadowParent:Zj(E)};l.current.push(Z),setTimeout(function(){l.current=l.current.filter(function(A){return A!==Z})},1)},[]),y=j.useCallback(function(S){i.current=$i(S),o.current=void 0},[]),b=j.useCallback(function(S){x(S.type,Tg(S),S.target,h(S,n.lockRef.current))},[]),N=j.useCallback(function(S){x(S.type,$i(S),S.target,h(S,n.lockRef.current))},[]);j.useEffect(function(){return Pl.push(f),n.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:N}),document.addEventListener("wheel",g,Wl),document.addEventListener("touchmove",g,Wl),document.addEventListener("touchstart",y,Wl),function(){Pl=Pl.filter(function(S){return S!==f}),document.removeEventListener("wheel",g,Wl),document.removeEventListener("touchmove",g,Wl),document.removeEventListener("touchstart",y,Wl)}},[]);var w=n.removeScrollBar,C=n.inert;return j.createElement(j.Fragment,null,C?j.createElement(f,{styles:Lj(d)}):null,w?j.createElement(Ej,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function Zj(n){for(var l=null;n!==null;)n instanceof ShadowRoot&&(l=n.host,n=n.host),n=n.parentNode;return l}const Hj=hj(Lx,Bj);var qx=j.forwardRef(function(n,l){return j.createElement(So,An({},n,{ref:l,sideCar:Hj}))});qx.classNames=So.classNames;var qj=function(n){if(typeof document>"u")return null;var l=Array.isArray(n)?n[0]:n;return l.ownerDocument.body},er=new WeakMap,Vi=new WeakMap,Yi={},ld=0,Ix=function(n){return n&&(n.host||Ix(n.parentNode))},Ij=function(n,l){return l.map(function(i){if(n.contains(i))return i;var o=Ix(i);return o&&n.contains(o)?o:(console.error("aria-hidden",i,"in not contained inside",n,". Doing nothing"),null)}).filter(function(i){return!!i})},$j=function(n,l,i,o){var d=Ij(l,Array.isArray(n)?n:[n]);Yi[i]||(Yi[i]=new WeakMap);var f=Yi[i],m=[],h=new Set,g=new Set(d),x=function(b){!b||h.has(b)||(h.add(b),x(b.parentNode))};d.forEach(x);var y=function(b){!b||g.has(b)||Array.prototype.forEach.call(b.children,function(N){if(h.has(N))y(N);else try{var w=N.getAttribute(o),C=w!==null&&w!=="false",S=(er.get(N)||0)+1,D=(f.get(N)||0)+1;er.set(N,S),f.set(N,D),m.push(N),S===1&&C&&Vi.set(N,!0),D===1&&N.setAttribute(i,"true"),C||N.setAttribute(o,"true")}catch(E){console.error("aria-hidden: cannot operate on ",N,E)}})};return y(l),h.clear(),ld++,function(){m.forEach(function(b){var N=er.get(b)-1,w=f.get(b)-1;er.set(b,N),f.set(b,w),N||(Vi.has(b)||b.removeAttribute(o),Vi.delete(b)),w||b.removeAttribute(i)}),ld--,ld||(er=new WeakMap,er=new WeakMap,Vi=new WeakMap,Yi={})}},Vj=function(n,l,i){i===void 0&&(i="data-aria-hidden");var o=Array.from(Array.isArray(n)?n:[n]),d=qj(n);return d?(o.push.apply(o,Array.from(d.querySelectorAll("[aria-live], script"))),$j(o,d,i,"aria-hidden")):function(){return null}},Co="Dialog",[$x]=wN(Co),[Yj,gn]=$x(Co),Vx=n=>{const{__scopeDialog:l,children:i,open:o,defaultOpen:d,onOpenChange:f,modal:m=!0}=n,h=j.useRef(null),g=j.useRef(null),[x,y]=AN({prop:o,defaultProp:d??!1,onChange:f,caller:Co});return r.jsx(Yj,{scope:l,triggerRef:h,contentRef:g,contentId:Ju(),titleId:Ju(),descriptionId:Ju(),open:x,onOpenChange:y,onOpenToggle:j.useCallback(()=>y(b=>!b),[y]),modal:m,children:i})};Vx.displayName=Co;var Yx="DialogTrigger",Xj=j.forwardRef((n,l)=>{const{__scopeDialog:i,...o}=n,d=gn(Yx,i),f=il(l,d.triggerRef);return r.jsx(Wn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":d.open,"aria-controls":d.contentId,"data-state":$d(d.open),...o,ref:f,onClick:Sa(n.onClick,d.onOpenToggle)})});Xj.displayName=Yx;var qd="DialogPortal",[Gj,Xx]=$x(qd,{forceMount:void 0}),Gx=n=>{const{__scopeDialog:l,forceMount:i,children:o,container:d}=n,f=gn(qd,l);return r.jsx(Gj,{scope:l,forceMount:i,children:j.Children.map(o,m=>r.jsx(wo,{present:i||f.open,children:r.jsx(Ox,{asChild:!0,container:d,children:m})}))})};Gx.displayName=qd;var lo="DialogOverlay",Fx=j.forwardRef((n,l)=>{const i=Xx(lo,n.__scopeDialog),{forceMount:o=i.forceMount,...d}=n,f=gn(lo,n.__scopeDialog);return f.modal?r.jsx(wo,{present:o||f.open,children:r.jsx(Qj,{...d,ref:l})}):null});Fx.displayName=lo;var Fj=Ex("DialogOverlay.RemoveScroll"),Qj=j.forwardRef((n,l)=>{const{__scopeDialog:i,...o}=n,d=gn(lo,i);return r.jsx(qx,{as:Fj,allowPinchZoom:!0,shards:[d.contentRef],children:r.jsx(Wn.div,{"data-state":$d(d.open),...o,ref:l,style:{pointerEvents:"auto",...o.style}})})}),al="DialogContent",Qx=j.forwardRef((n,l)=>{const i=Xx(al,n.__scopeDialog),{forceMount:o=i.forceMount,...d}=n,f=gn(al,n.__scopeDialog);return r.jsx(wo,{present:o||f.open,children:f.modal?r.jsx(Kj,{...d,ref:l}):r.jsx(Jj,{...d,ref:l})})});Qx.displayName=al;var Kj=j.forwardRef((n,l)=>{const i=gn(al,n.__scopeDialog),o=j.useRef(null),d=il(l,i.contentRef,o);return j.useEffect(()=>{const f=o.current;if(f)return Vj(f)},[]),r.jsx(Kx,{...n,ref:d,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Sa(n.onCloseAutoFocus,f=>{f.preventDefault(),i.triggerRef.current?.focus()}),onPointerDownOutside:Sa(n.onPointerDownOutside,f=>{const m=f.detail.originalEvent,h=m.button===0&&m.ctrlKey===!0;(m.button===2||h)&&f.preventDefault()}),onFocusOutside:Sa(n.onFocusOutside,f=>f.preventDefault())})}),Jj=j.forwardRef((n,l)=>{const i=gn(al,n.__scopeDialog),o=j.useRef(!1),d=j.useRef(!1);return r.jsx(Kx,{...n,ref:l,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:f=>{n.onCloseAutoFocus?.(f),f.defaultPrevented||(o.current||i.triggerRef.current?.focus(),f.preventDefault()),o.current=!1,d.current=!1},onInteractOutside:f=>{n.onInteractOutside?.(f),f.defaultPrevented||(o.current=!0,f.detail.originalEvent.type==="pointerdown"&&(d.current=!0));const m=f.target;i.triggerRef.current?.contains(m)&&f.preventDefault(),f.detail.originalEvent.type==="focusin"&&d.current&&f.preventDefault()}})}),Kx=j.forwardRef((n,l)=>{const{__scopeDialog:i,trapFocus:o,onOpenAutoFocus:d,onCloseAutoFocus:f,...m}=n,h=gn(al,i),g=j.useRef(null),x=il(l,g);return lj(),r.jsxs(r.Fragment,{children:[r.jsx(zx,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:d,onUnmountAutoFocus:f,children:r.jsx(Ax,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":$d(h.open),...m,ref:x,onDismiss:()=>h.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(e_,{titleId:h.titleId}),r.jsx(n_,{contentRef:g,descriptionId:h.descriptionId})]})]})}),Id="DialogTitle",Jx=j.forwardRef((n,l)=>{const{__scopeDialog:i,...o}=n,d=gn(Id,i);return r.jsx(Wn.h2,{id:d.titleId,...o,ref:l})});Jx.displayName=Id;var Wx="DialogDescription",Wj=j.forwardRef((n,l)=>{const{__scopeDialog:i,...o}=n,d=gn(Wx,i);return r.jsx(Wn.p,{id:d.descriptionId,...o,ref:l})});Wj.displayName=Wx;var Px="DialogClose",Pj=j.forwardRef((n,l)=>{const{__scopeDialog:i,...o}=n,d=gn(Px,i);return r.jsx(Wn.button,{type:"button",...o,ref:l,onClick:Sa(n.onClick,()=>d.onOpenChange(!1))})});Pj.displayName=Px;function $d(n){return n?"open":"closed"}var e0="DialogTitleWarning",[hE,t0]=_N(e0,{contentName:al,titleName:Id,docsSlug:"dialog"}),e_=({titleId:n})=>{const l=t0(e0),i=`\`${l.contentName}\` requires a \`${l.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${l.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${l.docsSlug}`;return j.useEffect(()=>{n&&(document.getElementById(n)||console.error(i))},[i,n]),null},t_="DialogDescriptionWarning",n_=({contentRef:n,descriptionId:l})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${t0(t_).contentName}}.`;return j.useEffect(()=>{const d=n.current?.getAttribute("aria-describedby");l&&d&&(document.getElementById(l)||console.warn(o))},[o,n,l]),null},a_=Vx,l_=Gx,r_=Fx,s_=Qx,i_=Jx;function o_(n){if(typeof document>"u")return;let l=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",l.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}const n0=ee.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),_s=()=>{const n=ee.useContext(n0);if(!n)throw new Error("useDrawerContext must be used within a Drawer.Root");return n};o_(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function c_(){const n=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(n)&&/Mobile/.test(n)||/FxiOS/.test(n))}function u_(){return Vd(/^Mac/)}function d_(){return Vd(/^iPhone/)}function Dg(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function f_(){return Vd(/^iPad/)||u_()&&navigator.maxTouchPoints>1}function a0(){return d_()||f_()}function Vd(n){return typeof window<"u"&&window.navigator!=null?n.test(window.navigator.platform):void 0}const m_=24,h_=typeof window<"u"?j.useLayoutEffect:j.useEffect;function zg(...n){return(...l)=>{for(let i of n)typeof i=="function"&&i(...l)}}const rd=typeof document<"u"&&window.visualViewport;function Rg(n){let l=window.getComputedStyle(n);return/(auto|scroll)/.test(l.overflow+l.overflowX+l.overflowY)}function l0(n){for(Rg(n)&&(n=n.parentElement);n&&!Rg(n);)n=n.parentElement;return n||document.scrollingElement||document.documentElement}const p_=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Xi=0,sd;function g_(n={}){let{isDisabled:l}=n;h_(()=>{if(!l)return Xi++,Xi===1&&a0()&&(sd=x_()),()=>{Xi--,Xi===0&&sd?.()}},[l])}function x_(){let n,l=0,i=b=>{n=l0(b.target),!(n===document.documentElement&&n===document.body)&&(l=b.changedTouches[0].pageY)},o=b=>{if(!n||n===document.documentElement||n===document.body){b.preventDefault();return}let N=b.changedTouches[0].pageY,w=n.scrollTop,C=n.scrollHeight-n.clientHeight;C!==0&&((w<=0&&N>l||w>=C&&N<l)&&b.preventDefault(),l=N)},d=b=>{let N=b.target;vd(N)&&N!==document.activeElement&&(b.preventDefault(),N.style.transform="translateY(-2000px)",N.focus(),requestAnimationFrame(()=>{N.style.transform=""}))},f=b=>{let N=b.target;vd(N)&&(N.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{N.style.transform="",rd&&(rd.height<window.innerHeight?requestAnimationFrame(()=>{Og(N)}):rd.addEventListener("resize",()=>Og(N),{once:!0}))}))},m=()=>{window.scrollTo(0,0)},h=window.pageXOffset,g=window.pageYOffset,x=zg(v_(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let y=zg(us(document,"touchstart",i,{passive:!1,capture:!0}),us(document,"touchmove",o,{passive:!1,capture:!0}),us(document,"touchend",d,{passive:!1,capture:!0}),us(document,"focus",f,!0),us(window,"scroll",m));return()=>{x(),y(),window.scrollTo(h,g)}}function v_(n,l,i){let o=n.style[l];return n.style[l]=i,()=>{n.style[l]=o}}function us(n,l,i,o){return n.addEventListener(l,i,o),()=>{n.removeEventListener(l,i,o)}}function Og(n){let l=document.scrollingElement||document.documentElement;for(;n&&n!==l;){let i=l0(n);if(i!==document.documentElement&&i!==document.body&&i!==n){let o=i.getBoundingClientRect().top,d=n.getBoundingClientRect().top,f=n.getBoundingClientRect().bottom;const m=i.getBoundingClientRect().bottom+m_;f>m&&(i.scrollTop+=d-o)}n=i.parentElement}}function vd(n){return n instanceof HTMLInputElement&&!p_.has(n.type)||n instanceof HTMLTextAreaElement||n instanceof HTMLElement&&n.isContentEditable}function b_(n,l){typeof n=="function"?n(l):n!=null&&(n.current=l)}function y_(...n){return l=>n.forEach(i=>b_(i,l))}function r0(...n){return j.useCallback(y_(...n),n)}const s0=new WeakMap;function mt(n,l,i=!1){if(!n||!(n instanceof HTMLElement))return;let o={};Object.entries(l).forEach(([d,f])=>{if(d.startsWith("--")){n.style.setProperty(d,f);return}o[d]=n.style[d],n.style[d]=f}),!i&&s0.set(n,o)}function N_(n,l){if(!n||!(n instanceof HTMLElement))return;let i=s0.get(n);i&&(n.style[l]=i[l])}const ct=n=>{switch(n){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return n}};function Gi(n,l){if(!n)return null;const i=window.getComputedStyle(n),o=i.transform||i.webkitTransform||i.mozTransform;let d=o.match(/^matrix3d\((.+)\)$/);return d?parseFloat(d[1].split(", ")[ct(l)?13:12]):(d=o.match(/^matrix\((.+)\)$/),d?parseFloat(d[1].split(", ")[ct(l)?5:4]):null)}function j_(n){return 8*(Math.log(n+1)-2)}function id(n,l){if(!n)return()=>{};const i=n.style.cssText;return Object.assign(n.style,l),()=>{n.style.cssText=i}}function __(...n){return(...l)=>{for(const i of n)typeof i=="function"&&i(...l)}}const Fe={DURATION:.5,EASE:[.32,.72,0,1]},i0=.4,w_=.25,S_=100,o0=8,Wa=16,bd=26,od="vaul-dragging";function c0(n){const l=ee.useRef(n);return ee.useEffect(()=>{l.current=n}),ee.useMemo(()=>(...i)=>l.current==null?void 0:l.current.call(l,...i),[])}function C_({defaultProp:n,onChange:l}){const i=ee.useState(n),[o]=i,d=ee.useRef(o),f=c0(l);return ee.useEffect(()=>{d.current!==o&&(f(o),d.current=o)},[o,d,f]),i}function u0({prop:n,defaultProp:l,onChange:i=()=>{}}){const[o,d]=C_({defaultProp:l,onChange:i}),f=n!==void 0,m=f?n:o,h=c0(i),g=ee.useCallback(x=>{if(f){const b=typeof x=="function"?x(n):x;b!==n&&h(b)}else d(x)},[f,n,d,h]);return[m,g]}function E_({activeSnapPointProp:n,setActiveSnapPointProp:l,snapPoints:i,drawerRef:o,overlayRef:d,fadeFromIndex:f,onSnapPointChange:m,direction:h="bottom",container:g,snapToSequentialPoint:x}){const[y,b]=u0({prop:n,defaultProp:i?.[0],onChange:l}),[N,w]=ee.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);ee.useEffect(()=>{function q(){w({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",q),()=>window.removeEventListener("resize",q)},[]);const C=ee.useMemo(()=>y===i?.[i.length-1]||null,[i,y]),S=ee.useMemo(()=>{var q;return(q=i?.findIndex(W=>W===y))!=null?q:null},[i,y]),D=i&&i.length>0&&(f||f===0)&&!Number.isNaN(f)&&i[f]===y||!i,E=ee.useMemo(()=>{const q=g?{width:g.getBoundingClientRect().width,height:g.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var W;return(W=i?.map(J=>{const Q=typeof J=="string";let ae=0;if(Q&&(ae=parseInt(J,10)),ct(h)){const te=Q?ae:N?J*q.height:0;return N?h==="bottom"?q.height-te:-q.height+te:te}const le=Q?ae:N?J*q.width:0;return N?h==="right"?q.width-le:-q.width+le:le}))!=null?W:[]},[i,N,g]),O=ee.useMemo(()=>S!==null?E?.[S]:null,[E,S]),Z=ee.useCallback(q=>{var W;const J=(W=E?.findIndex(Q=>Q===q))!=null?W:null;m(J),mt(o.current,{transition:`transform ${Fe.DURATION}s cubic-bezier(${Fe.EASE.join(",")})`,transform:ct(h)?`translate3d(0, ${q}px, 0)`:`translate3d(${q}px, 0, 0)`}),E&&J!==E.length-1&&f!==void 0&&J!==f&&J<f?mt(d.current,{transition:`opacity ${Fe.DURATION}s cubic-bezier(${Fe.EASE.join(",")})`,opacity:"0"}):mt(d.current,{transition:`opacity ${Fe.DURATION}s cubic-bezier(${Fe.EASE.join(",")})`,opacity:"1"}),b(i?.[Math.max(J,0)])},[o.current,i,E,f,d,b]);ee.useEffect(()=>{if(y||n){var q;const W=(q=i?.findIndex(J=>J===n||J===y))!=null?q:-1;E&&W!==-1&&typeof E[W]=="number"&&Z(E[W])}},[y,n,i,E,Z]);function A({draggedDistance:q,closeDrawer:W,velocity:J,dismissible:Q}){if(f===void 0)return;const ae=h==="bottom"||h==="right"?(O??0)-q:(O??0)+q,le=S===f-1,te=S===0,Oe=q>0;if(le&&mt(d.current,{transition:`opacity ${Fe.DURATION}s cubic-bezier(${Fe.EASE.join(",")})`}),!x&&J>2&&!Oe){Q?W():Z(E[0]);return}if(!x&&J>2&&Oe&&E&&i){Z(E[i.length-1]);return}const ne=E?.reduce((B,K)=>typeof B!="number"||typeof K!="number"?B:Math.abs(K-ae)<Math.abs(B-ae)?K:B),H=ct(h)?window.innerHeight:window.innerWidth;if(J>i0&&Math.abs(q)<H*.4){const B=Oe?1:-1;if(B>0&&C&&i){Z(E[i.length-1]);return}if(te&&B<0&&Q&&W(),S===null)return;Z(E[S+B]);return}Z(ne)}function _({draggedDistance:q}){if(O===null)return;const W=h==="bottom"||h==="right"?O-q:O+q;(h==="bottom"||h==="right")&&W<E[E.length-1]||(h==="top"||h==="left")&&W>E[E.length-1]||mt(o.current,{transform:ct(h)?`translate3d(0, ${W}px, 0)`:`translate3d(${W}px, 0, 0)`})}function L(q,W){if(!i||typeof S!="number"||!E||f===void 0)return null;const J=S===f-1;if(S>=f&&W)return 0;if(J&&!W)return 1;if(!D&&!J)return null;const ae=J?S+1:S-1,le=J?E[ae]-E[ae-1]:E[ae+1]-E[ae],te=q/Math.abs(le);return J?1-te:te}return{isLastSnapPoint:C,activeSnapPoint:y,shouldFade:D,getPercentageDragged:L,setActiveSnapPoint:b,activeSnapPointIndex:S,onRelease:A,onDrag:_,snapPointsOffset:E}}const T_=()=>()=>{};function A_(){const{direction:n,isOpen:l,shouldScaleBackground:i,setBackgroundColorOnScale:o,noBodyStyles:d}=_s(),f=ee.useRef(null),m=j.useMemo(()=>document.body.style.backgroundColor,[]);function h(){return(window.innerWidth-bd)/window.innerWidth}ee.useEffect(()=>{if(l&&i){f.current&&clearTimeout(f.current);const g=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!g)return;__(o&&!d?id(document.body,{background:"black"}):T_,id(g,{transformOrigin:ct(n)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Fe.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Fe.EASE.join(",")})`}));const x=id(g,{borderRadius:`${o0}px`,overflow:"hidden",...ct(n)?{transform:`scale(${h()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${h()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{x(),f.current=window.setTimeout(()=>{m?document.body.style.background=m:document.body.style.removeProperty("background")},Fe.DURATION*1e3)}}},[l,i,m])}let ds=null;function D_({isOpen:n,modal:l,nested:i,hasBeenOpened:o,preventScrollRestoration:d,noBodyStyles:f}){const[m,h]=ee.useState(()=>typeof window<"u"?window.location.href:""),g=ee.useRef(0),x=ee.useCallback(()=>{if(Dg()&&ds===null&&n&&!f){ds={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:b,innerHeight:N}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-g.current}px`,left:`${-b}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const w=N-window.innerHeight;w&&g.current>=N&&(document.body.style.top=`${-(g.current+w)}px`)}),300)}},[n]),y=ee.useCallback(()=>{if(Dg()&&ds!==null&&!f){const b=-parseInt(document.body.style.top,10),N=-parseInt(document.body.style.left,10);Object.assign(document.body.style,ds),window.requestAnimationFrame(()=>{if(d&&m!==window.location.href){h(window.location.href);return}window.scrollTo(N,b)}),ds=null}},[m]);return ee.useEffect(()=>{function b(){g.current=window.scrollY}return b(),window.addEventListener("scroll",b),()=>{window.removeEventListener("scroll",b)}},[]),ee.useEffect(()=>{if(l)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||y()}},[l,y]),ee.useEffect(()=>{i||!o||(n?(!window.matchMedia("(display-mode: standalone)").matches&&x(),l||window.setTimeout(()=>{y()},500)):y())},[n,o,m,l,i,x,y]),{restorePositionSetting:y}}function z_({open:n,onOpenChange:l,children:i,onDrag:o,onRelease:d,snapPoints:f,shouldScaleBackground:m=!1,setBackgroundColorOnScale:h=!0,closeThreshold:g=w_,scrollLockTimeout:x=S_,dismissible:y=!0,handleOnly:b=!1,fadeFromIndex:N=f&&f.length-1,activeSnapPoint:w,setActiveSnapPoint:C,fixed:S,modal:D=!0,onClose:E,nested:O,noBodyStyles:Z=!1,direction:A="bottom",defaultOpen:_=!1,disablePreventScroll:L=!0,snapToSequentialPoint:q=!1,preventScrollRestoration:W=!1,repositionInputs:J=!0,onAnimationEnd:Q,container:ae,autoFocus:le=!1}){var te,Oe;const[ne=!1,H]=u0({defaultProp:_,prop:n,onChange:he=>{l?.(he),!he&&!O&&Es(),setTimeout(()=>{Q?.(he)},Fe.DURATION*1e3),he&&!D&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),he||(document.body.style.pointerEvents="auto")}}),[B,K]=ee.useState(!1),[fe,we]=ee.useState(!1),[Je,Me]=ee.useState(!1),be=ee.useRef(null),Ge=ee.useRef(null),Et=ee.useRef(null),Ft=ee.useRef(null),xn=ee.useRef(null),vn=ee.useRef(!1),bn=ee.useRef(null),za=ee.useRef(0),cn=ee.useRef(!1),ul=ee.useRef(!_),mr=ee.useRef(0),pe=ee.useRef(null),dl=ee.useRef(((te=pe.current)==null?void 0:te.getBoundingClientRect().height)||0),fl=ee.useRef(((Oe=pe.current)==null?void 0:Oe.getBoundingClientRect().width)||0),hr=ee.useRef(0),ws=ee.useCallback(he=>{f&&he===Ra.length-1&&(Ge.current=new Date)},[]),{activeSnapPoint:pr,activeSnapPointIndex:yn,setActiveSnapPoint:ml,onRelease:Do,snapPointsOffset:Ra,onDrag:_t,shouldFade:Ss,getPercentageDragged:Cs}=E_({snapPoints:f,activeSnapPointProp:w,setActiveSnapPointProp:C,drawerRef:pe,fadeFromIndex:N,overlayRef:be,onSnapPointChange:ws,direction:A,container:ae,snapToSequentialPoint:q});g_({isDisabled:!ne||fe||!D||Je||!B||!J||!L});const{restorePositionSetting:Es}=D_({isOpen:ne,modal:D,nested:O??!1,hasBeenOpened:B,preventScrollRestoration:W,noBodyStyles:Z});function Rn(){return(window.innerWidth-bd)/window.innerWidth}function zo(he){var Te,ze;!y&&!f||pe.current&&!pe.current.contains(he.target)||(dl.current=((Te=pe.current)==null?void 0:Te.getBoundingClientRect().height)||0,fl.current=((ze=pe.current)==null?void 0:ze.getBoundingClientRect().width)||0,we(!0),Et.current=new Date,a0()&&window.addEventListener("touchend",()=>vn.current=!1,{once:!0}),he.target.setPointerCapture(he.pointerId),za.current=ct(A)?he.pageY:he.pageX)}function gr(he,Te){var ze;let ye=he;const ke=(ze=window.getSelection())==null?void 0:ze.toString(),dt=pe.current?Gi(pe.current,A):null,nt=new Date;if(ye.tagName==="SELECT"||ye.hasAttribute("data-vaul-no-drag")||ye.closest("[data-vaul-no-drag]"))return!1;if(A==="right"||A==="left")return!0;if(Ge.current&&nt.getTime()-Ge.current.getTime()<500)return!1;if(dt!==null&&(A==="bottom"?dt>0:dt<0))return!0;if(ke&&ke.length>0)return!1;if(xn.current&&nt.getTime()-xn.current.getTime()<x&&dt===0||Te)return xn.current=nt,!1;for(;ye;){if(ye.scrollHeight>ye.clientHeight){if(ye.scrollTop!==0)return xn.current=new Date,!1;if(ye.getAttribute("role")==="dialog")return!0}ye=ye.parentNode}return!0}function Ro(he){if(pe.current&&fe){const Te=A==="bottom"||A==="right"?1:-1,ze=(za.current-(ct(A)?he.pageY:he.pageX))*Te,ye=ze>0,ke=f&&!y&&!ye;if(ke&&yn===0)return;const dt=Math.abs(ze),nt=document.querySelector("[data-vaul-drawer-wrapper]"),jn=A==="bottom"||A==="top"?dl.current:fl.current;let Tt=dt/jn;const un=Cs(dt,ye);if(un!==null&&(Tt=un),ke&&Tt>=1||!vn.current&&!gr(he.target,ye))return;if(pe.current.classList.add(od),vn.current=!0,mt(pe.current,{transition:"none"}),mt(be.current,{transition:"none"}),f&&_t({draggedDistance:ze}),ye&&!f){const Qt=j_(ze),Ma=Math.min(Qt*-1,0)*Te;mt(pe.current,{transform:ct(A)?`translate3d(0, ${Ma}px, 0)`:`translate3d(${Ma}px, 0, 0)`});return}const At=1-Tt;if((Ss||N&&yn===N-1)&&(o?.(he,Tt),mt(be.current,{opacity:`${At}`,transition:"none"},!0)),nt&&be.current&&m){const Qt=Math.min(Rn()+Tt*(1-Rn()),1),Ma=8-Tt*8,xr=Math.max(0,14-Tt*14);mt(nt,{borderRadius:`${Ma}px`,transform:ct(A)?`scale(${Qt}) translate3d(0, ${xr}px, 0)`:`scale(${Qt}) translate3d(${xr}px, 0, 0)`,transition:"none"},!0)}if(!f){const Qt=dt*Te;mt(pe.current,{transform:ct(A)?`translate3d(0, ${Qt}px, 0)`:`translate3d(${Qt}px, 0, 0)`})}}}ee.useEffect(()=>{window.requestAnimationFrame(()=>{ul.current=!0})},[]),ee.useEffect(()=>{var he;function Te(){if(!pe.current||!J)return;const ze=document.activeElement;if(vd(ze)||cn.current){var ye;const ke=((ye=window.visualViewport)==null?void 0:ye.height)||0,dt=window.innerHeight;let nt=dt-ke;const jn=pe.current.getBoundingClientRect().height||0,Tt=jn>dt*.8;hr.current||(hr.current=jn);const un=pe.current.getBoundingClientRect().top;if(Math.abs(mr.current-nt)>60&&(cn.current=!cn.current),f&&f.length>0&&Ra&&yn){const At=Ra[yn]||0;nt+=At}if(mr.current=nt,jn>ke||cn.current){const At=pe.current.getBoundingClientRect().height;let Qt=At;At>ke&&(Qt=ke-(Tt?un:bd)),S?pe.current.style.height=`${At-Math.max(nt,0)}px`:pe.current.style.height=`${Math.max(Qt,ke-un)}px`}else c_()||(pe.current.style.height=`${hr.current}px`);f&&f.length>0&&!cn.current?pe.current.style.bottom="0px":pe.current.style.bottom=`${Math.max(nt,0)}px`}}return(he=window.visualViewport)==null||he.addEventListener("resize",Te),()=>{var ze;return(ze=window.visualViewport)==null?void 0:ze.removeEventListener("resize",Te)}},[yn,f,Ra]);function Oa(he){wt(),E?.(),he||H(!1),setTimeout(()=>{f&&ml(f[0])},Fe.DURATION*1e3)}function Pn(){if(!pe.current)return;const he=document.querySelector("[data-vaul-drawer-wrapper]"),Te=Gi(pe.current,A);mt(pe.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Fe.DURATION}s cubic-bezier(${Fe.EASE.join(",")})`}),mt(be.current,{transition:`opacity ${Fe.DURATION}s cubic-bezier(${Fe.EASE.join(",")})`,opacity:"1"}),m&&Te&&Te>0&&ne&&mt(he,{borderRadius:`${o0}px`,overflow:"hidden",...ct(A)?{transform:`scale(${Rn()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Rn()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Fe.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Fe.EASE.join(",")})`},!0)}function wt(){!fe||!pe.current||(pe.current.classList.remove(od),vn.current=!1,we(!1),Ft.current=new Date)}function Nn(he){if(!fe||!pe.current)return;pe.current.classList.remove(od),vn.current=!1,we(!1),Ft.current=new Date;const Te=Gi(pe.current,A);if(!he||!gr(he.target,!1)||!Te||Number.isNaN(Te)||Et.current===null)return;const ze=Ft.current.getTime()-Et.current.getTime(),ye=za.current-(ct(A)?he.pageY:he.pageX),ke=Math.abs(ye)/ze;if(ke>.05&&(Me(!0),setTimeout(()=>{Me(!1)},200)),f){Do({draggedDistance:ye*(A==="bottom"||A==="right"?1:-1),closeDrawer:Oa,velocity:ke,dismissible:y}),d?.(he,!0);return}if(A==="bottom"||A==="right"?ye>0:ye<0){Pn(),d?.(he,!0);return}if(ke>i0){Oa(),d?.(he,!1);return}var dt;const nt=Math.min((dt=pe.current.getBoundingClientRect().height)!=null?dt:0,window.innerHeight);var jn;const Tt=Math.min((jn=pe.current.getBoundingClientRect().width)!=null?jn:0,window.innerWidth),un=A==="left"||A==="right";if(Math.abs(Te)>=(un?Tt:nt)*g){Oa(),d?.(he,!1);return}d?.(he,!0),Pn()}ee.useEffect(()=>(ne&&(mt(document.documentElement,{scrollBehavior:"auto"}),Ge.current=new Date),()=>{N_(document.documentElement,"scrollBehavior")}),[ne]);function St(he){const Te=he?(window.innerWidth-Wa)/window.innerWidth:1,ze=he?-Wa:0;bn.current&&window.clearTimeout(bn.current),mt(pe.current,{transition:`transform ${Fe.DURATION}s cubic-bezier(${Fe.EASE.join(",")})`,transform:ct(A)?`scale(${Te}) translate3d(0, ${ze}px, 0)`:`scale(${Te}) translate3d(${ze}px, 0, 0)`}),!he&&pe.current&&(bn.current=setTimeout(()=>{const ye=Gi(pe.current,A);mt(pe.current,{transition:"none",transform:ct(A)?`translate3d(0, ${ye}px, 0)`:`translate3d(${ye}px, 0, 0)`})},500))}function Oo(he,Te){if(Te<0)return;const ze=(window.innerWidth-Wa)/window.innerWidth,ye=ze+Te*(1-ze),ke=-Wa+Te*Wa;mt(pe.current,{transform:ct(A)?`scale(${ye}) translate3d(0, ${ke}px, 0)`:`scale(${ye}) translate3d(${ke}px, 0, 0)`,transition:"none"})}function Mo(he,Te){const ze=ct(A)?window.innerHeight:window.innerWidth,ye=Te?(ze-Wa)/ze:1,ke=Te?-Wa:0;Te&&mt(pe.current,{transition:`transform ${Fe.DURATION}s cubic-bezier(${Fe.EASE.join(",")})`,transform:ct(A)?`scale(${ye}) translate3d(0, ${ke}px, 0)`:`scale(${ye}) translate3d(${ke}px, 0, 0)`})}return ee.useEffect(()=>{D||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[D]),ee.createElement(a_,{defaultOpen:_,onOpenChange:he=>{!y&&!he||(he?K(!0):Oa(!0),H(he))},open:ne},ee.createElement(n0.Provider,{value:{activeSnapPoint:pr,snapPoints:f,setActiveSnapPoint:ml,drawerRef:pe,overlayRef:be,onOpenChange:l,onPress:zo,onRelease:Nn,onDrag:Ro,dismissible:y,shouldAnimate:ul,handleOnly:b,isOpen:ne,isDragging:fe,shouldFade:Ss,closeDrawer:Oa,onNestedDrag:Oo,onNestedOpenChange:St,onNestedRelease:Mo,keyboardIsOpen:cn,modal:D,snapPointsOffset:Ra,activeSnapPointIndex:yn,direction:A,shouldScaleBackground:m,setBackgroundColorOnScale:h,noBodyStyles:Z,container:ae,autoFocus:le}},i))}const d0=ee.forwardRef(function({...n},l){const{overlayRef:i,snapPoints:o,onRelease:d,shouldFade:f,isOpen:m,modal:h,shouldAnimate:g}=_s(),x=r0(l,i),y=o&&o.length>0;if(!h)return null;const b=ee.useCallback(N=>d(N),[d]);return ee.createElement(r_,{onMouseUp:b,ref:x,"data-vaul-overlay":"","data-vaul-snap-points":m&&y?"true":"false","data-vaul-snap-points-overlay":m&&f?"true":"false","data-vaul-animate":g?.current?"true":"false",...n})});d0.displayName="Drawer.Overlay";const f0=ee.forwardRef(function({onPointerDownOutside:n,style:l,onOpenAutoFocus:i,...o},d){const{drawerRef:f,onPress:m,onRelease:h,onDrag:g,keyboardIsOpen:x,snapPointsOffset:y,activeSnapPointIndex:b,modal:N,isOpen:w,direction:C,snapPoints:S,container:D,handleOnly:E,shouldAnimate:O,autoFocus:Z}=_s(),[A,_]=ee.useState(!1),L=r0(d,f),q=ee.useRef(null),W=ee.useRef(null),J=ee.useRef(!1),Q=S&&S.length>0;A_();const ae=(te,Oe,ne=0)=>{if(J.current)return!0;const H=Math.abs(te.y),B=Math.abs(te.x),K=B>H,fe=["bottom","right"].includes(Oe)?1:-1;if(Oe==="left"||Oe==="right"){if(!(te.x*fe<0)&&B>=0&&B<=ne)return K}else if(!(te.y*fe<0)&&H>=0&&H<=ne)return!K;return J.current=!0,!0};ee.useEffect(()=>{Q&&window.requestAnimationFrame(()=>{_(!0)})},[]);function le(te){q.current=null,J.current=!1,h(te)}return ee.createElement(s_,{"data-vaul-drawer-direction":C,"data-vaul-drawer":"","data-vaul-delayed-snap-points":A?"true":"false","data-vaul-snap-points":w&&Q?"true":"false","data-vaul-custom-container":D?"true":"false","data-vaul-animate":O?.current?"true":"false",...o,ref:L,style:y&&y.length>0?{"--snap-point-height":`${y[b??0]}px`,...l}:l,onPointerDown:te=>{E||(o.onPointerDown==null||o.onPointerDown.call(o,te),q.current={x:te.pageX,y:te.pageY},m(te))},onOpenAutoFocus:te=>{i?.(te),Z||te.preventDefault()},onPointerDownOutside:te=>{if(n?.(te),!N||te.defaultPrevented){te.preventDefault();return}x.current&&(x.current=!1)},onFocusOutside:te=>{if(!N){te.preventDefault();return}},onPointerMove:te=>{if(W.current=te,E||(o.onPointerMove==null||o.onPointerMove.call(o,te),!q.current))return;const Oe=te.pageY-q.current.y,ne=te.pageX-q.current.x,H=te.pointerType==="touch"?10:2;ae({x:ne,y:Oe},C,H)?g(te):(Math.abs(ne)>H||Math.abs(Oe)>H)&&(q.current=null)},onPointerUp:te=>{o.onPointerUp==null||o.onPointerUp.call(o,te),q.current=null,J.current=!1,h(te)},onPointerOut:te=>{o.onPointerOut==null||o.onPointerOut.call(o,te),le(W.current)},onContextMenu:te=>{o.onContextMenu==null||o.onContextMenu.call(o,te),W.current&&le(W.current)}})});f0.displayName="Drawer.Content";const R_=250,O_=120,M_=ee.forwardRef(function({preventCycle:n=!1,children:l,...i},o){const{closeDrawer:d,isDragging:f,snapPoints:m,activeSnapPoint:h,setActiveSnapPoint:g,dismissible:x,handleOnly:y,isOpen:b,onPress:N,onDrag:w}=_s(),C=ee.useRef(null),S=ee.useRef(!1);function D(){if(S.current){Z();return}window.setTimeout(()=>{E()},O_)}function E(){if(f||n||S.current){Z();return}if(Z(),!m||m.length===0){x||d();return}if(h===m[m.length-1]&&x){d();return}const _=m.findIndex(q=>q===h);if(_===-1)return;const L=m[_+1];g(L)}function O(){C.current=window.setTimeout(()=>{S.current=!0},R_)}function Z(){C.current&&window.clearTimeout(C.current),S.current=!1}return ee.createElement("div",{onClick:D,onPointerCancel:Z,onPointerDown:A=>{y&&N(A),O()},onPointerMove:A=>{y&&w(A)},ref:o,"data-vaul-drawer-visible":b?"true":"false","data-vaul-handle":"","aria-hidden":"true",...i},ee.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},l))});M_.displayName="Drawer.Handle";function k_(n){const l=_s(),{container:i=l.container,...o}=n;return ee.createElement(l_,{container:i,...o})}const fs={Root:z_,Content:f0,Overlay:d0,Portal:k_,Title:i_},L_=(n,l)=>{j.useEffect(()=>{if(n){window.history.pushState({modalOpen:!0},"",window.location.href);const i=o=>{o.preventDefault(),l()};return window.addEventListener("popstate",i),()=>{window.removeEventListener("popstate",i)}}},[n,l])},Mg=768,Yd=()=>{const[n,l]=j.useState(()=>typeof window>"u"?!1:window.innerWidth<Mg);return j.useEffect(()=>{const i=()=>{l(window.innerWidth<Mg)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),n},Gt=({isOpen:n,onClose:l,title:i,children:o,footer:d,maxWidth:f="lg",variant:m="center",description:h})=>{L_(n,l);const g=Yd(),x=j.useMemo(()=>!g&&(m==="fullscreen"||m==="drawer")?"center":m,[g,m]);if(x==="drawer")return r.jsx(fs.Root,{open:n,onOpenChange:N=>!N&&l(),children:r.jsxs(fs.Portal,{children:[r.jsx(fs.Overlay,{className:"fixed inset-0 bg-black/60 backdrop-blur-[2px] z-[50]"}),r.jsxs(fs.Content,{className:"bg-card flex flex-col rounded-t-[20px] h-[96%] mt-24 fixed bottom-0 left-0 right-0 z-[51] outline-none max-w-md mx-auto",children:[r.jsxs("div",{className:"p-4 bg-card rounded-t-[20px] shrink-0 border-b border-border/50",children:[r.jsx("div",{className:"mx-auto w-12 h-1.5 flex-shrink-0 rounded-full bg-muted mb-4"}),r.jsx(fs.Title,{className:"text-lg font-bold text-center",children:i})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o}),d&&r.jsx("div",{className:"p-4 border-t border-border mt-auto pb-safe-area bg-card",children:d})]})]})});const y={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl"}[f],b=x==="fullscreen";return r.jsx(zn,{show:n,as:j.Fragment,children:r.jsxs(xo,{onClose:l,className:"relative z-50",children:[r.jsx(Ca,{as:j.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm"})}),r.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:r.jsx("div",{className:Y("flex min-h-full items-center justify-center p-0 text-center",!b&&"sm:p-4"),children:r.jsx(Ca,{as:j.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95 translate-y-4 sm:translate-y-0",enterTo:"opacity-100 scale-100 translate-y-0",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100 translate-y-0",leaveTo:"opacity-0 scale-95 translate-y-4 sm:translate-y-0",children:r.jsxs(vo,{className:Y("relative transform overflow-hidden bg-card text-left align-middle shadow-2xl transition-all flex flex-col",b?"w-full h-[100dvh] rounded-none":`w-full ${y} rounded-2xl my-4 border border-border/50 max-h-[90vh]`),children:[r.jsxs("div",{className:Y("flex items-center justify-between px-4 py-3 border-b border-border/50 shrink-0 bg-background/80 backdrop-blur z-10",b&&"pt-safe-top"),children:[r.jsxs("div",{className:"flex items-center gap-2",children:[b&&g&&r.jsx("button",{onClick:l,className:"-ml-2 p-2 mr-1",children:r.jsx(Ed,{className:"w-6 h-6 text-primary"})}),r.jsxs("div",{children:[r.jsx(Td,{as:"h3",className:"text-lg font-bold leading-6 text-foreground",children:i}),h&&r.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:h})]})]}),(!b||!g)&&r.jsx("button",{onClick:l,className:"p-2 rounded-full text-muted-foreground hover:bg-muted hover:text-foreground transition-colors active:scale-95 outline-none focus:ring-2 focus:ring-primary/50",children:r.jsx(tl,{className:"w-5 h-5"})})]}),r.jsx("div",{className:Y("flex-1 overflow-y-auto overscroll-contain bg-background/50",b?"p-4":"p-6"),children:r.jsx("div",{className:Y("mx-auto","w-full"),children:o})}),d&&r.jsx("div",{className:Y("shrink-0 px-4 py-3 border-t border-border bg-background z-20",b&&"pb-safe-bottom"),children:d})]})})})})]})})},oe=({className:n,label:l,suffix:i,prefix:o,isDimension:d=!1,id:f,ref:m,value:h,onChange:g,onClear:x,onBlur:y,type:b="text",error:N,warning:w,...C})=>{const S=j.useId(),D=f||S,E=j.useRef(null),O=m||E,Z=q=>{if(d&&g){const W=q.target.value,J=cN(W);if(J!==W&&J!==""){const Q={...q,target:{...q.target,value:J}};g(Q)}}y?.(q)},A=()=>{x&&(x(),requestAnimationFrame(()=>O.current?.focus()))},_=N?"border-destructive focus:ring-destructive text-destructive":w?"border-warning focus:ring-warning text-warning-foreground":"border-input focus:ring-primary",L=x&&h&&String(h).length>0;return r.jsxs("div",{className:"space-y-1.5 w-full group",children:[l&&r.jsx("label",{htmlFor:D,className:Y("text-[15px] font-medium ml-1 transition-colors",N?"text-destructive":"text-foreground"),children:l}),r.jsxs("div",{className:"relative",children:[o&&r.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none",children:o}),r.jsx("input",{ref:O,id:D,type:b,value:h,onChange:g,onBlur:Z,className:Y("flex h-12 w-full rounded-xl border bg-background px-4 py-2 text-base shadow-sm transition-all","file:border-0 file:bg-transparent file:text-sm file:font-medium","placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:border-transparent","disabled:cursor-not-allowed disabled:opacity-50 disabled:bg-muted/50",_,i?"pr-12":L?"pr-10":"",o?"pl-10":"",n),...C}),i&&r.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground text-sm font-medium pointer-events-none",children:i}),L&&!i&&r.jsx("button",{type:"button",onClick:A,tabIndex:-1,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 rounded-full text-muted-foreground hover:bg-accent hover:text-foreground transition-colors focus:outline-none focus:ring-2 focus:ring-ring active:scale-90","aria-label":"Clear input",children:r.jsx(tl,{className:"w-4 h-4"})})]}),N?r.jsxs("div",{className:"flex items-center gap-1.5 px-1 animate-fade-in",role:"alert",children:[r.jsx(go,{className:"w-3.5 h-3.5 text-destructive"}),r.jsx("span",{className:"text-xs font-medium text-destructive",children:N})]}):w?r.jsxs("div",{className:"flex items-center gap-1.5 px-1 animate-fade-in",role:"alert",children:[r.jsx(Jn,{className:"w-3.5 h-3.5 text-warning"}),r.jsx("span",{className:"text-xs font-medium text-warning-foreground",children:w})]}):null]})},U_=({data:n,onChange:l,errors:i})=>r.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[r.jsx(gs,{className:"w-5 h-5 text-primary"}),r.jsx("h2",{children:" (.)"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(oe,{label:" (W)",placeholder:"0.00",value:n.width_m,onChange:o=>l("width_m",o.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-primary bg-primary/10",error:i.width_m}),r.jsx(oe,{label:" (H)",placeholder:"0.00",value:n.height_m,onChange:o=>l("height_m",o.target.value),isDimension:!0,className:"text-lg font-bold text-primary bg-primary/10",error:i.height_m})]})]}),ir=({label:n,placeholder:l,value:i,onChange:o,onSelect:d,options:f,className:m,inputMode:h,prefix:g,id:x,error:y,warning:b})=>{const N=j.useId(),w=x||N,[C,S]=j.useState(""),D=y?"border-destructive focus:ring-destructive text-destructive":b?"border-warning focus:ring-warning text-warning-foreground":"border-input focus:ring-primary",E=C===""?f:f.filter(O=>O.label.toLowerCase().includes(C.toLowerCase()));return r.jsxs("div",{className:"space-y-1.5 w-full",children:[n&&r.jsx("label",{htmlFor:w,className:Y("text-[15px] font-medium ml-1",y?"text-destructive":"text-foreground"),children:n}),r.jsx(cy,{value:i,onChange:O=>{o(O||"")},immediate:!0,children:r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"relative w-full cursor-default overflow-hidden rounded-xl bg-background text-left shadow-sm focus:outline-none",children:[g&&r.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none z-10",children:g}),r.jsx(uy,{className:Y("w-full border py-2 text-base leading-5 focus:outline-none focus:ring-2 focus:border-transparent transition-all","h-12 bg-background",D,g?"pl-10":"pl-4","pr-10",m),displayValue:O=>O,onChange:O=>{S(O.target.value),o(O.target.value)},placeholder:l,id:w,inputMode:h,autoComplete:"off"}),r.jsx(dy,{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:r.jsx(fy,{className:"h-5 w-5 text-muted-foreground/50","aria-hidden":"true"})})]}),r.jsx(zn,{as:j.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:()=>S(""),children:r.jsx(my,{className:"absolute mt-1 max-h-60 w-full overflow-auto rounded-xl bg-popover py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm z-50",children:E.length===0&&C!==""?r.jsxs("div",{className:"relative cursor-default select-none px-4 py-3 text-muted-foreground italic text-center",children:[' "',C,'"']}):E.map(O=>r.jsx(hy,{className:({active:Z})=>Y("relative cursor-default select-none py-3 pl-10 pr-4 transition-colors",Z?"bg-primary/10 text-primary":"text-foreground"),value:O.label,onClick:()=>d?.(O),children:({selected:Z,active:A})=>r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:Y("block truncate font-medium",Z?"font-bold":"font-normal"),children:O.label}),O.desc&&r.jsx("span",{className:Y("text-xs truncate",A?"text-primary/70":"text-muted-foreground"),children:O.desc})]}),Z?r.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-primary",children:r.jsx(rr,{className:"h-4 w-4","aria-hidden":"true"})}):null]})},O.value))})})]})}),y?r.jsxs("div",{className:"flex items-center gap-1.5 px-1 animate-fade-in",children:[r.jsx(go,{className:"w-3.5 h-3.5 text-destructive"}),r.jsx("span",{className:"text-xs font-medium text-destructive",children:y})]}):b?r.jsxs("div",{className:"flex items-center gap-1.5 px-1 animate-fade-in",children:[r.jsx(Jn,{className:"w-3.5 h-3.5 text-warning"}),r.jsx("span",{className:"text-xs font-medium text-warning-foreground",children:b})]}):null]})},B_=({value:n,onChange:l})=>{const{trigger:i}=sn(),o=f=>{i("selection"),l(f)},d=[{id:et.MAIN,label:"",icon:Ad,desc:"Single Layer"},{id:et.DOUBLE,label:" + ",icon:xx,desc:"Double Layer"},{id:et.SHEER,label:"",icon:Dd,desc:"Sheer Only"}];return r.jsx("div",{className:"grid grid-cols-3 gap-2 p-1 bg-muted/40 rounded-xl border border-border/50",children:d.map(f=>{const m=n===f.id;return r.jsxs("button",{type:"button",onClick:()=>o(f.id),className:Y("relative flex flex-col items-center justify-center py-3 rounded-lg transition-all duration-200",m?"bg-white dark:bg-slate-800 shadow-sm text-primary border border-border/50":"text-muted-foreground hover:bg-white/50 dark:hover:bg-slate-700/50"),children:[r.jsx(f.icon,{className:Y("w-5 h-5 mb-1.5",m&&"animate-pulse-once")}),r.jsx("span",{className:"text-xs font-bold leading-none",children:f.label}),m&&r.jsx("span",{className:"absolute top-1.5 right-1.5 w-1.5 h-1.5 bg-primary rounded-full"})]},f.id)})})},kg=n=>{const{inventory:l}=se();return l[n]||[]},Lg=({status:n,masterPrice:l,onSync:i})=>n==="synced"||n==="empty"||n==="no_master"?null:r.jsxs("div",{className:"absolute -top-6 right-0 flex items-center gap-2 animate-fade-in z-10",children:[r.jsxs("span",{className:"text-[10px] font-bold text-amber-600 bg-amber-50 px-2 py-0.5 rounded-full border border-amber-100 flex items-center gap-1",children:[r.jsx(Jn,{className:"w-3 h-3"}),": ",_e(l)]}),r.jsxs("button",{type:"button",onClick:i,className:"text-[10px] flex items-center gap-1 text-primary hover:underline hover:text-primary/80 transition-colors",children:[r.jsx(bo,{className:"w-3 h-3"})," "]})]}),Z_=({data:n,onChange:l,onNumberChange:i,onMainFabricSelect:o,onSheerFabricSelect:d,errors:f,warnings:m})=>{const{updateInventoryItem:h,addToInventory:g}=se(),x=jt(Q=>Q.addToast),y=kg(ve.CURTAIN_MAIN),b=kg(ve.CURTAIN_SHEER),[N,w]=j.useState(null),C=n.layer_mode||et.MAIN,S=[et.MAIN,et.DOUBLE].includes(C),D=[et.SHEER,et.DOUBLE].includes(C),E=j.useCallback((Q,ae)=>{const le=ae?b:y;if(!Q)return{status:"none",masterItem:null,masterPrice:0};const te=le.find(ne=>ne.code===Q),Oe=te?.default_price_per_m||0;return{status:"found",masterItem:te,masterPrice:Oe}},[y,b]),O=j.useCallback((Q,ae)=>{const le=P(Q);return le===0?"empty":ae===0?"no_master":Math.abs(le-ae)<.01?"synced":"mismatch"},[]),Z=j.useMemo(()=>E(n.code,!1),[n.code,E]),A=j.useMemo(()=>E(n.sheer_code,!0),[n.sheer_code,E]),_=O(n.price_per_m_raw,Z.masterPrice),L=O(n.sheer_price_per_m,A.masterPrice),q=(Q=!1)=>{const{masterItem:ae}=Q?A:Z;ae&&(i(Q?"sheer_price_per_m":"price_per_m_raw",ae.default_price_per_m.toString()),x("success",` ${ae.code} `))},W=(Q,ae,le)=>{const te=typeof Q=="string"?Q:Q.value;l(ae,te);const Oe=typeof Q=="string"?void 0:Q?.data;Oe?.price&&Oe.price>0&&!n[le]&&i(le,Oe.price.toString())},J=(Q,ae,le)=>{if(!Q){x("error","");return}const te=P(ae);if(te<=0){x("error"," 0");return}const ne=(le===ve.CURTAIN_SHEER?b:y).find(H=>H.code===Q);try{ne?(h(le,ne.id,{default_price_per_m:te}),x("success",` ${Q}  ${_e(te)} `)):(g(le,{code:Q,default_price_per_m:te,note:""}),x("success",` ${Q} `)),w(le),setTimeout(()=>w(null),2e3)}catch(H){console.error(H),x("error","")}};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-card rounded-2xl border border-border p-4 shadow-sm space-y-4",children:[r.jsx("h3",{className:"font-bold text-foreground flex items-center gap-2",children:""}),r.jsx(B_,{value:C,onChange:Q=>l("layer_mode",Q)})]}),r.jsxs("div",{className:"bg-card rounded-2xl border border-border p-4 shadow-sm space-y-6",children:[S&&r.jsxs("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-2 duration-300",children:[r.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold border-b border-border/40 pb-2 mb-2",children:[r.jsx(Ad,{className:"w-4 h-4"}),r.jsx("span",{children:" (Main)"})]}),r.jsxs("div",{className:"grid grid-cols-12 gap-3 items-start",children:[r.jsx("div",{className:"col-span-12 sm:col-span-8",children:r.jsx(ir,{label:"",placeholder:"...",value:n.code||"",onChange:Q=>l("code",Q),onSelect:Q=>{if(W(Q,"code","price_per_m_raw"),typeof Q!="string"&&Q.data){const ae=y.find(le=>le.code===Q.value);ae&&o(ae)}},options:y.map(Q=>({label:Q.code,value:Q.code,desc:Q.note||(Q.default_price_per_m>0?`${_e(Q.default_price_per_m)}`:void 0),data:{price:Q.default_price_per_m}})),error:f.code,warning:m.code})}),r.jsx("div",{className:"col-span-12 sm:col-span-4",children:r.jsxs("div",{className:"flex gap-2 items-end",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Lg,{status:_,masterPrice:Z.masterPrice,onSync:()=>q(!1)}),r.jsx(oe,{label:"/.",placeholder:"0.00",value:n.price_per_m_raw||"",onChange:Q=>i("price_per_m_raw",Q.target.value),type:"number",inputMode:"decimal",className:Y("w-full text-right font-mono transition-all",_==="mismatch"?"text-amber-600 bg-amber-50 border-amber-200 focus:ring-amber-500":f.price_per_m_raw?"border-destructive":"border-border"),error:f.price_per_m_raw})]}),n.code&&P(n.price_per_m_raw)>0&&r.jsx(de,{type:"button",variant:"outline",className:Y("h-[42px] w-[42px] p-0 shrink-0 border-dashed transition-all",_==="mismatch"?"border-amber-400 text-amber-500 hover:bg-amber-50":"border-border text-muted-foreground hover:text-primary"),onClick:()=>J(n.code,n.price_per_m_raw,ve.CURTAIN_MAIN),title:"",children:N===ve.CURTAIN_MAIN?r.jsx(rr,{className:"w-5 h-5 text-green-600 animate-in zoom-in"}):r.jsx(nl,{className:Y("w-5 h-5",_==="mismatch"&&"fill-amber-100 animate-pulse")})})]})})]})]}),D&&r.jsxs("div",{className:Y("space-y-3 animate-in fade-in slide-in-from-top-2 duration-300",S&&"pt-4 border-t border-dashed border-border"),children:[r.jsxs("div",{className:"flex items-center gap-2 text-sky-500 font-bold border-b border-border/40 pb-2 mb-2",children:[r.jsx(Dd,{className:"w-4 h-4"}),r.jsx("span",{children:" (Sheer)"})]}),r.jsxs("div",{className:"grid grid-cols-12 gap-3 items-start",children:[r.jsx("div",{className:"col-span-12 sm:col-span-8",children:r.jsx(ir,{label:"",placeholder:"...",value:n.sheer_code||"",onChange:Q=>l("sheer_code",Q),onSelect:Q=>{if(W(Q,"sheer_code","sheer_price_per_m"),typeof Q!="string"&&Q.data){const ae=b.find(le=>le.code===Q.value);ae&&d(ae)}},options:b.map(Q=>({label:Q.code,value:Q.code,desc:Q.note||(Q.default_price_per_m>0?`${_e(Q.default_price_per_m)}`:void 0),data:{price:Q.default_price_per_m}})),error:f.sheer_code,warning:m.sheer_code})}),r.jsx("div",{className:"col-span-12 sm:col-span-4",children:r.jsxs("div",{className:"flex gap-2 items-end",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Lg,{status:L,masterPrice:A.masterPrice,onSync:()=>q(!0)}),r.jsx(oe,{label:"/.",placeholder:"0.00",value:n.sheer_price_per_m||"",onChange:Q=>i("sheer_price_per_m",Q.target.value),type:"number",inputMode:"decimal",className:Y("w-full text-right font-mono transition-all",L==="mismatch"?"text-amber-600 bg-amber-50 border-amber-200 focus:ring-amber-500":f.sheer_price_per_m?"border-destructive":"border-border"),error:f.sheer_price_per_m})]}),n.sheer_code&&P(n.sheer_price_per_m)>0&&r.jsx(de,{type:"button",variant:"outline",className:Y("h-[42px] w-[42px] p-0 shrink-0 border-dashed transition-all",L==="mismatch"?"border-amber-400 text-amber-500 hover:bg-amber-50":"border-border text-muted-foreground hover:text-teal-500"),onClick:()=>J(n.sheer_code,n.sheer_price_per_m,ve.CURTAIN_SHEER),title:"",children:N===ve.CURTAIN_SHEER?r.jsx(rr,{className:"w-5 h-5 text-green-600 animate-in zoom-in"}):r.jsx(nl,{className:Y("w-5 h-5",L==="mismatch"&&"fill-amber-100 animate-pulse")})})]})})]})]})]})]})},H_=({isOpen:n,onClose:l,title:i,options:o,value:d,onSelect:f,showCloseButton:m=!0,showDragIndicator:h=!0,maxHeight:g="85vh"})=>{const{trigger:x}=sn(),y=j.useCallback(N=>{x("selection"),N!==d&&f(N),setTimeout(()=>{l()},120)},[x,d,f,l]),b=j.useCallback(()=>{x("light"),l()},[x,l]);return r.jsx(zn,{show:n,as:j.Fragment,children:r.jsxs(xo,{as:"div",className:"relative z-50",onClose:b,"aria-labelledby":"option-sheet-title",children:[r.jsx(Ca,{as:j.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:r.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-[2px]","aria-hidden":"true"})}),r.jsx("div",{className:"fixed inset-0 flex items-end justify-center pointer-events-none",children:r.jsx(Ca,{as:j.Fragment,enter:"transform transition ease-ios duration-300",enterFrom:"translate-y-full opacity-0",enterTo:"translate-y-0 opacity-100",leave:"transform transition ease-ios duration-200",leaveFrom:"translate-y-0 opacity-100",leaveTo:"translate-y-full opacity-0",children:r.jsxs(vo,{className:"relative w-full bg-card rounded-t-2xl shadow-2xl flex flex-col pointer-events-auto",style:{maxHeight:g},children:[r.jsxs("div",{className:"sticky top-0 z-10 bg-card rounded-t-2xl border-b border-border/50",children:[h&&r.jsx("div",{className:"flex justify-center pt-3 pb-2",children:r.jsx("div",{className:"w-12 h-1.5 rounded-full bg-muted-foreground/30"})}),r.jsxs("div",{className:"px-5 pb-4 pt-1 flex items-center justify-between",children:[r.jsx(Td,{id:"option-sheet-title",className:"text-lg font-bold text-foreground",children:i}),m&&r.jsx("button",{onClick:b,className:"p-2 -mr-2 rounded-lg hover:bg-muted transition-colors focus:outline-none focus:ring-2 focus:ring-primary/50","aria-label":"Close",children:r.jsx(tl,{className:"w-5 h-5 text-muted-foreground"})})]})]}),r.jsxs("div",{className:"overflow-y-auto overscroll-contain px-4 pb-safe-bottom",children:[r.jsx("div",{className:"py-1 space-y-2",children:o.map(N=>{const w=d===N.value,C=N.icon,S=N.disabled;return r.jsxs("button",{type:"button",onClick:()=>!S&&y(N.value),disabled:S,className:Y("w-full flex items-center gap-3 p-4 rounded-xl transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-primary/50 focus:ring-offset-2 focus:ring-offset-card",w?"bg-primary/10 border border-primary/20":"bg-background border border-border hover:bg-muted/80",S&&"opacity-50 cursor-not-allowed hover:bg-background"),"aria-current":w?"true":"false","aria-disabled":S,children:[C&&r.jsx("div",{className:Y("w-10 h-10 rounded-full flex items-center justify-center shrink-0 transition-colors",w?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground",S&&"opacity-50"),children:r.jsx(C,{className:"w-5 h-5"})}),r.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[r.jsx("div",{className:Y("font-semibold text-base truncate",w?"text-primary":"text-foreground",S&&"text-muted-foreground"),children:N.label}),N.description&&r.jsx("div",{className:Y("text-sm text-muted-foreground mt-0.5 truncate",S&&"opacity-70"),children:N.description})]}),r.jsx("div",{className:"flex-shrink-0 ml-2",children:w?r.jsx("div",{className:"w-6 h-6 rounded-full bg-primary flex items-center justify-center animate-in zoom-in-50 duration-200",children:r.jsx(rr,{className:"w-3.5 h-3.5 text-primary-foreground",strokeWidth:3,"aria-hidden":"true"})}):r.jsx(sl,{className:"w-5 h-5 text-muted-foreground/40","aria-hidden":"true"})})]},String(N.value))})}),r.jsx("div",{className:"h-6"})]})]})})})]})})},cd=({value:n,label:l,icon:i,currentValue:o,onChange:d})=>{const f=o===n;return r.jsxs("button",{type:"button",onClick:()=>d(n),className:Y("relative flex flex-col items-center justify-center h-20 rounded-xl border-2 transition-all active:scale-95",f?"border-primary bg-primary/10 text-primary shadow-md":"border-border bg-card text-muted-foreground hover:bg-muted/30 hover:border-primary/50"),children:[r.jsx(i,{className:Y("w-8 h-8 mb-1",f?"text-primary":"text-slate-400",f&&"animate-bounce-short"),strokeWidth:1.5}),r.jsx("span",{className:"text-xs font-medium",children:l}),f&&r.jsx("div",{className:"absolute top-1 right-1 bg-primary text-white rounded-full p-0.5",children:r.jsx(rr,{className:"w-2 h-2"})})]})},q_=({data:n,onChange:l,errors:i,warnings:o})=>{const[d,f]=j.useState(null),m=()=>tg.find(g=>g.value===n.style)?.label||"...",h=Py[n.style]||{hasRail:!0};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between text-foreground pb-2 border-b border-border/50",children:[r.jsxs("div",{className:"flex items-center gap-2 font-bold",children:[r.jsx(hx,{className:"w-5 h-5 text-primary"}),r.jsx("h2",{children:" & "})]}),i?.style&&r.jsxs("span",{className:"text-xs text-destructive flex items-center gap-1",children:[r.jsx(go,{className:"w-3 h-3"})," ",i.style]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground ml-1",children:""}),r.jsxs("button",{type:"button",onClick:()=>f("style"),className:Y("w-full flex items-center justify-between p-4 rounded-xl border bg-background transition-all hover:bg-muted/30",i?.style?"border-destructive/50 ring-1 ring-destructive/20":"border-input hover:border-primary/50"),children:[r.jsx("span",{className:"text-base font-medium",children:m()}),r.jsxs("span",{className:"text-sm text-primary font-bold",children:[" ",">"]})]})]}),r.jsxs("div",{className:"space-y-2 pt-2",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground ml-1",children:""}),r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsx(cd,{value:"",label:"",icon:yo,currentValue:n.opening_style,onChange:g=>l("opening_style",g)}),r.jsx(cd,{value:"",label:"",icon:zd,currentValue:n.opening_style,onChange:g=>l("opening_style",g)}),r.jsx(cd,{value:"",label:"",icon:No,currentValue:n.opening_style,onChange:g=>l("opening_style",g)})]})]})]}),h.hasRail&&r.jsx("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm animate-fade-in",children:r.jsx(oe,{prefix:r.jsx(py,{className:"w-4 h-4 text-muted-foreground"}),label:" / ",placeholder:"...",value:n.rail_color||"",onChange:g=>l("rail_color",g.target.value),error:i?.rail_color,warning:o.rail_color,className:"h-12"})}),r.jsx(H_,{isOpen:d==="style",onClose:()=>f(null),title:"",options:tg,value:n.style,onSelect:g=>l("style",g)})]})},Ut=({className:n,checked:l,onCheckedChange:i,disabled:o,ref:d,...f})=>r.jsxs("label",{className:Y("group inline-flex items-center relative cursor-pointer tap-highlight-transparent",o&&"cursor-not-allowed opacity-50",n),children:[r.jsx("input",{ref:d,type:"checkbox",className:"sr-only",checked:l,onChange:m=>i(m.target.checked),disabled:o,...f}),r.jsx("div",{className:Y("w-[51px] h-[31px] rounded-full transition-colors duration-300 ease-in-out border",l?"bg-primary border-primary":"bg-input border-border")}),r.jsx("div",{className:Y("absolute left-[2px] top-[2px] w-[27px] h-[27px] bg-background rounded-full shadow-sm transition-transform duration-300 ease-in-out",l?"translate-x-[20px]":"translate-x-0")})]}),Xd={analyze:n=>{const l=se.getState(),{fabricCosts:i,accessoryCosts:o,laborCosts:d}=l,f=gt.calculateDetailedPrice(n),m=f.total,h=f.breakdown||{};let g=0,x="",y=!1;const b=[];if(Ld(n)){x="";const D=h.fabricYards||0,E=h.sheerYards||0;let O=0,Z=0,A=0,_=0,L=!1;if(n.code){const le=i[n.code];le?O=le*D:y=!0}if((O>0||D>0)&&b.push({label:` (${D.toFixed(2)} )`,amount:O,icon:"material"}),n.sheer_code){const le=i[n.sheer_code];le?Z=le*E:y=!0}(Z>0||E>0)&&b.push({label:` (${E.toFixed(2)} )`,amount:Z,icon:"material"});const q=P(n.width_m);let W="rail_standard";n.style===""?W="rail_wave":n.style===""?W="rail_pleated":n.style===""?W="rail_eyelet":n.style===""?W="rail_roman":n.style===""?W="rail_louis":n.style===""&&(W="rail_rod");const J=o[W]||0;A=q*J,A>0&&b.push({label:"",amount:A,icon:"equipment"});const Q=n.style,ae=d[Q];if(ae){let le=0;if(ae.unit==="sqm"){const te=P(n.height_m);le=q*te*ae.rate}else le=q*ae.rate;ae.min_price&&le<ae.min_price&&(L=!0,le=ae.min_price),_=le}_>0&&b.push({label:"/",amount:_,icon:"labor",isMinApplied:L}),g=D+E}else if(Ud(n)){x="";const D=h.usedRolls||0;g=D;let E=0,O=0;if(n.wallpaper_code){const Z=i[n.wallpaper_code];Z?E=Z*D:y=!0}P(n.install_cost_per_roll)>0&&(O=P(n.install_cost_per_roll)*D),(E>0||D>0)&&b.push({label:` (${D} )`,amount:E,icon:"material"}),O>0&&b.push({label:"/",amount:O,icon:"labor"})}else if(Zd(n)){x="..";const D=h.areaSqyd||0;g=D;let E=0;if(n.code){const O=i[n.code];O?E=O*D:y=!0}E>0&&b.push({label:` (${D.toFixed(2)} ..)`,amount:E,icon:"equipment"})}else Bd(n)&&(x="",g=P(n.quantity));const N=b.reduce((D,E)=>D+E.amount,0),w=m-N;let C=0;m>0?C=w/m*100:N>0&&(C=-100);let S="profit";return y?S="unknown":w<0?S="loss":C<30&&(S="warning"),{totalCost:N,sellingPrice:m,profitAmount:w,marginPercent:C,status:S,breakdownItems:b,usedQuantity:g,unit:x}}},I_=n=>j.useMemo(()=>{const i={...n,type:V.CURTAIN,id:"temp_analysis"};return Xd.analyze(i)},[n.width_m,n.height_m,n.style,n.code,n.sheer_code,n.price_per_m_raw,n.sheer_price_per_m,n.enable_set_price,n.set_price_override]),$_=n=>{switch(n){case"material":return r.jsx(gs,{className:"w-3 h-3 text-slate-500"});case"equipment":return r.jsx(Rd,{className:"w-3 h-3 text-slate-500"});case"labor":return r.jsx(oo,{className:"w-3 h-3 text-slate-500"});case"service":return r.jsx(fx,{className:"w-3 h-3 text-slate-500"});default:return r.jsx(gs,{className:"w-3 h-3 text-slate-500"})}},m0=({formData:n,onChange:l,simpleView:i=!1,itemType:o})=>{const{fabricCosts:d,accessoryCosts:f,laborCosts:m,formulas:h}=se(),g=j.useMemo(()=>n._is_pro_mode?Xd.analyze({...n,type:o,id:"temp"}):null,[n,o,d,f,m,h]);return!n._is_pro_mode&&!i?r.jsx("div",{className:"flex justify-end mt-2",children:r.jsxs("button",{type:"button",onClick:()=>l("_is_pro_mode",!0),className:"text-[10px] text-slate-300 flex items-center gap-1 hover:text-emerald-400 transition-colors",children:[r.jsx(jo,{className:"w-3 h-3"}),""]})}):i&&!n._is_pro_mode||!g?null:r.jsxs("div",{className:i?"space-y-2":"mt-3 p-4 bg-slate-900 rounded-xl border border-slate-800 shadow-inner animate-in slide-in-from-top-2",children:[!i&&r.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-slate-800 pb-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 font-bold",children:[r.jsx(sr,{className:"w-4 h-4"}),r.jsx("span",{children:" (Cost Breakdown)"})]}),r.jsx("button",{type:"button",onClick:()=>l("_is_pro_mode",!1),className:"text-slate-500 hover:text-white transition-colors",children:""})]}),r.jsxs("div",{className:"space-y-2 text-sm font-mono animate-fade-in",children:[g.breakdownItems.length>0?g.breakdownItems.map((x,y)=>r.jsxs("div",{className:"flex justify-between items-center text-slate-300 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[$_(x.icon),r.jsxs("span",{children:[x.label,":"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[x.isMinApplied&&r.jsx("span",{className:"text-[9px] bg-slate-800 text-slate-400 px-1 py-0.5 rounded border border-slate-700",children:""}),r.jsx("span",{children:_e(x.amount)})]})]},y)):r.jsx("div",{className:"text-xs text-slate-500 italic text-center py-2",children:" (No Cost Data)"}),r.jsx("div",{className:"h-px bg-white/10 my-1"}),r.jsxs("div",{className:"flex justify-between text-white font-medium",children:[r.jsx("span",{children:" (Total Cost):"}),r.jsx("span",{children:_e(g.totalCost)})]}),r.jsxs("div",{className:"flex justify-between text-emerald-400 font-bold",children:[r.jsx("span",{children:" (Profit):"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:g.marginPercent<30?"text-amber-400":"text-emerald-400",children:[g.marginPercent.toFixed(1),"%"]}),r.jsxs("span",{children:["+",_e(g.profitAmount)]})]})]}),r.jsxs("div",{className:"text-[10px] text-slate-500 text-right mt-1 pt-1 border-t border-dashed border-slate-700",children:[":"," ",r.jsx("span",{className:"text-emerald-300 font-mono text-sm",children:Math.ceil(g.sellingPrice/Math.max(P(n.width_m),1)).toLocaleString()})]})]})]})},V_=({data:n,onChange:l,onNumberChange:i})=>{const o=j.useMemo(()=>gt.calculatePrice({...n,type:V.CURTAIN,id:"temp"}),[n]),d=I_(n),f=n._is_pro_mode||!1,m=(h,g)=>{l(h,g??"")};return r.jsxs("div",{className:"bg-gradient-to-br from-card to-muted/20 rounded-xl border border-border/50 overflow-hidden transition-all duration-300",children:[r.jsxs("div",{className:"p-6 text-center relative",children:[r.jsxs("div",{className:"text-sm text-muted-foreground font-medium mb-2 flex items-center justify-center gap-2",children:[n.enable_set_price?r.jsx(jo,{className:"w-3 h-3"}):r.jsx(sr,{className:"w-3 h-3"})," (Net Price)"]}),r.jsxs("div",{className:"flex items-center justify-center gap-4",children:[r.jsx("span",{className:Y("text-5xl font-bold tracking-tighter font-mono transition-colors duration-300",n.enable_set_price?"text-amber-500":"text-primary",f&&d.status==="loss"&&"text-destructive"),children:_e(o)}),!n.enable_set_price&&d.status!=="unknown"&&r.jsx("div",{className:Y("flex h-4 w-4 rounded-full shadow-sm ring-2 ring-background transition-all duration-500",d.status==="profit"?"bg-emerald-500 shadow-emerald-500/50":d.status==="warning"?"bg-amber-400 animate-pulse shadow-amber-400/50":"bg-destructive animate-bounce shadow-destructive/50"),title:d.status})]}),r.jsx("div",{className:"text-xs text-muted-foreground/60 mt-2 font-light",children:"( Safe 0.30 +  + )"})]}),r.jsxs("div",{className:"bg-muted/30 border-t border-border px-4 py-3 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between min-h-[40px]",children:[r.jsxs("div",{className:"flex items-center gap-3 cursor-pointer select-none flex-1 py-1 hover:opacity-80 transition-opacity active:scale-[0.98]",onClick:()=>l("enable_set_price",!n.enable_set_price),children:[r.jsx(Ut,{checked:f,onCheckedChange:h=>l("_is_pro_mode",h)}),r.jsx("span",{className:Y("text-sm transition-colors",n.enable_set_price?"text-foreground font-medium":"text-muted-foreground"),children:""})]}),n.enable_set_price&&r.jsx("div",{className:"w-32 animate-in slide-in-from-right-5 fade-in duration-200",children:r.jsx("input",{type:"text",inputMode:"decimal",value:n.set_price_override||"",onChange:h=>i("set_price_override",h.target.value),placeholder:"0.00",className:"w-full bg-background text-foreground border border-input rounded-md px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-primary shadow-sm",autoFocus:!0})})]}),r.jsxs("div",{className:"flex items-center justify-between pt-1 min-h-[40px]",children:[r.jsxs("div",{className:"flex items-center gap-3 cursor-pointer select-none flex-1 py-1",children:[r.jsx(Ut,{checked:!1,onCheckedChange:h=>l("_is_pro_mode",h)}),r.jsx("span",{className:Y("text-sm transition-colors select-none",f?"text-slate-900 font-bold":"text-muted-foreground"),onClick:()=>l("_is_pro_mode",!f),children:" (Pro Mode)"})]}),f&&r.jsx("span",{className:"text-[10px] text-emerald-600 bg-emerald-100 px-2 py-0.5 rounded-full animate-pulse",children:"Live Analysis"})]})]}),f&&r.jsx("div",{className:"bg-slate-900 text-slate-100 p-4 animate-in slide-in-from-top-2 duration-300 border-t border-slate-800",children:r.jsx(m0,{formData:n,onChange:m,itemType:V.CURTAIN})})]})},h0=({schema:n,initialData:l,onSubmit:i})=>{const[o,d]=j.useState(l),[f,m]=j.useState({}),[h]=j.useState({}),[g,x]=j.useState(!1),y=j.useMemo(()=>JSON.stringify(o)!==JSON.stringify(l),[o,l]),b=j.useCallback((E,O)=>{d(Z=>({...Z,[E]:O})),m(Z=>{if(!Z[E])return Z;const A={...Z};return delete A[E],A})},[]),N=j.useCallback((E,O)=>{/^-?\d*\.?\d*$/.test(O)&&b(E,O)},[b]),w=j.useCallback(()=>{const E=n.safeParse(o);if(!E.success){const O={};return E.error.issues.forEach(Z=>{const A=Z.path[0];A&&!O[A]&&(O[A]=Z.message)}),m(O),!1}return m({}),!0},[o,n]),C=j.useCallback(E=>{E&&E.preventDefault(),x(!0);const O=n.safeParse(o);O.success?i(O.data):(w(),console.warn("Form validation failed"))},[w,o,i,n]),S=j.useCallback(()=>{d(l),m({}),x(!1)},[l]),D=j.useCallback((E,O)=>{b(E,O)},[b]);return{formData:o,errors:f,warnings:h,isDirty:y,isSubmitted:g,handleChange:b,handleNumberChange:N,handleSubmit:C,validate:w,resetForm:S,setFieldValue:D,setFormData:d,setErrors:m}};function G(n,l,i){function o(h,g){if(h._zod||Object.defineProperty(h,"_zod",{value:{def:g,constr:m,traits:new Set},enumerable:!1}),h._zod.traits.has(n))return;h._zod.traits.add(n),l(h,g);const x=m.prototype,y=Object.keys(x);for(let b=0;b<y.length;b++){const N=y[b];N in h||(h[N]=x[N].bind(h))}}const d=i?.Parent??Object;class f extends d{}Object.defineProperty(f,"name",{value:n});function m(h){var g;const x=i?.Parent?new f:this;o(x,h),(g=x._zod).deferred??(g.deferred=[]);for(const y of x._zod.deferred)y();return x}return Object.defineProperty(m,"init",{value:o}),Object.defineProperty(m,Symbol.hasInstance,{value:h=>i?.Parent&&h instanceof i.Parent?!0:h?._zod?.traits?.has(n)}),Object.defineProperty(m,"name",{value:n}),m}class ar extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class p0 extends Error{constructor(l){super(`Encountered unidirectional transform during encode: ${l}`),this.name="ZodEncodeError"}}const g0={};function ll(n){return g0}function Y_(n){const l=Object.values(n).filter(o=>typeof o=="number");return Object.entries(n).filter(([o,d])=>l.indexOf(+o)===-1).map(([o,d])=>d)}function yd(n,l){return typeof l=="bigint"?l.toString():l}function Gd(n){return{get value(){{const l=n();return Object.defineProperty(this,"value",{value:l}),l}}}}function Fd(n){return n==null}function Qd(n){const l=n.startsWith("^")?1:0,i=n.endsWith("$")?n.length-1:n.length;return n.slice(l,i)}function X_(n,l){const i=(n.toString().split(".")[1]||"").length,o=l.toString();let d=(o.split(".")[1]||"").length;if(d===0&&/\d?e-\d?/.test(o)){const g=o.match(/\d?e-(\d?)/);g?.[1]&&(d=Number.parseInt(g[1]))}const f=i>d?i:d,m=Number.parseInt(n.toFixed(f).replace(".","")),h=Number.parseInt(l.toFixed(f).replace(".",""));return m%h/10**f}const Ug=Symbol("evaluating");function Ie(n,l,i){let o;Object.defineProperty(n,l,{get(){if(o!==Ug)return o===void 0&&(o=Ug,o=i()),o},set(d){Object.defineProperty(n,l,{value:d})},configurable:!0})}function ol(n,l,i){Object.defineProperty(n,l,{value:i,writable:!0,enumerable:!0,configurable:!0})}function cl(...n){const l={};for(const i of n){const o=Object.getOwnPropertyDescriptors(i);Object.assign(l,o)}return Object.defineProperties({},l)}function Bg(n){return JSON.stringify(n)}function G_(n){return n.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const x0="captureStackTrace"in Error?Error.captureStackTrace:(...n)=>{};function ro(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}const F_=Gd(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const n=Function;return new n(""),!0}catch{return!1}});function bs(n){if(ro(n)===!1)return!1;const l=n.constructor;if(l===void 0||typeof l!="function")return!0;const i=l.prototype;return!(ro(i)===!1||Object.prototype.hasOwnProperty.call(i,"isPrototypeOf")===!1)}function v0(n){return bs(n)?{...n}:Array.isArray(n)?[...n]:n}const Q_=new Set(["string","number","symbol"]);function or(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Da(n,l,i){const o=new n._zod.constr(l??n._zod.def);return(!l||i?.parent)&&(o._zod.parent=n),o}function ue(n){const l=n;if(!l)return{};if(typeof l=="string")return{error:()=>l};if(l?.message!==void 0){if(l?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");l.error=l.message}return delete l.message,typeof l.error=="string"?{...l,error:()=>l.error}:l}function K_(n){return Object.keys(n).filter(l=>n[l]._zod.optin==="optional"&&n[l]._zod.optout==="optional")}const J_={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function W_(n,l){const i=n._zod.def,o=cl(n._zod.def,{get shape(){const d={};for(const f in l){if(!(f in i.shape))throw new Error(`Unrecognized key: "${f}"`);l[f]&&(d[f]=i.shape[f])}return ol(this,"shape",d),d},checks:[]});return Da(n,o)}function P_(n,l){const i=n._zod.def,o=cl(n._zod.def,{get shape(){const d={...n._zod.def.shape};for(const f in l){if(!(f in i.shape))throw new Error(`Unrecognized key: "${f}"`);l[f]&&delete d[f]}return ol(this,"shape",d),d},checks:[]});return Da(n,o)}function e1(n,l){if(!bs(l))throw new Error("Invalid input to extend: expected a plain object");const i=n._zod.def.checks;if(i&&i.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const d=cl(n._zod.def,{get shape(){const f={...n._zod.def.shape,...l};return ol(this,"shape",f),f},checks:[]});return Da(n,d)}function t1(n,l){if(!bs(l))throw new Error("Invalid input to safeExtend: expected a plain object");const i={...n._zod.def,get shape(){const o={...n._zod.def.shape,...l};return ol(this,"shape",o),o},checks:n._zod.def.checks};return Da(n,i)}function n1(n,l){const i=cl(n._zod.def,{get shape(){const o={...n._zod.def.shape,...l._zod.def.shape};return ol(this,"shape",o),o},get catchall(){return l._zod.def.catchall},checks:[]});return Da(n,i)}function a1(n,l,i){const o=cl(l._zod.def,{get shape(){const d=l._zod.def.shape,f={...d};if(i)for(const m in i){if(!(m in d))throw new Error(`Unrecognized key: "${m}"`);i[m]&&(f[m]=n?new n({type:"optional",innerType:d[m]}):d[m])}else for(const m in d)f[m]=n?new n({type:"optional",innerType:d[m]}):d[m];return ol(this,"shape",f),f},checks:[]});return Da(l,o)}function l1(n,l,i){const o=cl(l._zod.def,{get shape(){const d=l._zod.def.shape,f={...d};if(i)for(const m in i){if(!(m in f))throw new Error(`Unrecognized key: "${m}"`);i[m]&&(f[m]=new n({type:"nonoptional",innerType:d[m]}))}else for(const m in d)f[m]=new n({type:"nonoptional",innerType:d[m]});return ol(this,"shape",f),f},checks:[]});return Da(l,o)}function tr(n,l=0){if(n.aborted===!0)return!0;for(let i=l;i<n.issues.length;i++)if(n.issues[i]?.continue!==!0)return!0;return!1}function b0(n,l){return l.map(i=>{var o;return(o=i).path??(o.path=[]),i.path.unshift(n),i})}function Fi(n){return typeof n=="string"?n:n?.message}function rl(n,l,i){const o={...n,path:n.path??[]};if(!n.message){const d=Fi(n.inst?._zod.def?.error?.(n))??Fi(l?.error?.(n))??Fi(i.customError?.(n))??Fi(i.localeError?.(n))??"Invalid input";o.message=d}return delete o.inst,delete o.continue,l?.reportInput||delete o.input,o}function Kd(n){return Array.isArray(n)?"array":typeof n=="string"?"string":"unknown"}function ys(...n){const[l,i,o]=n;return typeof l=="string"?{message:l,code:"custom",input:i,inst:o}:{...l}}const y0=(n,l)=>{n.name="$ZodError",Object.defineProperty(n,"_zod",{value:n._zod,enumerable:!1}),Object.defineProperty(n,"issues",{value:l,enumerable:!1}),n.message=JSON.stringify(l,yd,2),Object.defineProperty(n,"toString",{value:()=>n.message,enumerable:!1})},N0=G("$ZodError",y0),j0=G("$ZodError",y0,{Parent:Error});function r1(n,l=i=>i.message){const i={},o=[];for(const d of n.issues)d.path.length>0?(i[d.path[0]]=i[d.path[0]]||[],i[d.path[0]].push(l(d))):o.push(l(d));return{formErrors:o,fieldErrors:i}}function s1(n,l=i=>i.message){const i={_errors:[]},o=d=>{for(const f of d.issues)if(f.code==="invalid_union"&&f.errors.length)f.errors.map(m=>o({issues:m}));else if(f.code==="invalid_key")o({issues:f.issues});else if(f.code==="invalid_element")o({issues:f.issues});else if(f.path.length===0)i._errors.push(l(f));else{let m=i,h=0;for(;h<f.path.length;){const g=f.path[h];h===f.path.length-1?(m[g]=m[g]||{_errors:[]},m[g]._errors.push(l(f))):m[g]=m[g]||{_errors:[]},m=m[g],h++}}};return o(n),i}const Jd=n=>(l,i,o,d)=>{const f=o?Object.assign(o,{async:!1}):{async:!1},m=l._zod.run({value:i,issues:[]},f);if(m instanceof Promise)throw new ar;if(m.issues.length){const h=new(d?.Err??n)(m.issues.map(g=>rl(g,f,ll())));throw x0(h,d?.callee),h}return m.value},Wd=n=>async(l,i,o,d)=>{const f=o?Object.assign(o,{async:!0}):{async:!0};let m=l._zod.run({value:i,issues:[]},f);if(m instanceof Promise&&(m=await m),m.issues.length){const h=new(d?.Err??n)(m.issues.map(g=>rl(g,f,ll())));throw x0(h,d?.callee),h}return m.value},Eo=n=>(l,i,o)=>{const d=o?{...o,async:!1}:{async:!1},f=l._zod.run({value:i,issues:[]},d);if(f instanceof Promise)throw new ar;return f.issues.length?{success:!1,error:new(n??N0)(f.issues.map(m=>rl(m,d,ll())))}:{success:!0,data:f.value}},i1=Eo(j0),To=n=>async(l,i,o)=>{const d=o?Object.assign(o,{async:!0}):{async:!0};let f=l._zod.run({value:i,issues:[]},d);return f instanceof Promise&&(f=await f),f.issues.length?{success:!1,error:new n(f.issues.map(m=>rl(m,d,ll())))}:{success:!0,data:f.value}},o1=To(j0),c1=n=>(l,i,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return Jd(n)(l,i,d)},u1=n=>(l,i,o)=>Jd(n)(l,i,o),d1=n=>async(l,i,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return Wd(n)(l,i,d)},f1=n=>async(l,i,o)=>Wd(n)(l,i,o),m1=n=>(l,i,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return Eo(n)(l,i,d)},h1=n=>(l,i,o)=>Eo(n)(l,i,o),p1=n=>async(l,i,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return To(n)(l,i,d)},g1=n=>async(l,i,o)=>To(n)(l,i,o),x1=/^[cC][^\s-]{8,}$/,v1=/^[0-9a-z]+$/,b1=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,y1=/^[0-9a-vA-V]{20}$/,N1=/^[A-Za-z0-9]{27}$/,j1=/^[a-zA-Z0-9_-]{21}$/,_1=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,w1=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Zg=n=>n?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${n}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,S1=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,C1="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function E1(){return new RegExp(C1,"u")}const T1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,A1=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,D1=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,z1=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,R1=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,_0=/^[A-Za-z0-9_-]*$/,O1=/^\+(?:[0-9]){6,14}[0-9]$/,w0="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",M1=new RegExp(`^${w0}$`);function S0(n){const l="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof n.precision=="number"?n.precision===-1?`${l}`:n.precision===0?`${l}:[0-5]\\d`:`${l}:[0-5]\\d\\.\\d{${n.precision}}`:`${l}(?::[0-5]\\d(?:\\.\\d+)?)?`}function k1(n){return new RegExp(`^${S0(n)}$`)}function L1(n){const l=S0({precision:n.precision}),i=["Z"];n.local&&i.push(""),n.offset&&i.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const o=`${l}(?:${i.join("|")})`;return new RegExp(`^${w0}T(?:${o})$`)}const U1=n=>{const l=n?`[\\s\\S]{${n?.minimum??0},${n?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${l}$`)},B1=/^-?\d+$/,Z1=/^-?\d+(?:\.\d+)?/,H1=/^(?:true|false)$/i,q1=/^[^A-Z]*$/,I1=/^[^a-z]*$/,Bt=G("$ZodCheck",(n,l)=>{var i;n._zod??(n._zod={}),n._zod.def=l,(i=n._zod).onattach??(i.onattach=[])}),C0={number:"number",bigint:"bigint",object:"date"},E0=G("$ZodCheckLessThan",(n,l)=>{Bt.init(n,l);const i=C0[typeof l.value];n._zod.onattach.push(o=>{const d=o._zod.bag,f=(l.inclusive?d.maximum:d.exclusiveMaximum)??Number.POSITIVE_INFINITY;l.value<f&&(l.inclusive?d.maximum=l.value:d.exclusiveMaximum=l.value)}),n._zod.check=o=>{(l.inclusive?o.value<=l.value:o.value<l.value)||o.issues.push({origin:i,code:"too_big",maximum:l.value,input:o.value,inclusive:l.inclusive,inst:n,continue:!l.abort})}}),T0=G("$ZodCheckGreaterThan",(n,l)=>{Bt.init(n,l);const i=C0[typeof l.value];n._zod.onattach.push(o=>{const d=o._zod.bag,f=(l.inclusive?d.minimum:d.exclusiveMinimum)??Number.NEGATIVE_INFINITY;l.value>f&&(l.inclusive?d.minimum=l.value:d.exclusiveMinimum=l.value)}),n._zod.check=o=>{(l.inclusive?o.value>=l.value:o.value>l.value)||o.issues.push({origin:i,code:"too_small",minimum:l.value,input:o.value,inclusive:l.inclusive,inst:n,continue:!l.abort})}}),$1=G("$ZodCheckMultipleOf",(n,l)=>{Bt.init(n,l),n._zod.onattach.push(i=>{var o;(o=i._zod.bag).multipleOf??(o.multipleOf=l.value)}),n._zod.check=i=>{if(typeof i.value!=typeof l.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof i.value=="bigint"?i.value%l.value===BigInt(0):X_(i.value,l.value)===0)||i.issues.push({origin:typeof i.value,code:"not_multiple_of",divisor:l.value,input:i.value,inst:n,continue:!l.abort})}}),V1=G("$ZodCheckNumberFormat",(n,l)=>{Bt.init(n,l),l.format=l.format||"float64";const i=l.format?.includes("int"),o=i?"int":"number",[d,f]=J_[l.format];n._zod.onattach.push(m=>{const h=m._zod.bag;h.format=l.format,h.minimum=d,h.maximum=f,i&&(h.pattern=B1)}),n._zod.check=m=>{const h=m.value;if(i){if(!Number.isInteger(h)){m.issues.push({expected:o,format:l.format,code:"invalid_type",continue:!1,input:h,inst:n});return}if(!Number.isSafeInteger(h)){h>0?m.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:o,continue:!l.abort}):m.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:o,continue:!l.abort});return}}h<d&&m.issues.push({origin:"number",input:h,code:"too_small",minimum:d,inclusive:!0,inst:n,continue:!l.abort}),h>f&&m.issues.push({origin:"number",input:h,code:"too_big",maximum:f,inst:n})}}),Y1=G("$ZodCheckMaxLength",(n,l)=>{var i;Bt.init(n,l),(i=n._zod.def).when??(i.when=o=>{const d=o.value;return!Fd(d)&&d.length!==void 0}),n._zod.onattach.push(o=>{const d=o._zod.bag.maximum??Number.POSITIVE_INFINITY;l.maximum<d&&(o._zod.bag.maximum=l.maximum)}),n._zod.check=o=>{const d=o.value;if(d.length<=l.maximum)return;const m=Kd(d);o.issues.push({origin:m,code:"too_big",maximum:l.maximum,inclusive:!0,input:d,inst:n,continue:!l.abort})}}),X1=G("$ZodCheckMinLength",(n,l)=>{var i;Bt.init(n,l),(i=n._zod.def).when??(i.when=o=>{const d=o.value;return!Fd(d)&&d.length!==void 0}),n._zod.onattach.push(o=>{const d=o._zod.bag.minimum??Number.NEGATIVE_INFINITY;l.minimum>d&&(o._zod.bag.minimum=l.minimum)}),n._zod.check=o=>{const d=o.value;if(d.length>=l.minimum)return;const m=Kd(d);o.issues.push({origin:m,code:"too_small",minimum:l.minimum,inclusive:!0,input:d,inst:n,continue:!l.abort})}}),G1=G("$ZodCheckLengthEquals",(n,l)=>{var i;Bt.init(n,l),(i=n._zod.def).when??(i.when=o=>{const d=o.value;return!Fd(d)&&d.length!==void 0}),n._zod.onattach.push(o=>{const d=o._zod.bag;d.minimum=l.length,d.maximum=l.length,d.length=l.length}),n._zod.check=o=>{const d=o.value,f=d.length;if(f===l.length)return;const m=Kd(d),h=f>l.length;o.issues.push({origin:m,...h?{code:"too_big",maximum:l.length}:{code:"too_small",minimum:l.length},inclusive:!0,exact:!0,input:o.value,inst:n,continue:!l.abort})}}),Ao=G("$ZodCheckStringFormat",(n,l)=>{var i,o;Bt.init(n,l),n._zod.onattach.push(d=>{const f=d._zod.bag;f.format=l.format,l.pattern&&(f.patterns??(f.patterns=new Set),f.patterns.add(l.pattern))}),l.pattern?(i=n._zod).check??(i.check=d=>{l.pattern.lastIndex=0,!l.pattern.test(d.value)&&d.issues.push({origin:"string",code:"invalid_format",format:l.format,input:d.value,...l.pattern?{pattern:l.pattern.toString()}:{},inst:n,continue:!l.abort})}):(o=n._zod).check??(o.check=()=>{})}),F1=G("$ZodCheckRegex",(n,l)=>{Ao.init(n,l),n._zod.check=i=>{l.pattern.lastIndex=0,!l.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:"regex",input:i.value,pattern:l.pattern.toString(),inst:n,continue:!l.abort})}}),Q1=G("$ZodCheckLowerCase",(n,l)=>{l.pattern??(l.pattern=q1),Ao.init(n,l)}),K1=G("$ZodCheckUpperCase",(n,l)=>{l.pattern??(l.pattern=I1),Ao.init(n,l)}),J1=G("$ZodCheckIncludes",(n,l)=>{Bt.init(n,l);const i=or(l.includes),o=new RegExp(typeof l.position=="number"?`^.{${l.position}}${i}`:i);l.pattern=o,n._zod.onattach.push(d=>{const f=d._zod.bag;f.patterns??(f.patterns=new Set),f.patterns.add(o)}),n._zod.check=d=>{d.value.includes(l.includes,l.position)||d.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:l.includes,input:d.value,inst:n,continue:!l.abort})}}),W1=G("$ZodCheckStartsWith",(n,l)=>{Bt.init(n,l);const i=new RegExp(`^${or(l.prefix)}.*`);l.pattern??(l.pattern=i),n._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(i)}),n._zod.check=o=>{o.value.startsWith(l.prefix)||o.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:l.prefix,input:o.value,inst:n,continue:!l.abort})}}),P1=G("$ZodCheckEndsWith",(n,l)=>{Bt.init(n,l);const i=new RegExp(`.*${or(l.suffix)}$`);l.pattern??(l.pattern=i),n._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(i)}),n._zod.check=o=>{o.value.endsWith(l.suffix)||o.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:l.suffix,input:o.value,inst:n,continue:!l.abort})}}),ew=G("$ZodCheckOverwrite",(n,l)=>{Bt.init(n,l),n._zod.check=i=>{i.value=l.tx(i.value)}});class tw{constructor(l=[]){this.content=[],this.indent=0,this&&(this.args=l)}indented(l){this.indent+=1,l(this),this.indent-=1}write(l){if(typeof l=="function"){l(this,{execution:"sync"}),l(this,{execution:"async"});return}const o=l.split(`
`).filter(m=>m),d=Math.min(...o.map(m=>m.length-m.trimStart().length)),f=o.map(m=>m.slice(d)).map(m=>" ".repeat(this.indent*2)+m);for(const m of f)this.content.push(m)}compile(){const l=Function,i=this?.args,d=[...(this?.content??[""]).map(f=>`  ${f}`)];return new l(...i,d.join(`
`))}}const nw={major:4,minor:1,patch:13},Qe=G("$ZodType",(n,l)=>{var i;n??(n={}),n._zod.def=l,n._zod.bag=n._zod.bag||{},n._zod.version=nw;const o=[...n._zod.def.checks??[]];n._zod.traits.has("$ZodCheck")&&o.unshift(n);for(const d of o)for(const f of d._zod.onattach)f(n);if(o.length===0)(i=n._zod).deferred??(i.deferred=[]),n._zod.deferred?.push(()=>{n._zod.run=n._zod.parse});else{const d=(m,h,g)=>{let x=tr(m),y;for(const b of h){if(b._zod.def.when){if(!b._zod.def.when(m))continue}else if(x)continue;const N=m.issues.length,w=b._zod.check(m);if(w instanceof Promise&&g?.async===!1)throw new ar;if(y||w instanceof Promise)y=(y??Promise.resolve()).then(async()=>{await w,m.issues.length!==N&&(x||(x=tr(m,N)))});else{if(m.issues.length===N)continue;x||(x=tr(m,N))}}return y?y.then(()=>m):m},f=(m,h,g)=>{if(tr(m))return m.aborted=!0,m;const x=d(h,o,g);if(x instanceof Promise){if(g.async===!1)throw new ar;return x.then(y=>n._zod.parse(y,g))}return n._zod.parse(x,g)};n._zod.run=(m,h)=>{if(h.skipChecks)return n._zod.parse(m,h);if(h.direction==="backward"){const x=n._zod.parse({value:m.value,issues:[]},{...h,skipChecks:!0});return x instanceof Promise?x.then(y=>f(y,m,h)):f(x,m,h)}const g=n._zod.parse(m,h);if(g instanceof Promise){if(h.async===!1)throw new ar;return g.then(x=>d(x,o,h))}return d(g,o,h)}}n["~standard"]={validate:d=>{try{const f=i1(n,d);return f.success?{value:f.data}:{issues:f.error?.issues}}catch{return o1(n,d).then(m=>m.success?{value:m.data}:{issues:m.error?.issues})}},vendor:"zod",version:1}}),Pd=G("$ZodString",(n,l)=>{Qe.init(n,l),n._zod.pattern=[...n?._zod.bag?.patterns??[]].pop()??U1(n._zod.bag),n._zod.parse=(i,o)=>{if(l.coerce)try{i.value=String(i.value)}catch{}return typeof i.value=="string"||i.issues.push({expected:"string",code:"invalid_type",input:i.value,inst:n}),i}}),Xe=G("$ZodStringFormat",(n,l)=>{Ao.init(n,l),Pd.init(n,l)}),aw=G("$ZodGUID",(n,l)=>{l.pattern??(l.pattern=w1),Xe.init(n,l)}),lw=G("$ZodUUID",(n,l)=>{if(l.version){const o={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[l.version];if(o===void 0)throw new Error(`Invalid UUID version: "${l.version}"`);l.pattern??(l.pattern=Zg(o))}else l.pattern??(l.pattern=Zg());Xe.init(n,l)}),rw=G("$ZodEmail",(n,l)=>{l.pattern??(l.pattern=S1),Xe.init(n,l)}),sw=G("$ZodURL",(n,l)=>{Xe.init(n,l),n._zod.check=i=>{try{const o=i.value.trim(),d=new URL(o);l.hostname&&(l.hostname.lastIndex=0,l.hostname.test(d.hostname)||i.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:l.hostname.source,input:i.value,inst:n,continue:!l.abort})),l.protocol&&(l.protocol.lastIndex=0,l.protocol.test(d.protocol.endsWith(":")?d.protocol.slice(0,-1):d.protocol)||i.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:l.protocol.source,input:i.value,inst:n,continue:!l.abort})),l.normalize?i.value=d.href:i.value=o;return}catch{i.issues.push({code:"invalid_format",format:"url",input:i.value,inst:n,continue:!l.abort})}}}),iw=G("$ZodEmoji",(n,l)=>{l.pattern??(l.pattern=E1()),Xe.init(n,l)}),ow=G("$ZodNanoID",(n,l)=>{l.pattern??(l.pattern=j1),Xe.init(n,l)}),cw=G("$ZodCUID",(n,l)=>{l.pattern??(l.pattern=x1),Xe.init(n,l)}),uw=G("$ZodCUID2",(n,l)=>{l.pattern??(l.pattern=v1),Xe.init(n,l)}),dw=G("$ZodULID",(n,l)=>{l.pattern??(l.pattern=b1),Xe.init(n,l)}),fw=G("$ZodXID",(n,l)=>{l.pattern??(l.pattern=y1),Xe.init(n,l)}),mw=G("$ZodKSUID",(n,l)=>{l.pattern??(l.pattern=N1),Xe.init(n,l)}),hw=G("$ZodISODateTime",(n,l)=>{l.pattern??(l.pattern=L1(l)),Xe.init(n,l)}),pw=G("$ZodISODate",(n,l)=>{l.pattern??(l.pattern=M1),Xe.init(n,l)}),gw=G("$ZodISOTime",(n,l)=>{l.pattern??(l.pattern=k1(l)),Xe.init(n,l)}),xw=G("$ZodISODuration",(n,l)=>{l.pattern??(l.pattern=_1),Xe.init(n,l)}),vw=G("$ZodIPv4",(n,l)=>{l.pattern??(l.pattern=T1),Xe.init(n,l),n._zod.bag.format="ipv4"}),bw=G("$ZodIPv6",(n,l)=>{l.pattern??(l.pattern=A1),Xe.init(n,l),n._zod.bag.format="ipv6",n._zod.check=i=>{try{new URL(`http://[${i.value}]`)}catch{i.issues.push({code:"invalid_format",format:"ipv6",input:i.value,inst:n,continue:!l.abort})}}}),yw=G("$ZodCIDRv4",(n,l)=>{l.pattern??(l.pattern=D1),Xe.init(n,l)}),Nw=G("$ZodCIDRv6",(n,l)=>{l.pattern??(l.pattern=z1),Xe.init(n,l),n._zod.check=i=>{const o=i.value.split("/");try{if(o.length!==2)throw new Error;const[d,f]=o;if(!f)throw new Error;const m=Number(f);if(`${m}`!==f)throw new Error;if(m<0||m>128)throw new Error;new URL(`http://[${d}]`)}catch{i.issues.push({code:"invalid_format",format:"cidrv6",input:i.value,inst:n,continue:!l.abort})}}});function A0(n){if(n==="")return!0;if(n.length%4!==0)return!1;try{return atob(n),!0}catch{return!1}}const jw=G("$ZodBase64",(n,l)=>{l.pattern??(l.pattern=R1),Xe.init(n,l),n._zod.bag.contentEncoding="base64",n._zod.check=i=>{A0(i.value)||i.issues.push({code:"invalid_format",format:"base64",input:i.value,inst:n,continue:!l.abort})}});function _w(n){if(!_0.test(n))return!1;const l=n.replace(/[-_]/g,o=>o==="-"?"+":"/"),i=l.padEnd(Math.ceil(l.length/4)*4,"=");return A0(i)}const ww=G("$ZodBase64URL",(n,l)=>{l.pattern??(l.pattern=_0),Xe.init(n,l),n._zod.bag.contentEncoding="base64url",n._zod.check=i=>{_w(i.value)||i.issues.push({code:"invalid_format",format:"base64url",input:i.value,inst:n,continue:!l.abort})}}),Sw=G("$ZodE164",(n,l)=>{l.pattern??(l.pattern=O1),Xe.init(n,l)});function Cw(n,l=null){try{const i=n.split(".");if(i.length!==3)return!1;const[o]=i;if(!o)return!1;const d=JSON.parse(atob(o));return!("typ"in d&&d?.typ!=="JWT"||!d.alg||l&&(!("alg"in d)||d.alg!==l))}catch{return!1}}const Ew=G("$ZodJWT",(n,l)=>{Xe.init(n,l),n._zod.check=i=>{Cw(i.value,l.alg)||i.issues.push({code:"invalid_format",format:"jwt",input:i.value,inst:n,continue:!l.abort})}}),D0=G("$ZodNumber",(n,l)=>{Qe.init(n,l),n._zod.pattern=n._zod.bag.pattern??Z1,n._zod.parse=(i,o)=>{if(l.coerce)try{i.value=Number(i.value)}catch{}const d=i.value;if(typeof d=="number"&&!Number.isNaN(d)&&Number.isFinite(d))return i;const f=typeof d=="number"?Number.isNaN(d)?"NaN":Number.isFinite(d)?void 0:"Infinity":void 0;return i.issues.push({expected:"number",code:"invalid_type",input:d,inst:n,...f?{received:f}:{}}),i}}),Tw=G("$ZodNumberFormat",(n,l)=>{V1.init(n,l),D0.init(n,l)}),Aw=G("$ZodBoolean",(n,l)=>{Qe.init(n,l),n._zod.pattern=H1,n._zod.parse=(i,o)=>{if(l.coerce)try{i.value=!!i.value}catch{}const d=i.value;return typeof d=="boolean"||i.issues.push({expected:"boolean",code:"invalid_type",input:d,inst:n}),i}}),Dw=G("$ZodAny",(n,l)=>{Qe.init(n,l),n._zod.parse=i=>i}),zw=G("$ZodUnknown",(n,l)=>{Qe.init(n,l),n._zod.parse=i=>i}),Rw=G("$ZodNever",(n,l)=>{Qe.init(n,l),n._zod.parse=(i,o)=>(i.issues.push({expected:"never",code:"invalid_type",input:i.value,inst:n}),i)});function Hg(n,l,i){n.issues.length&&l.issues.push(...b0(i,n.issues)),l.value[i]=n.value}const Ow=G("$ZodArray",(n,l)=>{Qe.init(n,l),n._zod.parse=(i,o)=>{const d=i.value;if(!Array.isArray(d))return i.issues.push({expected:"array",code:"invalid_type",input:d,inst:n}),i;i.value=Array(d.length);const f=[];for(let m=0;m<d.length;m++){const h=d[m],g=l.element._zod.run({value:h,issues:[]},o);g instanceof Promise?f.push(g.then(x=>Hg(x,i,m))):Hg(g,i,m)}return f.length?Promise.all(f).then(()=>i):i}});function so(n,l,i,o){n.issues.length&&l.issues.push(...b0(i,n.issues)),n.value===void 0?i in o&&(l.value[i]=void 0):l.value[i]=n.value}function z0(n){const l=Object.keys(n.shape);for(const o of l)if(!n.shape?.[o]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const i=K_(n.shape);return{...n,keys:l,keySet:new Set(l),numKeys:l.length,optionalKeys:new Set(i)}}function R0(n,l,i,o,d,f){const m=[],h=d.keySet,g=d.catchall._zod,x=g.def.type;for(const y in l){if(h.has(y))continue;if(x==="never"){m.push(y);continue}const b=g.run({value:l[y],issues:[]},o);b instanceof Promise?n.push(b.then(N=>so(N,i,y,l))):so(b,i,y,l)}return m.length&&i.issues.push({code:"unrecognized_keys",keys:m,input:l,inst:f}),n.length?Promise.all(n).then(()=>i):i}const Mw=G("$ZodObject",(n,l)=>{if(Qe.init(n,l),!Object.getOwnPropertyDescriptor(l,"shape")?.get){const h=l.shape;Object.defineProperty(l,"shape",{get:()=>{const g={...h};return Object.defineProperty(l,"shape",{value:g}),g}})}const o=Gd(()=>z0(l));Ie(n._zod,"propValues",()=>{const h=l.shape,g={};for(const x in h){const y=h[x]._zod;if(y.values){g[x]??(g[x]=new Set);for(const b of y.values)g[x].add(b)}}return g});const d=ro,f=l.catchall;let m;n._zod.parse=(h,g)=>{m??(m=o.value);const x=h.value;if(!d(x))return h.issues.push({expected:"object",code:"invalid_type",input:x,inst:n}),h;h.value={};const y=[],b=m.shape;for(const N of m.keys){const C=b[N]._zod.run({value:x[N],issues:[]},g);C instanceof Promise?y.push(C.then(S=>so(S,h,N,x))):so(C,h,N,x)}return f?R0(y,x,h,g,o.value,n):y.length?Promise.all(y).then(()=>h):h}}),kw=G("$ZodObjectJIT",(n,l)=>{Mw.init(n,l);const i=n._zod.parse,o=Gd(()=>z0(l)),d=N=>{const w=new tw(["shape","payload","ctx"]),C=o.value,S=Z=>{const A=Bg(Z);return`shape[${A}]._zod.run({ value: input[${A}], issues: [] }, ctx)`};w.write("const input = payload.value;");const D=Object.create(null);let E=0;for(const Z of C.keys)D[Z]=`key_${E++}`;w.write("const newResult = {};");for(const Z of C.keys){const A=D[Z],_=Bg(Z);w.write(`const ${A} = ${S(Z)};`),w.write(`
        if (${A}.issues.length) {
          payload.issues = payload.issues.concat(${A}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${_}, ...iss.path] : [${_}]
          })));
        }
        
        
        if (${A}.value === undefined) {
          if (${_} in input) {
            newResult[${_}] = undefined;
          }
        } else {
          newResult[${_}] = ${A}.value;
        }
        
      `)}w.write("payload.value = newResult;"),w.write("return payload;");const O=w.compile();return(Z,A)=>O(N,Z,A)};let f;const m=ro,h=!g0.jitless,x=h&&F_.value,y=l.catchall;let b;n._zod.parse=(N,w)=>{b??(b=o.value);const C=N.value;return m(C)?h&&x&&w?.async===!1&&w.jitless!==!0?(f||(f=d(l.shape)),N=f(N,w),y?R0([],C,N,w,b,n):N):i(N,w):(N.issues.push({expected:"object",code:"invalid_type",input:C,inst:n}),N)}});function qg(n,l,i,o){for(const f of n)if(f.issues.length===0)return l.value=f.value,l;const d=n.filter(f=>!tr(f));return d.length===1?(l.value=d[0].value,d[0]):(l.issues.push({code:"invalid_union",input:l.value,inst:i,errors:n.map(f=>f.issues.map(m=>rl(m,o,ll())))}),l)}const Lw=G("$ZodUnion",(n,l)=>{Qe.init(n,l),Ie(n._zod,"optin",()=>l.options.some(d=>d._zod.optin==="optional")?"optional":void 0),Ie(n._zod,"optout",()=>l.options.some(d=>d._zod.optout==="optional")?"optional":void 0),Ie(n._zod,"values",()=>{if(l.options.every(d=>d._zod.values))return new Set(l.options.flatMap(d=>Array.from(d._zod.values)))}),Ie(n._zod,"pattern",()=>{if(l.options.every(d=>d._zod.pattern)){const d=l.options.map(f=>f._zod.pattern);return new RegExp(`^(${d.map(f=>Qd(f.source)).join("|")})$`)}});const i=l.options.length===1,o=l.options[0]._zod.run;n._zod.parse=(d,f)=>{if(i)return o(d,f);let m=!1;const h=[];for(const g of l.options){const x=g._zod.run({value:d.value,issues:[]},f);if(x instanceof Promise)h.push(x),m=!0;else{if(x.issues.length===0)return x;h.push(x)}}return m?Promise.all(h).then(g=>qg(g,d,n,f)):qg(h,d,n,f)}}),Uw=G("$ZodIntersection",(n,l)=>{Qe.init(n,l),n._zod.parse=(i,o)=>{const d=i.value,f=l.left._zod.run({value:d,issues:[]},o),m=l.right._zod.run({value:d,issues:[]},o);return f instanceof Promise||m instanceof Promise?Promise.all([f,m]).then(([g,x])=>Ig(i,g,x)):Ig(i,f,m)}});function Nd(n,l){if(n===l)return{valid:!0,data:n};if(n instanceof Date&&l instanceof Date&&+n==+l)return{valid:!0,data:n};if(bs(n)&&bs(l)){const i=Object.keys(l),o=Object.keys(n).filter(f=>i.indexOf(f)!==-1),d={...n,...l};for(const f of o){const m=Nd(n[f],l[f]);if(!m.valid)return{valid:!1,mergeErrorPath:[f,...m.mergeErrorPath]};d[f]=m.data}return{valid:!0,data:d}}if(Array.isArray(n)&&Array.isArray(l)){if(n.length!==l.length)return{valid:!1,mergeErrorPath:[]};const i=[];for(let o=0;o<n.length;o++){const d=n[o],f=l[o],m=Nd(d,f);if(!m.valid)return{valid:!1,mergeErrorPath:[o,...m.mergeErrorPath]};i.push(m.data)}return{valid:!0,data:i}}return{valid:!1,mergeErrorPath:[]}}function Ig(n,l,i){if(l.issues.length&&n.issues.push(...l.issues),i.issues.length&&n.issues.push(...i.issues),tr(n))return n;const o=Nd(l.value,i.value);if(!o.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(o.mergeErrorPath)}`);return n.value=o.data,n}const Bw=G("$ZodEnum",(n,l)=>{Qe.init(n,l);const i=Y_(l.entries),o=new Set(i);n._zod.values=o,n._zod.pattern=new RegExp(`^(${i.filter(d=>Q_.has(typeof d)).map(d=>typeof d=="string"?or(d):d.toString()).join("|")})$`),n._zod.parse=(d,f)=>{const m=d.value;return o.has(m)||d.issues.push({code:"invalid_value",values:i,input:m,inst:n}),d}}),Zw=G("$ZodLiteral",(n,l)=>{if(Qe.init(n,l),l.values.length===0)throw new Error("Cannot create literal schema with no valid values");const i=new Set(l.values);n._zod.values=i,n._zod.pattern=new RegExp(`^(${l.values.map(o=>typeof o=="string"?or(o):o?or(o.toString()):String(o)).join("|")})$`),n._zod.parse=(o,d)=>{const f=o.value;return i.has(f)||o.issues.push({code:"invalid_value",values:l.values,input:f,inst:n}),o}}),Hw=G("$ZodTransform",(n,l)=>{Qe.init(n,l),n._zod.parse=(i,o)=>{if(o.direction==="backward")throw new p0(n.constructor.name);const d=l.transform(i.value,i);if(o.async)return(d instanceof Promise?d:Promise.resolve(d)).then(m=>(i.value=m,i));if(d instanceof Promise)throw new ar;return i.value=d,i}});function $g(n,l){return n.issues.length&&l===void 0?{issues:[],value:void 0}:n}const qw=G("$ZodOptional",(n,l)=>{Qe.init(n,l),n._zod.optin="optional",n._zod.optout="optional",Ie(n._zod,"values",()=>l.innerType._zod.values?new Set([...l.innerType._zod.values,void 0]):void 0),Ie(n._zod,"pattern",()=>{const i=l.innerType._zod.pattern;return i?new RegExp(`^(${Qd(i.source)})?$`):void 0}),n._zod.parse=(i,o)=>{if(l.innerType._zod.optin==="optional"){const d=l.innerType._zod.run(i,o);return d instanceof Promise?d.then(f=>$g(f,i.value)):$g(d,i.value)}return i.value===void 0?i:l.innerType._zod.run(i,o)}}),Iw=G("$ZodNullable",(n,l)=>{Qe.init(n,l),Ie(n._zod,"optin",()=>l.innerType._zod.optin),Ie(n._zod,"optout",()=>l.innerType._zod.optout),Ie(n._zod,"pattern",()=>{const i=l.innerType._zod.pattern;return i?new RegExp(`^(${Qd(i.source)}|null)$`):void 0}),Ie(n._zod,"values",()=>l.innerType._zod.values?new Set([...l.innerType._zod.values,null]):void 0),n._zod.parse=(i,o)=>i.value===null?i:l.innerType._zod.run(i,o)}),$w=G("$ZodDefault",(n,l)=>{Qe.init(n,l),n._zod.optin="optional",Ie(n._zod,"values",()=>l.innerType._zod.values),n._zod.parse=(i,o)=>{if(o.direction==="backward")return l.innerType._zod.run(i,o);if(i.value===void 0)return i.value=l.defaultValue,i;const d=l.innerType._zod.run(i,o);return d instanceof Promise?d.then(f=>Vg(f,l)):Vg(d,l)}});function Vg(n,l){return n.value===void 0&&(n.value=l.defaultValue),n}const Vw=G("$ZodPrefault",(n,l)=>{Qe.init(n,l),n._zod.optin="optional",Ie(n._zod,"values",()=>l.innerType._zod.values),n._zod.parse=(i,o)=>(o.direction==="backward"||i.value===void 0&&(i.value=l.defaultValue),l.innerType._zod.run(i,o))}),Yw=G("$ZodNonOptional",(n,l)=>{Qe.init(n,l),Ie(n._zod,"values",()=>{const i=l.innerType._zod.values;return i?new Set([...i].filter(o=>o!==void 0)):void 0}),n._zod.parse=(i,o)=>{const d=l.innerType._zod.run(i,o);return d instanceof Promise?d.then(f=>Yg(f,n)):Yg(d,n)}});function Yg(n,l){return!n.issues.length&&n.value===void 0&&n.issues.push({code:"invalid_type",expected:"nonoptional",input:n.value,inst:l}),n}const Xw=G("$ZodCatch",(n,l)=>{Qe.init(n,l),Ie(n._zod,"optin",()=>l.innerType._zod.optin),Ie(n._zod,"optout",()=>l.innerType._zod.optout),Ie(n._zod,"values",()=>l.innerType._zod.values),n._zod.parse=(i,o)=>{if(o.direction==="backward")return l.innerType._zod.run(i,o);const d=l.innerType._zod.run(i,o);return d instanceof Promise?d.then(f=>(i.value=f.value,f.issues.length&&(i.value=l.catchValue({...i,error:{issues:f.issues.map(m=>rl(m,o,ll()))},input:i.value}),i.issues=[]),i)):(i.value=d.value,d.issues.length&&(i.value=l.catchValue({...i,error:{issues:d.issues.map(f=>rl(f,o,ll()))},input:i.value}),i.issues=[]),i)}}),Gw=G("$ZodPipe",(n,l)=>{Qe.init(n,l),Ie(n._zod,"values",()=>l.in._zod.values),Ie(n._zod,"optin",()=>l.in._zod.optin),Ie(n._zod,"optout",()=>l.out._zod.optout),Ie(n._zod,"propValues",()=>l.in._zod.propValues),n._zod.parse=(i,o)=>{if(o.direction==="backward"){const f=l.out._zod.run(i,o);return f instanceof Promise?f.then(m=>Qi(m,l.in,o)):Qi(f,l.in,o)}const d=l.in._zod.run(i,o);return d instanceof Promise?d.then(f=>Qi(f,l.out,o)):Qi(d,l.out,o)}});function Qi(n,l,i){return n.issues.length?(n.aborted=!0,n):l._zod.run({value:n.value,issues:n.issues},i)}const Fw=G("$ZodReadonly",(n,l)=>{Qe.init(n,l),Ie(n._zod,"propValues",()=>l.innerType._zod.propValues),Ie(n._zod,"values",()=>l.innerType._zod.values),Ie(n._zod,"optin",()=>l.innerType?._zod?.optin),Ie(n._zod,"optout",()=>l.innerType?._zod?.optout),n._zod.parse=(i,o)=>{if(o.direction==="backward")return l.innerType._zod.run(i,o);const d=l.innerType._zod.run(i,o);return d instanceof Promise?d.then(Xg):Xg(d)}});function Xg(n){return n.value=Object.freeze(n.value),n}const Qw=G("$ZodCustom",(n,l)=>{Bt.init(n,l),Qe.init(n,l),n._zod.parse=(i,o)=>i,n._zod.check=i=>{const o=i.value,d=l.fn(o);if(d instanceof Promise)return d.then(f=>Gg(f,i,o,n));Gg(d,i,o,n)}});function Gg(n,l,i,o){if(!n){const d={code:"custom",input:i,inst:o,path:[...o._zod.def.path??[]],continue:!o._zod.def.abort};o._zod.def.params&&(d.params=o._zod.def.params),l.issues.push(ys(d))}}var Fg;class Kw{constructor(){this._map=new WeakMap,this._idmap=new Map}add(l,...i){const o=i[0];if(this._map.set(l,o),o&&typeof o=="object"&&"id"in o){if(this._idmap.has(o.id))throw new Error(`ID ${o.id} already exists in the registry`);this._idmap.set(o.id,l)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(l){const i=this._map.get(l);return i&&typeof i=="object"&&"id"in i&&this._idmap.delete(i.id),this._map.delete(l),this}get(l){const i=l._zod.parent;if(i){const o={...this.get(i)??{}};delete o.id;const d={...o,...this._map.get(l)};return Object.keys(d).length?d:void 0}return this._map.get(l)}has(l){return this._map.has(l)}}function Jw(){return new Kw}(Fg=globalThis).__zod_globalRegistry??(Fg.__zod_globalRegistry=Jw());const Ki=globalThis.__zod_globalRegistry;function Ww(n,l){return new n({type:"string",...ue(l)})}function Pw(n,l){return new n({type:"string",format:"email",check:"string_format",abort:!1,...ue(l)})}function Qg(n,l){return new n({type:"string",format:"guid",check:"string_format",abort:!1,...ue(l)})}function e2(n,l){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,...ue(l)})}function t2(n,l){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ue(l)})}function n2(n,l){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ue(l)})}function a2(n,l){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ue(l)})}function l2(n,l){return new n({type:"string",format:"url",check:"string_format",abort:!1,...ue(l)})}function r2(n,l){return new n({type:"string",format:"emoji",check:"string_format",abort:!1,...ue(l)})}function s2(n,l){return new n({type:"string",format:"nanoid",check:"string_format",abort:!1,...ue(l)})}function i2(n,l){return new n({type:"string",format:"cuid",check:"string_format",abort:!1,...ue(l)})}function o2(n,l){return new n({type:"string",format:"cuid2",check:"string_format",abort:!1,...ue(l)})}function c2(n,l){return new n({type:"string",format:"ulid",check:"string_format",abort:!1,...ue(l)})}function u2(n,l){return new n({type:"string",format:"xid",check:"string_format",abort:!1,...ue(l)})}function d2(n,l){return new n({type:"string",format:"ksuid",check:"string_format",abort:!1,...ue(l)})}function f2(n,l){return new n({type:"string",format:"ipv4",check:"string_format",abort:!1,...ue(l)})}function m2(n,l){return new n({type:"string",format:"ipv6",check:"string_format",abort:!1,...ue(l)})}function h2(n,l){return new n({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ue(l)})}function p2(n,l){return new n({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ue(l)})}function g2(n,l){return new n({type:"string",format:"base64",check:"string_format",abort:!1,...ue(l)})}function x2(n,l){return new n({type:"string",format:"base64url",check:"string_format",abort:!1,...ue(l)})}function v2(n,l){return new n({type:"string",format:"e164",check:"string_format",abort:!1,...ue(l)})}function b2(n,l){return new n({type:"string",format:"jwt",check:"string_format",abort:!1,...ue(l)})}function y2(n,l){return new n({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ue(l)})}function N2(n,l){return new n({type:"string",format:"date",check:"string_format",...ue(l)})}function j2(n,l){return new n({type:"string",format:"time",check:"string_format",precision:null,...ue(l)})}function _2(n,l){return new n({type:"string",format:"duration",check:"string_format",...ue(l)})}function w2(n,l){return new n({type:"number",checks:[],...ue(l)})}function S2(n,l){return new n({type:"number",check:"number_format",abort:!1,format:"safeint",...ue(l)})}function C2(n,l){return new n({type:"boolean",...ue(l)})}function E2(n){return new n({type:"any"})}function T2(n){return new n({type:"unknown"})}function A2(n,l){return new n({type:"never",...ue(l)})}function Kg(n,l){return new E0({check:"less_than",...ue(l),value:n,inclusive:!1})}function ud(n,l){return new E0({check:"less_than",...ue(l),value:n,inclusive:!0})}function Jg(n,l){return new T0({check:"greater_than",...ue(l),value:n,inclusive:!1})}function dd(n,l){return new T0({check:"greater_than",...ue(l),value:n,inclusive:!0})}function Wg(n,l){return new $1({check:"multiple_of",...ue(l),value:n})}function O0(n,l){return new Y1({check:"max_length",...ue(l),maximum:n})}function io(n,l){return new X1({check:"min_length",...ue(l),minimum:n})}function M0(n,l){return new G1({check:"length_equals",...ue(l),length:n})}function D2(n,l){return new F1({check:"string_format",format:"regex",...ue(l),pattern:n})}function z2(n){return new Q1({check:"string_format",format:"lowercase",...ue(n)})}function R2(n){return new K1({check:"string_format",format:"uppercase",...ue(n)})}function O2(n,l){return new J1({check:"string_format",format:"includes",...ue(l),includes:n})}function M2(n,l){return new W1({check:"string_format",format:"starts_with",...ue(l),prefix:n})}function k2(n,l){return new P1({check:"string_format",format:"ends_with",...ue(l),suffix:n})}function dr(n){return new ew({check:"overwrite",tx:n})}function L2(n){return dr(l=>l.normalize(n))}function U2(){return dr(n=>n.trim())}function B2(){return dr(n=>n.toLowerCase())}function Z2(){return dr(n=>n.toUpperCase())}function H2(){return dr(n=>G_(n))}function q2(n,l,i){return new n({type:"array",element:l,...ue(i)})}function I2(n,l,i){return new n({type:"custom",check:"custom",fn:l,...ue(i)})}function $2(n){const l=V2(i=>(i.addIssue=o=>{if(typeof o=="string")i.issues.push(ys(o,i.value,l._zod.def));else{const d=o;d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=i.value),d.inst??(d.inst=l),d.continue??(d.continue=!l._zod.def.abort),i.issues.push(ys(d))}},n(i.value,i)));return l}function V2(n,l){const i=new Bt({check:"custom",...ue(l)});return i._zod.check=n,i}const Y2=G("ZodISODateTime",(n,l)=>{hw.init(n,l),Ke.init(n,l)});function X2(n){return y2(Y2,n)}const G2=G("ZodISODate",(n,l)=>{pw.init(n,l),Ke.init(n,l)});function F2(n){return N2(G2,n)}const Q2=G("ZodISOTime",(n,l)=>{gw.init(n,l),Ke.init(n,l)});function K2(n){return j2(Q2,n)}const J2=G("ZodISODuration",(n,l)=>{xw.init(n,l),Ke.init(n,l)});function W2(n){return _2(J2,n)}const P2=(n,l)=>{N0.init(n,l),n.name="ZodError",Object.defineProperties(n,{format:{value:i=>s1(n,i)},flatten:{value:i=>r1(n,i)},addIssue:{value:i=>{n.issues.push(i),n.message=JSON.stringify(n.issues,yd,2)}},addIssues:{value:i=>{n.issues.push(...i),n.message=JSON.stringify(n.issues,yd,2)}},isEmpty:{get(){return n.issues.length===0}}})},on=G("ZodError",P2,{Parent:Error}),eS=Jd(on),tS=Wd(on),nS=Eo(on),aS=To(on),lS=c1(on),rS=u1(on),sS=d1(on),iS=f1(on),oS=m1(on),cS=h1(on),uS=p1(on),dS=g1(on),tt=G("ZodType",(n,l)=>(Qe.init(n,l),n.def=l,n.type=l.type,Object.defineProperty(n,"_def",{value:l}),n.check=(...i)=>n.clone(cl(l,{checks:[...l.checks??[],...i.map(o=>typeof o=="function"?{_zod:{check:o,def:{check:"custom"},onattach:[]}}:o)]})),n.clone=(i,o)=>Da(n,i,o),n.brand=()=>n,n.register=((i,o)=>(i.add(n,o),n)),n.parse=(i,o)=>eS(n,i,o,{callee:n.parse}),n.safeParse=(i,o)=>nS(n,i,o),n.parseAsync=async(i,o)=>tS(n,i,o,{callee:n.parseAsync}),n.safeParseAsync=async(i,o)=>aS(n,i,o),n.spa=n.safeParseAsync,n.encode=(i,o)=>lS(n,i,o),n.decode=(i,o)=>rS(n,i,o),n.encodeAsync=async(i,o)=>sS(n,i,o),n.decodeAsync=async(i,o)=>iS(n,i,o),n.safeEncode=(i,o)=>oS(n,i,o),n.safeDecode=(i,o)=>cS(n,i,o),n.safeEncodeAsync=async(i,o)=>uS(n,i,o),n.safeDecodeAsync=async(i,o)=>dS(n,i,o),n.refine=(i,o)=>n.check(aC(i,o)),n.superRefine=i=>n.check(lC(i)),n.overwrite=i=>n.check(dr(i)),n.optional=()=>nx(n),n.nullable=()=>ax(n),n.nullish=()=>nx(ax(n)),n.nonoptional=i=>KS(n,i),n.array=()=>U0(n),n.or=i=>to([n,i]),n.and=i=>qS(n,i),n.transform=i=>lx(n,VS(i)),n.default=i=>GS(n,i),n.prefault=i=>QS(n,i),n.catch=i=>WS(n,i),n.pipe=i=>lx(n,i),n.readonly=()=>tC(n),n.describe=i=>{const o=n.clone();return Ki.add(o,{description:i}),o},Object.defineProperty(n,"description",{get(){return Ki.get(n)?.description},configurable:!0}),n.meta=(...i)=>{if(i.length===0)return Ki.get(n);const o=n.clone();return Ki.add(o,i[0]),o},n.isOptional=()=>n.safeParse(void 0).success,n.isNullable=()=>n.safeParse(null).success,n)),k0=G("_ZodString",(n,l)=>{Pd.init(n,l),tt.init(n,l);const i=n._zod.bag;n.format=i.format??null,n.minLength=i.minimum??null,n.maxLength=i.maximum??null,n.regex=(...o)=>n.check(D2(...o)),n.includes=(...o)=>n.check(O2(...o)),n.startsWith=(...o)=>n.check(M2(...o)),n.endsWith=(...o)=>n.check(k2(...o)),n.min=(...o)=>n.check(io(...o)),n.max=(...o)=>n.check(O0(...o)),n.length=(...o)=>n.check(M0(...o)),n.nonempty=(...o)=>n.check(io(1,...o)),n.lowercase=o=>n.check(z2(o)),n.uppercase=o=>n.check(R2(o)),n.trim=()=>n.check(U2()),n.normalize=(...o)=>n.check(L2(...o)),n.toLowerCase=()=>n.check(B2()),n.toUpperCase=()=>n.check(Z2()),n.slugify=()=>n.check(H2())}),fS=G("ZodString",(n,l)=>{Pd.init(n,l),k0.init(n,l),n.email=i=>n.check(Pw(mS,i)),n.url=i=>n.check(l2(hS,i)),n.jwt=i=>n.check(b2(AS,i)),n.emoji=i=>n.check(r2(pS,i)),n.guid=i=>n.check(Qg(Pg,i)),n.uuid=i=>n.check(e2(Ji,i)),n.uuidv4=i=>n.check(t2(Ji,i)),n.uuidv6=i=>n.check(n2(Ji,i)),n.uuidv7=i=>n.check(a2(Ji,i)),n.nanoid=i=>n.check(s2(gS,i)),n.guid=i=>n.check(Qg(Pg,i)),n.cuid=i=>n.check(i2(xS,i)),n.cuid2=i=>n.check(o2(vS,i)),n.ulid=i=>n.check(c2(bS,i)),n.base64=i=>n.check(g2(CS,i)),n.base64url=i=>n.check(x2(ES,i)),n.xid=i=>n.check(u2(yS,i)),n.ksuid=i=>n.check(d2(NS,i)),n.ipv4=i=>n.check(f2(jS,i)),n.ipv6=i=>n.check(m2(_S,i)),n.cidrv4=i=>n.check(h2(wS,i)),n.cidrv6=i=>n.check(p2(SS,i)),n.e164=i=>n.check(v2(TS,i)),n.datetime=i=>n.check(X2(i)),n.date=i=>n.check(F2(i)),n.time=i=>n.check(K2(i)),n.duration=i=>n.check(W2(i))});function ut(n){return Ww(fS,n)}const Ke=G("ZodStringFormat",(n,l)=>{Xe.init(n,l),k0.init(n,l)}),mS=G("ZodEmail",(n,l)=>{rw.init(n,l),Ke.init(n,l)}),Pg=G("ZodGUID",(n,l)=>{aw.init(n,l),Ke.init(n,l)}),Ji=G("ZodUUID",(n,l)=>{lw.init(n,l),Ke.init(n,l)}),hS=G("ZodURL",(n,l)=>{sw.init(n,l),Ke.init(n,l)}),pS=G("ZodEmoji",(n,l)=>{iw.init(n,l),Ke.init(n,l)}),gS=G("ZodNanoID",(n,l)=>{ow.init(n,l),Ke.init(n,l)}),xS=G("ZodCUID",(n,l)=>{cw.init(n,l),Ke.init(n,l)}),vS=G("ZodCUID2",(n,l)=>{uw.init(n,l),Ke.init(n,l)}),bS=G("ZodULID",(n,l)=>{dw.init(n,l),Ke.init(n,l)}),yS=G("ZodXID",(n,l)=>{fw.init(n,l),Ke.init(n,l)}),NS=G("ZodKSUID",(n,l)=>{mw.init(n,l),Ke.init(n,l)}),jS=G("ZodIPv4",(n,l)=>{vw.init(n,l),Ke.init(n,l)}),_S=G("ZodIPv6",(n,l)=>{bw.init(n,l),Ke.init(n,l)}),wS=G("ZodCIDRv4",(n,l)=>{yw.init(n,l),Ke.init(n,l)}),SS=G("ZodCIDRv6",(n,l)=>{Nw.init(n,l),Ke.init(n,l)}),CS=G("ZodBase64",(n,l)=>{jw.init(n,l),Ke.init(n,l)}),ES=G("ZodBase64URL",(n,l)=>{ww.init(n,l),Ke.init(n,l)}),TS=G("ZodE164",(n,l)=>{Sw.init(n,l),Ke.init(n,l)}),AS=G("ZodJWT",(n,l)=>{Ew.init(n,l),Ke.init(n,l)}),L0=G("ZodNumber",(n,l)=>{D0.init(n,l),tt.init(n,l),n.gt=(o,d)=>n.check(Jg(o,d)),n.gte=(o,d)=>n.check(dd(o,d)),n.min=(o,d)=>n.check(dd(o,d)),n.lt=(o,d)=>n.check(Kg(o,d)),n.lte=(o,d)=>n.check(ud(o,d)),n.max=(o,d)=>n.check(ud(o,d)),n.int=o=>n.check(ex(o)),n.safe=o=>n.check(ex(o)),n.positive=o=>n.check(Jg(0,o)),n.nonnegative=o=>n.check(dd(0,o)),n.negative=o=>n.check(Kg(0,o)),n.nonpositive=o=>n.check(ud(0,o)),n.multipleOf=(o,d)=>n.check(Wg(o,d)),n.step=(o,d)=>n.check(Wg(o,d)),n.finite=()=>n;const i=n._zod.bag;n.minValue=Math.max(i.minimum??Number.NEGATIVE_INFINITY,i.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,n.maxValue=Math.min(i.maximum??Number.POSITIVE_INFINITY,i.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,n.isInt=(i.format??"").includes("int")||Number.isSafeInteger(i.multipleOf??.5),n.isFinite=!0,n.format=i.format??null});function fd(n){return w2(L0,n)}const DS=G("ZodNumberFormat",(n,l)=>{Tw.init(n,l),L0.init(n,l)});function ex(n){return S2(DS,n)}const zS=G("ZodBoolean",(n,l)=>{Aw.init(n,l),tt.init(n,l)});function lr(n){return C2(zS,n)}const RS=G("ZodAny",(n,l)=>{Dw.init(n,l),tt.init(n,l)});function OS(){return E2(RS)}const MS=G("ZodUnknown",(n,l)=>{zw.init(n,l),tt.init(n,l)});function tx(){return T2(MS)}const kS=G("ZodNever",(n,l)=>{Rw.init(n,l),tt.init(n,l)});function LS(n){return A2(kS,n)}const US=G("ZodArray",(n,l)=>{Ow.init(n,l),tt.init(n,l),n.element=l.element,n.min=(i,o)=>n.check(io(i,o)),n.nonempty=i=>n.check(io(1,i)),n.max=(i,o)=>n.check(O0(i,o)),n.length=(i,o)=>n.check(M0(i,o)),n.unwrap=()=>n.element});function U0(n,l){return q2(US,n,l)}const BS=G("ZodObject",(n,l)=>{kw.init(n,l),tt.init(n,l),Ie(n,"shape",()=>l.shape),n.keyof=()=>Z0(Object.keys(n._zod.def.shape)),n.catchall=i=>n.clone({...n._zod.def,catchall:i}),n.passthrough=()=>n.clone({...n._zod.def,catchall:tx()}),n.loose=()=>n.clone({...n._zod.def,catchall:tx()}),n.strict=()=>n.clone({...n._zod.def,catchall:LS()}),n.strip=()=>n.clone({...n._zod.def,catchall:void 0}),n.extend=i=>e1(n,i),n.safeExtend=i=>t1(n,i),n.merge=i=>n1(n,i),n.pick=i=>W_(n,i),n.omit=i=>P_(n,i),n.partial=(...i)=>a1(q0,n,i[0]),n.required=(...i)=>l1(I0,n,i[0])});function B0(n,l){const i={type:"object",shape:n??{},...ue(l)};return new BS(i)}const ZS=G("ZodUnion",(n,l)=>{Lw.init(n,l),tt.init(n,l),n.options=l.options});function to(n,l){return new ZS({type:"union",options:n,...ue(l)})}const HS=G("ZodIntersection",(n,l)=>{Uw.init(n,l),tt.init(n,l)});function qS(n,l){return new HS({type:"intersection",left:n,right:l})}const jd=G("ZodEnum",(n,l)=>{Bw.init(n,l),tt.init(n,l),n.enum=l.entries,n.options=Object.values(l.entries);const i=new Set(Object.keys(l.entries));n.extract=(o,d)=>{const f={};for(const m of o)if(i.has(m))f[m]=l.entries[m];else throw new Error(`Key ${m} not found in enum`);return new jd({...l,checks:[],...ue(d),entries:f})},n.exclude=(o,d)=>{const f={...l.entries};for(const m of o)if(i.has(m))delete f[m];else throw new Error(`Key ${m} not found in enum`);return new jd({...l,checks:[],...ue(d),entries:f})}});function Z0(n,l){const i=Array.isArray(n)?Object.fromEntries(n.map(o=>[o,o])):n;return new jd({type:"enum",entries:i,...ue(l)})}const IS=G("ZodLiteral",(n,l)=>{Zw.init(n,l),tt.init(n,l),n.values=new Set(l.values),Object.defineProperty(n,"value",{get(){if(l.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return l.values[0]}})});function H0(n,l){return new IS({type:"literal",values:Array.isArray(n)?n:[n],...ue(l)})}const $S=G("ZodTransform",(n,l)=>{Hw.init(n,l),tt.init(n,l),n._zod.parse=(i,o)=>{if(o.direction==="backward")throw new p0(n.constructor.name);i.addIssue=f=>{if(typeof f=="string")i.issues.push(ys(f,i.value,l));else{const m=f;m.fatal&&(m.continue=!1),m.code??(m.code="custom"),m.input??(m.input=i.value),m.inst??(m.inst=n),i.issues.push(ys(m))}};const d=l.transform(i.value,i);return d instanceof Promise?d.then(f=>(i.value=f,i)):(i.value=d,i)}});function VS(n){return new $S({type:"transform",transform:n})}const q0=G("ZodOptional",(n,l)=>{qw.init(n,l),tt.init(n,l),n.unwrap=()=>n._zod.def.innerType});function nx(n){return new q0({type:"optional",innerType:n})}const YS=G("ZodNullable",(n,l)=>{Iw.init(n,l),tt.init(n,l),n.unwrap=()=>n._zod.def.innerType});function ax(n){return new YS({type:"nullable",innerType:n})}const XS=G("ZodDefault",(n,l)=>{$w.init(n,l),tt.init(n,l),n.unwrap=()=>n._zod.def.innerType,n.removeDefault=n.unwrap});function GS(n,l){return new XS({type:"default",innerType:n,get defaultValue(){return typeof l=="function"?l():v0(l)}})}const FS=G("ZodPrefault",(n,l)=>{Vw.init(n,l),tt.init(n,l),n.unwrap=()=>n._zod.def.innerType});function QS(n,l){return new FS({type:"prefault",innerType:n,get defaultValue(){return typeof l=="function"?l():v0(l)}})}const I0=G("ZodNonOptional",(n,l)=>{Yw.init(n,l),tt.init(n,l),n.unwrap=()=>n._zod.def.innerType});function KS(n,l){return new I0({type:"nonoptional",innerType:n,...ue(l)})}const JS=G("ZodCatch",(n,l)=>{Xw.init(n,l),tt.init(n,l),n.unwrap=()=>n._zod.def.innerType,n.removeCatch=n.unwrap});function WS(n,l){return new JS({type:"catch",innerType:n,catchValue:typeof l=="function"?l:()=>l})}const PS=G("ZodPipe",(n,l)=>{Gw.init(n,l),tt.init(n,l),n.in=l.in,n.out=l.out});function lx(n,l){return new PS({type:"pipe",in:n,out:l})}const eC=G("ZodReadonly",(n,l)=>{Fw.init(n,l),tt.init(n,l),n.unwrap=()=>n._zod.def.innerType});function tC(n){return new eC({type:"readonly",innerType:n})}const nC=G("ZodCustom",(n,l)=>{Qw.init(n,l),tt.init(n,l)});function aC(n,l={}){return I2(nC,n,l)}function lC(n){return $2(n)}const Wi={custom:"custom"},_d=ut().trim().refine(n=>{if(!n)return!1;const l=parseFloat(n.replace(/,/g,""));return!isNaN(l)&&l>0},{message:" 0"}),rC=ut().trim().min(1,"");ut().trim().refine(n=>{if(!n)return!0;const l=parseFloat(n.replace(/,/g,""));return!isNaN(l)&&l>=0},{message:""});const sC=B0({type:H0(V.CURTAIN).default(V.CURTAIN),id:ut().optional(),width_m:_d,height_m:_d,style:rC,opening_style:ut().optional(),layer_mode:Z0([et.MAIN,et.SHEER,et.DOUBLE]),code:ut().optional(),price_per_m_raw:to([ut(),fd()]).optional(),sheer_code:ut().optional(),sheer_price_per_m:to([ut(),fd()]).optional(),fabric_variant:ut().optional(),rail_color:ut().optional(),bracket_color:ut().optional(),is_suspended:lr().default(!1),notes:ut().optional(),enable_set_price:lr().default(!1),set_price_override:to([ut(),fd()]).default(0),_is_pro_mode:lr().optional()}).superRefine((n,l)=>{const{layer_mode:i,enable_set_price:o}=n,d=o,f=[et.MAIN,et.DOUBLE],m=[et.SHEER,et.DOUBLE],h=f.includes(i),g=m.includes(i);h&&(n.code||l.addIssue({path:["code"],code:Wi.custom,message:""}),!d&&P(n.price_per_m_raw)<=0&&l.addIssue({path:["price_per_m_raw"],code:Wi.custom,message:""})),g&&(n.sheer_code||l.addIssue({path:["sheer_code"],code:Wi.custom,message:""}),!d&&P(n.sheer_price_per_m)<=0&&l.addIssue({path:["sheer_price_per_m"],code:Wi.custom,message:""}))}),iC={type:V.CURTAIN,id:"",width_m:"",height_m:"",style:"",opening_style:"",layer_mode:et.MAIN,fabric_variant:"",code:"",price_per_m_raw:"",sheer_code:"",sheer_price_per_m:"",rail_color:"",bracket_color:"",notes:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},oC=(n,l)=>{const i={...iC,...n},o=h0({schema:sC,initialData:i,onSubmit:m=>{l(m)}}),d=j.useCallback(m=>{o.setFieldValue("code",m.code),m.default_price_per_m>0&&o.setFieldValue("price_per_m_raw",m.default_price_per_m.toString())},[o]),f=j.useCallback(m=>{o.setFieldValue("sheer_code",m.code),m.default_price_per_m>0&&o.setFieldValue("sheer_price_per_m",m.default_price_per_m.toString())},[o]);return{...o,handleMainFabricSelect:d,handleSheerFabricSelect:f}},cC=({initialData:n,onSubmit:l,onCancel:i})=>{const{formData:o,errors:d,warnings:f,handleChange:m,handleNumberChange:h,handleSubmit:g,handleMainFabricSelect:x,handleSheerFabricSelect:y}=oC(n,l),b=m,N=h;return r.jsxs("form",{onSubmit:g,className:"space-y-6",children:[r.jsx(U_,{data:o,onChange:N,errors:d}),r.jsx(Z_,{data:o,onChange:b,onNumberChange:N,onMainFabricSelect:x,onSheerFabricSelect:y,errors:d,warnings:f}),r.jsx(q_,{data:o,onChange:b,errors:d,warnings:f}),r.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),r.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold border-b border-border pb-3",children:[r.jsx(Ns,{className:"w-5 h-5"}),r.jsx("h3",{children:""})]}),r.jsx(V_,{data:o,onChange:b,onNumberChange:N})]}),r.jsxs("div",{className:"space-y-4 pt-2",children:[r.jsx(oe,{label:"",value:o.notes||"",onChange:w=>m("notes",w.target.value),className:"bg-muted/30",error:d.notes}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-border",children:[r.jsx(de,{variant:"ghost",type:"button",onClick:i,className:"h-12 px-6 text-muted-foreground hover:bg-muted/50",children:""}),r.jsx(de,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-brand-curtain/20 bg-brand-curtain text-white hover:bg-brand-curtain/90 transition-colors",children:""})]})]})]})},uC=B0({type:H0(V.WALLPAPER).default(V.WALLPAPER),id:ut().optional(),widths:U0(ut()).min(1," 1 "),height_m:_d,wallpaper_code:ut().min(1,""),price_per_roll:ut(),install_cost_per_roll:ut().optional(),notes:ut().optional(),is_suspended:lr().optional(),enable_set_price:lr().optional(),set_price_override:OS().optional(),_is_pro_mode:lr().optional()}),dC={type:V.WALLPAPER,id:"",widths:[""],height_m:"",wallpaper_code:"",price_per_roll:"",install_cost_per_roll:"",notes:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},fC=(n,l)=>{const i={...dC,...n},o=h0({schema:uC,initialData:i,onSubmit:x=>{l(x)}}),d=j.useCallback(x=>{o.setFieldValue("wallpaper_code",x.code),x.default_price_per_m>0&&o.setFieldValue("price_per_roll",x.default_price_per_m.toString())},[o]),f=j.useCallback(()=>{console.log("Save to inventory triggered")},[]),m=j.useCallback(()=>{o.setFieldValue("widths",[...o.formData.widths,""])},[o]),h=j.useCallback(x=>{const y=o.formData.widths.filter((b,N)=>N!==x);o.setFieldValue("widths",y.length?y:[""])},[o]),g=j.useCallback((x,y)=>{const b=[...o.formData.widths];b[x]=y,o.setFieldValue("widths",b)},[o]);return{formData:o.formData,errors:o.errors,warnings:o.warnings,handleChange:o.handleChange,handleNumberChange:o.setFieldValue,handleCodeChange:x=>o.setFieldValue("wallpaper_code",x),handleSubmit:o.handleSubmit,handleWidthChange:g,addWidthField:m,removeWidthField:h,handleWallpaperSelect:d,handleSaveToInventory:f,isInInventory:!1}},mC=({initialData:n,onSubmit:l,onCancel:i})=>{const{formData:o,errors:d,handleChange:f,handleNumberChange:m,handleWidthChange:h,addWidthField:g,removeWidthField:x,handleCodeChange:y,handleSaveToInventory:b,isInInventory:N,handleSubmit:w}=fC(n,l),C=j.useMemo(()=>gt.calculatePrice({...o,type:V.WALLPAPER,id:"temp"}),[o]);return r.jsxs("form",{onSubmit:w,className:"flex flex-col h-full bg-background",children:[r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 space-y-8 pb-24",children:[r.jsxs("div",{className:"bg-card p-5 rounded-2xl border border-border shadow-sm space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold text-lg",children:[r.jsx(gs,{className:"w-5 h-5 text-primary"}),r.jsx("h2",{children:" (Dimensions)"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground ml-1",children:" ()"}),o.widths.map((S,D)=>r.jsxs("div",{className:"flex gap-2 animate-in slide-in-from-left-2 duration-300",children:[r.jsx(oe,{value:S,onChange:E=>h(D,E.target.value),placeholder:` ${D+1}`,isDimension:!0,className:"flex-1 font-bold text-lg",autoFocus:D===0}),o.widths.length>1&&r.jsx(de,{type:"button",variant:"ghost",onClick:()=>x(D),className:"px-3 text-muted-foreground hover:text-destructive hover:bg-destructive/10",children:r.jsx(cr,{className:"w-5 h-5"})})]},D)),r.jsxs(de,{type:"button",variant:"secondary",size:"sm",onClick:g,className:"w-full h-10 border-dashed border-2 border-primary/20 hover:border-primary/50 text-primary",children:[r.jsx(el,{className:"w-4 h-4 mr-2"})," "]})]}),r.jsx(oe,{label:" ()",placeholder:"0.00",value:o.height_m,onChange:S=>f("height_m",S.target.value),isDimension:!0,error:d.height_m,className:"text-lg font-bold"})]}),r.jsxs("div",{className:"bg-card p-5 rounded-2xl border border-border shadow-sm space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold text-lg",children:[r.jsx(co,{className:"w-5 h-5 text-orange-500"}),r.jsx("h2",{children:""})]}),r.jsx(de,{type:"button",variant:"ghost",size:"icon",onClick:b,className:Y("hover:bg-yellow-500/10 transition-colors","text-muted-foreground"),title:"",children:r.jsx(nl,{className:Y("w-5 h-5",N)})})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsx("div",{className:"sm:col-span-2",children:r.jsx(oe,{label:" (Code)",placeholder:" 8801-1",value:o.wallpaper_code,onChange:S=>y(S.target.value),error:d.wallpaper_code,className:"font-mono"})}),r.jsx(oe,{label:" (Price/Roll)",placeholder:"0.00",value:o.price_per_roll,onChange:S=>m("price_per_roll",S.target.value),inputMode:"decimal",error:d.price_per_roll}),r.jsx(oe,{label:"/ (Labor)",placeholder:"0.00",value:o.install_cost_per_roll||"",onChange:S=>m("install_cost_per_roll",S.target.value),inputMode:"decimal"})]})]}),r.jsxs("div",{className:"bg-card p-5 rounded-2xl border border-border shadow-sm space-y-4 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),r.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold border-b border-border/50 pb-3",children:[r.jsx(Ns,{className:"w-5 h-5"}),r.jsx("h3",{children:" (Summary)"})]}),r.jsxs("div",{className:"bg-background/50 p-4 rounded-xl border border-border/50 space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-baseline",children:[r.jsx("span",{className:"text-muted-foreground font-medium",children:" (Total):"}),r.jsx("span",{className:"text-3xl font-bold text-primary tracking-tight font-mono",children:_e(C)})]}),r.jsx(m0,{formData:o,onChange:f,itemType:V.WALLPAPER})]}),r.jsxs("div",{className:"flex items-center justify-between pt-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ut,{checked:o.enable_set_price||!1,onCheckedChange:S=>f("enable_set_price",S)}),r.jsx("span",{className:"text-sm text-muted-foreground",children:" (Manual Price)"})]}),o.enable_set_price&&r.jsx("div",{className:"w-32 animate-in slide-in-from-right-2",children:r.jsx(oe,{placeholder:"",value:o.set_price_override||"",onChange:S=>m("set_price_override",S.target.value),className:"text-right font-mono text-sm h-9"})})]})]}),r.jsx(oe,{label:" (Notes)",value:o.notes||"",onChange:S=>f("notes",S.target.value),className:"bg-muted/30"})]}),r.jsxs("div",{className:"p-4 bg-background border-t border-border flex gap-3 shadow-lg z-10",children:[r.jsx(de,{variant:"ghost",type:"button",onClick:i,className:"flex-1 h-12 text-muted-foreground hover:bg-muted",children:""}),r.jsx(de,{type:"submit",className:"flex-[2] h-12 text-base font-bold shadow-lg shadow-primary/20",children:""})]})]})},hC=n=>{if(n===""||n===void 0||n===0)return"";const l=Number(n);return isNaN(l)?"":l.toLocaleString("en-US")},pC=n=>n.replace(/,/g,""),fr=(n,l)=>{const[i,o]=j.useState(n),[d,f]=j.useState({}),[m,h]=j.useState({}),g=j.useMemo(()=>JSON.stringify(i)!==JSON.stringify(n),[i,n]),x=j.useCallback((C,S)=>{o(D=>({...D,[C]:S})),l&&l[C]&&(f(D=>({...D,[C]:void 0})),h(D=>({...D,[C]:void 0})))},[l]),y=j.useCallback((C,S)=>{const D=pC(S);/^\d*\.?\d*$/.test(D)&&(o(E=>({...E,[C]:D})),l&&l[C]&&(f(E=>({...E,[C]:void 0})),h(E=>({...E,[C]:void 0}))))},[l]),b=j.useCallback(()=>{if(!l)return{isValid:!0,hasWarnings:!1};const C={},S={};let D=!0,E=!1;return Object.keys(l).forEach(O=>{const Z=l[O];if(Z){const A=Z(i[O],i);A&&(A.level==="error"?(C[O]=A.message,D=!1):A.level==="warning"&&(S[O]=A.message,E=!0))}}),f(C),h(S),{isValid:D,hasWarnings:E}},[i,l]),N=j.useCallback(C=>{const S=i[C];return typeof S=="string"||typeof S=="number"?hC(S):""},[i]),w=j.useCallback(()=>{o(n),f({}),h({})},[n]);return{formData:i,errors:d,warnings:m,isDirty:g,handleChange:x,handleNumberChange:y,getFormattedNumber:N,setFormData:o,validate:b,resetForm:w}},rx={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"Blackout",adjustment_side:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},gC={width_m:n=>P(n)<=0?{level:"error",message:""}:null,height_m:n=>P(n)<=0?{level:"error",message:""}:null,price_sqyd:(n,l)=>!l.enable_set_price&&P(n)<=0?{level:"warning",message:""}:null},xC=({initialData:n,onSubmit:l,onCancel:i})=>{const{formData:o,errors:d,warnings:f,handleChange:m,handleNumberChange:h,validate:g}=fr({...rx,...n},gC),{addToInventory:x,inventory:y,updateInventoryItem:b,openModal:N}=se(),{addToast:w}=jt(),{confirm:C}=Aa(),S=j.useMemo(()=>{const _={...rx,...o,type:V.ROLLER_BLIND,id:"preview"};return gt.calculateDetailedPrice(_)},[o]),D=j.useMemo(()=>(y[ve.ROLLER_BLIND]||[]).map(_=>({label:_.code,value:_.code,desc:`${_.default_price_per_m}`,data:_})),[y]),E=_=>{m("code",_);const L=D.find(q=>q.value.toLowerCase()===_.toLowerCase());L&&L.data?.default_price_per_m&&h("price_sqyd",String(L.data.default_price_per_m))},O=async()=>{const _=o.code,L=P(o.price_sqyd);if(!_||L<=0)return w("warning","");const q=(y[ve.ROLLER_BLIND]||[]).find(W=>W.code===_);q?q.default_price_per_m!==L&&await C({title:"",description:` ${q.default_price_per_m} ->  ${L}. ?`,confirmLabel:"",cancelLabel:""})&&b(ve.ROLLER_BLIND,q.id,{default_price_per_m:L}):(x(ve.ROLLER_BLIND,{code:_,default_price_per_m:L}),w("success",` ${_} `))},Z=_=>!!_&&(y[ve.ROLLER_BLIND]||[]).some(L=>L.code===_),A=_=>{_.preventDefault();const{isValid:L,hasWarnings:q}=g();L?(l(o),q&&w("warning"," ()")):w("error","")};return r.jsxs("form",{onSubmit:A,className:"space-y-6",children:[r.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[r.jsx(Sd,{className:"w-5 h-5 text-teal-500"}),r.jsx("h2",{children:" (.)"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(oe,{label:" (W)",placeholder:"0.00",value:o.width_m,onChange:_=>h("width_m",_.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-teal-600 dark:text-teal-400 bg-teal-500/10",error:d.width_m}),r.jsx(oe,{label:" (H)",placeholder:"0.00",value:o.height_m,onChange:_=>h("height_m",_.target.value),isDimension:!0,className:"text-lg font-bold text-teal-600 dark:text-teal-400 bg-teal-500/10",error:d.height_m})]})]}),r.jsxs("div",{className:"bg-muted/50 p-4 rounded-xl border border-border space-y-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("label",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[r.jsx(Ea,{className:"w-4 h-4 text-muted-foreground"})," /"]}),r.jsxs(de,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 gap-1 text-muted-foreground hover:text-teal-600",onClick:()=>N("inventoryManager",{initialTab:ve.ROLLER_BLIND}),children:[r.jsx(Od,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"text-xs",children:""})]})]}),r.jsx(ir,{placeholder:"/...",value:o.code||"",onChange:E,options:D}),r.jsxs("div",{className:"relative",children:[r.jsx(oe,{placeholder:" (/..)",inputMode:"decimal",value:o.price_sqyd||"",onChange:_=>h("price_sqyd",_.target.value),warning:f.price_sqyd}),o.code&&P(o.price_sqyd)>0&&r.jsx("button",{type:"button",onClick:O,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 z-10 hover:scale-110 transition-transform",children:r.jsx(nl,{className:Y("w-5 h-5 transition-colors",Z(o.code)?"fill-amber-400 text-amber-400":"text-muted-foreground hover:text-amber-400")})})]})]}),r.jsxs("div",{className:"space-y-2 pt-2 border-t border-border",children:[r.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),r.jsx("div",{className:"grid grid-cols-3 gap-2 bg-muted/50 p-1 rounded-xl",children:["Blackout","Sunscreen","Dimout"].map(_=>r.jsx("button",{type:"button",onClick:()=>m("fabric_variant",_),className:Y("flex items-center justify-center py-2 rounded-lg text-xs font-medium transition-all",o.fabric_variant===_?"bg-teal-600 text-white shadow-md":"text-muted-foreground hover:bg-background/50"),children:_},_))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:["",""].map(_=>r.jsxs("button",{type:"button",onClick:()=>m("adjustment_side",_),className:Y("flex items-center justify-center gap-2 py-3 rounded-xl border transition-all",o.adjustment_side===_?"border-teal-500 bg-teal-500/10 text-teal-600 dark:text-teal-400":"border-border text-muted-foreground hover:bg-muted"),children:[_===""?r.jsx(yo,{className:"w-4 h-4"}):r.jsx(No,{className:"w-4 h-4"}),_]},_))})]})]}),r.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 text-foreground relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-teal-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[r.jsx("span",{children:" (..):"}),r.jsx("span",{className:"text-foreground font-mono",children:S.breakdown?.areaSqyd?.toFixed(2)||"0.00"})]}),r.jsxs("div",{className:"flex justify-between items-end pt-2 border-t border-border mt-2",children:[r.jsx("span",{className:"text-muted-foreground pb-1",children:""}),r.jsx("span",{className:"text-2xl font-bold font-mono text-teal-600 dark:text-teal-400",children:_e(S.total)})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ut,{checked:o.enable_set_price||!1,onCheckedChange:_=>m("enable_set_price",_),className:"data-[state=checked]:bg-teal-500"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),o.enable_set_price&&r.jsx("div",{className:"w-32",children:r.jsx("input",{type:"text",inputMode:"decimal",value:o.set_price_override||"",onChange:_=>h("set_price_override",_.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"})})]})]})]}),r.jsxs("div",{className:"pt-2 space-y-4",children:[r.jsx(oe,{label:"",value:o.notes||"",onChange:_=>m("notes",_.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[r.jsx(de,{variant:"ghost",type:"button",onClick:i,className:"h-12 px-6 text-muted-foreground",children:""}),r.jsx(de,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-teal-500/20 bg-teal-600 hover:bg-teal-700 text-white",children:""})]})]})]})},sx={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"",adjustment_side:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},vC={width_m:n=>P(n)<=0?{level:"error",message:""}:null,height_m:n=>P(n)<=0?{level:"error",message:""}:null,price_sqyd:(n,l)=>!l.enable_set_price&&P(n)<=0?{level:"warning",message:""}:null},bC=({initialData:n,onSubmit:l,onCancel:i,itemType:o=V.WOODEN_BLIND})=>{const{formData:d,errors:f,handleChange:m,handleNumberChange:h,validate:g}=fr({...sx,...n},vC),{inventory:x}=se(),{addToast:y}=jt(),b=o===V.ROLLER_BLIND?ve.ROLLER_BLIND:o===V.ALUMINUM_BLIND?ve.ALUMINUM_BLIND:ve.WOODEN_BLIND,N=j.useMemo(()=>{const D={...sx,...d,type:o,id:"preview"};return gt.calculateDetailedPrice(D)},[d,o]),w=j.useMemo(()=>(x[b]||[]).map(D=>({label:D.code,value:D.code,desc:`${D.default_price_per_m}`,data:D})),[x,b]),C=D=>{m("code",D);const E=w.find(O=>O.value.toLowerCase()===D.toLowerCase());E&&E.data?.default_price_per_m&&h("price_sqyd",String(E.data.default_price_per_m))},S=D=>{D.preventDefault();const{isValid:E,hasWarnings:O}=g();E?(l(d),O&&y("warning"," ()")):y("error","")};return r.jsxs("form",{onSubmit:S,className:"space-y-6 pb-20 sm:pb-0",children:[r.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[r.jsx(no,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"}),r.jsx("h2",{children:" (.)"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(oe,{label:" (W)",placeholder:"0.00",value:d.width_m,onChange:D=>h("width_m",D.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-amber-600 dark:text-amber-400 bg-amber-500/10",error:f.width_m}),r.jsx(oe,{label:" (H)",placeholder:"0.00",value:d.height_m,onChange:D=>h("height_m",D.target.value),isDimension:!0,className:"text-lg font-bold text-amber-600 dark:text-amber-400 bg-amber-500/10",error:f.height_m})]})]}),r.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[r.jsx("div",{className:"grid grid-cols-2 gap-2 bg-muted/50 p-1 rounded-xl",children:["",""].map(D=>r.jsx("button",{type:"button",onClick:()=>m("fabric_variant",D),className:Y("flex items-center justify-center py-2 rounded-lg text-xs font-medium transition-all",d.fabric_variant===D?"bg-amber-600 text-white shadow-md":"text-muted-foreground hover:bg-background/50"),children:D},D))}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(ir,{label:"//",options:w,value:d.code||"",onChange:C,className:"bg-muted/50",placeholder:" BW-01"}),r.jsx(oe,{label:" (/..)",value:d.price_sqyd||"",onChange:D=>h("price_sqyd",D.target.value),className:"bg-muted/50",inputMode:"decimal",placeholder:"0.00"})]}),r.jsxs("div",{className:"pt-2",children:[r.jsx("label",{className:"text-sm font-bold text-foreground mb-2 block",children:" (Side)"}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:["",""].map(D=>r.jsxs("button",{type:"button",onClick:()=>m("adjustment_side",D),className:Y("flex items-center justify-center gap-2 py-3 rounded-xl border transition-all",d.adjustment_side===D?"border-amber-500 bg-amber-500/10 text-amber-600 dark:text-amber-400":"border-border text-muted-foreground hover:bg-muted"),children:[D===""?r.jsx(yo,{className:"w-4 h-4"}):r.jsx(No,{className:"w-4 h-4"}),D]},D))})]})]}),r.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-amber-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),r.jsxs("div",{className:"flex items-center gap-2 text-amber-600 dark:text-amber-400 font-bold border-b border-border pb-3",children:[r.jsx(Ea,{className:"w-5 h-5"}),r.jsx("h3",{children:""})]}),r.jsxs("div",{className:"flex justify-between items-baseline",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("span",{className:"text-2xl font-bold font-mono text-amber-600 dark:text-amber-400",children:_e(N.total)})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ut,{checked:d.enable_set_price||!1,onCheckedChange:D=>m("enable_set_price",D),className:"data-[state=checked]:bg-amber-500"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),d.enable_set_price&&r.jsx("div",{className:"w-32",children:r.jsx("input",{type:"text",inputMode:"decimal",value:d.set_price_override||"",onChange:D=>h("set_price_override",D.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"})})]})]}),r.jsxs("div",{className:"pt-2 space-y-4",children:[r.jsx(oe,{label:"",value:d.notes||"",onChange:D=>m("notes",D.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[r.jsx(de,{variant:"ghost",type:"button",onClick:i,className:"h-12 px-6 text-muted-foreground",children:""}),r.jsx(de,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-amber-500/20 bg-amber-600 hover:bg-amber-700 text-white",children:""})]})]})]})},ix={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"Dimout",adjustment_side:"",opening_style:Dn.SIDE,is_suspended:!1,enable_set_price:!1,set_price_override:0},yC={width_m:n=>P(n)<=0?{level:"error",message:""}:null,height_m:n=>P(n)<=0?{level:"error",message:""}:null,price_sqyd:(n,l)=>!l.enable_set_price&&P(n)<=0?{level:"warning",message:""}:null},NC=({initialData:n,onSubmit:l,onCancel:i})=>{const{formData:o,errors:d,warnings:f,handleChange:m,handleNumberChange:h,validate:g}=fr({...ix,...n},yC),{addToInventory:x,inventory:y,updateInventoryItem:b,openModal:N}=se(),{addToast:w}=jt(),{confirm:C}=Aa(),S=j.useMemo(()=>{const _={...ix,...o,type:V.VERTICAL_BLIND,id:"preview"};return gt.calculateDetailedPrice(_)},[o]),D=j.useMemo(()=>(y[ve.VERTICAL_BLIND]||[]).map(_=>({label:_.code,value:_.code,desc:`${_.default_price_per_m}`,data:_})),[y]),E=_=>{m("code",_);const L=D.find(q=>q.value.toLowerCase()===_.toLowerCase());L&&L.data?.default_price_per_m&&h("price_sqyd",String(L.data.default_price_per_m))},O=async()=>{const _=o.code,L=P(o.price_sqyd);if(!_||L<=0)return w("warning","");const q=(y[ve.VERTICAL_BLIND]||[]).find(W=>W.code===_);q&&q.default_price_per_m!==L?await C({title:"?",description:` ${q.default_price_per_m}  ${L}?`})&&b(ve.VERTICAL_BLIND,q.id,{default_price_per_m:L}):q||(x(ve.VERTICAL_BLIND,{code:_,default_price_per_m:L}),w("success",""))},Z=_=>!!_&&(y[ve.VERTICAL_BLIND]||[]).some(L=>L.code===_),A=_=>{_.preventDefault(),g().isValid?l(o):w("error","")};return r.jsxs("form",{onSubmit:A,className:"space-y-6 pb-20 sm:pb-0",children:[r.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[r.jsx(wd,{className:"w-5 h-5 text-cyan-500"}),r.jsx("h2",{children:" (.)"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(oe,{label:" (W)",value:o.width_m,onChange:_=>h("width_m",_.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-cyan-600 dark:text-cyan-400 bg-cyan-500/10",error:d.width_m}),r.jsx(oe,{label:" (H)",value:o.height_m,onChange:_=>h("height_m",_.target.value),isDimension:!0,className:"text-lg font-bold text-cyan-600 dark:text-cyan-400 bg-cyan-500/10",error:d.height_m})]})]}),r.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("label",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[r.jsx(Ea,{className:"w-4 h-4 text-muted-foreground"}),"/"]}),r.jsxs(de,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 gap-1 text-muted-foreground hover:text-cyan-600",onClick:()=>N("inventoryManager",{initialTab:ve.VERTICAL_BLIND}),children:[r.jsx(Od,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"text-xs",children:""})]})]}),r.jsx(ir,{placeholder:"/...",value:o.code||"",onChange:E,options:D}),r.jsxs("div",{className:"relative",children:[r.jsx(oe,{placeholder:" (/..)",inputMode:"decimal",value:o.price_sqyd||"",onChange:_=>h("price_sqyd",_.target.value),warning:f.price_sqyd}),o.code&&P(o.price_sqyd)>0&&r.jsx("button",{type:"button",onClick:O,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 z-10 hover:scale-110 transition-transform",children:r.jsx(nl,{className:Y("w-5 h-5",Z(o.code)?"fill-amber-400 text-amber-400":"text-muted-foreground")})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-border",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsxs("button",{type:"button",onClick:()=>m("opening_style",Dn.SIDE),className:Y("flex items-center gap-2 px-3 py-2 rounded-lg text-xs border transition-all",o.opening_style===Dn.SIDE?"bg-cyan-500/10 border-cyan-500/50 text-cyan-600 dark:text-cyan-400":"border-transparent text-muted-foreground hover:bg-muted"),children:[r.jsx(vx,{className:"w-3 h-3"}),""]}),r.jsxs("button",{type:"button",onClick:()=>m("opening_style",Dn.CENTER),className:Y("flex items-center gap-2 px-3 py-2 rounded-lg text-xs border transition-all",o.opening_style===Dn.CENTER?"bg-cyan-500/10 border-cyan-500/50 text-cyan-600 dark:text-cyan-400":"border-transparent text-muted-foreground hover:bg-muted"),children:[r.jsx(zd,{className:"w-3 h-3"}),""]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsxs("button",{type:"button",onClick:()=>m("adjustment_side",""),className:Y("flex items-center gap-2 px-3 py-2 rounded-lg text-xs border transition-all",o.adjustment_side===""?"bg-cyan-500/10 border-cyan-500/50 text-cyan-600 dark:text-cyan-400":"border-transparent text-muted-foreground hover:bg-muted"),children:[r.jsx(No,{className:"w-3 h-3"}),""]}),r.jsxs("button",{type:"button",onClick:()=>m("adjustment_side",""),className:Y("flex items-center gap-2 px-3 py-2 rounded-lg text-xs border transition-all",o.adjustment_side===""?"bg-cyan-500/10 border-cyan-500/50 text-cyan-600 dark:text-cyan-400":"border-transparent text-muted-foreground hover:bg-muted"),children:[r.jsx(yo,{className:"w-3 h-3"}),""]})]})]})]})]}),r.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-cyan-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),r.jsxs("div",{className:"flex items-center gap-2 text-cyan-600 dark:text-cyan-400 font-bold border-b border-border pb-3",children:[r.jsx(Ea,{className:"w-5 h-5"}),r.jsx("h3",{children:""})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[r.jsx("span",{children:" (..):"}),r.jsx("span",{className:"text-foreground font-mono",children:S.breakdown?.areaSqyd?.toFixed(2)||"0.00"})]}),r.jsxs("div",{className:"flex justify-between items-end pt-2 border-t border-border mt-2",children:[r.jsx("span",{className:"text-muted-foreground pb-1",children:""}),r.jsx("span",{className:"text-2xl font-bold font-mono text-cyan-600 dark:text-cyan-400",children:_e(S.total)})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ut,{checked:o.enable_set_price||!1,onCheckedChange:_=>m("enable_set_price",_),className:"data-[state=checked]:bg-cyan-500"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),o.enable_set_price&&r.jsx("div",{className:"w-32",children:r.jsx("input",{type:"text",inputMode:"decimal",value:o.set_price_override||"",onChange:_=>h("set_price_override",_.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500"})})]})]})]}),r.jsxs("div",{className:"pt-2 space-y-4",children:[r.jsx(oe,{label:"",value:o.notes||"",onChange:_=>m("notes",_.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[r.jsx(de,{variant:"ghost",type:"button",onClick:i,className:"h-12 px-6 text-muted-foreground",children:""}),r.jsx(de,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-cyan-500/20 bg-cyan-600 hover:bg-cyan-700 text-white",children:""})]})]})]})},ox={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"PVC ",opening_style:Dn.SIDE,is_suspended:!1,enable_set_price:!1,set_price_override:0},jC={width_m:n=>P(n)<=0?{level:"error",message:""}:null,height_m:n=>P(n)<=0?{level:"error",message:""}:null,price_sqyd:(n,l)=>!l.enable_set_price&&P(n)<=0?{level:"warning",message:""}:null},_C=({initialData:n,onSubmit:l,onCancel:i})=>{const{formData:o,errors:d,warnings:f,handleChange:m,handleNumberChange:h,validate:g}=fr({...ox,...n},jC),{addToInventory:x,inventory:y,updateInventoryItem:b,openModal:N}=se(),{addToast:w}=jt(),{confirm:C}=Aa(),S=j.useMemo(()=>{const _={...ox,...o,type:V.PARTITION,id:"preview"};return gt.calculateDetailedPrice(_)},[o]),D=j.useMemo(()=>(y[ve.PARTITION]||[]).map(_=>({label:_.code,value:_.code,desc:`${_.default_price_per_m}`,data:_})),[y]),E=_=>{m("code",_);const L=D.find(q=>q.value.toLowerCase()===_.toLowerCase());L&&L.data?.default_price_per_m&&h("price_sqyd",String(L.data.default_price_per_m))},O=async()=>{const _=o.code,L=P(o.price_sqyd);if(!_||L<=0)return w("warning","");const q=(y[ve.PARTITION]||[]).find(W=>W.code===_);q&&q.default_price_per_m!==L?await C({title:"?",description:` ${q.default_price_per_m} -> ${L}?`})&&b(ve.PARTITION,q.id,{default_price_per_m:L}):q||(x(ve.PARTITION,{code:_,default_price_per_m:L}),w("success",""))},Z=_=>!!_&&(y[ve.PARTITION]||[]).some(L=>L.code===_),A=_=>{_.preventDefault(),g().isValid?l(o):w("error","")};return r.jsxs("form",{onSubmit:A,className:"space-y-6",children:[r.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[r.jsx(ps,{className:"w-5 h-5 text-emerald-500"}),r.jsx("h2",{children:" (.)"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(oe,{label:" (W)",placeholder:"0.00",value:o.width_m,onChange:_=>h("width_m",_.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-500/10",error:d.width_m}),r.jsx(oe,{label:" (H)",placeholder:"0.00",value:o.height_m,onChange:_=>h("height_m",_.target.value),isDimension:!0,className:"text-lg font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-500/10",error:d.height_m})]})]}),r.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("label",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[r.jsx(Ea,{className:"w-4 h-4 text-muted-foreground"}),"/"]}),r.jsxs(de,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 gap-1 text-muted-foreground hover:text-emerald-600",onClick:()=>N("inventoryManager",{initialTab:ve.PARTITION}),children:[r.jsx(Od,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"text-xs",children:""})]})]}),r.jsx(ir,{placeholder:" ( PVC )...",value:o.code||"",onChange:E,options:D}),r.jsxs("div",{className:"relative",children:[r.jsx(oe,{placeholder:" (/..)",inputMode:"decimal",value:o.price_sqyd||"",onChange:_=>h("price_sqyd",_.target.value),warning:f.price_sqyd,className:"bg-muted/50"}),o.code&&P(o.price_sqyd)>0&&r.jsx("button",{type:"button",onClick:O,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 z-10 hover:scale-110 transition-transform",children:r.jsx(nl,{className:Y("w-5 h-5",Z(o.code)?"fill-amber-400 text-amber-400":"text-muted-foreground")})})]})]}),r.jsxs("div",{className:"space-y-2 pt-2 border-t border-border",children:[r.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),r.jsx("div",{className:"flex gap-2",children:[{l:"",v:Dn.SIDE,i:vx},{l:"",v:Dn.CENTER,i:zd}].map(_=>r.jsxs("button",{type:"button",onClick:()=>m("opening_style",_.v),className:Y("flex-1 flex items-center justify-center gap-2 py-2 rounded-lg text-sm border transition-all",o.opening_style===_.v?"bg-emerald-500/10 border-emerald-500/50 text-emerald-600 dark:text-emerald-400 font-medium":"bg-background border-border text-muted-foreground hover:bg-muted"),children:[r.jsx(_.i,{className:"w-4 h-4"}),_.l]},_.v))})]})]}),r.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),r.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 dark:text-emerald-400 font-bold border-b border-border pb-3",children:[r.jsx(Ea,{className:"w-5 h-5"}),r.jsx("h3",{children:""})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[r.jsx("span",{children:" (..):"}),r.jsx("span",{className:"text-foreground font-mono",children:S.breakdown?.areaSqyd?.toFixed(2)||"0.00"})]}),r.jsxs("div",{className:"flex justify-between items-end pt-2 border-t border-border mt-2",children:[r.jsx("span",{className:"text-muted-foreground pb-1",children:""}),r.jsx("span",{className:"text-2xl font-bold font-mono text-emerald-600 dark:text-emerald-400",children:_e(S.total)})]})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ut,{checked:o.enable_set_price||!1,onCheckedChange:_=>m("enable_set_price",_),className:"data-[state=checked]:bg-emerald-500"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),o.enable_set_price&&r.jsx("div",{className:"w-32",children:r.jsx("input",{type:"text",inputMode:"decimal",value:o.set_price_override||"",onChange:_=>h("set_price_override",_.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"})})]})]}),r.jsxs("div",{className:"pt-2 space-y-4",children:[r.jsx(oe,{label:"",value:o.notes||"",onChange:_=>m("notes",_.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[r.jsx(de,{variant:"ghost",type:"button",onClick:i,className:"h-12 px-6 text-muted-foreground",children:""}),r.jsx(de,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-emerald-500/20 bg-emerald-600 hover:bg-emerald-700 text-white",children:""})]})]})]})},cx={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"",opening_style:Dn.SIDE,is_suspended:!1,enable_set_price:!1,set_price_override:0},wC={width_m:n=>P(n)<=0?{level:"error",message:""}:null,height_m:n=>P(n)<=0?{level:"error",message:""}:null,price_sqyd:(n,l)=>!l.enable_set_price&&P(n)<=0?{level:"warning",message:""}:null},SC=({initialData:n,onSubmit:l,onCancel:i})=>{const{formData:o,errors:d,handleChange:f,handleNumberChange:m,validate:h}=fr({...cx,...n},wC),{addToast:g}=jt(),x=j.useMemo(()=>{const b={...cx,...o,type:V.PLEATED_SCREEN,id:"preview"};return gt.calculateDetailedPrice(b)},[o]),y=b=>{b.preventDefault(),h().isValid?l(o):g("error","")};return r.jsxs("form",{onSubmit:y,className:"space-y-6 pb-20 sm:pb-0",children:[r.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[r.jsx(ps,{className:"w-5 h-5 text-pink-500"}),r.jsx("h2",{children:" (.)"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(oe,{label:" (W)",value:o.width_m,onChange:b=>m("width_m",b.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-pink-600 dark:text-pink-400 bg-pink-500/10",error:d.width_m}),r.jsx(oe,{label:" (H)",value:o.height_m,onChange:b=>m("height_m",b.target.value),isDimension:!0,className:"text-lg font-bold text-pink-600 dark:text-pink-400 bg-pink-500/10",error:d.height_m})]})]}),r.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(oe,{label:"",value:o.code||"",onChange:b=>f("code",b.target.value),className:"bg-muted/50",placeholder:"..."}),r.jsx(oe,{label:" (/..)",value:o.price_sqyd||"",onChange:b=>m("price_sqyd",b.target.value),className:"bg-muted/50",inputMode:"decimal"})]}),r.jsxs("div",{className:"pt-2",children:[r.jsx("label",{className:"text-sm font-bold text-foreground mb-2 block",children:""}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.values(Dn).map(b=>r.jsx("button",{type:"button",onClick:()=>f("opening_style",b),className:Y("py-2 px-3 rounded-lg text-xs font-medium border transition-all",o.opening_style===b?"bg-pink-500/10 border-pink-500/50 text-pink-600 dark:text-pink-400":"bg-background border-border text-muted-foreground hover:bg-muted"),children:b},b))})]})]}),r.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-pink-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),r.jsxs("div",{className:"flex items-center gap-2 text-pink-600 dark:text-pink-400 font-bold border-b border-border pb-3",children:[r.jsx(Ea,{className:"w-5 h-5"}),r.jsx("h3",{children:""})]}),r.jsxs("div",{className:"flex justify-between items-baseline",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("span",{className:"text-2xl font-bold font-mono text-pink-600 dark:text-pink-400",children:_e(x.total)})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ut,{checked:o.enable_set_price||!1,onCheckedChange:b=>f("enable_set_price",b),className:"data-[state=checked]:bg-pink-500"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),o.enable_set_price&&r.jsx("div",{className:"w-32",children:r.jsx("input",{type:"text",inputMode:"decimal",value:o.set_price_override||"",onChange:b=>m("set_price_override",b.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-pink-500"})})]})]}),r.jsxs("div",{className:"pt-2 space-y-4",children:[r.jsx(oe,{label:"",value:o.notes||"",onChange:b=>f("notes",b.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[r.jsx(de,{variant:"ghost",type:"button",onClick:i,className:"h-12 px-6 text-muted-foreground",children:""}),r.jsx(de,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-pink-500/20 bg-pink-600 hover:bg-pink-700 text-white",children:""})]})]})]})},CC={quantity:1,price_per_item:0,description:"",notes:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},EC={description:n=>n?null:{level:"error",message:""},price_per_item:n=>P(n)<=0?{level:"error",message:""}:null},TC=({initialData:n,onSubmit:l,onCancel:i})=>{const{formData:o,errors:d,isDirty:f,validate:m,handleChange:h,handleNumberChange:g,getFormattedNumber:x}=fr({...CC,...n},EC),y=j.useMemo(()=>{const N={...o,type:V.REMOVAL,id:"preview"};return gt.calculateDetailedPrice(N)},[o]),b=N=>{if(N.preventDefault(),m().isValid){const w={...o,quantity:P(o.quantity),price_per_item:P(o.price_per_item),set_price_override:P(o.set_price_override)};l(w)}};return r.jsxs("form",{onSubmit:b,className:"space-y-6 pb-20 sm:pb-0",children:[r.jsxs("section",{className:"space-y-4 bg-card p-5 rounded-2xl border border-border shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold mb-2",children:[r.jsx(oo,{className:"w-5 h-5 text-destructive"}),r.jsx("h2",{children:""})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(oe,{label:" / ",placeholder:" , ...",value:o.description,onChange:N=>h("description",N.target.value),autoFocus:!0,className:"bg-muted/50",error:d.description}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("label",{className:"text-sm font-bold text-foreground mb-1.5 block",children:""}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("button",{type:"button",onClick:()=>g("quantity",String(Math.max(1,P(o.quantity)-1))),className:"w-10 h-10 rounded-l-xl bg-muted text-muted-foreground hover:bg-accent flex items-center justify-center border-y border-l border-input",children:"-"}),r.jsx("input",{type:"number",value:o.quantity,onChange:N=>g("quantity",N.target.value),className:"w-full h-10 text-center border-y border-input bg-background text-foreground font-bold"}),r.jsx("button",{type:"button",onClick:()=>g("quantity",String(P(o.quantity)+1)),className:"w-10 h-10 rounded-r-xl bg-muted text-muted-foreground hover:bg-accent flex items-center justify-center border-y border-r border-input",children:"+"})]})]}),r.jsx(oe,{label:"",placeholder:"0.00",value:o.price_per_item,onChange:N=>g("price_per_item",N.target.value),inputMode:"decimal",className:"bg-muted/50",error:d.price_per_item})]})]})]}),r.jsxs("section",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-destructive/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),r.jsxs("div",{className:"flex items-center gap-2 text-destructive font-bold border-b border-border pb-3",children:[r.jsx(ao,{className:"w-5 h-5"}),r.jsx("h3",{children:""})]}),r.jsxs("div",{className:"flex justify-between items-baseline",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:""}),r.jsx("span",{className:"text-3xl font-bold font-mono text-destructive",children:_e(y.total)})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ut,{checked:o.enable_set_price||!1,onCheckedChange:N=>h("enable_set_price",N),className:"data-[state=checked]:bg-primary"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:" (Override)"})]}),o.enable_set_price&&r.jsx("div",{className:"w-32",children:r.jsx("input",{type:"text",inputMode:"decimal",value:x("set_price_override"),onChange:N=>g("set_price_override",N.target.value),placeholder:"",className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-primary transition-colors"})})]})]}),r.jsxs("div",{className:"pt-2",children:[r.jsx(oe,{label:"",value:o.notes,onChange:N=>h("notes",N.target.value),className:"bg-muted/50 border-transparent focus:bg-background transition-colors"}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-border mt-4",children:[r.jsx(de,{variant:"ghost",type:"button",onClick:i,className:"text-muted-foreground",children:""}),r.jsx(de,{type:"submit",className:"min-w-[120px] bg-destructive hover:bg-destructive/90 text-destructive-foreground",disabled:!f&&!n?.description,children:""})]})]})]})},Tn=n=>({container:`bg-[hsl(var(${n})_/_0.05)] dark:bg-[hsl(var(${n})_/_0.1)] border-[hsl(var(${n})_/_0.2)]`,iconWrapper:`bg-white dark:bg-[hsl(var(${n})_/_0.15)] text-[hsl(var(${n}))] shadow-sm`,title:"text-foreground font-semibold",icon:`text-[hsl(var(${n}))]`,hover:`hover:border-[hsl(var(${n})_/_0.5)] hover:bg-[hsl(var(${n})_/_0.08)] dark:hover:bg-[hsl(var(${n})_/_0.15)]`,badge:`bg-[hsl(var(${n})_/_0.1)] text-[hsl(var(${n}))]`,text:`text-[hsl(var(${n}))]`,bgSoft:`bg-[hsl(var(${n})_/_0.1)]`,border:`border-[hsl(var(${n}))]`,ring:`focus:ring-[hsl(var(${n}))]`}),AC={[V.CURTAIN]:Tn("--brand-curtain"),[V.WALLPAPER]:Tn("--brand-wallpaper"),[V.ROLLER_BLIND]:Tn("--brand-roller"),[V.WOODEN_BLIND]:Tn("--brand-wood"),[V.VERTICAL_BLIND]:Tn("--brand-vertical"),[V.ALUMINUM_BLIND]:Tn("--brand-alum"),[V.PARTITION]:Tn("--brand-partition"),[V.PLEATED_SCREEN]:Tn("--brand-screen"),[V.REMOVAL]:Tn("--brand-removal")},DC=n=>AC[n]||Tn("--foreground"),zC=[{id:V.CURTAIN,icon:md},{id:V.WOODEN_BLIND,icon:no},{id:V.ROLLER_BLIND,icon:Sd},{id:V.VERTICAL_BLIND,icon:wd},{id:V.PARTITION,icon:ps},{id:V.PLEATED_SCREEN,icon:gy},{id:V.WALLPAPER,icon:co},{id:V.REMOVAL,icon:Rd}],RC=({isOpen:n,onClose:l,roomId:i,itemId:o,itemType:d=V.CURTAIN,initialData:f,mode:m="add",onSubmit:h})=>{const{trigger:g}=sn(),x=E=>E==="set"?V.CURTAIN:E,[y,b]=j.useState(x(d)),[N,w]=j.useState(!0);j.useEffect(()=>{if(n){if(m==="add")w(!0),b(x(d));else if(m==="edit"&&f){w(!1);const E=f.type||d;b(x(E))}}},[n,m,d]);const C=E=>{g("selection"),b(E),w(!1)},S=(E,O=!0)=>{const Z={...E,type:y,...i&&{roomId:i},...o&&{id:o}};h?h(Z,O):l()},D=()=>{if(N)return"";const E=Ta[y]?.name||y;return m==="add"?`${E}`:`${E}`};return r.jsx(Gt,{isOpen:n,onClose:l,title:D(),variant:"fullscreen",children:N?r.jsx("div",{className:"pb-safe-area",children:r.jsx("div",{className:"grid grid-cols-2 gap-3 p-1",children:zC.map(E=>{const O=Ta[E.id]?.name||E.id,Z=DC(E.id);return r.jsxs("button",{onClick:()=>C(E.id),className:Y("group relative flex flex-col items-start p-4 rounded-2xl border bg-card text-card-foreground transition-all duration-300 ease-out",Z.container,Z.hover),children:[r.jsx("div",{className:Y("w-10 h-10 rounded-xl flex items-center justify-center mb-3 transition-colors duration-300",Z.iconWrapper),children:r.jsx(E.icon,{className:"w-5 h-5 transition-colors",strokeWidth:2})}),r.jsx("span",{className:Y("text-[14px] font-bold",Z.title),children:O}),r.jsx("div",{className:Y("absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none","bg-gradient-to-tr from-white/0 via-white/0 to-white/5 dark:to-white/5")})]},E.id)})})}):r.jsxs("div",{className:"relative pb-safe-bottom",children:[m==="add"&&r.jsxs("button",{onClick:()=>w(!0),className:Y("absolute -top-[52px] right-0 z-10","flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold transition-all","bg-secondary text-secondary-foreground hover:bg-secondary/80 active:scale-95","dark:bg-secondary/50 dark:hover:bg-secondary/70"),children:[r.jsx(Ed,{className:"w-3.5 h-3.5"})," "]}),r.jsxs("div",{className:"animate-fade-in",children:[y===V.CURTAIN&&r.jsx(cC,{initialData:f,onSubmit:S,onCancel:l}),y===V.WALLPAPER&&r.jsx(mC,{initialData:f,onSubmit:S,onCancel:l}),y===V.ROLLER_BLIND&&r.jsx(xC,{initialData:f,onSubmit:S,onCancel:l}),(y===V.WOODEN_BLIND||y===V.ALUMINUM_BLIND)&&r.jsx(bC,{itemType:y,initialData:f,onSubmit:S,onCancel:l}),y===V.VERTICAL_BLIND&&r.jsx(NC,{initialData:f,onSubmit:S,onCancel:l}),y===V.PARTITION&&r.jsx(_C,{initialData:f,onSubmit:S,onCancel:l}),y===V.PLEATED_SCREEN&&r.jsx(SC,{initialData:f,onSubmit:S,onCancel:l}),y===V.REMOVAL&&r.jsx(TC,{initialData:f,onSubmit:S,onCancel:l})]})]})})},OC=({isOpen:n,onClose:l})=>{const i=se(f=>f.customer),o=se(f=>f.setCustomer),d=(f,m)=>{o({[f]:m})};return r.jsx(Gt,{isOpen:n,onClose:l,title:" (Customer Info)",children:r.jsxs("div",{className:"space-y-6 pb-safe-area",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx(oe,{prefix:r.jsx(xy,{className:"w-4 h-4 text-muted-foreground"}),label:" /  (Name)",placeholder:"...",value:i.name,onChange:f=>d("name",f.target.value),autoFocus:!0}),r.jsx(oe,{prefix:r.jsx(vy,{className:"w-4 h-4 text-muted-foreground"}),label:" (Phone)",placeholder:"08X-XXX-XXXX",value:i.phone,onChange:f=>d("phone",f.target.value),inputMode:"tel"}),r.jsx(oe,{prefix:r.jsx(_o,{className:"w-4 h-4 text-muted-foreground"}),label:" (Tax ID)",placeholder:"...",value:i.taxId||"",onChange:f=>d("taxId",f.target.value)}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("label",{className:"text-base font-medium text-foreground ml-1 flex items-center gap-2",children:[r.jsx(by,{className:"w-4 h-4"}),"  (Billing Address)"]}),r.jsx("textarea",{className:"w-full p-3 rounded-xl border border-input bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-ring min-h-[80px] resize-none text-[16px] placeholder:text-muted-foreground",placeholder:", , /...",value:i.address,onChange:f=>d("address",f.target.value)})]})]}),r.jsx("hr",{className:"border-border"}),r.jsxs("div",{className:"space-y-4 bg-muted/30 p-4 rounded-2xl border border-border",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"font-semibold text-foreground flex items-center gap-2",children:[r.jsx(bx,{className:"w-4 h-4"}),"  (Site Location)"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-xs text-muted-foreground cursor-pointer",htmlFor:"show-site",children:""}),r.jsx(Ut,{id:"show-site",checked:i.showInstallationAddress!==!1,onCheckedChange:f=>d("showInstallationAddress",f)})]})]}),r.jsxs("div",{className:"flex items-center justify-between py-1",children:[r.jsx("span",{className:"text-base text-foreground/80",children:""}),r.jsx(Ut,{checked:i.useSameAddress!==!1,onCheckedChange:f=>d("useSameAddress",f)})]}),i.useSameAddress===!1&&r.jsx("div",{className:"animate-fade-in",children:r.jsx("textarea",{className:"w-full p-3 rounded-xl border border-input bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-ring min-h-[80px] resize-none text-[16px] placeholder:text-muted-foreground",placeholder:"...",value:i.installationAddress||"",onChange:f=>d("installationAddress",f.target.value)})}),i.useSameAddress!==!1&&r.jsx("div",{className:"p-3 border border-dashed border-border rounded-xl text-center text-muted-foreground text-xs",children:""})]}),r.jsx("div",{className:"pt-2 flex justify-end",children:r.jsx(de,{onClick:l,className:"w-full sm:w-auto bg-primary text-primary-foreground min-w-[120px]",children:""})})]})})};var $0=$y();const Pa=n=>n.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2}),MC=()=>{const n=new Date,l=n.getFullYear().toString().slice(-2),i=(n.getMonth()+1).toString().padStart(2,"0"),o=Math.floor(Math.random()*1e3).toString().padStart(4,"0");return`QT-${l}${i}-${o}`},kC=n=>{const l=[];return n.forEach(i=>{if(i.is_suspended)return;const o=gt.calculatePrice(i),{id:d,...f}=i,m=JSON.stringify(f),h=l.find(g=>{const{id:x,...y}=g.item;return JSON.stringify(y)===m});h?(h.count+=1,h.totalPrice+=o):l.push({item:i,count:1,unitPrice:o,totalPrice:o})}),l},LC=ee.forwardRef(({docType:n},l)=>{const{shopConfig:i,customer:o,rooms:d}=se(E=>E),{grandTotal:f,discountAmount:m,vatAmount:h,finalTotal:g}=Hd(),x=n==="delivery",y=!x,[b]=j.useState(MC),N={quotation:" (QUOTATION)",delivery:" /  (DELIVERY NOTE)",receipt:" (RECEIPT)"},w=`
      @page { size: A4; margin: 10mm 15mm; }
      @media print {
        body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
        html, body { height: auto !important; overflow: visible !important; }
        #root { display: block !important; }
        thead { display: table-header-group; }
        tfoot { display: table-footer-group; }
        tr { break-inside: avoid; page-break-inside: avoid; }
        .room-header { break-after: avoid; page-break-after: avoid; }
        .no-print { display: none !important; }
      }
    `,C=o.showInstallationAddress!==!1,S=o.useSameAddress!==!1,D=S?"()":o.installationAddress||"-";return r.jsxs("div",{ref:l,className:"bg-white text-slate-900 font-sans leading-normal text-[12px]",children:[r.jsx("style",{children:w}),r.jsxs("div",{className:"w-[210mm] min-h-[297mm] px-[10mm] py-[10mm] mx-auto flex flex-col bg-white",children:[r.jsxs("header",{className:"flex justify-between items-start border-b-2 border-slate-800 pb-4 mb-4",children:[r.jsxs("div",{className:"flex gap-4 items-start",children:[i.logoUrl?r.jsx("img",{src:i.logoUrl,alt:"Logo",className:"w-[80px] h-[80px] object-contain border border-slate-100 rounded"}):r.jsx("div",{className:"w-[80px] h-[80px] bg-slate-100 flex items-center justify-center text-slate-300 font-bold rounded",children:"LOGO"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-slate-900",children:i.name||""}),r.jsx("div",{className:"text-slate-600 whitespace-pre-line mt-1 leading-tight",children:i.address}),r.jsxs("div",{className:"text-slate-600 mt-2",children:[r.jsx("span",{className:"font-bold",children:":"})," ",i.phone,i.taxId&&r.jsxs("span",{className:"ml-3",children:[r.jsx("span",{className:"font-bold",children:":"})," ",i.taxId]})]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:Y("inline-block px-4 py-1.5 text-sm font-bold rounded border mb-3",x?"bg-slate-100 border-slate-300":"bg-slate-900 text-white border-slate-900"),children:N[n]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-end items-center gap-2",children:[r.jsx("span",{className:"font-bold text-slate-500",children:":"}),r.jsx("span",{className:"font-mono font-bold text-base",children:b})]}),r.jsxs("div",{className:"flex justify-end items-center gap-2",children:[r.jsx("span",{className:"font-bold text-slate-500",children:":"}),r.jsx("div",{className:"w-[100px] border-b border-slate-400 h-5"})]})]})]})]}),r.jsxs("section",{className:"mb-5 border border-slate-300 rounded-xl flex overflow-hidden bg-white",children:[r.jsxs("div",{className:Y("p-4",C?"flex-[1.2]":"flex-1"),children:[r.jsx("div",{className:"flex items-center gap-2 mb-3",children:r.jsx("h3",{className:"font-bold text-slate-900 text-xs uppercase tracking-wider bg-slate-100 px-2 py-0.5 rounded",children:" (Customer)"})}),r.jsxs("div",{className:"space-y-1.5 text-sm",children:[r.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2",children:[r.jsx("span",{className:"text-slate-500 font-medium",children:":"}),r.jsx("span",{className:"font-bold text-slate-900 text-[13px]",children:o.name||"-"})]}),r.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2",children:[r.jsx("span",{className:"text-slate-500 font-medium",children:":"}),r.jsx("span",{className:"text-slate-800 leading-snug",children:o.address||"-"})]}),r.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2",children:[r.jsx("span",{className:"text-slate-500 font-medium",children:":"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("span",{className:"font-mono text-slate-800",children:o.phone||"-"}),o.taxId&&r.jsxs("span",{className:"text-slate-600",children:[r.jsx("span",{className:"font-medium text-slate-500 mr-1",children:"Tax ID:"}),o.taxId]})]})]})]})]}),C&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-px bg-slate-200 my-3"}),r.jsxs("div",{className:"flex-1 p-4 bg-slate-50/30",children:[r.jsx("div",{className:"flex items-center gap-2 mb-3",children:r.jsx("h3",{className:"font-bold text-slate-900 text-xs uppercase tracking-wider bg-slate-100 px-2 py-0.5 rounded",children:" (Site Location)"})}),r.jsx("div",{className:Y("text-sm leading-relaxed",S?"text-slate-400 italic":"text-slate-700"),children:D})]})]})]}),r.jsx("div",{className:"flex-1",children:r.jsxs("table",{className:"w-full border border-slate-300 border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-slate-100 text-slate-900 text-xs border-b border-slate-300",children:[r.jsx("th",{className:"py-2 w-[45px] text-center font-bold border-r border-slate-300",children:""}),r.jsx("th",{className:"py-2 px-2 text-left font-bold border-r border-slate-300",children:" (Description)"}),r.jsx("th",{className:"py-2 px-2 w-[60px] text-center font-bold border-r border-slate-300",children:""}),y?r.jsxs(r.Fragment,{children:[r.jsx("th",{className:"py-2 px-2 w-[110px] text-right font-bold border-r border-slate-300",children:"/"}),r.jsx("th",{className:"py-2 pr-2 w-[120px] text-right font-bold",children:""})]}):r.jsx("th",{className:"py-2 px-2 w-[150px] text-center font-bold",children:""})]})}),d.map((E,O)=>{if(E.items.length===0)return null;const Z=kC(E.items);return r.jsxs("tbody",{className:"border-b border-slate-300 last:border-0",children:[r.jsxs("tr",{className:"bg-slate-50/80 room-header border-b border-slate-300",children:[r.jsx("td",{className:"py-1.5 px-1 text-center font-bold text-slate-600 border-r border-slate-300 bg-slate-100",children:O+1}),r.jsxs("td",{colSpan:y?4:3,className:"py-1.5 px-2 font-bold text-slate-900",children:[" ",E.name]})]}),Z.map((A,_)=>{const{item:L,count:q,unitPrice:W,totalPrice:J}=A,Q=Ta[L.type];let ae=Q?Q.name:"",le="",te="";return Ld(L)?(ae="",le=`${L.style||"-"} (${L.fabric_variant||"-"}) ${L.code?`: ${L.code}`:""}`,te=`${pn(L.width_m)}  ${pn(L.height_m)} .`):Ud(L)?(ae="",le=L.wallpaper_code?`Code: ${L.wallpaper_code}`:"",te="-"):Bd(L)?(ae="/",le=L.description||"",te="-"):Zd(L)&&(le=L.code?`: ${L.code}`:"",te=`${pn(L.width_m)}  ${pn(L.height_m)} .`),r.jsxs("tr",{className:"border-b border-slate-200 text-xs even:bg-slate-50 hover:bg-slate-100/50",children:[r.jsxs("td",{className:"py-2.5 px-1 text-center text-slate-500 align-top border-r border-slate-300",children:[O+1,".",_+1]}),r.jsxs("td",{className:"py-2.5 px-2 align-top border-r border-slate-300",children:[r.jsx("div",{className:"font-bold text-slate-800 text-[13px]",children:ae}),r.jsx("div",{className:"text-slate-600",children:le}),te!=="-"&&r.jsx("div",{className:"text-slate-500 font-mono mt-0.5 text-[11px]",children:te}),L.notes&&r.jsxs("div",{className:"text-[10px] text-red-500 mt-0.5",children:["* ",L.notes]})]}),r.jsx("td",{className:"py-2.5 px-2 text-center align-top font-mono text-slate-900 border-r border-slate-300 font-bold text-[13px]",children:q}),y?r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"py-2.5 px-2 text-right align-top font-mono text-slate-700 border-r border-slate-300 text-[13px]",children:Pa(W)}),r.jsx("td",{className:"py-2.5 pr-2 text-right align-top font-mono font-bold text-slate-900 text-[13px]",children:Pa(J)})]}):r.jsx("td",{className:"py-2.5 px-2 text-center align-top text-slate-400",children:"-"})]},_)})]},E.id)})]})}),r.jsxs("div",{className:"mt-6 break-inside-avoid page-break-inside-avoid",children:[r.jsxs("div",{className:"flex items-start border-t-2 border-slate-800 pt-4 gap-6",children:[r.jsxs("div",{className:"flex-1",children:[y&&r.jsxs("div",{className:"bg-slate-100 p-2 rounded mb-3 text-center border border-slate-200",children:[r.jsx("span",{className:"text-[10px] text-slate-500 block uppercase tracking-wider mb-1",children:""}),r.jsx("span",{className:"font-bold text-slate-800 text-sm",children:dN(g)})]}),r.jsxs("div",{className:"text-[10px] text-slate-600 space-y-1",children:[r.jsx("div",{className:"font-bold text-slate-800 text-xs",children:" / :"}),r.jsxs("ul",{className:"list-disc list-inside pl-1",children:[i.pdf?.priceValidity&&r.jsxs("li",{children:[" ",i.pdf.priceValidity]}),i.pdf?.paymentTerms&&r.jsx("li",{children:i.pdf.paymentTerms}),i.pdf?.notes?.map((E,O)=>E.trim()&&r.jsx("li",{children:E},O))]}),i.bankAccount?.isEnabled!==!1&&i.bankAccount?.accountNumber&&r.jsxs("div",{className:"mt-2 p-2 border border-slate-300 rounded bg-white inline-block min-w-[250px]",children:[r.jsx("div",{className:"font-bold text-slate-900 mb-1 border-b border-slate-200 pb-1",children:""}),r.jsxs("div",{className:"grid grid-cols-[60px_1fr] gap-1",children:[r.jsx("span",{className:"text-slate-500",children:":"}),r.jsx("span",{children:i.bankAccount.bankName}),r.jsx("span",{className:"text-slate-500",children:":"}),r.jsx("span",{children:i.bankAccount.accountName}),r.jsx("span",{className:"text-slate-500",children:":"}),r.jsx("span",{className:"font-mono font-bold text-slate-900 text-[13px]",children:i.bankAccount.accountNumber}),i.bankAccount.branch&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-slate-500",children:":"}),r.jsx("span",{children:i.bankAccount.branch})]})]})]})]})]}),y&&r.jsxs("div",{className:"w-[260px] text-sm",children:[r.jsxs("div",{className:"space-y-1 border-b border-slate-300 pb-2 mb-2",children:[r.jsxs("div",{className:"flex justify-between text-slate-600",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"font-mono font-medium text-[13px]",children:Pa(f)})]}),m>0&&r.jsxs("div",{className:"flex justify-between text-green-700",children:[r.jsx("span",{children:""}),r.jsxs("span",{className:"font-mono font-medium text-[13px]",children:["-",Pa(m)]})]}),i.baseVatRate>0&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between text-slate-600 text-xs",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"font-mono",children:Pa(f-m)})]}),r.jsxs("div",{className:"flex justify-between text-slate-600",children:[r.jsxs("span",{children:["VAT ",i.baseVatRate,"%"]}),r.jsx("span",{className:"font-mono",children:Pa(h)})]})]})]}),r.jsxs("div",{className:"flex justify-between items-center bg-slate-900 text-white p-3 rounded shadow-sm",children:[r.jsx("span",{className:"font-bold",children:""}),r.jsx("span",{className:"font-bold text-xl font-mono",children:Pa(g)})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-8 mt-10",children:[r.jsxs("div",{className:"border border-slate-300 rounded-xl p-4 flex flex-col items-center justify-between min-h-[180px]",children:[r.jsx("div",{className:"text-xs font-bold text-slate-900 uppercase tracking-wide",children:" / "}),r.jsxs("div",{className:"w-full flex flex-col items-center mt-auto",children:[r.jsx("div",{className:"border-b border-slate-900 w-[160px] h-8 mb-6"}),r.jsxs("div",{className:"flex gap-1 text-slate-500 text-[11px]",children:["(",r.jsx("div",{className:"w-[140px] text-center relative top-[2px]",children:".................................................."}),")"]})]}),r.jsxs("div",{className:"flex items-center justify-center gap-2 text-[11px] text-slate-500 mt-4",children:[r.jsx("span",{children:":"}),r.jsx("div",{className:"w-8 border-b border-slate-400 h-4"}),r.jsx("span",{children:"/"}),r.jsx("div",{className:"w-8 border-b border-slate-400 h-4"}),r.jsx("span",{children:"/"}),r.jsx("div",{className:"w-10 border-b border-slate-400 h-4"})]})]}),r.jsxs("div",{className:"border border-slate-300 rounded-xl p-4 flex flex-col items-center justify-between min-h-[180px]",children:[r.jsx("div",{className:"text-xs font-bold text-slate-900 uppercase tracking-wide",children:" / "}),r.jsxs("div",{className:"w-full flex flex-col items-center mt-auto",children:[r.jsx("div",{className:"border-b border-slate-900 w-[160px] h-8 mb-6"}),r.jsxs("div",{className:"flex gap-1 text-slate-500 text-[11px]",children:["(",r.jsx("div",{className:"w-[140px] text-center relative top-[2px]",children:".................................................."}),")"]})]}),r.jsxs("div",{className:"flex items-center justify-center gap-2 text-[11px] text-slate-500 mt-4",children:[r.jsx("span",{children:":"}),r.jsx("div",{className:"w-8 border-b border-slate-400 h-4"}),r.jsx("span",{children:"/"}),r.jsx("div",{className:"w-8 border-b border-slate-400 h-4"}),r.jsx("span",{children:"/"}),r.jsx("div",{className:"w-10 border-b border-slate-400 h-4"})]})]})]})]})]})]})}),UC=({isOpen:n,onClose:l})=>{const i=j.useRef(null),[o,d]=j.useState("quotation"),[f,m]=j.useState(!1),h=$0.useReactToPrint({contentRef:i,documentTitle:`Marnthara_${o}_${new Date().toISOString().split("T")[0]}`,onBeforeGetContent:()=>new Promise(x=>{m(!0),setTimeout(x,300)}),onAfterPrint:()=>{m(!1)}}),g=[{id:"quotation",label:"1. ",icon:_o},{id:"delivery",label:"2. ",icon:bx},{id:"receipt",label:"3. ",icon:yy}];return r.jsx(zn,{show:n,as:ee.Fragment,children:r.jsxs(xo,{onClose:l,className:"relative z-50",children:[r.jsx(Ca,{as:ee.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:r.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm"})}),r.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 sm:p-6",children:r.jsx(Ca,{as:ee.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95 translate-y-4",enterTo:"opacity-100 scale-100 translate-y-0",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100 translate-y-0",leaveTo:"opacity-0 scale-95 translate-y-4",children:r.jsxs(vo,{className:"w-full max-w-6xl h-[90vh] bg-slate-100 rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"bg-white border-b border-slate-200 p-4 flex flex-col sm:flex-row items-center justify-between gap-4 shrink-0 z-10",children:[r.jsx("div",{className:"flex p-1 bg-slate-100 rounded-xl w-full sm:w-auto overflow-x-auto",children:g.map(x=>{const y=x.icon,b=o===x.id;return r.jsxs("button",{onClick:()=>d(x.id),className:Y("flex-1 sm:flex-none flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-all whitespace-nowrap",b?"bg-white text-slate-900 shadow-sm font-semibold":"text-slate-500 hover:text-slate-700"),children:[r.jsx(y,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:x.label})]},x.id)})}),r.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[r.jsx(de,{variant:"ghost",onClick:l,className:"flex-1 sm:flex-none",children:""}),r.jsxs(de,{onClick:()=>h(),className:"flex-1 sm:flex-none bg-slate-900 text-white hover:bg-slate-800 shadow-lg",children:[r.jsx(Ny,{className:"w-4 h-4 mr-2"})," "]})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-500/10 p-4 sm:p-8 flex justify-center items-start",children:r.jsx("div",{className:Y("shadow-2xl origin-top transition-all duration-300 bg-white",f?"scale-100":"scale-[0.6] sm:scale-[0.75] lg:scale-[0.85]"),children:r.jsx(LC,{ref:i,docType:o})})})]})})})]})})},BC=(n,l=500)=>new Promise((i,o)=>{const d=new FileReader;d.readAsDataURL(n),d.onload=f=>{const m=new Image;m.src=f.target?.result,m.onload=()=>{const h=l/m.width,g=l,x=m.height*h,y=document.createElement("canvas");y.width=g,y.height=x;const b=y.getContext("2d");if(!b){o(new Error("Canvas context not available"));return}b.drawImage(m,0,0,g,x);const N=y.toDataURL("image/jpeg",.7);i(N)},m.onerror=h=>o(h)},d.onerror=f=>o(f)}),ZC=({isOpen:n,onClose:l})=>{const i=se(A=>A.shopConfig),o=se(A=>A.updateShopConfig),d=se(A=>A.factoryReset),{confirm:f}=Aa(),m=jt(A=>A.addToast),[h,g]=j.useState(i),[x,y]=j.useState("general"),b=j.useRef(null),N=()=>{o(h),m("success",""),l()},w=async()=>{await f({title:"?",description:"   ",confirmLabel:"",variant:"destructive"})&&(d(),m("success",""),l())},C=(A,_)=>{g(L=>({...L,[A]:_}))},S=(A,_)=>{g(L=>({...L,pdf:{...L.pdf,[A]:_}}))},D=A=>{const _=A.split(`
`);g(L=>({...L,pdf:{...L.pdf,notes:_}}))},E=(A,_)=>{g(L=>({...L,bankAccount:{...L.bankAccount,[A]:_}}))},O=async A=>{const _=A.target.files?.[0];if(_)try{const L=await BC(_);g(q=>({...q,logoUrl:L})),m("success","")}catch{m("error","")}},Z=()=>{g(A=>({...A,logoUrl:""})),b.current&&(b.current.value="")};return r.jsxs(Gt,{isOpen:n,onClose:l,title:" (Shop Settings)",variant:"drawer",children:[r.jsxs("div",{className:"flex p-1 bg-muted rounded-xl mb-6",children:[r.jsxs("button",{onClick:()=>y("general"),className:Y("flex-1 py-2 text-sm font-medium rounded-lg transition-all flex items-center justify-center gap-2",x==="general"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"),children:[r.jsx(jy,{className:"w-4 h-4"})," "]}),r.jsxs("button",{onClick:()=>y("payment"),className:Y("flex-1 py-2 text-sm font-medium rounded-lg transition-all flex items-center justify-center gap-2",x==="payment"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"),children:[r.jsx(_y,{className:"w-4 h-4"})," "]})]}),r.jsx("div",{className:"space-y-4 pb-safe-area",children:x==="general"?r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex flex-col items-center gap-4 py-4",children:[r.jsxs("div",{className:"relative w-24 h-24 rounded-2xl border-2 border-dashed border-border flex items-center justify-center overflow-hidden bg-muted/20 cursor-pointer hover:bg-muted/40 transition-colors group",onClick:()=>b.current?.click(),children:[h.logoUrl?r.jsx("img",{src:h.logoUrl,alt:"Shop Logo",className:"w-full h-full object-contain p-2"}):r.jsxs("div",{className:"flex flex-col items-center gap-1 text-muted-foreground",children:[r.jsx(wy,{className:"w-6 h-6"}),r.jsx("span",{className:"text-[10px]",children:""})]}),r.jsx("input",{ref:b,type:"file",accept:"image/*",className:"hidden",onChange:O})]}),h.logoUrl&&r.jsxs("button",{onClick:A=>{A.stopPropagation(),Z()},className:"text-xs text-destructive flex items-center gap-1 hover:underline",children:[r.jsx(cr,{className:"w-3 h-3"})," "]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(oe,{label:"",value:h.name,onChange:A=>C("name",A.target.value)}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(oe,{label:"",value:h.phone,onChange:A=>C("phone",A.target.value)}),r.jsx(oe,{label:"",value:h.taxId,onChange:A=>C("taxId",A.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-700 mb-1 block",children:""}),r.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl text-[16px] focus:outline-none focus:ring-2 focus:ring-slate-900 resize-none h-20",value:h.address,onChange:A=>C("address",A.target.value)})]}),r.jsx(oe,{label:"Logo URL",placeholder:"https://...",value:h.logoUrl,onChange:A=>C("logoUrl",A.target.value)})]}),r.jsxs("div",{className:"pt-4 border-t border-border",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(_o,{className:"w-5 h-5 text-info"}),r.jsx("h3",{className:"font-bold text-foreground",children:" (Document Footer)"})]}),r.jsxs("div",{className:"space-y-4 bg-muted/30 p-4 rounded-2xl border border-border",children:[r.jsx(oe,{label:"1. ",placeholder:" 30 ",value:h.pdf?.priceValidity||"",onChange:A=>S("priceValidity",A.target.value)}),r.jsx(oe,{label:"2. ",placeholder:"  50%...",value:h.pdf?.paymentTerms||"",onChange:A=>S("paymentTerms",A.target.value)}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-700 mb-1 block",children:"3.  ()"}),r.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl text-[16px] focus:outline-none focus:ring-2 focus:ring-slate-900 resize-none h-24",placeholder:" ...",value:h.pdf?.notes?.join(`
`)||"",onChange:A=>D(A.target.value)})]})]})]})]}):r.jsxs("div",{className:"space-y-5 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between bg-muted/30 p-4 rounded-xl border border-border",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-bold text-foreground",children:""}),r.jsx("span",{className:"text-xs text-muted-foreground",children:""})]}),r.jsx(Ut,{checked:h.bankAccount?.isEnabled!==!1,onCheckedChange:A=>E("isEnabled",A)})]}),r.jsxs("div",{className:Y("space-y-4 transition-opacity",h.bankAccount?.isEnabled===!1&&"opacity-50 pointer-events-none"),children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(oe,{label:"",placeholder:" , SCB",value:h.bankAccount?.bankName||"",onChange:A=>E("bankName",A.target.value)}),r.jsx(oe,{label:" ()",value:h.bankAccount?.branch||"",onChange:A=>E("branch",A.target.value)})]}),r.jsx(oe,{label:"",placeholder:"...",value:h.bankAccount?.accountName||"",onChange:A=>E("accountName",A.target.value)}),r.jsx(oe,{label:"",placeholder:"XXX-X-XXXXX-X",className:"font-mono",value:h.bankAccount?.accountNumber||"",onChange:A=>E("accountNumber",A.target.value)})]})]})}),r.jsxs("div",{className:"flex justify-between mt-4 pt-4 border-t border-border",children:[r.jsxs(de,{variant:"ghost",onClick:w,className:"text-destructive hover:bg-destructive/10 hover:text-destructive",children:[r.jsx(Jn,{className:"w-4 h-4 mr-2"}),""]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(de,{variant:"ghost",onClick:l,children:""}),r.jsxs(de,{onClick:N,className:"bg-primary text-primary-foreground w-32",children:[r.jsx(js,{className:"w-4 h-4 mr-2"})," "]})]})]})]})},HC=[],qC=n=>{const l=se(h=>h.inventory[n]||HC),i=se(h=>h.fabricCosts),o=se(h=>h.addToInventory),d=se(h=>h.updateInventoryItem),f=se(h=>h.removeFromInventory);return{items:j.useMemo(()=>l.map(h=>({...h,cost_per_yard:i[h.code]||0})),[l,i]),addItem:h=>o(n,h),updateItem:(h,g)=>d(n,h,g),removeItem:h=>f(n,h)}},IC=({item:n,onClick:l})=>r.jsxs("button",{onClick:l,className:"w-full text-left bg-card p-4 rounded-xl border border-border shadow-sm active:scale-[0.98] transition-all flex justify-between items-center group relative overflow-hidden","aria-label":` ${n.code}`,children:[r.jsxs("div",{className:"flex-1 min-w-0 pr-4 flex flex-col gap-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-mono font-bold text-base text-foreground truncate",children:n.code}),n.note&&r.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded text-muted-foreground truncate max-w-[120px]",children:n.note})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex items-center gap-1",children:r.jsx("span",{className:"text-base font-bold text-emerald-600 dark:text-emerald-400",children:_e(n.default_price_per_m)})}),P(n.cost_per_yard)>0&&r.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground/70",children:["( ",_e(n.cost_per_yard),")"]})]})]}),r.jsx("div",{className:"flex flex-col items-end justify-center h-full text-muted-foreground/30 group-hover:text-primary transition-colors",children:r.jsx(sl,{className:"w-5 h-5"})})]}),ux=({data:n,setData:l,onSave:i,onCancel:o,isEdit:d})=>{const f=Yd();return r.jsxs("div",{className:Y("bg-card border border-border rounded-xl shadow-lg animate-in zoom-in-95 duration-200",f?"p-4":"p-6"),children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[r.jsx(yx,{className:"w-4 h-4 text-primary"}),d?"":""]}),f&&r.jsx("button",{onClick:o,className:"p-1 rounded-full hover:bg-muted","aria-label":"",children:r.jsx(tl,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(oe,{label:" (Code)",value:n.code,onChange:m=>l({...n,code:m.target.value}),className:"font-mono text-lg font-bold",autoFocus:!d,placeholder:": C1001"}),r.jsxs("div",{className:Y("grid gap-3",f?"grid-cols-1":"grid-cols-2"),children:[r.jsx(oe,{label:" (Default Price)",type:"number",value:n.price,onChange:m=>l({...n,price:m.target.value}),className:"text-emerald-600 font-bold",placeholder:"0.00"}),r.jsx(oe,{label:" (Cost)",type:"number",value:n.cost_per_yard,onChange:m=>l({...n,cost_per_yard:m.target.value}),placeholder:"0.00",className:"text-rose-600"})]}),r.jsx(oe,{label:" (Note)",value:n.note,onChange:m=>l({...n,note:m.target.value}),placeholder:" ()"}),r.jsxs("div",{className:Y("flex gap-2 pt-4",f?"flex-col":"flex-row"),children:[r.jsx(de,{variant:"ghost",className:f?"w-full":"flex-1",onClick:o,children:""}),r.jsxs(de,{className:f?"w-full":"flex-1",onClick:i,children:[r.jsx(js,{className:"w-4 h-4 mr-2"})," "]})]})]})]})},$C=({isOpen:n,onClose:l})=>{const{importInventory:i,updateUnifiedCost:o,inventory:d,modalProps:f}=se(),m=jt(ne=>ne.addToast),h=Yd(),g=[{id:ve.CURTAIN_MAIN,label:"",group:""},{id:ve.CURTAIN_SHEER,label:"",group:""},{id:ve.WALLPAPER,label:"",group:""},{id:ve.WOODEN_BLIND,label:"",group:""},{id:ve.ROLLER_BLIND,label:"",group:""},{id:ve.VERTICAL_BLIND,label:"",group:""},{id:ve.ALUMINUM_BLIND,label:"",group:""},{id:ve.PARTITION,label:"",group:""},{id:ve.PLEATED_SCREEN,label:"",group:""}],[x,y]=j.useState(g[0].id),[b,N]=j.useState("");j.useEffect(()=>{n&&f?.initialSearch?N(f.initialSearch):n&&N("")},[n,f]);const{items:w,addItem:C,updateItem:S}=qC(x),[D,E]=j.useState(null),[O,Z]=j.useState(!1),[A,_]=j.useState({code:"",price:"",cost_per_yard:"",note:""}),L=j.useRef(null),q=j.useMemo(()=>{if(!b)return w||[];const ne=b.toLowerCase();return(w||[]).filter(H=>H.code.toLowerCase().includes(ne)||H.note&&H.note.toLowerCase().includes(ne))},[w,b]),W=ne=>{E(ne.id),Z(!1),_({code:ne.code,price:ne.default_price_per_m.toString(),cost_per_yard:ne.cost_per_yard?.toString()||"",note:ne.note||""}),h&&L.current&&(L.current.scrollTop=0)},J=()=>{Z(!0),E(null),_({code:"",price:"",cost_per_yard:"",note:""}),L.current&&(L.current.scrollTop=0)},Q=()=>{if(!A.code.trim())return m("error","");const ne={code:A.code.trim(),default_price_per_m:P(A.price),cost_per_yard:P(A.cost_per_yard),note:A.note.trim()};O?(C(ne),m("success",""),Z(!1),_({code:"",price:"",cost_per_yard:"",note:""})):D&&(S(D,ne),P(A.cost_per_yard)>0&&o(A.code.trim(),P(A.cost_per_yard)),m("success",""),E(null))},ae=j.useRef(null),le=()=>{try{const ne=JSON.stringify({inventory:d},null,2),H=new Blob([ne],{type:"application/json"}),B=URL.createObjectURL(H),K=document.createElement("a");K.href=B,K.download=`marnthara_inventory_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(K),K.click(),document.body.removeChild(K),URL.revokeObjectURL(B),m("success","")}catch{m("error","","")}},te=()=>ae.current?.click(),Oe=ne=>{const H=ne.target.files?.[0];if(!H)return;if(H.size>5*1024*1024){m("error"," ( 5MB)"),ne.target.value="";return}const B=new FileReader;B.onload=K=>{try{const fe=K.target?.result;i(fe)?m("success",""):m("error","","")}catch{m("error","","")}},B.onerror=()=>{m("error","","")},B.readAsText(H),ne.target.value=""};return r.jsx(Gt,{isOpen:n,onClose:l,title:"",variant:"fullscreen",children:r.jsxs("div",{className:Y("flex flex-col h-full",h?"p-0":"p-1"),children:[r.jsxs("div",{className:Y("bg-background border-b border-border space-y-3 z-10 shadow-sm sticky top-0",h?"p-4":"p-6 pb-4"),children:[r.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 scrollbar-hide",children:g.map(ne=>r.jsx("button",{onClick:()=>{y(ne.id),Z(!1),E(null)},className:Y("px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition-all border",x===ne.id?"bg-primary text-primary-foreground border-primary shadow-sm":"bg-muted text-muted-foreground border-transparent hover:bg-muted/80"),children:ne.label},ne.id))}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(hs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx("input",{type:"text",placeholder:" / ...",value:b,onChange:ne=>N(ne.target.value),className:"w-full h-10 pl-9 pr-4 rounded-lg bg-muted/50 border-none focus:ring-2 focus:ring-primary/20 text-sm","aria-label":""})]}),r.jsxs(uo,{as:"div",className:"relative",children:[r.jsx(fo,{className:"h-10 w-10 flex items-center justify-center rounded-lg border border-border hover:bg-muted","aria-label":"",children:r.jsx(mo,{className:"w-5 h-5 text-muted-foreground"})}),r.jsx(zn,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:r.jsxs(ho,{className:"absolute right-0 mt-2 w-48 bg-popover rounded-xl shadow-xl border border-border focus:outline-none z-50 p-1",children:[r.jsx(Xt,{children:({active:ne})=>r.jsxs("button",{onClick:J,className:Y("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",ne?"bg-muted":""),children:[r.jsx(el,{className:"w-4 h-4"})," "]})}),r.jsx("div",{className:"h-px bg-border my-1"}),r.jsx(Xt,{children:({active:ne})=>r.jsxs("button",{onClick:le,className:Y("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",ne?"bg-muted":""),children:[r.jsx(Sy,{className:"w-4 h-4"}),"  (Backup)"]})}),r.jsx(Xt,{children:({active:ne})=>r.jsxs("button",{onClick:te,className:Y("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",ne?"bg-muted":""),children:[r.jsx(ms,{className:"w-4 h-4"}),"  (Restore)"]})})]})})]}),r.jsx("input",{type:"file",ref:ae,className:"hidden",accept:".json",onChange:Oe,"aria-label":""})]})]}),r.jsxs("div",{ref:L,className:Y("flex-1 overflow-y-auto bg-muted/10",h?"p-4 space-y-3":"p-6 space-y-4"),children:[O&&r.jsx(ux,{data:A,setData:_,onSave:Q,onCancel:()=>Z(!1),isEdit:!1}),q.length===0&&!O?r.jsxs("div",{className:"flex flex-col items-center justify-center h-full min-h-[300px] text-muted-foreground",children:[r.jsx(hs,{className:"w-12 h-12 mb-4 opacity-50"}),r.jsx("p",{className:"text-lg font-medium",children:""}),r.jsx("p",{className:"text-sm text-center mt-1",children:b?"":" +"}),!b&&r.jsxs(de,{variant:"outline",className:"mt-4",onClick:J,children:[r.jsx(el,{className:"w-4 h-4 mr-2"})," "]})]}):q.map(ne=>r.jsx(ee.Fragment,{children:D===ne.id?r.jsx(ux,{data:A,setData:_,onSave:Q,onCancel:()=>E(null),isEdit:!0,hasCost:P(ne.cost_per_yard)>0}):r.jsx(IC,{item:ne,onClick:()=>W(ne)})},ne.id)),r.jsx("div",{className:h?"h-20":"h-10"})]})]})})},VC=({isOpen:n,onClose:l})=>{const i=se(E=>E.discount),o=se(E=>E.setDiscount),d=se(E=>E.shopConfig),f=se(E=>E.updateShopConfig),{grandTotal:m}=Hd(),{trigger:h}=sn(),[g,x]=j.useState(i.is_enabled??i.value>0),[y,b]=j.useState(i.type),[N,w]=j.useState(i.value===0?"":i.value.toString()),C=()=>{h("selection");const E=P(N);if(E>0&&m>0)if(y==="amount"){const O=E/m*100;w(O.toFixed(2))}else{const O=E*m/100;w(O.toFixed(0))}b(O=>O==="amount"?"percent":"amount")},S=()=>{h("success"),o({type:y,value:P(N),is_enabled:g}),l()},D=(()=>{const E=P(N);let O=0;g&&E>0&&(O=y==="percent"?m*E/100:E);const Z=Math.max(0,m-O),A=d.baseVatRate>0?Z*d.baseVatRate/100:0;return{discountAmt:O,afterDiscount:Z,vatAmt:A,netTotal:Z+A}})();return r.jsx(Gt,{isOpen:n,onClose:l,title:" &  (Discount & Tax)",variant:"drawer",children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:Y("relative overflow-hidden rounded-2xl border transition-all duration-300",g?"bg-success/10 border-success/30":"bg-muted/40 border-border"),children:r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:Y("p-2 rounded-lg",g?"bg-success/20 text-success":"bg-muted text-muted-foreground"),children:r.jsx(Ns,{className:"w-5 h-5"})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:Y("font-semibold text-sm",g?"text-success-foreground":"text-foreground"),children:""}),r.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Apply Discount"})]})]}),r.jsx(Ut,{checked:g,onCheckedChange:E=>{h("light"),x(E)}})]}),r.jsxs("div",{className:Y("transition-all duration-300 grid grid-cols-[1fr_auto] gap-2",g?"opacity-100 translate-y-0":"opacity-30 pointer-events-none translate-y-2"),children:[r.jsxs("div",{className:"relative",children:[r.jsx(oe,{type:"number",inputMode:"decimal",placeholder:"0.00",value:N,onChange:E=>w(E.target.value),className:"pr-12 text-lg font-mono font-bold text-success border-success/30 focus:border-success"}),r.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs font-bold text-success/70 pointer-events-none",children:y==="percent"?"%":"THB"})]}),r.jsxs("button",{onClick:C,className:"flex items-center gap-2 px-4 rounded-xl bg-card border border-success/30 shadow-sm text-success hover:bg-success/10 active:scale-95 transition-all",children:[y==="percent"?r.jsx(hd,{className:"w-4 h-4"}):r.jsx(Cy,{className:"w-4 h-4"}),r.jsx(Ey,{className:"w-3 h-3 opacity-50"})]})]})]})}),r.jsx("div",{className:"rounded-2xl border border-border bg-card p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-lg bg-info/10 text-info",children:r.jsx(hd,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-sm text-foreground",children:" (VAT 7%)"}),r.jsx("div",{className:"text-[10px] text-muted-foreground",children:""})]})]}),r.jsx(Ut,{checked:d.baseVatRate>0,onCheckedChange:E=>{h("light"),f({baseVatRate:E?7:0})}})]})}),r.jsxs("div",{className:"bg-primary text-primary-foreground/80 rounded-2xl p-5 space-y-3 shadow-xl shadow-primary/10",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"font-mono text-primary-foreground",children:_e(m)})]}),g&&D.discountAmt>0&&r.jsxs("div",{className:"flex justify-between text-sm text-success animate-fade-in font-medium",children:[r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(po,{className:"w-3 h-3"}),"  (",y==="percent"?`${N}%`:"",")"]}),r.jsxs("span",{className:"font-mono font-bold",children:["-",_e(D.discountAmt)]})]}),D.vatAmt>0&&r.jsxs("div",{className:"flex justify-between text-sm text-info animate-fade-in font-medium",children:[r.jsx("span",{children:"VAT 7%"}),r.jsxs("span",{className:"font-mono font-bold",children:["+",_e(D.vatAmt)]})]}),r.jsx("div",{className:"h-px bg-primary-foreground/10 my-2"}),r.jsxs("div",{className:"flex justify-between items-end",children:[r.jsx("span",{className:"text-primary-foreground font-medium",children:" (Net Total)"}),r.jsx("span",{className:"text-2xl font-bold text-primary-foreground tracking-tight font-mono",children:_e(D.netTotal)})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(de,{variant:"ghost",onClick:l,className:"h-12",children:""}),r.jsx(de,{onClick:S,className:"h-12 bg-primary text-primary-foreground shadow-xl shadow-primary/20 hover:bg-primary/90",children:""})]})]})})},YC=({isOpen:n,onClose:l,roomId:i})=>{const o=se(E=>E.rooms.find(O=>O.id===i)),d=se(E=>E.updateRoomDefaults),f=o?.room_defaults||{},[m,h]=j.useState(String(f.width_m||"")),[g,x]=j.useState(String(f.height_m||"")),[y,b]=j.useState(String(f.default_fabric_price||"")),[N,w]=j.useState(String(f.default_wallpaper_price||"")),[C,S]=j.useState(String(f.default_blind_price||"")),D=()=>{i&&d(i,{width_m:m,height_m:g,default_fabric_price:y,default_wallpaper_price:N,default_blind_price:C}),l()};return r.jsx(Gt,{isOpen:n,onClose:l,title:"",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx(oe,{label:" (.)",value:m,onChange:E=>h(E.target.value)}),r.jsx(oe,{label:" (.)",value:g,onChange:E=>x(E.target.value)}),r.jsxs("div",{className:"pt-2 border-t border-slate-100",children:[r.jsx("h4",{className:"text-sm font-medium text-slate-900 mb-2",children:" (Defaults)"}),r.jsx(oe,{label:" (/.)",value:y,onChange:E=>b(E.target.value)}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[r.jsx(oe,{label:" (/)",value:N,onChange:E=>w(E.target.value)}),r.jsx(oe,{label:" (/..)",value:C,onChange:E=>S(E.target.value)})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx(de,{variant:"ghost",onClick:l,children:""}),r.jsxs(de,{onClick:D,className:"gap-2",children:[r.jsx(js,{className:"w-4"})," "]})]})]})})},XC=({isOpen:n,onClose:l})=>{const{resetProject:i,factoryReset:o,importInventory:d,importSecrets:f}=se(),m=jt(_=>_.addToast),{confirm:h}=Aa(),[g,x]=j.useState(""),[y,b]=j.useState(!1),[N,w]=j.useState(""),[C,S]=j.useState("inventory"),D=()=>{try{const _=se.getState(),L={customer:_.customer,rooms:_.rooms,shopConfig:_.shopConfig,discount:_.discount,inventory:_.inventory,production:{laborCosts:_.laborCosts,accessoryCosts:_.accessoryCosts,fabricCosts:_.fabricCosts},version:"1.0.0",exportDate:new Date().toISOString()},q=new Blob([JSON.stringify(L,null,2)],{type:"application/json"}),W=URL.createObjectURL(q),J=document.createElement("a");J.href=W;const Q=new Date,ae=Q.toISOString().slice(0,10)+"-"+Q.getHours().toString().padStart(2,"0")+Q.getMinutes().toString().padStart(2,"0");J.download=`mtr-backup-${ae}.json`,document.body.appendChild(J),J.click(),document.body.removeChild(J),m("success","Backup ")}catch(_){console.error(_),m("error"," Backup")}},E=_=>{const L=_.target.files?.[0];if(!L)return;const q=new FileReader;q.onload=W=>{try{const J=JSON.parse(W.target?.result);se.setState(J),J.production&&se.setState(Q=>({...Q,laborCosts:J.production.laborCosts||Q.laborCosts,accessoryCosts:J.production.accessoryCosts||Q.accessoryCosts,fabricCosts:J.production.fabricCosts||Q.fabricCosts})),m("success",""),l()}catch{m("error"," ")}},q.readAsText(L)},O=()=>{if(!N.trim()){m("warning"," JSON");return}try{let _=!1;C==="inventory"?(_=d(N),_&&(m("success",""),w(""))):(_=f(N),_&&(m("success",""),w(""))),_?l():m("error"," JSON ")}catch(_){console.error("Import error:",_),m("error","")}},Z=async()=>{await h({title:"?",description:'  ""  "" ',confirmLabel:"",variant:"default"})&&(i(),m("success",""),l())},A=async()=>{if(g!=="RESET")return;await h({title:" (Factory Reset)?",description:" , ,  ! ?",confirmLabel:"",variant:"destructive"})&&(o(),m("success",""),l())};return r.jsx(Gt,{isOpen:n,onClose:l,title:" (Data Management)",maxWidth:"lg",children:r.jsxs("div",{className:"space-y-6 pb-safe-area",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h3",{className:"text-sm font-bold text-muted-foreground uppercase tracking-wider flex items-center gap-2",children:[r.jsx(Ty,{className:"w-4 h-4"})," "]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs(de,{variant:"outline",onClick:D,className:"h-auto py-4 flex flex-col gap-2 border-border hover:bg-primary/5 hover:border-primary/20 hover:text-primary",children:[r.jsx("div",{className:"p-2 bg-primary/10 text-primary rounded-full",children:r.jsx(Nx,{className:"w-5 h-5"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-bold text-foreground",children:"Backup"}),r.jsx("div",{className:"text-xs text-muted-foreground font-normal",children:" .json"})]})]}),r.jsxs("div",{className:"relative",children:[r.jsxs(de,{variant:"outline",onClick:()=>document.getElementById("data-importer")?.click(),className:"w-full h-full py-4 flex flex-col gap-2 border-border hover:bg-success/5 hover:border-success/20 hover:text-success",children:[r.jsx("div",{className:"p-2 bg-success/10 text-success rounded-full",children:r.jsx(ms,{className:"w-5 h-5"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-bold text-foreground",children:"Restore"}),r.jsx("div",{className:"text-xs text-muted-foreground font-normal",children:" .json"})]})]}),r.jsx("input",{type:"file",id:"data-importer",className:"hidden",accept:".json,application/json",onChange:E})]})]})]}),r.jsx("div",{className:"h-px bg-border my-2"}),r.jsxs("div",{className:"bg-warning/5 border border-warning/20 rounded-2xl p-5 space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ms,{className:"w-5 h-5 text-warning"}),r.jsx("h4",{className:"font-bold text-foreground",children:" (JSON)"})]}),r.jsxs("div",{className:"flex border-b border-warning/20",children:[r.jsx("button",{className:Y("flex-1 py-2 text-sm font-medium border-b-2 transition-colors",C==="inventory"?"border-warning text-warning":"border-transparent text-muted-foreground hover:text-foreground"),onClick:()=>S("inventory"),children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(nl,{className:"w-4 h-4"})," (inventory)"]})}),r.jsx("button",{className:Y("flex-1 py-2 text-sm font-medium border-b-2 transition-colors",C==="cost"?"border-warning text-warning":"border-transparent text-muted-foreground hover:text-foreground"),onClick:()=>S("cost"),children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(ao,{className:"w-4 h-4"})," (Cost)"]})})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:C==="inventory"?" JSON  (inventory) ":" JSON  (Labor, Accessory, Fabric)"}),r.jsx("textarea",{className:`w-full h-32 p-3 text-sm font-mono border border-warning/20 rounded-lg 
                       focus:outline-none focus:ring-2 focus:ring-warning focus:border-transparent
                       bg-background resize-none text-foreground`,placeholder:` JSON ${C==="inventory"?"":""} ...`,value:N,onChange:_=>w(_.target.value)}),r.jsxs(de,{onClick:O,className:`w-full bg-warning hover:bg-warning/90 text-white 
                     shadow-lg shadow-warning/20`,disabled:!N.trim(),children:[r.jsx(ms,{className:"w-4 h-4 mr-2"})," ",C==="inventory"?"":""]})]}),r.jsx("div",{className:"h-px bg-border my-2"}),r.jsx("div",{className:"bg-info/10 border border-info/20 rounded-2xl p-5 space-y-3",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"p-3 bg-card rounded-xl shadow-sm border border-info/20",children:r.jsx(Ay,{className:"w-6 h-6 text-info"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-bold text-foreground",children:" (New Project)"}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1 leading-relaxed",children:[" ",r.jsx("br",{}),r.jsx("span",{className:"text-info font-medium text-xs bg-info/20 px-1.5 py-0.5 rounded",children:""})," ",""]}),r.jsx(de,{onClick:Z,className:"mt-4 bg-info hover:bg-info/90 text-white shadow-lg shadow-info/20 w-full sm:w-auto",children:""})]})]})}),r.jsx("div",{className:"pt-4",children:y?r.jsxs("div",{className:"border border-destructive/30 bg-destructive/5 rounded-2xl p-5 animate-fade-in",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3 text-destructive font-bold",children:[r.jsx(cr,{className:"w-5 h-5"})," (Danger Zone)"]}),r.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[" ",r.jsx("strong",{children:'"Factory Reset"'}),"   ()"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase",children:' "RESET" '}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:g,onChange:_=>x(_.target.value),placeholder:"RESET",className:"flex-1 px-4 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-destructive font-mono uppercase placeholder:text-muted-foreground"}),r.jsxs(de,{disabled:g!=="RESET",variant:"destructive",onClick:A,className:"whitespace-nowrap",children:[r.jsx(bo,{className:"w-4 h-4 mr-2"})," "]})]})]})]}):r.jsxs("button",{onClick:()=>b(!0),className:"w-full py-3 text-xs font-medium text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded-lg transition-all border border-dashed border-border hover:border-destructive/30 flex items-center justify-center gap-2",children:[r.jsx(Jn,{className:"w-3 h-3"})," ()"]})})]})})},GC=n=>{const{width:l=0,height:i=0}=n,f=l>0&&i>0?Math.min(80/l,80/i):1,m=l*f||50,h=i*f||50,g=(100-m)/2,x=(90-h)/2;return{x:g,y:x,w:m,h}},FC=(n,l)=>{const i=n.style==="";let o="";if(i){const m=l.h/4;for(let h=0;h<4;h++)o+=`<rect x="${l.x}" y="${l.y+h*m}" width="${l.w}" height="${m-1}" fill="#e2e8f0" stroke="#94a3b8" stroke-width="0.5" />`}else{o=`<rect x="${l.x}" y="${l.y}" width="${l.w}" height="${l.h}" fill="#f1f5f9" stroke="#cbd5e1" rx="2" />`;for(let f=1;f<4;f++)o+=`<path d="M${l.x+l.w/4*f} ${l.y} L${l.x+l.w/4*f} ${l.y+l.h}" stroke="#e2e8f0" stroke-width="1" />`}return`<rect x="${l.x-2}" y="${l.y-2}" width="${l.w+4}" height="2" fill="#64748b" />`+o},QC=(n,l)=>{const i=`<pattern id="p-${n.wallpaper_code}" width="4" height="4" patternUnits="userSpaceOnUse">
      <path d="M0 4L4 0M-1 1L1 -1M3 5L5 3" stroke="#cbd5e1" stroke-width="0.5"/>
  </pattern>`,o=`<rect x="${l.x}" y="${l.y}" width="${l.w}" height="${l.h}" fill="url(#p-${n.wallpaper_code})" stroke="#94a3b8" />`;return`<defs>${i}</defs>${o}`},KC=(n,l)=>{const o=l.h/8;let d="";for(let m=0;m<8;m++)d+=`<line x1="${l.x}" y1="${l.y+m*o}" x2="${l.x+l.w}" y2="${l.y+m*o}" stroke="#cbd5e1" stroke-width="1" />`;return`<rect x="${l.x}" y="${l.y}" width="${l.w}" height="${l.h}" fill="none" stroke="#94a3b8" stroke-width="1" />`+d},JC=n=>{if(n.type===V.REMOVAL||n.is_suspended)return'<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="20" fill="#f1f5f9"/><path d="M40 60 L60 40 M40 40 L60 60" stroke="#cbd5e1" stroke-width="2"/></svg>';let l=0,i=0;"width_m"in n&&"height_m"in n?(l=P(n.width_m),i=P(n.height_m)):n.type===V.WALLPAPER&&(l=3,i=2.6);const o=GC({width:l,height:i});let d="";return n.type===V.CURTAIN?d=FC(n,o):n.type===V.WALLPAPER?d=QC(n,o):d=KC(n,o),`<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">${d}</svg>`},WC=ee.forwardRef((n,l)=>{const{shopConfig:i,rooms:o}=se(m=>m),d=new Date().toLocaleDateString("th-TH",{dateStyle:"long"}),f=m=>({__html:JC(m)});return r.jsxs("div",{ref:l,className:"w-[210mm] min-h-[297mm] bg-white p-[15mm] mx-auto text-slate-900 relative flex flex-col font-sans",children:[r.jsxs("div",{className:"flex justify-between items-center border-b-2 border-slate-800 pb-4 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[i.logoUrl&&r.jsx("img",{src:i.logoUrl,className:"h-12 w-auto object-contain",alt:"Logo"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:i.name}),r.jsx("p",{className:"text-xs text-slate-500",children:"Lookbook / "})]})]}),r.jsx("div",{className:"text-right text-sm text-slate-500",children:r.jsx("div",{children:d})})]}),r.jsx("div",{className:"grid grid-cols-2 gap-6 content-start",children:o.map(m=>m.items.length===0?null:m.items.map((h,g)=>{if(h.is_suspended)return null;let x=Ta[h.type]?.name||"",y="";const b=[];if(h.type===V.CURTAIN){const N=h;x=`${N.style||""} (${N.fabric_variant})`,N.code&&b.push(`: ${N.code}`),N.sheer_code&&b.push(`: ${N.sheer_code}`),N.bracket_color&&b.push(`: ${N.bracket_color}`),y=`${pn(N.width_m)} x ${pn(N.height_m)} .`}else if(h.type===V.WALLPAPER){const N=h;x="",N.wallpaper_code&&b.push(`: ${N.wallpaper_code}`),y=`${N.widths.length}  ( ${pn(N.height_m)} .)`}else if([V.WOODEN_BLIND,V.ROLLER_BLIND,V.VERTICAL_BLIND,V.ALUMINUM_BLIND,V.PARTITION,V.PLEATED_SCREEN].includes(h.type)){const N=h;N.code&&b.push(`: ${N.code}`),y=`${pn(N.width_m)} x ${pn(N.height_m)} .`,h.type===V.WOODEN_BLIND?x=`${N.fabric_variant||""}`:h.type===V.ROLLER_BLIND?x=` (${N.fabric_variant||""})`:h.type===V.PARTITION?x=` (${N.opening_style||""})`:h.type===V.PLEATED_SCREEN&&(x=` (${N.opening_style||""})`),N.adjustment_side&&b.push(N.adjustment_side)}else h.type===V.REMOVAL&&(x=h.description||"");return r.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden flex bg-white break-inside-avoid",children:[r.jsx("div",{className:"w-1/2 bg-slate-50 flex items-center justify-center p-2 min-h-[140px]",dangerouslySetInnerHTML:f(h)}),r.jsxs("div",{className:"w-1/2 p-3 flex flex-col relative",children:[r.jsxs("div",{className:"inline-block self-start px-2 py-0.5 bg-slate-100 text-[10px] font-bold text-slate-500 rounded mb-1",children:[" ",m.name]}),r.jsx("div",{className:"font-bold text-sm text-slate-900 leading-tight mb-1",children:x}),r.jsx("div",{className:"text-sm font-mono font-bold text-slate-800 border-b border-dashed border-slate-300 pb-1 mb-2",children:y}),r.jsx("ul",{className:"text-xs text-slate-600 space-y-1",children:b.map((N,w)=>r.jsxs("li",{className:"truncate",children:[" ",N]},w))}),h.notes&&r.jsxs("div",{className:"mt-auto pt-1 text-[10px] text-orange-600 line-clamp-2",children:[" ",h.notes]})]})]},`${m.id}-${h.id}-${g}`)}))}),r.jsx("div",{className:"mt-auto pt-8 text-center text-[10px] text-slate-400",children:" Marnthara QOL   1/1"})]})}),PC=({isOpen:n,onClose:l})=>{const i=se(h=>h.rooms),o=j.useRef(null),[d,f]=j.useState(!1),m=$0.useReactToPrint({contentRef:o,documentTitle:`QC_Lookbook_${new Date().toISOString().split("T")[0]}`,onBeforeGetContent:()=>(f(!0),Promise.resolve()),onAfterPrint:()=>f(!1)});return r.jsxs(Gt,{isOpen:n,onClose:l,title:"Lookbook /  (Preview)",maxWidth:"2xl",children:[r.jsx("div",{className:"space-y-6 pb-safe-area",children:i.map(h=>r.jsxs("div",{className:"bg-muted/20 rounded-2xl p-4 border border-border",children:[r.jsxs("h3",{className:"font-bold text-foreground mb-3 flex items-center gap-2",children:[" ",h.name]}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:h.items.filter(g=>!g.is_suspended).map(g=>r.jsxs("div",{className:"bg-card p-3 rounded-xl border border-border shadow-sm flex flex-col",children:[r.jsx("div",{className:"aspect-[4/3] bg-muted/30 rounded-lg mb-2 flex items-center justify-center overflow-hidden relative",children:r.jsx("div",{className:"text-xs text-muted-foreground",children:"Preview"})}),r.jsxs("div",{className:"mt-auto",children:[r.jsxs("div",{className:"flex justify-between items-start mb-1",children:[r.jsx("span",{className:"font-semibold text-sm text-card-foreground",children:Ta[g.type]?.name}),"width_m"in g&&r.jsxs("div",{className:"bg-primary text-primary-foreground text-xs font-mono px-1.5 py-0.5 rounded",children:[pn(g.width_m),"  ",pn(g.height_m)]})]}),r.jsxs("div",{className:"text-xs text-muted-foreground space-y-1 mt-auto",children:["fabric_variant"in g&&r.jsxs("div",{children:[" /: ",g.fabric_variant]}),"code"in g&&g.code&&r.jsxs("div",{children:[" : ",r.jsx("span",{className:"font-mono font-bold",children:g.code})]}),"adjustment_side"in g&&r.jsxs("div",{children:[" : ",g.adjustment_side]}),g.notes&&r.jsxs("div",{className:"text-warning mt-1",children:[" ",g.notes]})]})]})]},g.id))})]},h.id))}),r.jsxs("div",{className:"flex justify-end pt-4 border-t border-border",children:[r.jsx(de,{onClick:l,children:""}),r.jsx(de,{onClick:()=>m(),disabled:d,className:"ml-2 bg-primary text-primary-foreground",children:d?"...":" Lookbook"})]}),r.jsx("div",{style:{display:"none"},children:r.jsx("div",{ref:o,children:r.jsx(WC,{})})})]})},eE=({isOpen:n,onClose:l})=>{const i=se(g=>g.rooms),o=se(g=>g.openModal),d=i.map(g=>({...g,items:g.items.filter(x=>!x.is_suspended),total:g.items.filter(x=>!x.is_suspended).reduce((x,y)=>x+gt.calculatePrice(y),0)})).filter(g=>g.items.length>0),f=d.reduce((g,x)=>g+x.total,0),m=(g,x)=>{l(),setTimeout(()=>{o("item",{mode:"edit",roomId:g,itemId:x.id,itemType:x.type,initialData:x})},150)},h=g=>{const x=gt.getItemSpecs(g);return x.length>0?x[0]:""};return r.jsx(Gt,{isOpen:n,onClose:l,variant:"drawer",title:" (Project Overview)",description:` ${_e(f)}`,children:r.jsxs("div",{className:"space-y-6 pb-6",children:[r.jsx("div",{className:"bg-primary/5 rounded-2xl p-4 flex items-center justify-between border border-primary/10",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-primary/10 rounded-full text-primary",children:r.jsx(sr,{className:"w-5 h-5"})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:""}),r.jsx("span",{className:"text-xl font-bold text-foreground font-mono",children:_e(f)})]})]})}),r.jsxs("div",{className:"space-y-6",children:[d.map(g=>r.jsxs("div",{className:"animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between px-1 mb-2",children:[r.jsxs("h3",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[r.jsx("span",{className:"w-1 h-4 bg-primary rounded-full"}),g.name]}),r.jsx("span",{className:"text-xs font-mono font-medium text-muted-foreground",children:_e(g.total)})]}),r.jsx("div",{className:"bg-card border border-border rounded-xl overflow-hidden divide-y divide-border/50 shadow-sm",children:g.items.map((x,y)=>r.jsxs("button",{onClick:()=>m(g.id,x),className:"w-full text-left px-4 py-3 flex justify-between items-center hover:bg-muted/50 transition-colors group active:bg-muted",children:[r.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-lg bg-muted flex items-center justify-center text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary transition-colors",children:r.jsx("span",{className:"text-xs font-bold",children:y+1})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"text-sm font-medium text-foreground truncate group-hover:text-primary transition-colors",children:Ta[x.type]?.name}),r.jsx("div",{className:"text-[11px] text-muted-foreground truncate opacity-80",children:h(x)})]})]}),r.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[r.jsx("span",{className:"text-sm font-bold font-mono text-foreground/80",children:_e(gt.calculatePrice(x))}),r.jsx(sl,{className:"w-4 h-4 text-muted-foreground/30"})]})]},x.id))})]},g.id)),d.length===0&&r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground space-y-2",children:[r.jsx(Dy,{className:"w-12 h-12 opacity-20"}),r.jsx("p",{children:""})]})]})]})})},En=({icon:n,label:l,desc:i,onClick:o,accentColor:d="primary",isWide:f=!1})=>{const{trigger:m}=sn(),h={primary:"bg-primary/5 text-primary group-hover:bg-primary/10",emerald:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 group-hover:bg-emerald-500/20",orange:"bg-orange-500/10 text-orange-600 dark:text-orange-400 group-hover:bg-orange-500/20",rose:"bg-rose-500/10 text-rose-600 dark:text-rose-400 group-hover:bg-rose-500/20",indigo:"bg-indigo-500/10 text-indigo-600 dark:text-indigo-400 group-hover:bg-indigo-500/20"};return r.jsxs("button",{onClick:()=>{m("light"),o()},className:Y("group relative flex items-center p-4 rounded-2xl border border-border bg-card shadow-sm transition-all duration-200 active:scale-[0.98]",f?"col-span-2":"col-span-1 flex-col justify-center text-center gap-3 h-32 sm:h-auto sm:flex-row sm:justify-start sm:text-left"),children:[r.jsx("div",{className:Y("p-3 rounded-xl transition-colors",h[d]),children:r.jsx(n,{className:"w-6 h-6",strokeWidth:2})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-semibold text-foreground text-[15px] leading-tight",children:l}),i&&r.jsx("div",{className:"text-[13px] text-muted-foreground mt-0.5 font-medium truncate",children:i})]}),f&&r.jsx(sl,{className:"w-5 h-5 text-muted-foreground/30 group-hover:text-foreground/50"})]})},tE=({isOpen:n,onClose:l,onOpenPdf:i,onOpenLookbook:o,onOpenCustomer:d,onOpenShopSettings:f,onOpenDiscount:m,onOpenData:h,onOpenInventory:g,onOpenProductionSettings:x,onOpenCostDashboard:y,onOpenFormulaStudio:b})=>{const{theme:N,toggleTheme:w}=Sx(),{trigger:C}=sn();return r.jsx(Gt,{isOpen:n,onClose:l,title:" (Main Menu)",description:"",maxWidth:"lg",variant:"drawer",children:r.jsxs("div",{className:"space-y-6 pb-safe-area",children:[r.jsxs("div",{className:"flex items-center justify-between px-1",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:","}),r.jsx("span",{className:"text-lg font-bold text-foreground",children:"Marnthara User"})]}),r.jsx("button",{onClick:()=>{C("medium"),w()},className:Y("relative p-2 rounded-full transition-all duration-500 border overflow-hidden w-12 h-12 flex items-center justify-center",N==="dark"?"bg-slate-800 border-slate-700 text-yellow-400":"bg-amber-100 border-amber-200 text-amber-600"),children:r.jsx("div",{className:Y("transition-transform duration-500",N==="dark"?"rotate-0":"rotate-180"),children:N==="dark"?r.jsx(Ad,{className:"w-6 h-6"}):r.jsx(Dd,{className:"w-6 h-6"})})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground px-1",children:" & "}),r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsx(En,{icon:_o,label:" (Quotation)",desc:" / ",onClick:i,accentColor:"primary",isWide:!0}),r.jsx(En,{icon:zy,label:"Lookbook ()",desc:"",onClick:o,accentColor:"indigo",isWide:!0})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground px-1",children:""}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(En,{icon:Ry,label:"",desc:"",onClick:d,accentColor:"orange"}),r.jsx(En,{icon:Ea,label:" (Inventory)",desc:"/",onClick:g,accentColor:"rose"}),r.jsx(En,{icon:Oy,label:"",desc:"/",onClick:f,accentColor:"primary"}),r.jsx(En,{icon:hd,label:"",desc:"",onClick:m,accentColor:"emerald"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground px-1",children:" (Pro)"}),r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsx(En,{icon:sr,label:" (Cost Analysis)",desc:" Margin ",onClick:y,accentColor:"emerald",isWide:!0}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(En,{icon:My,label:"",desc:"Cost/Labor",onClick:x,accentColor:"primary"}),r.jsx(En,{icon:Ns,label:"",desc:"Formula Studio",onClick:b,accentColor:"indigo"}),r.jsx(En,{icon:ky,label:"",desc:"Import/Export",onClick:h,accentColor:"primary"})]})]})]}),r.jsx("div",{className:"pt-6 text-center",children:r.jsx("div",{className:"inline-flex items-center justify-center px-3 py-1 rounded-full bg-muted/50 text-[10px] text-muted-foreground font-mono",children:"Marnthara v6.7.0 (Strict Mode)"})})]})})},nE=[{id:"labor",label:" (Labor)",icon:oo},{id:"accessories",label:" (Accessory)",icon:Rd},{id:"fabrics",label:" (Fabric)",icon:xx}],dx={rail_wave:" ()",rail_pleated:" ( M)",rail_eyelet:" ()",rail_roman:" ()",rail_rod:" ()",rail_louis:"/ ",eyelet_ring:"",tape_wave:"/",install_point:" ()",install_min:" ()",transport_base:"/"},aE=({isOpen:n,onClose:l})=>{const{laborCosts:i,accessoryCosts:o,fabricCosts:d,inventory:f,updateLaborCost:m,updateAccessoryCost:h,updateFabricCost:g,removeAccessoryCost:x,removeFabricCost:y,exportSecrets:b,importSecrets:N}=se(),w=jt(B=>B.addToast),[C,S]=j.useState("labor"),[D,E]=j.useState(""),[O,Z]=j.useState(!0),[A,_]=j.useState(null),[L,q]=j.useState({code:"",cost:"",unit:"",note:"",priceRef:""}),[W,J]=j.useState(!1),Q=j.useRef(null),ae=j.useMemo(()=>{let B=[];if(C==="labor"?B=Object.entries(i).map(([K,fe])=>({key:K,name:K,cost:fe.rate,unit:fe.unit,note:` ${fe.min_price}`,priceRef:0})):C==="accessories"?B=Object.entries(o).map(([K,fe])=>({key:K,name:dx[K]||K,cost:fe,note:dx[K]?K:"",priceRef:0})):B=Object.entries(d).map(([K,fe])=>{let we=0,Je="";return Object.values(f).flat().forEach(Me=>{Me.code===K&&(we=Me.default_price_per_m,Je=Me.note||"")}),{key:K,name:K,cost:fe,note:Je,priceRef:we}}),D){const K=D.toLowerCase();B=B.filter(fe=>fe.key.toLowerCase().includes(K)||fe.name.toLowerCase().includes(K))}return B.sort((K,fe)=>K.name.localeCompare(fe.name))},[C,i,o,d,D,f]),le=B=>{O||(_(B.key),q({code:B.key,cost:B.cost.toString(),unit:B.unit||"",note:B.note||"",priceRef:B.priceRef?B.priceRef.toString():""}),J(!1))},te=()=>{const B=parseFloat(L.cost);if(!L.code||isNaN(B)){w("error"," ");return}if(C==="labor"){const K={rate:B,unit:L.unit||"meter",min_price:0};m(L.code,K)}else C==="accessories"?(A&&L.code!==A&&x(A),h(L.code,B)):(A&&L.code!==A&&y(A),g(L.code,B));_(null),J(!1),w("success","")},Oe=B=>{confirm(` "${B}"?`)&&(C==="accessories"?(x(B),w("success","")):C==="fabrics"?(y(B),w("success","")):w("warning","  ( 0 )"),_(null))},ne=B=>{const K=B.target.files?.[0];if(K){const fe=new FileReader;fe.onload=we=>{const Je=we.target?.result;N(Je)?w("success",""):w("error","")},fe.readAsText(K)}B.target.value=""},H=B=>r.jsx("div",{className:"p-3 rounded-lg border transition-all bg-card border-primary shadow-md ring-1 ring-primary/20 animate-in fade-in zoom-in-95 duration-200 mb-2",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"space-y-1.5 w-full",children:[r.jsx("label",{className:"text-[15px] font-medium text-foreground ml-1",children:C==="labor"?"":" / "}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{className:"flex h-12 w-full rounded-xl border px-4 py-2 text-[16px] focus:outline-none focus:ring-2 focus:ring-ring bg-background text-foreground border-input focus:border-primary pr-10",value:L.code,onChange:K=>q({...L,code:K.target.value}),placeholder:C==="labor"?" ":"",autoFocus:!B}),L.code&&r.jsx("button",{type:"button",onClick:()=>q({...L,code:""}),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1.5 text-muted-foreground hover:text-foreground",children:r.jsx(tl,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"space-y-1.5 w-full",children:[r.jsx("label",{className:"text-[15px] font-medium text-foreground ml-1",children:C==="labor"?" (Unit)":"Note"}),r.jsx("input",{className:"flex h-12 w-full rounded-xl border px-4 py-2 text-[16px] focus:outline-none bg-background text-foreground border-input focus:border-primary disabled:opacity-70 disabled:bg-muted/30",value:C==="labor"?L.unit:L.note,onChange:K=>q(C==="labor"?{...L,unit:K.target.value}:{...L,note:K.target.value}),disabled:C!=="labor"&&B,placeholder:C==="labor"?"meter":"-"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 p-3 bg-muted/30 rounded-lg",children:[r.jsxs("div",{className:"space-y-1.5 w-full",children:[r.jsxs("label",{className:"text-[15px] font-medium text-foreground ml-1",children:[" (Cost) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",className:"flex h-12 w-full rounded-xl border px-4 py-2 text-[16px] focus:outline-none focus:ring-2 focus:ring-ring bg-background border-input focus:border-primary text-amber-600 font-mono font-bold",value:L.cost,onChange:K=>q({...L,cost:K.target.value}),autoFocus:B}),r.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground text-xs",children:""})]})]}),r.jsxs("div",{className:"space-y-1.5 w-full",children:[r.jsx("label",{className:"text-[15px] font-medium text-foreground ml-1",children:" (Ref)"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{className:"flex h-12 w-full rounded-xl border px-4 py-2 text-[16px] bg-background disabled:bg-muted/30 disabled:opacity-70 border-input text-emerald-600 font-bold",value:L.priceRef?_e(parseFloat(L.priceRef)):"-",disabled:!0}),r.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground text-xs",children:""})]})]})]}),r.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-border/50",children:[B?r.jsxs("button",{onClick:()=>Oe(A),className:"inline-flex items-center justify-center h-8 px-3 text-xs rounded-lg text-red-500 hover:bg-red-50 border border-transparent transition-colors",children:[r.jsx(cr,{className:"w-4 h-4 mr-1"})," "]}):r.jsx("div",{}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>{_(null),J(!1)},className:"inline-flex items-center justify-center h-8 px-3 text-xs rounded-lg hover:bg-accent text-muted-foreground hover:text-foreground transition-colors",children:[r.jsx(tl,{className:"w-4 h-4 mr-1"})," "]}),r.jsxs("button",{onClick:te,className:"inline-flex items-center justify-center h-8 px-3 text-xs rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm transition-colors",children:[r.jsx(js,{className:"w-4 h-4 mr-1"})," "]})]})]})]})});return r.jsxs(Gt,{isOpen:n,onClose:l,title:" (Vault)",maxWidth:"2xl",children:[r.jsx("input",{type:"file",ref:Q,accept:".json,.key,.txt",className:"hidden",onChange:ne}),r.jsxs("div",{className:"space-y-4 pb-safe-area h-[600px] flex flex-col",children:[r.jsxs("div",{className:"flex gap-2 items-center bg-card p-1.5 rounded-xl border border-border shadow-sm",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(hs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx("input",{type:"text",placeholder:"...",value:D,onChange:B=>E(B.target.value),className:"w-full pl-9 h-10 bg-muted/50 rounded-lg text-sm border-transparent focus:border-primary focus:ring-0"})]}),r.jsx(de,{variant:O?"outline":"destructive",size:"icon",onClick:()=>{Z(!O),_(null),J(!1)},className:"w-10 h-10 shrink-0",title:O?"":"",children:O?r.jsx(jo,{className:"w-4 h-4"}):r.jsx(jx,{className:"w-4 h-4"})}),!O&&r.jsxs(de,{onClick:()=>{J(!0),_(null),q({code:"",cost:"",unit:"",note:"",priceRef:""})},className:"h-10 shrink-0 bg-primary text-primary-foreground shadow-sm px-3 flex items-center gap-1",children:[r.jsx(el,{className:"w-5 h-5"}),r.jsx("span",{className:"hidden sm:inline font-medium",children:""})]}),r.jsxs(uo,{as:"div",className:"relative",children:[r.jsx(fo,{as:de,variant:"ghost",size:"icon",className:"w-10 h-10",children:r.jsx(mo,{className:"w-5 h-5"})}),r.jsx(zn,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:r.jsxs(ho,{className:"absolute right-0 mt-2 w-48 bg-popover border border-border rounded-xl shadow-lg z-50 p-1 focus:outline-none",children:[r.jsx(Xt,{children:({active:B})=>r.jsxs("button",{onClick:()=>Q.current?.click(),className:Y("flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm",B&&"bg-accent"),children:[r.jsx(ms,{className:"w-4 h-4"}),"  (.json/.key)"]})}),r.jsx(Xt,{children:({active:B})=>r.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(b()),w("success","")},className:Y("flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm",B&&"bg-accent"),children:[r.jsx(Nx,{className:"w-4 h-4"}),"  (Copy)"]})})]})})]})]}),r.jsx("div",{className:"flex p-1 bg-muted rounded-xl shrink-0",children:nE.map(B=>r.jsxs("button",{onClick:()=>{S(B.id),_(null),J(!1)},className:Y("flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium rounded-lg transition-all",C===B.id?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[r.jsx(B.icon,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:B.label})]},B.id))}),r.jsxs("div",{className:"flex-1 overflow-y-auto space-y-2 pr-1 border border-t-0 border-border rounded-b-lg p-1 bg-background",children:[W&&H(!1),ae.length===0&&!W&&r.jsxs("div",{className:"text-center py-10 text-muted-foreground opacity-60",children:[r.jsx(hs,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:""})]}),ae.map(B=>A===B.key?r.jsx("div",{children:H(!0)},B.key):r.jsx("div",{className:"p-3 rounded-lg border transition-all bg-card border-border hover:border-primary/30 group",children:r.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[r.jsxs("div",{className:"col-span-7 sm:col-span-8 min-w-0",children:[r.jsx("div",{className:"font-bold text-sm truncate text-foreground",children:B.name}),r.jsx("div",{className:"text-[11px] text-muted-foreground truncate font-mono",children:C==="labor"?B.unit:B.note||B.key})]}),r.jsxs("div",{className:"col-span-3 sm:col-span-3 text-right flex flex-col justify-center min-w-0",children:[r.jsx("div",{className:"font-mono text-sm font-bold text-amber-600 dark:text-amber-500 leading-tight",children:_e(B.cost)}),P(B.priceRef)>0&&r.jsx("div",{className:"text-[10px] text-emerald-600/70 dark:text-emerald-400/60 leading-tight",children:_e(B.priceRef||0)})]}),r.jsx("div",{className:"col-span-2 sm:col-span-1 flex justify-end",children:!O&&r.jsx("button",{onClick:()=>le(B),className:"p-2 rounded-lg bg-muted hover:bg-primary/10 text-muted-foreground hover:text-primary transition-colors flex items-center justify-center w-8 h-8",title:"",children:r.jsx(yx,{className:"w-4 h-4"})})})]})},B.key))]})]})]})},lE=({revenue:n,cost:l,profit:i,targetMargin:o})=>{const d=n>0?i/n*100:0,f=Math.max(0,i/n*360),m=d>=o,h=m?"var(--color-emerald-500)":"var(--color-amber-500)";return r.jsxs("div",{className:"relative flex flex-col items-center justify-center py-6",children:[r.jsx("div",{className:"w-48 h-48 rounded-full flex items-center justify-center shadow-xl shadow-slate-200/50 dark:shadow-black/20 transition-all duration-500",style:{background:`conic-gradient(
            ${h} 0deg ${f}deg, 
            var(--color-slate-200) ${f}deg 360deg
          )`},children:r.jsxs("div",{className:"w-36 h-36 bg-card rounded-full flex flex-col items-center justify-center z-10 shadow-inner",children:[r.jsx("span",{className:"text-[10px] text-muted-foreground font-bold uppercase tracking-widest mb-1",children:"Net Margin"}),r.jsxs("div",{className:Y("text-4xl font-black font-mono tracking-tighter transition-colors",m?"text-emerald-600 dark:text-emerald-400":"text-amber-500"),children:[d.toFixed(1),r.jsx("span",{className:"text-lg text-muted-foreground/60",children:"%"})]}),r.jsxs("div",{className:"text-[10px] text-muted-foreground mt-1 flex items-center gap-1",children:[r.jsx(_x,{className:"w-3 h-3"}),"  ",o,"%"]})]})}),r.jsxs("div",{className:"absolute bottom-4 w-full flex justify-between px-8 opacity-90",children:[r.jsxs("div",{className:"flex flex-col items-start bg-card/80 backdrop-blur border border-border p-2 rounded-lg shadow-sm text-xs",children:[r.jsx("span",{className:"text-muted-foreground",children:""}),r.jsx("span",{className:"font-bold text-foreground",children:_e(n)})]}),r.jsxs("div",{className:"flex flex-col items-end bg-card/80 backdrop-blur border border-border p-2 rounded-lg shadow-sm text-xs",children:[r.jsx("span",{className:"text-muted-foreground",children:""}),r.jsx("span",{className:"font-bold text-rose-500",children:_e(l)})]})]})]})},rE=({isOpen:n,onClose:l})=>{const i=se(C=>C.rooms),o=se(C=>C.openModal),{trigger:d}=sn(),[f,m]=j.useState(30),[h,g]=j.useState(!0),x=j.useMemo(()=>{let C=0,S=0;const D=new Map;i.forEach(Z=>{Z.is_suspended||Z.items.forEach(A=>{if(A.is_suspended)return;const _=Xd.analyze(A);C+=_.sellingPrice,S+=_.totalCost;let L="",q="";if(A.type==="curtain"?(L=A.code,q=""):A.type==="wallpaper"?(L=A.wallpaper_code,q=""):(L=A.code,q=".."),!L)return;let W=1;A.type==="curtain"&&"width_m"in A&&(W=parseFloat(A.width_m)*2.5),A.type==="wallpaper"&&"widths"in A&&(W=A.widths.reduce((ae,le)=>ae+parseFloat(le),0)/.5);const J=D.get(L)||{code:L,name:Ta[A.type]?.name||A.type,type:A.type,totalQty:0,unit:q,revenue:0,totalCost:0,profitPerUnit:0};J.totalQty+=W,J.revenue+=_.sellingPrice,J.totalCost+=_.totalCost,J.profitPerUnit=J.totalQty>0?(J.revenue-J.totalCost)/J.totalQty:0,D.set(L,J)})});const E=C-S,O=C>0?E/C*100:0;return{summary:{revenue:C,cost:S,profit:E,margin:O},groups:Array.from(D.values()).sort((Z,A)=>A.revenue-Z.revenue),breakdown:{fabric:0,rail:0,labor:0,accessory:0}}},[i]),{summary:y,groups:b}=x,N=C=>{d("light"),o("inventoryManager",{initialSearch:C})},w=C=>{d("selection"),m(S=>Math.max(5,Math.min(95,S+C)))};return r.jsx(Gt,{isOpen:n,onClose:l,title:" (Financial Health)",variant:"fullscreen",maxWidth:"lg",children:r.jsxs("div",{className:"flex flex-col h-full bg-background pb-safe-area relative overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-b from-muted/50 to-background border-b border-border shadow-sm z-10 pt-2",children:[r.jsx(lE,{revenue:y.revenue,cost:y.cost,profit:y.profit,targetMargin:f}),r.jsxs("div",{className:"px-6 pb-6 pt-2 flex items-center justify-center gap-4",children:[r.jsx("button",{onClick:()=>w(-1),className:"w-10 h-10 rounded-full bg-muted text-muted-foreground flex items-center justify-center hover:bg-muted/80 active:scale-90 transition-all",children:r.jsx(Ly,{className:"w-4 h-4"})}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("span",{className:"text-[10px] text-muted-foreground font-medium uppercase tracking-wider",children:"Target Profit"}),r.jsxs("span",{className:"text-xl font-bold font-mono text-foreground",children:[f,"%"]})]}),r.jsx("button",{onClick:()=>w(1),className:"w-10 h-10 rounded-full bg-muted text-muted-foreground flex items-center justify-center hover:bg-muted/80 active:scale-90 transition-all",children:r.jsx(sr,{className:"w-4 h-4"})})]})]}),r.jsx("div",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex flex-col items-center justify-center py-4 bg-gradient-to-b from-primary/5 to-transparent rounded-3xl border border-primary/10",children:[r.jsxs("div",{className:"text-sm font-medium text-muted-foreground mb-2 flex items-center gap-2",children:[r.jsx(sr,{className:"w-4 h-4"}),"  (Net Profit)"]}),r.jsxs("div",{className:Y("text-4xl font-bold tracking-tight font-mono",y.profit>=0?"text-emerald-600":"text-red-500"),children:[y.profit>=0?"+":"",_e(y.profit)]}),r.jsxs("div",{className:"mt-3 flex items-center gap-2 px-3 py-1 rounded-full bg-background border border-border shadow-sm",children:[r.jsx("span",{className:"text-xs text-muted-foreground",children:"Margin:"}),r.jsxs("span",{className:Y("text-sm font-bold",y.margin>=30?"text-emerald-600":y.margin>0?"text-amber-500":"text-red-500"),children:[y.margin.toFixed(1),"%"]})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 px-6 pb-4",children:[r.jsxs("div",{className:"p-4 bg-card rounded-2xl border border-border/50 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2 text-primary",children:[r.jsx(ao,{className:"w-4 h-4"}),r.jsx("h3",{className:"font-semibold text-sm",children:""})]}),r.jsx("div",{className:"text-xl font-bold font-mono",children:_e(y.revenue)}),r.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:""})]}),r.jsxs("div",{className:"p-4 bg-card rounded-2xl border border-border/50 shadow-sm relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:r.jsx(Fp,{className:"w-12 h-12 text-slate-500"})}),r.jsxs("div",{className:"flex items-center gap-2 mb-2 text-slate-600",children:[r.jsx(_x,{className:"w-4 h-4"}),r.jsx("h3",{className:"font-semibold text-sm",children:""})]}),r.jsx("div",{className:"text-xl font-bold font-mono text-slate-700",children:_e(y.cost)}),r.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"++"})]})]}),y.margin<30&&y.revenue>0&&r.jsx("div",{className:"mx-6 mb-4",children:r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-50 border border-amber-200 rounded-xl text-amber-800 text-sm",children:[r.jsx(Jn,{className:"w-5 h-5 shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("strong",{children:" (Low Margin)"}),r.jsxs("p",{className:"mt-1 opacity-90",children:[" ",y.margin.toFixed(1),"%  30%. "]})]})]})}),r.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 sm:px-6 border-t border-border/50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2 px-2",children:[r.jsxs("span",{className:"text-xs font-bold text-muted-foreground uppercase flex items-center gap-2",children:[r.jsx(ao,{className:"w-3 h-3"}),"  (Cost Breakdown)"]}),r.jsx("button",{onClick:()=>g(!h),className:"text-muted-foreground hover:text-foreground transition-colors",children:h?r.jsx(Uy,{className:"w-4 h-4"}):r.jsx(Cd,{className:"w-4 h-4"})})]}),r.jsx("div",{className:Y("space-y-2 transition-all duration-300",!h&&"blur-sm select-none"),children:b.length===0?r.jsxs("div",{className:"text-center py-12 text-muted-foreground opacity-50",children:[r.jsx(Fp,{className:"w-12 h-12 mx-auto mb-2"}),r.jsx("p",{children:""})]}):b.map(C=>{const S=C.totalQty>0?C.revenue/C.totalQty:0,D=C.totalQty>0?C.totalCost/C.totalQty:0,E=S-D,O=S>0?E/S*100:0;let Z="text-slate-500 bg-slate-100",A="N/A";return D>0&&S>0&&(O>=30?(Z="text-emerald-600 bg-emerald-500/10 border-emerald-200/50",A=`+${O.toFixed(0)}%`):O>0?(Z="text-amber-600 bg-amber-500/10 border-amber-200/50",A=`+${O.toFixed(0)}%`):(Z="text-rose-600 bg-rose-500/10 border-rose-200/50",A=`${O.toFixed(0)}%`)),r.jsxs("button",{onClick:()=>N(C.code),className:"w-full bg-card border border-border/50 p-3 rounded-xl flex items-center justify-between shadow-sm active:scale-[0.98] transition-all hover:border-primary/30 group",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-mono font-bold text-base text-foreground",children:C.code}),r.jsx("span",{className:"text-xs text-muted-foreground px-2 py-0.5 bg-muted rounded-full",children:C.name})]}),r.jsx("div",{className:"text-left mt-1 flex items-center gap-2",children:r.jsxs("span",{className:"text-xs text-muted-foreground",children:[": ",r.jsx("span",{className:"text-foreground font-medium",children:_e(S)})]})})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:Y("px-2.5 py-1 rounded-lg text-xs font-bold border min-w-[3.5rem] text-center",Z),children:A}),r.jsx(sl,{className:"w-5 h-5 text-muted-foreground/30 group-hover:text-primary transition-colors"})]})]},C.code)})}),r.jsx("div",{className:"h-24"})," "]})]})})},hn=({label:n,desc:l,value:i,suffix:o,isLocked:d,onChange:f,warning:m})=>{const[h,g]=j.useState(i.toString());return ee.useEffect(()=>{g(i.toString())},[i]),r.jsxs("div",{className:"flex flex-col py-4 border-b border-border/40 last:border-0 animate-fade-in group",children:[r.jsx("div",{className:"flex justify-between items-start gap-4 mb-2",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:Y("text-base font-semibold leading-tight",d?"text-foreground/80":"text-foreground"),children:n}),l&&r.jsx("div",{className:"text-sm text-muted-foreground mt-1 font-normal leading-snug",children:l})]})}),r.jsxs("div",{className:"relative mt-1",children:[r.jsx("input",{type:"text",inputMode:"decimal",disabled:d,value:h,onChange:x=>g(x.target.value),onBlur:()=>{f(h);const x=parseFloat(h);isNaN(x)||g(x.toString())},className:Y("w-full bg-muted/30 border border-input rounded-xl pl-4 pr-16 py-3 text-xl font-bold font-mono text-right transition-all","focus:outline-none focus:ring-2 focus:ring-primary/50 focus:bg-background focus:border-primary",d&&"bg-transparent border-transparent shadow-none text-foreground cursor-default",!d&&"shadow-sm bg-card",m&&!d&&"text-amber-600 border-amber-200 bg-amber-50 focus:ring-amber-500")}),r.jsx("div",{className:Y("absolute right-4 top-1/2 -translate-y-1/2 text-sm font-medium pointer-events-none bg-transparent pl-2 transition-opacity",d?"text-muted-foreground/50":"text-muted-foreground"),children:o})]})]})},sE=({isOpen:n,onClose:l})=>{const i=se(_=>_.formulas),o=se(_=>_.updateFormula),d=se(_=>_.resetFormulas),{confirm:f}=Aa(),{trigger:m}=sn(),[h,g]=j.useState(()=>i?JSON.parse(JSON.stringify(i)):null),[x,y]=j.useState("curtain"),[b,N]=j.useState(!1),[w,C]=j.useState(!0),S=[{id:"curtain",label:"",icon:Ns},{id:"wallpaper",label:"",icon:co},{id:"area",label:"",icon:gs}],D=(_,L,q)=>{if(!h)return;const W=parseFloat(q);isNaN(W)||(g(J=>J?{...J,[_]:{...J[_],[L]:W}}:null),N(!0))},E=async()=>{h&&(m("success"),Object.keys(h).forEach(_=>{o(_,h[_])}),l())},O=async()=>{m("warning"),await f({title:"?",description:" (Factory Default)",confirmLabel:"",variant:"destructive"})&&(d(),l())},Z=async()=>{b&&(m("warning"),!await f({title:"?",description:" ?",confirmLabel:"",cancelLabel:"",variant:"destructive"}))||l()},A=()=>{m(w?"medium":"light"),C(!w)};return h?r.jsx(Gt,{isOpen:n,onClose:Z,title:" (Formula)",variant:"fullscreen",children:r.jsxs("div",{className:"flex flex-col h-full bg-background pb-safe-area",children:[r.jsxs("div",{className:"px-4 py-3 bg-background/95 backdrop-blur border-b border-border sticky top-0 z-10 shadow-sm flex gap-3 items-center",children:[r.jsx("div",{className:"flex-1 flex bg-muted/50 p-1 rounded-xl",children:S.map(_=>r.jsxs("button",{onClick:()=>{y(_.id),m("selection")},className:Y("flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg text-sm font-medium transition-all duration-200",x===_.id?"bg-white dark:bg-slate-800 text-primary shadow-sm":"text-muted-foreground hover:text-foreground"),children:[r.jsx(_.icon,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:_.label}),r.jsx("span",{className:"sm:hidden",children:_.label})]},_.id))}),r.jsx("button",{onClick:A,className:Y("h-10 w-10 rounded-xl flex items-center justify-center transition-all border",w?"bg-muted/20 border-transparent text-muted-foreground hover:bg-muted/50":"bg-destructive/10 border-destructive/20 text-destructive shadow-sm"),children:w?r.jsx(jo,{className:"w-5 h-5"}):r.jsx(jx,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[r.jsxs("div",{className:"mb-6 p-4 bg-blue-50/50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-900/30 rounded-xl flex gap-3 items-start",children:[r.jsx(po,{className:"w-5 h-5 text-blue-600 shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-sm text-blue-900 dark:text-blue-200",children:[r.jsx("span",{className:"font-bold",children:":"}),"  "]})]}),x==="curtain"&&r.jsxs("div",{className:"space-y-8 pb-20",children:[r.jsxs("section",{children:[r.jsx("h3",{className:"text-sm font-bold text-primary uppercase tracking-wider mb-2 border-l-4 border-primary pl-2",children:" (Multipliers)"}),r.jsx(hn,{label:" (Wave)",desc:":  x ",value:h.curtain.multiplier_wave,suffix:"",isLocked:w,onChange:_=>D("curtain","multiplier_wave",_)}),r.jsx(hn,{label:" (Pleated)",value:h.curtain.multiplier_pleated,suffix:"",isLocked:w,onChange:_=>D("curtain","multiplier_pleated",_)}),r.jsx(hn,{label:" (Eyelet)",value:h.curtain.multiplier_eyelet,suffix:"",isLocked:w,onChange:_=>D("curtain","multiplier_eyelet",_)})]}),r.jsxs("section",{children:[r.jsx("h3",{className:"text-sm font-bold text-primary uppercase tracking-wider mb-2 border-l-4 border-primary pl-2",children:" & "}),r.jsx(hn,{label:" (Roman)",desc:" Additive:  + ",value:h.curtain.roman_blind_offset,suffix:"",isLocked:w,onChange:_=>D("curtain","roman_blind_offset",_)}),r.jsx(hn,{label:"",desc:" = 1.0936 ( 1.10-1.12 )",value:h.curtain.yard_conversion,suffix:"",isLocked:w,onChange:_=>D("curtain","yard_conversion",_),warning:h.curtain.yard_conversion<1.09}),r.jsx(hn,{label:" (Hem)",desc:"-",value:h.curtain.hem_offset,suffix:"",isLocked:w,onChange:_=>D("curtain","hem_offset",_)})]})]}),x==="wallpaper"&&r.jsxs("div",{className:"space-y-8 pb-20",children:[r.jsxs("section",{children:[r.jsx("h3",{className:"text-sm font-bold text-orange-600 uppercase tracking-wider mb-2 border-l-4 border-orange-500 pl-2",children:" (Specs)"}),r.jsx(hn,{label:"",value:h.wallpaper.roll_width,suffix:"",isLocked:w,onChange:_=>D("wallpaper","roll_width",_)}),r.jsx(hn,{label:"",value:h.wallpaper.roll_length,suffix:"",isLocked:w,onChange:_=>D("wallpaper","roll_length",_)})]}),r.jsxs("section",{children:[r.jsx("h3",{className:"text-sm font-bold text-orange-600 uppercase tracking-wider mb-2 border-l-4 border-orange-500 pl-2",children:" (Calculation)"}),r.jsx(hn,{label:" (Waste)",desc:"- ",value:h.wallpaper.waste_margin,suffix:"",isLocked:w,onChange:_=>D("wallpaper","waste_margin",_)})]}),r.jsxs("div",{className:"p-4 rounded-xl bg-orange-50 border border-orange-100 text-orange-800 text-xs leading-relaxed",children:[" ",r.jsx("strong",{children:"Strip Method:"}),'  "" (Strip Counting) ']})]}),x==="area"&&r.jsx("div",{className:"space-y-8 pb-20",children:r.jsxs("section",{children:[r.jsx("h3",{className:"text-sm font-bold text-teal-600 uppercase tracking-wider mb-2 border-l-4 border-teal-500 pl-2",children:" /  / "}),r.jsx(hn,{label:" .. -> ..",desc:"",value:h.area.sqm_to_sqyd,suffix:"",isLocked:w,onChange:_=>D("area","sqm_to_sqyd",_)}),r.jsx(hn,{label:" (Minimum)",desc:" ",value:h.area.min_yield,suffix:"..",isLocked:w,onChange:_=>D("area","min_yield",_)})]})}),!w&&r.jsx("div",{className:"mt-8 pt-8 border-t border-border flex justify-center pb-8",children:r.jsxs("button",{onClick:O,className:"text-xs text-muted-foreground flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-destructive/10 hover:text-destructive transition-colors",children:[r.jsx(bo,{className:"w-3 h-3"})," (Factory Reset)"]})})]}),r.jsxs("div",{className:"p-4 bg-background border-t border-border flex gap-3 shadow-[0_-4px_10px_-4px_rgba(0,0,0,0.1)] sticky bottom-0 z-20 pb-safe-bottom",children:[r.jsxs(de,{variant:"ghost",onClick:Z,className:"flex-1 h-12 text-base font-medium text-muted-foreground",children:[r.jsx(tl,{className:"w-5 h-5 mr-2"}),""]}),r.jsxs(de,{variant:"primary",onClick:E,disabled:!b,className:Y("flex-[2] h-12 text-base font-bold shadow-lg shadow-primary/20",b?"animate-pulse-subtle":"opacity-80"),children:[r.jsx(js,{className:"w-5 h-5 mr-2"}),""]})]})]})}):null},iE=()=>{const{activeModal:n,modalProps:l,closeModal:i,openModal:o,addItem:d,updateItem:f}=se(),m=jt(x=>x.addToast),h=x=>n===x,g=x=>{const{roomId:y,mode:b,itemId:N}=l;y&&(b==="edit"&&N?(f(y,N,x),m("success","")):(d(y,x),m("success","")),i())};return n?r.jsxs(r.Fragment,{children:[r.jsx(RC,{isOpen:h("item"),onClose:i,roomId:l.roomId,itemId:l.itemId,itemType:l.itemType,initialData:l.initialData,mode:l.mode,onSubmit:g}),r.jsx(OC,{isOpen:h("customer"),onClose:i}),r.jsx(UC,{isOpen:h("pdf"),onClose:i}),r.jsx(ZC,{isOpen:h("shopSettings"),onClose:i}),r.jsx($C,{isOpen:h("inventoryManager"),onClose:i}),r.jsx(VC,{isOpen:h("discount"),onClose:i},h("discount")?"discount-open":"discount-closed"),r.jsx(XC,{isOpen:h("data"),onClose:i}),r.jsx(PC,{isOpen:h("lookbook"),onClose:i}),r.jsx(eE,{isOpen:h("projectOverview"),onClose:i}),r.jsx(YC,{isOpen:h("roomDefaults"),onClose:i,roomId:l.roomId},l.roomId||"defaults"),r.jsx(aE,{isOpen:h("productionSettings"),onClose:i}),r.jsx(rE,{isOpen:h("costDashboard"),onClose:i},h("costDashboard")?"cost-open":"cost-closed"),r.jsx(sE,{isOpen:h("formulaStudio"),onClose:i},h("formulaStudio")?"fs-open":"fs-closed"),r.jsx(tE,{isOpen:h("mainMenu"),onClose:i,onOpenPdf:()=>o("pdf"),onOpenLookbook:()=>o("lookbook"),onOpenCustomer:()=>o("customer"),onOpenShopSettings:()=>o("shopSettings"),onOpenDiscount:()=>o("discount"),onOpenData:()=>o("data"),onOpenInventory:()=>o("inventoryManager"),onOpenProductionSettings:()=>o("productionSettings"),onOpenCostDashboard:()=>o("costDashboard"),onOpenFormulaStudio:()=>o("formulaStudio")})]}):null};function oE(){const n=se(w=>w.rooms),l=se(w=>w.openModal),i=se(w=>w.inventory),o=se(w=>w.fabricCosts),d=se(w=>w.batchUpdateFabricCosts),f=Sx(w=>w.theme);j.useEffect(()=>{document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(f)},[f]);const m=j.useRef(!1);j.useEffect(()=>{if(m.current)return;const w={};let C=!1;Object.values(i).flat().forEach(S=>{const D=S;D.cost_per_yard&&D.cost_per_yard>0&&D.code&&(o[D.code]||(w[D.code]=D.cost_per_yard,C=!0))}),C&&(console.log(" System: Migrating legacy costs to vault...",w),d(w)),m.current=!0},[i,o,d]);const h=()=>l("mainMenu"),g=()=>l("discount"),x=()=>l("projectOverview"),y=w=>{l("item",{mode:"add",roomId:w,itemType:V.CURTAIN})},b=(w,C)=>{l("item",{mode:"edit",roomId:w,itemId:C.id,itemType:C.type,initialData:C})},N=w=>{l("roomDefaults",{roomId:w})};return r.jsxs(r.Fragment,{children:[r.jsx(pN,{onOpenMainMenu:h,onOpenDiscount:g,onOpenOverview:x,children:n.length>0?r.jsx(bN,{rooms:n,onAddItem:y,onEditItem:b,onOpenDefaults:N}):r.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center space-y-4 animate-fade-in",children:[r.jsx("div",{className:"w-20 h-20 bg-muted rounded-full flex items-center justify-center mb-2",children:r.jsx("span",{className:"text-4xl",children:""})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-foreground",children:""}),r.jsx("p",{className:"text-muted-foreground",children:" + "})]})]})}),r.jsx(iE,{}),r.jsx(NN,{}),r.jsx(jN,{})]})}class cE extends j.Component{constructor(l){super(l),this.state={hasError:!1,error:null}}static getDerivedStateFromError(l){return{hasError:!0,error:l}}componentDidCatch(l,i){console.error(" Uncaught error:",l,i)}handleReload=()=>{window.location.reload()};handleClearCache=()=>{localStorage.clear(),window.location.reload()};render(){return this.state.hasError?r.jsxs("div",{className:"min-h-[100dvh] w-full flex flex-col items-center justify-center bg-background p-6 text-center space-y-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-red-500/20 blur-xl rounded-full animate-pulse"}),r.jsx("div",{className:"relative w-24 h-24 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto",children:r.jsx(Jn,{className:"w-12 h-12 text-red-600 dark:text-red-400"})})]}),r.jsxs("div",{className:"space-y-2 max-w-sm mx-auto",children:[r.jsx("h1",{className:"text-2xl font-bold text-foreground",children:" "}),r.jsxs("p",{className:"text-muted-foreground text-sm",children:[" (Unexpected Error)",r.jsx("br",{}),""]})]}),!1,r.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-xs",children:[r.jsxs(de,{onClick:this.handleReload,className:"w-full bg-primary text-primary-foreground shadow-lg shadow-primary/20",size:"lg",children:[r.jsx(bo,{className:"w-4 h-4 mr-2"})," "]}),r.jsx(de,{variant:"ghost",onClick:this.handleClearCache,className:"text-muted-foreground hover:text-destructive text-xs",children:" ()"})]})]}):this.props.children}}const V0=()=>{document.documentElement.style.setProperty("--app-height",`${window.innerHeight}px`)};window.addEventListener("resize",V0);V0();Ky.createRoot(document.getElementById("root")).render(r.jsx(j.StrictMode,{children:r.jsx(cE,{children:r.jsx(oE,{})})}));
