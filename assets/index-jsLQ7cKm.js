import{r as j,C as _i,L as rv,S as Hl,P as kn,H as wu,M as iv,l as Si,f as Ci,E as Ei,K as xa,y as Ti,g as At,a as cv,b as Hp,c as Ru,d as qp,T as Qs,X as Hn,e as Mu,h as Ua,i as yi,j as Ou,k as Yp,m as ov,n as Xp,o as Vp,I as uv,p as qn,q as Ai,O as fl,z as Di,Q as zu,s as Gp,t as dv,R as P,u as Qp,v as fv,w as mv,B as hv,x as pv,U as xv,A as gv,D as Lu,F as ql,G as vv,J as Uu,N as bv,V as Ri,W as Bu,Y as Mi,Z as yv,_ as Zp,$ as ku,a0 as Oi,a1 as Ba,a2 as Nv,a3 as Fp,a4 as Hu,a5 as Kp,a6 as Jp,a7 as qu,a8 as Ip,a9 as $p,aa as jv,ab as wv,ac as Wp,ad as _v,ae as Sv,af as zi,ag as Cv,ah as Pp,ai as Ev,aj as Tv,ak as Av,al as Dv,am as Zs,an as Rv,ao as Xs,ap as Xh,aq as Mv,ar as Ov,as as zv,at as ex,au as Lv,av as Yu,aw as Uv,ax as Bv,ay as kv,az as Hv,aA as qv,aB as Yv,aC as Xv,aD as Vv,aE as Gv,aF as Qv,aG as Zv}from"./vendor-ui-B89nwmDY.js";import{r as Fv,a as Kv}from"./vendor-react-OvXVS5lI.js";import{c as Xu,t as Jv,a as Iv,b as $v}from"./vendor-utils-CNGIVjqd.js";import{r as Wv}from"./vendor-print-BoE_OzAc.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const p of m.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&c(p)}).observe(document,{childList:!0,subtree:!0});function u(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerPolicy&&(m.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?m.credentials="include":d.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function c(d){if(d.ep)return;d.ep=!0;const m=u(d);fetch(d.href,m)}})();var su={exports:{}},Us={};var Vh;function Pv(){if(Vh)return Us;Vh=1;var s=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function u(c,d,m){var p=null;if(m!==void 0&&(p=""+m),d.key!==void 0&&(p=""+d.key),"key"in d){m={};for(var h in d)h!=="key"&&(m[h]=d[h])}else m=d;return d=m.ref,{$$typeof:s,type:c,key:p,ref:d!==void 0?d:null,props:m}}return Us.Fragment=o,Us.jsx=u,Us.jsxs=u,Us}var Gh;function eb(){return Gh||(Gh=1,su.exports=Pv()),su.exports}var n=eb(),ru={exports:{}},Bs={},iu={exports:{}},cu={};var Qh;function tb(){return Qh||(Qh=1,(function(s){function o(Y,H){var W=Y.length;Y.push(H);e:for(;0<W;){var ue=W-1>>>1,Ne=Y[ue];if(0<d(Ne,H))Y[ue]=H,Y[W]=Ne,W=ue;else break e}}function u(Y){return Y.length===0?null:Y[0]}function c(Y){if(Y.length===0)return null;var H=Y[0],W=Y.pop();if(W!==H){Y[0]=W;e:for(var ue=0,Ne=Y.length,Qe=Ne>>>1;ue<Qe;){var Re=2*(ue+1)-1,ge=Y[Re],Ve=Re+1,bt=Y[Ve];if(0>d(ge,W))Ve<Ne&&0>d(bt,ge)?(Y[ue]=bt,Y[Ve]=W,ue=Ve):(Y[ue]=ge,Y[Re]=W,ue=Re);else if(Ve<Ne&&0>d(bt,W))Y[ue]=bt,Y[Ve]=W,ue=Ve;else break e}}return H}function d(Y,H){var W=Y.sortIndex-H.sortIndex;return W!==0?W:Y.id-H.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;s.unstable_now=function(){return m.now()}}else{var p=Date,h=p.now();s.unstable_now=function(){return p.now()-h}}var g=[],N=[],_=1,y=null,w=3,T=!1,M=!1,C=!1,A=!1,v=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function D(Y){for(var H=u(N);H!==null;){if(H.callback===null)c(N);else if(H.startTime<=Y)c(N),H.sortIndex=H.expirationTime,o(g,H);else break;H=u(N)}}function b(Y){if(C=!1,D(Y),!M)if(u(g)!==null)M=!0,z||(z=!0,xe());else{var H=u(N);H!==null&&Ce(b,H.startTime-Y)}}var z=!1,O=-1,V=5,Q=-1;function J(){return A?!0:!(s.unstable_now()-Q<V)}function re(){if(A=!1,z){var Y=s.unstable_now();Q=Y;var H=!0;try{e:{M=!1,C&&(C=!1,L(O),O=-1),T=!0;var W=w;try{t:{for(D(Y),y=u(g);y!==null&&!(y.expirationTime>Y&&J());){var ue=y.callback;if(typeof ue=="function"){y.callback=null,w=y.priorityLevel;var Ne=ue(y.expirationTime<=Y);if(Y=s.unstable_now(),typeof Ne=="function"){y.callback=Ne,D(Y),H=!0;break t}y===u(g)&&c(g),D(Y)}else c(g);y=u(g)}if(y!==null)H=!0;else{var Qe=u(N);Qe!==null&&Ce(b,Qe.startTime-Y),H=!1}}break e}finally{y=null,w=W,T=!1}H=void 0}}finally{H?xe():z=!1}}}var xe;if(typeof X=="function")xe=function(){X(re)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ae=te.port2;te.port1.onmessage=re,xe=function(){ae.postMessage(null)}}else xe=function(){v(re,0)};function Ce(Y,H){O=v(function(){Y(s.unstable_now())},H)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Y){Y.callback=null},s.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<Y?Math.floor(1e3/Y):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var H=3;break;default:H=w}var W=w;w=H;try{return Y()}finally{w=W}},s.unstable_requestPaint=function(){A=!0},s.unstable_runWithPriority=function(Y,H){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var W=w;w=Y;try{return H()}finally{w=W}},s.unstable_scheduleCallback=function(Y,H,W){var ue=s.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ue+W:ue):W=ue,Y){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=W+Ne,Y={id:_++,callback:H,priorityLevel:Y,startTime:W,expirationTime:Ne,sortIndex:-1},W>ue?(Y.sortIndex=W,o(N,Y),u(g)===null&&Y===u(N)&&(C?(L(O),O=-1):C=!0,Ce(b,W-ue))):(Y.sortIndex=Ne,o(g,Y),M||T||(M=!0,z||(z=!0,xe()))),Y},s.unstable_shouldYield=J,s.unstable_wrapCallback=function(Y){var H=w;return function(){var W=w;w=H;try{return Y.apply(this,arguments)}finally{w=W}}}})(cu)),cu}var Zh;function ab(){return Zh||(Zh=1,iu.exports=tb()),iu.exports}var Fh;function lb(){if(Fh)return Bs;Fh=1;var s=ab(),o=Fv(),u=Kv();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(m(e)!==e)throw Error(c(188))}function N(e){var t=e.alternate;if(!t){if(t=m(e),t===null)throw Error(c(188));return t!==e?null:e}for(var a=e,l=t;;){var r=a.return;if(r===null)break;var i=r.alternate;if(i===null){if(l=r.return,l!==null){a=l;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===a)return g(r),e;if(i===l)return g(r),t;i=i.sibling}throw Error(c(188))}if(a.return!==l.return)a=r,l=i;else{for(var f=!1,x=r.child;x;){if(x===a){f=!0,a=r,l=i;break}if(x===l){f=!0,l=r,a=i;break}x=x.sibling}if(!f){for(x=i.child;x;){if(x===a){f=!0,a=i,l=r;break}if(x===l){f=!0,l=i,a=r;break}x=x.sibling}if(!f)throw Error(c(189))}}if(a.alternate!==l)throw Error(c(190))}if(a.tag!==3)throw Error(c(188));return a.stateNode.current===a?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),X=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function xe(e){return e===null||typeof e!="object"?null:(e=re&&e[re]||e["@@iterator"],typeof e=="function"?e:null)}var te=Symbol.for("react.client.reference");function ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===te?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case v:return"Profiler";case A:return"StrictMode";case b:return"Suspense";case z:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case X:return e.displayName||"Context";case L:return(e._context.displayName||"Context")+".Consumer";case D:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return t=e.displayName||null,t!==null?t:ae(e.type)||"Memo";case V:t=e._payload,e=e._init;try{return ae(e(t))}catch{}}return null}var Ce=Array.isArray,Y=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ue=[],Ne=-1;function Qe(e){return{current:e}}function Re(e){0>Ne||(e.current=ue[Ne],ue[Ne]=null,Ne--)}function ge(e,t){Ne++,ue[Ne]=e.current,e.current=t}var Ve=Qe(null),bt=Qe(null),kt=Qe(null),la=Qe(null);function na(e,t){switch(ge(kt,t),ge(bt,e),ge(Ve,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?dh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=dh(t),e=fh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Re(Ve),ge(Ve,e)}function sa(){Re(Ve),Re(bt),Re(kt)}function xl(e){e.memoizedState!==null&&ge(la,e);var t=Ve.current,a=fh(t,e.type);t!==a&&(ge(bt,e),ge(Ve,a))}function $t(e){bt.current===e&&(Re(Ve),Re(bt)),la.current===e&&(Re(la),Ms._currentValue=W)}var Ql,Xn;function fe(e){if(Ql===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Ql=t&&t[1]||"",Xn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ql+e+Xn}var Zl=!1;function Fl(e,t){if(!e||Zl)return"";Zl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var k=q}Reflect.construct(e,[],F)}else{try{F.call()}catch(q){k=q}e.call(F.prototype)}}else{try{throw Error()}catch(q){k=q}(F=e())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&k&&typeof q.stack=="string")return[q.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=l.DetermineComponentFrameRoot(),f=i[0],x=i[1];if(f&&x){var S=f.split(`
`),B=x.split(`
`);for(r=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;r<B.length&&!B[r].includes("DetermineComponentFrameRoot");)r++;if(l===S.length||r===B.length)for(l=S.length-1,r=B.length-1;1<=l&&0<=r&&S[l]!==B[r];)r--;for(;1<=l&&0<=r;l--,r--)if(S[l]!==B[r]){if(l!==1||r!==1)do if(l--,r--,0>r||S[l]!==B[r]){var G=`
`+S[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=r);break}}}finally{Zl=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?fe(a):""}function Vn(e,t){switch(e.tag){case 26:case 27:case 5:return fe(e.type);case 16:return fe("Lazy");case 13:return e.child!==t&&t!==null?fe("Suspense Fallback"):fe("Suspense");case 19:return fe("SuspenseList");case 0:case 15:return Fl(e.type,!1);case 11:return Fl(e.type.render,!1);case 1:return Fl(e.type,!0);case 31:return fe("Activity");default:return""}}function Ks(e){try{var t="",a=null;do t+=Vn(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Gn=Object.prototype.hasOwnProperty,ra=s.unstable_scheduleCallback,Kl=s.unstable_cancelCallback,Xi=s.unstable_shouldYield,gl=s.unstable_requestPaint,pt=s.unstable_now,Js=s.unstable_getCurrentPriorityLevel,Is=s.unstable_ImmediatePriority,$s=s.unstable_UserBlockingPriority,ga=s.unstable_NormalPriority,Vi=s.unstable_LowPriority,Qn=s.unstable_IdlePriority,Gi=s.log,vl=s.unstable_setDisableYieldValue,Ha=null,xt=null;function ia(e){if(typeof Gi=="function"&&vl(e),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(Ha,e)}catch{}}var gt=Math.clz32?Math.clz32:de,Qi=Math.log,Zi=Math.LN2;function de(e){return e>>>=0,e===0?32:31-(Qi(e)/Zi|0)|0}var Se=256,Ae=262144,ve=4194304;function Me(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function lt(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var r=0,i=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var x=l&134217727;return x!==0?(l=x&~i,l!==0?r=Me(l):(f&=x,f!==0?r=Me(f):a||(a=x&~e,a!==0&&(r=Me(a))))):(x=l&~i,x!==0?r=Me(x):f!==0?r=Me(f):a||(a=l&~e,a!==0&&(r=Me(a)))),r===0?0:t!==0&&t!==r&&(t&i)===0&&(i=r&-r,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:r}function Ke(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ca(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yt(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function Wt(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Nt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ht(e,t,a,l,r,i){var f=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var x=e.entanglements,S=e.expirationTimes,B=e.hiddenUpdates;for(a=f&~a;0<a;){var G=31-gt(a),F=1<<G;x[G]=0,S[G]=-1;var k=B[G];if(k!==null)for(B[G]=null,G=0;G<k.length;G++){var q=k[G];q!==null&&(q.lane&=-536870913)}a&=~F}l!==0&&bl(e,l,0),i!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=i&~(f&~t))}function bl(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-gt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Zn(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-gt(a),r=1<<l;r&t|e[l]&t&&(e[l]|=t),a&=~r}}function Ku(e,t){var a=t&-t;return a=(a&42)!==0?1:Fi(a),(a&(e.suspendedLanes|t))!==0?0:a}function Fi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ki(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ju(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:Lh(e.type))}function Iu(e,t){var a=H.p;try{return H.p=e,t()}finally{H.p=a}}var qa=Math.random().toString(36).slice(2),ct="__reactFiber$"+qa,jt="__reactProps$"+qa,Jl="__reactContainer$"+qa,Ji="__reactEvents$"+qa,Jx="__reactListeners$"+qa,Ix="__reactHandles$"+qa,$u="__reactResources$"+qa,Fn="__reactMarker$"+qa;function Ii(e){delete e[ct],delete e[jt],delete e[Ji],delete e[Jx],delete e[Ix]}function Il(e){var t=e[ct];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Jl]||a[ct]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=bh(e);e!==null;){if(a=e[ct])return a;e=bh(e)}return t}e=a,a=e.parentNode}return null}function $l(e){if(e=e[ct]||e[Jl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Kn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function Wl(e){var t=e[$u];return t||(t=e[$u]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function rt(e){e[Fn]=!0}var Wu=new Set,Pu={};function yl(e,t){Pl(e,t),Pl(e+"Capture",t)}function Pl(e,t){for(Pu[e]=t,e=0;e<t.length;e++)Wu.add(t[e])}var $x=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ed={},td={};function Wx(e){return Gn.call(td,e)?!0:Gn.call(ed,e)?!1:$x.test(e)?td[e]=!0:(ed[e]=!0,!1)}function Ws(e,t,a){if(Wx(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ps(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function va(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ad(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Px(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var r=l.get,i=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(f){a=""+f,i.call(this,f)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(f){a=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $i(e){if(!e._valueTracker){var t=ad(e)?"checked":"value";e._valueTracker=Px(e,t,""+e[t])}}function ld(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=ad(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function er(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var e0=/[\n"\\]/g;function Yt(e){return e.replace(e0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Wi(e,t,a,l,r,i,f,x){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+qt(t)):e.value!==""+qt(t)&&(e.value=""+qt(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?Pi(e,f,qt(t)):a!=null?Pi(e,f,qt(a)):l!=null&&e.removeAttribute("value"),r==null&&i!=null&&(e.defaultChecked=!!i),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+qt(x):e.removeAttribute("name")}function nd(e,t,a,l,r,i,f,x){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){$i(e);return}a=a!=null?""+qt(a):"",t=t!=null?""+qt(t):a,x||t===e.value||(e.value=t),e.defaultValue=t}l=l??r,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=x?e.checked:!!l,e.defaultChecked=!!l,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),$i(e)}function Pi(e,t,a){t==="number"&&er(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function en(e,t,a,l){if(e=e.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<e.length;a++)r=t.hasOwnProperty("$"+e[a].value),e[a].selected!==r&&(e[a].selected=r),r&&l&&(e[a].defaultSelected=!0)}else{for(a=""+qt(a),t=null,r=0;r<e.length;r++){if(e[r].value===a){e[r].selected=!0,l&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function sd(e,t,a){if(t!=null&&(t=""+qt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+qt(a):""}function rd(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(c(92));if(Ce(l)){if(1<l.length)throw Error(c(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=qt(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),$i(e)}function tn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var t0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function id(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||t0.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function cd(e,t,a){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var r in t)l=t[r],t.hasOwnProperty(r)&&a[r]!==l&&id(e,r,l)}else for(var i in t)t.hasOwnProperty(i)&&id(e,i,t[i])}function ec(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),l0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tr(e){return l0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ba(){}var tc=null;function ac(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var an=null,ln=null;function od(e){var t=$l(e);if(t&&(e=t.stateNode)){var a=e[jt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Wi(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Yt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var r=l[jt]||null;if(!r)throw Error(c(90));Wi(l,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&ld(l)}break e;case"textarea":sd(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&en(e,!!a.multiple,t,!1)}}}var lc=!1;function ud(e,t,a){if(lc)return e(t,a);lc=!0;try{var l=e(t);return l}finally{if(lc=!1,(an!==null||ln!==null)&&(Xr(),an&&(t=an,e=ln,ln=an=null,od(t),e)))for(t=0;t<e.length;t++)od(e[t])}}function Jn(e,t){var a=e.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(c(231,t,typeof a));return a}var ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nc=!1;if(ya)try{var In={};Object.defineProperty(In,"passive",{get:function(){nc=!0}}),window.addEventListener("test",In,In),window.removeEventListener("test",In,In)}catch{nc=!1}var Ya=null,sc=null,ar=null;function dd(){if(ar)return ar;var e,t=sc,a=t.length,l,r="value"in Ya?Ya.value:Ya.textContent,i=r.length;for(e=0;e<a&&t[e]===r[e];e++);var f=a-e;for(l=1;l<=f&&t[a-l]===r[i-l];l++);return ar=r.slice(e,1<l?1-l:void 0)}function lr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nr(){return!0}function fd(){return!1}function wt(e){function t(a,l,r,i,f){this._reactName=a,this._targetInst=r,this.type=l,this.nativeEvent=i,this.target=f,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(a=e[x],this[x]=a?a(i):i[x]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?nr:fd,this.isPropagationStopped=fd,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),t}var Nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sr=wt(Nl),$n=y({},Nl,{view:0,detail:0}),n0=wt($n),rc,ic,Wn,rr=y({},$n,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wn&&(Wn&&e.type==="mousemove"?(rc=e.screenX-Wn.screenX,ic=e.screenY-Wn.screenY):ic=rc=0,Wn=e),rc)},movementY:function(e){return"movementY"in e?e.movementY:ic}}),md=wt(rr),s0=y({},rr,{dataTransfer:0}),r0=wt(s0),i0=y({},$n,{relatedTarget:0}),cc=wt(i0),c0=y({},Nl,{animationName:0,elapsedTime:0,pseudoElement:0}),o0=wt(c0),u0=y({},Nl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),d0=wt(u0),f0=y({},Nl,{data:0}),hd=wt(f0),m0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=p0[e])?!!t[e]:!1}function oc(){return x0}var g0=y({},$n,{key:function(e){if(e.key){var t=m0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=lr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?h0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oc,charCode:function(e){return e.type==="keypress"?lr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),v0=wt(g0),b0=y({},rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pd=wt(b0),y0=y({},$n,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oc}),N0=wt(y0),j0=y({},Nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),w0=wt(j0),_0=y({},rr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),S0=wt(_0),C0=y({},Nl,{newState:0,oldState:0}),E0=wt(C0),T0=[9,13,27,32],uc=ya&&"CompositionEvent"in window,Pn=null;ya&&"documentMode"in document&&(Pn=document.documentMode);var A0=ya&&"TextEvent"in window&&!Pn,xd=ya&&(!uc||Pn&&8<Pn&&11>=Pn),gd=" ",vd=!1;function bd(e,t){switch(e){case"keyup":return T0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nn=!1;function D0(e,t){switch(e){case"compositionend":return yd(t);case"keypress":return t.which!==32?null:(vd=!0,gd);case"textInput":return e=t.data,e===gd&&vd?null:e;default:return null}}function R0(e,t){if(nn)return e==="compositionend"||!uc&&bd(e,t)?(e=dd(),ar=sc=Ya=null,nn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xd&&t.locale!=="ko"?null:t.data;default:return null}}var M0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!M0[e.type]:t==="textarea"}function jd(e,t,a,l){an?ln?ln.push(l):ln=[l]:an=l,t=Jr(t,"onChange"),0<t.length&&(a=new sr("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var es=null,ts=null;function O0(e){sh(e,0)}function ir(e){var t=Kn(e);if(ld(t))return e}function wd(e,t){if(e==="change")return t}var _d=!1;if(ya){var dc;if(ya){var fc="oninput"in document;if(!fc){var Sd=document.createElement("div");Sd.setAttribute("oninput","return;"),fc=typeof Sd.oninput=="function"}dc=fc}else dc=!1;_d=dc&&(!document.documentMode||9<document.documentMode)}function Cd(){es&&(es.detachEvent("onpropertychange",Ed),ts=es=null)}function Ed(e){if(e.propertyName==="value"&&ir(ts)){var t=[];jd(t,ts,e,ac(e)),ud(O0,t)}}function z0(e,t,a){e==="focusin"?(Cd(),es=t,ts=a,es.attachEvent("onpropertychange",Ed)):e==="focusout"&&Cd()}function L0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ir(ts)}function U0(e,t){if(e==="click")return ir(t)}function B0(e,t){if(e==="input"||e==="change")return ir(t)}function k0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:k0;function as(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var r=a[l];if(!Gn.call(t,r)||!Dt(e[r],t[r]))return!1}return!0}function Td(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ad(e,t){var a=Td(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Td(a)}}function Dd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=er(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=er(e.document)}return t}function mc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var H0=ya&&"documentMode"in document&&11>=document.documentMode,sn=null,hc=null,ls=null,pc=!1;function Md(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pc||sn==null||sn!==er(l)||(l=sn,"selectionStart"in l&&mc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ls&&as(ls,l)||(ls=l,l=Jr(hc,"onSelect"),0<l.length&&(t=new sr("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=sn)))}function jl(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var rn={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionrun:jl("Transition","TransitionRun"),transitionstart:jl("Transition","TransitionStart"),transitioncancel:jl("Transition","TransitionCancel"),transitionend:jl("Transition","TransitionEnd")},xc={},Od={};ya&&(Od=document.createElement("div").style,"AnimationEvent"in window||(delete rn.animationend.animation,delete rn.animationiteration.animation,delete rn.animationstart.animation),"TransitionEvent"in window||delete rn.transitionend.transition);function wl(e){if(xc[e])return xc[e];if(!rn[e])return e;var t=rn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Od)return xc[e]=t[a];return e}var zd=wl("animationend"),Ld=wl("animationiteration"),Ud=wl("animationstart"),q0=wl("transitionrun"),Y0=wl("transitionstart"),X0=wl("transitioncancel"),Bd=wl("transitionend"),kd=new Map,gc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gc.push("scrollEnd");function Pt(e,t){kd.set(e,t),yl(t,[e])}var cr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Xt=[],cn=0,vc=0;function or(){for(var e=cn,t=vc=cn=0;t<e;){var a=Xt[t];Xt[t++]=null;var l=Xt[t];Xt[t++]=null;var r=Xt[t];Xt[t++]=null;var i=Xt[t];if(Xt[t++]=null,l!==null&&r!==null){var f=l.pending;f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r}i!==0&&Hd(a,r,i)}}function ur(e,t,a,l){Xt[cn++]=e,Xt[cn++]=t,Xt[cn++]=a,Xt[cn++]=l,vc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function bc(e,t,a,l){return ur(e,t,a,l),dr(e)}function _l(e,t){return ur(e,null,null,t),dr(e)}function Hd(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var r=!1,i=e.return;i!==null;)i.childLanes|=a,l=i.alternate,l!==null&&(l.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(r=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,r&&t!==null&&(r=31-gt(a),e=i.hiddenUpdates,l=e[r],l===null?e[r]=[t]:l.push(t),t.lane=a|536870912),i):null}function dr(e){if(50<Ss)throw Ss=0,Ao=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var on={};function V0(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,t,a,l){return new V0(e,t,a,l)}function yc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Na(e,t){var a=e.alternate;return a===null?(a=Rt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function qd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function fr(e,t,a,l,r,i){var f=0;if(l=e,typeof e=="function")yc(e)&&(f=1);else if(typeof e=="string")f=Kg(e,a,Ve.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Q:return e=Rt(31,a,t,r),e.elementType=Q,e.lanes=i,e;case C:return Sl(a.children,r,i,t);case A:f=8,r|=24;break;case v:return e=Rt(12,a,t,r|2),e.elementType=v,e.lanes=i,e;case b:return e=Rt(13,a,t,r),e.elementType=b,e.lanes=i,e;case z:return e=Rt(19,a,t,r),e.elementType=z,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:f=10;break e;case L:f=9;break e;case D:f=11;break e;case O:f=14;break e;case V:f=16,l=null;break e}f=29,a=Error(c(130,e===null?"null":typeof e,"")),l=null}return t=Rt(f,a,t,r),t.elementType=e,t.type=l,t.lanes=i,t}function Sl(e,t,a,l){return e=Rt(7,e,l,t),e.lanes=a,e}function Nc(e,t,a){return e=Rt(6,e,null,t),e.lanes=a,e}function Yd(e){var t=Rt(18,null,null,0);return t.stateNode=e,t}function jc(e,t,a){return t=Rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Xd=new WeakMap;function Vt(e,t){if(typeof e=="object"&&e!==null){var a=Xd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Ks(t)},Xd.set(e,t),t)}return{value:e,source:t,stack:Ks(t)}}var un=[],dn=0,mr=null,ns=0,Gt=[],Qt=0,Xa=null,oa=1,ua="";function ja(e,t){un[dn++]=ns,un[dn++]=mr,mr=e,ns=t}function Vd(e,t,a){Gt[Qt++]=oa,Gt[Qt++]=ua,Gt[Qt++]=Xa,Xa=e;var l=oa;e=ua;var r=32-gt(l)-1;l&=~(1<<r),a+=1;var i=32-gt(t)+r;if(30<i){var f=r-r%5;i=(l&(1<<f)-1).toString(32),l>>=f,r-=f,oa=1<<32-gt(t)+r|a<<r|l,ua=i+e}else oa=1<<i|a<<r|l,ua=e}function wc(e){e.return!==null&&(ja(e,1),Vd(e,1,0))}function _c(e){for(;e===mr;)mr=un[--dn],un[dn]=null,ns=un[--dn],un[dn]=null;for(;e===Xa;)Xa=Gt[--Qt],Gt[Qt]=null,ua=Gt[--Qt],Gt[Qt]=null,oa=Gt[--Qt],Gt[Qt]=null}function Gd(e,t){Gt[Qt++]=oa,Gt[Qt++]=ua,Gt[Qt++]=Xa,oa=t.id,ua=t.overflow,Xa=e}var ot=null,qe=null,_e=!1,Va=null,Zt=!1,Sc=Error(c(519));function Ga(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ss(Vt(t,e)),Sc}function Qd(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[ct]=e,t[jt]=l,a){case"dialog":ye("cancel",t),ye("close",t);break;case"iframe":case"object":case"embed":ye("load",t);break;case"video":case"audio":for(a=0;a<Es.length;a++)ye(Es[a],t);break;case"source":ye("error",t);break;case"img":case"image":case"link":ye("error",t),ye("load",t);break;case"details":ye("toggle",t);break;case"input":ye("invalid",t),nd(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ye("invalid",t);break;case"textarea":ye("invalid",t),rd(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||oh(t.textContent,a)?(l.popover!=null&&(ye("beforetoggle",t),ye("toggle",t)),l.onScroll!=null&&ye("scroll",t),l.onScrollEnd!=null&&ye("scrollend",t),l.onClick!=null&&(t.onclick=ba),t=!0):t=!1,t||Ga(e,!0)}function Zd(e){for(ot=e.return;ot;)switch(ot.tag){case 5:case 31:case 13:Zt=!1;return;case 27:case 3:Zt=!0;return;default:ot=ot.return}}function fn(e){if(e!==ot)return!1;if(!_e)return Zd(e),_e=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Go(e.type,e.memoizedProps)),a=!a),a&&qe&&Ga(e),Zd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));qe=vh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));qe=vh(e)}else t===27?(t=qe,nl(e.type)?(e=Jo,Jo=null,qe=e):qe=t):qe=ot?Kt(e.stateNode.nextSibling):null;return!0}function Cl(){qe=ot=null,_e=!1}function Cc(){var e=Va;return e!==null&&(Et===null?Et=e:Et.push.apply(Et,e),Va=null),e}function ss(e){Va===null?Va=[e]:Va.push(e)}var Ec=Qe(null),El=null,wa=null;function Qa(e,t,a){ge(Ec,t._currentValue),t._currentValue=a}function _a(e){e._currentValue=Ec.current,Re(Ec)}function Tc(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function Ac(e,t,a,l){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var i=r.dependencies;if(i!==null){var f=r.child;i=i.firstContext;e:for(;i!==null;){var x=i;i=r;for(var S=0;S<t.length;S++)if(x.context===t[S]){i.lanes|=a,x=i.alternate,x!==null&&(x.lanes|=a),Tc(i.return,a,e),l||(f=null);break e}i=x.next}}else if(r.tag===18){if(f=r.return,f===null)throw Error(c(341));f.lanes|=a,i=f.alternate,i!==null&&(i.lanes|=a),Tc(f,a,e),f=null}else f=r.child;if(f!==null)f.return=r;else for(f=r;f!==null;){if(f===e){f=null;break}if(r=f.sibling,r!==null){r.return=f.return,f=r;break}f=f.return}r=f}}function mn(e,t,a,l){e=null;for(var r=t,i=!1;r!==null;){if(!i){if((r.flags&524288)!==0)i=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var f=r.alternate;if(f===null)throw Error(c(387));if(f=f.memoizedProps,f!==null){var x=r.type;Dt(r.pendingProps.value,f.value)||(e!==null?e.push(x):e=[x])}}else if(r===la.current){if(f=r.alternate,f===null)throw Error(c(387));f.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Ms):e=[Ms])}r=r.return}e!==null&&Ac(t,e,a,l),t.flags|=262144}function hr(e){for(e=e.firstContext;e!==null;){if(!Dt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Tl(e){El=e,wa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ut(e){return Fd(El,e)}function pr(e,t){return El===null&&Tl(e),Fd(e,t)}function Fd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},wa===null){if(e===null)throw Error(c(308));wa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else wa=wa.next=t;return a}var G0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Q0=s.unstable_scheduleCallback,Z0=s.unstable_NormalPriority,$e={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dc(){return{controller:new G0,data:new Map,refCount:0}}function rs(e){e.refCount--,e.refCount===0&&Q0(Z0,function(){e.controller.abort()})}var is=null,Rc=0,hn=0,pn=null;function F0(e,t){if(is===null){var a=is=[];Rc=0,hn=Lo(),pn={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Rc++,t.then(Kd,Kd),t}function Kd(){if(--Rc===0&&is!==null){pn!==null&&(pn.status="fulfilled");var e=is;is=null,hn=0,pn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function K0(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(r){a.push(r)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var r=0;r<a.length;r++)(0,a[r])(t)},function(r){for(l.status="rejected",l.reason=r,r=0;r<a.length;r++)(0,a[r])(void 0)}),l}var Jd=Y.S;Y.S=function(e,t){Om=pt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&F0(e,t),Jd!==null&&Jd(e,t)};var Al=Qe(null);function Mc(){var e=Al.current;return e!==null?e:ke.pooledCache}function xr(e,t){t===null?ge(Al,Al.current):ge(Al,t.pool)}function Id(){var e=Mc();return e===null?null:{parent:$e._currentValue,pool:e}}var xn=Error(c(460)),Oc=Error(c(474)),gr=Error(c(542)),vr={then:function(){}};function $d(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Wd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ba,ba),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ef(e),e;default:if(typeof t.status=="string")t.then(ba,ba);else{if(e=ke,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=l}},function(l){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ef(e),e}throw Rl=t,xn}}function Dl(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Rl=a,xn):a}}var Rl=null;function Pd(){if(Rl===null)throw Error(c(459));var e=Rl;return Rl=null,e}function ef(e){if(e===xn||e===gr)throw Error(c(483))}var gn=null,cs=0;function br(e){var t=cs;return cs+=1,gn===null&&(gn=[]),Wd(gn,e,t)}function os(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function yr(e,t){throw t.$$typeof===w?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function tf(e){function t(R,E){if(e){var U=R.deletions;U===null?(R.deletions=[E],R.flags|=16):U.push(E)}}function a(R,E){if(!e)return null;for(;E!==null;)t(R,E),E=E.sibling;return null}function l(R){for(var E=new Map;R!==null;)R.key!==null?E.set(R.key,R):E.set(R.index,R),R=R.sibling;return E}function r(R,E){return R=Na(R,E),R.index=0,R.sibling=null,R}function i(R,E,U){return R.index=U,e?(U=R.alternate,U!==null?(U=U.index,U<E?(R.flags|=67108866,E):U):(R.flags|=67108866,E)):(R.flags|=1048576,E)}function f(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function x(R,E,U,Z){return E===null||E.tag!==6?(E=Nc(U,R.mode,Z),E.return=R,E):(E=r(E,U),E.return=R,E)}function S(R,E,U,Z){var ie=U.type;return ie===C?G(R,E,U.props.children,Z,U.key):E!==null&&(E.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===V&&Dl(ie)===E.type)?(E=r(E,U.props),os(E,U),E.return=R,E):(E=fr(U.type,U.key,U.props,null,R.mode,Z),os(E,U),E.return=R,E)}function B(R,E,U,Z){return E===null||E.tag!==4||E.stateNode.containerInfo!==U.containerInfo||E.stateNode.implementation!==U.implementation?(E=jc(U,R.mode,Z),E.return=R,E):(E=r(E,U.children||[]),E.return=R,E)}function G(R,E,U,Z,ie){return E===null||E.tag!==7?(E=Sl(U,R.mode,Z,ie),E.return=R,E):(E=r(E,U),E.return=R,E)}function F(R,E,U){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Nc(""+E,R.mode,U),E.return=R,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case T:return U=fr(E.type,E.key,E.props,null,R.mode,U),os(U,E),U.return=R,U;case M:return E=jc(E,R.mode,U),E.return=R,E;case V:return E=Dl(E),F(R,E,U)}if(Ce(E)||xe(E))return E=Sl(E,R.mode,U,null),E.return=R,E;if(typeof E.then=="function")return F(R,br(E),U);if(E.$$typeof===X)return F(R,pr(R,E),U);yr(R,E)}return null}function k(R,E,U,Z){var ie=E!==null?E.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ie!==null?null:x(R,E,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case T:return U.key===ie?S(R,E,U,Z):null;case M:return U.key===ie?B(R,E,U,Z):null;case V:return U=Dl(U),k(R,E,U,Z)}if(Ce(U)||xe(U))return ie!==null?null:G(R,E,U,Z,null);if(typeof U.then=="function")return k(R,E,br(U),Z);if(U.$$typeof===X)return k(R,E,pr(R,U),Z);yr(R,U)}return null}function q(R,E,U,Z,ie){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return R=R.get(U)||null,x(E,R,""+Z,ie);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:return R=R.get(Z.key===null?U:Z.key)||null,S(E,R,Z,ie);case M:return R=R.get(Z.key===null?U:Z.key)||null,B(E,R,Z,ie);case V:return Z=Dl(Z),q(R,E,U,Z,ie)}if(Ce(Z)||xe(Z))return R=R.get(U)||null,G(E,R,Z,ie,null);if(typeof Z.then=="function")return q(R,E,U,br(Z),ie);if(Z.$$typeof===X)return q(R,E,U,pr(E,Z),ie);yr(E,Z)}return null}function ee(R,E,U,Z){for(var ie=null,Ee=null,le=E,pe=E=0,we=null;le!==null&&pe<U.length;pe++){le.index>pe?(we=le,le=null):we=le.sibling;var Te=k(R,le,U[pe],Z);if(Te===null){le===null&&(le=we);break}e&&le&&Te.alternate===null&&t(R,le),E=i(Te,E,pe),Ee===null?ie=Te:Ee.sibling=Te,Ee=Te,le=we}if(pe===U.length)return a(R,le),_e&&ja(R,pe),ie;if(le===null){for(;pe<U.length;pe++)le=F(R,U[pe],Z),le!==null&&(E=i(le,E,pe),Ee===null?ie=le:Ee.sibling=le,Ee=le);return _e&&ja(R,pe),ie}for(le=l(le);pe<U.length;pe++)we=q(le,R,pe,U[pe],Z),we!==null&&(e&&we.alternate!==null&&le.delete(we.key===null?pe:we.key),E=i(we,E,pe),Ee===null?ie=we:Ee.sibling=we,Ee=we);return e&&le.forEach(function(ol){return t(R,ol)}),_e&&ja(R,pe),ie}function ce(R,E,U,Z){if(U==null)throw Error(c(151));for(var ie=null,Ee=null,le=E,pe=E=0,we=null,Te=U.next();le!==null&&!Te.done;pe++,Te=U.next()){le.index>pe?(we=le,le=null):we=le.sibling;var ol=k(R,le,Te.value,Z);if(ol===null){le===null&&(le=we);break}e&&le&&ol.alternate===null&&t(R,le),E=i(ol,E,pe),Ee===null?ie=ol:Ee.sibling=ol,Ee=ol,le=we}if(Te.done)return a(R,le),_e&&ja(R,pe),ie;if(le===null){for(;!Te.done;pe++,Te=U.next())Te=F(R,Te.value,Z),Te!==null&&(E=i(Te,E,pe),Ee===null?ie=Te:Ee.sibling=Te,Ee=Te);return _e&&ja(R,pe),ie}for(le=l(le);!Te.done;pe++,Te=U.next())Te=q(le,R,pe,Te.value,Z),Te!==null&&(e&&Te.alternate!==null&&le.delete(Te.key===null?pe:Te.key),E=i(Te,E,pe),Ee===null?ie=Te:Ee.sibling=Te,Ee=Te);return e&&le.forEach(function(sv){return t(R,sv)}),_e&&ja(R,pe),ie}function Be(R,E,U,Z){if(typeof U=="object"&&U!==null&&U.type===C&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case T:e:{for(var ie=U.key;E!==null;){if(E.key===ie){if(ie=U.type,ie===C){if(E.tag===7){a(R,E.sibling),Z=r(E,U.props.children),Z.return=R,R=Z;break e}}else if(E.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===V&&Dl(ie)===E.type){a(R,E.sibling),Z=r(E,U.props),os(Z,U),Z.return=R,R=Z;break e}a(R,E);break}else t(R,E);E=E.sibling}U.type===C?(Z=Sl(U.props.children,R.mode,Z,U.key),Z.return=R,R=Z):(Z=fr(U.type,U.key,U.props,null,R.mode,Z),os(Z,U),Z.return=R,R=Z)}return f(R);case M:e:{for(ie=U.key;E!==null;){if(E.key===ie)if(E.tag===4&&E.stateNode.containerInfo===U.containerInfo&&E.stateNode.implementation===U.implementation){a(R,E.sibling),Z=r(E,U.children||[]),Z.return=R,R=Z;break e}else{a(R,E);break}else t(R,E);E=E.sibling}Z=jc(U,R.mode,Z),Z.return=R,R=Z}return f(R);case V:return U=Dl(U),Be(R,E,U,Z)}if(Ce(U))return ee(R,E,U,Z);if(xe(U)){if(ie=xe(U),typeof ie!="function")throw Error(c(150));return U=ie.call(U),ce(R,E,U,Z)}if(typeof U.then=="function")return Be(R,E,br(U),Z);if(U.$$typeof===X)return Be(R,E,pr(R,U),Z);yr(R,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,E!==null&&E.tag===6?(a(R,E.sibling),Z=r(E,U),Z.return=R,R=Z):(a(R,E),Z=Nc(U,R.mode,Z),Z.return=R,R=Z),f(R)):a(R,E)}return function(R,E,U,Z){try{cs=0;var ie=Be(R,E,U,Z);return gn=null,ie}catch(le){if(le===xn||le===gr)throw le;var Ee=Rt(29,le,null,R.mode);return Ee.lanes=Z,Ee.return=R,Ee}finally{}}}var Ml=tf(!0),af=tf(!1),Za=!1;function zc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ka(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(De&2)!==0){var r=l.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),l.pending=t,t=dr(e),Hd(e,null,a),t}return ur(e,l,t,a),dr(e)}function us(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Zn(e,a)}}function Uc(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var r=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var f={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?r=i=f:i=i.next=f,a=a.next}while(a!==null);i===null?r=i=t:i=i.next=t}else r=i=t;a={baseState:l.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Bc=!1;function ds(){if(Bc){var e=pn;if(e!==null)throw e}}function fs(e,t,a,l){Bc=!1;var r=e.updateQueue;Za=!1;var i=r.firstBaseUpdate,f=r.lastBaseUpdate,x=r.shared.pending;if(x!==null){r.shared.pending=null;var S=x,B=S.next;S.next=null,f===null?i=B:f.next=B,f=S;var G=e.alternate;G!==null&&(G=G.updateQueue,x=G.lastBaseUpdate,x!==f&&(x===null?G.firstBaseUpdate=B:x.next=B,G.lastBaseUpdate=S))}if(i!==null){var F=r.baseState;f=0,G=B=S=null,x=i;do{var k=x.lane&-536870913,q=k!==x.lane;if(q?(je&k)===k:(l&k)===k){k!==0&&k===hn&&(Bc=!0),G!==null&&(G=G.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ee=e,ce=x;k=t;var Be=a;switch(ce.tag){case 1:if(ee=ce.payload,typeof ee=="function"){F=ee.call(Be,F,k);break e}F=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=ce.payload,k=typeof ee=="function"?ee.call(Be,F,k):ee,k==null)break e;F=y({},F,k);break e;case 2:Za=!0}}k=x.callback,k!==null&&(e.flags|=64,q&&(e.flags|=8192),q=r.callbacks,q===null?r.callbacks=[k]:q.push(k))}else q={lane:k,tag:x.tag,payload:x.payload,callback:x.callback,next:null},G===null?(B=G=q,S=F):G=G.next=q,f|=k;if(x=x.next,x===null){if(x=r.shared.pending,x===null)break;q=x,x=q.next,q.next=null,r.lastBaseUpdate=q,r.shared.pending=null}}while(!0);G===null&&(S=F),r.baseState=S,r.firstBaseUpdate=B,r.lastBaseUpdate=G,i===null&&(r.shared.lanes=0),Pa|=f,e.lanes=f,e.memoizedState=F}}function lf(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function nf(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)lf(a[e],t)}var vn=Qe(null),Nr=Qe(0);function sf(e,t){e=Oa,ge(Nr,e),ge(vn,t),Oa=e|t.baseLanes}function kc(){ge(Nr,Oa),ge(vn,vn.current)}function Hc(){Oa=Nr.current,Re(vn),Re(Nr)}var Mt=Qe(null),Ft=null;function Ja(e){var t=e.alternate;ge(Je,Je.current&1),ge(Mt,e),Ft===null&&(t===null||vn.current!==null||t.memoizedState!==null)&&(Ft=e)}function qc(e){ge(Je,Je.current),ge(Mt,e),Ft===null&&(Ft=e)}function rf(e){e.tag===22?(ge(Je,Je.current),ge(Mt,e),Ft===null&&(Ft=e)):Ia()}function Ia(){ge(Je,Je.current),ge(Mt,Mt.current)}function Ot(e){Re(Mt),Ft===e&&(Ft=null),Re(Je)}var Je=Qe(0);function jr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Fo(a)||Ko(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sa=0,he=null,Le=null,We=null,wr=!1,bn=!1,Ol=!1,_r=0,ms=0,yn=null,J0=0;function Ze(){throw Error(c(321))}function Yc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Dt(e[a],t[a]))return!1;return!0}function Xc(e,t,a,l,r,i){return Sa=i,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Y.H=e===null||e.memoizedState===null?Gf:lo,Ol=!1,i=a(l,r),Ol=!1,bn&&(i=of(t,a,l,r)),cf(e),i}function cf(e){Y.H=xs;var t=Le!==null&&Le.next!==null;if(Sa=0,We=Le=he=null,wr=!1,ms=0,yn=null,t)throw Error(c(300));e===null||Pe||(e=e.dependencies,e!==null&&hr(e)&&(Pe=!0))}function of(e,t,a,l){he=e;var r=0;do{if(bn&&(yn=null),ms=0,bn=!1,25<=r)throw Error(c(301));if(r+=1,We=Le=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}Y.H=Qf,i=t(a,l)}while(bn);return i}function I0(){var e=Y.H,t=e.useState()[0];return t=typeof t.then=="function"?hs(t):t,e=e.useState()[0],(Le!==null?Le.memoizedState:null)!==e&&(he.flags|=1024),t}function Vc(){var e=_r!==0;return _r=0,e}function Gc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Qc(e){if(wr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}wr=!1}Sa=0,We=Le=he=null,bn=!1,ms=_r=0,yn=null}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?he.memoizedState=We=e:We=We.next=e,We}function Ie(){if(Le===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=We===null?he.memoizedState:We.next;if(t!==null)We=t,Le=e;else{if(e===null)throw he.alternate===null?Error(c(467)):Error(c(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},We===null?he.memoizedState=We=e:We=We.next=e}return We}function Sr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hs(e){var t=ms;return ms+=1,yn===null&&(yn=[]),e=Wd(yn,e,t),t=he,(We===null?t.memoizedState:We.next)===null&&(t=t.alternate,Y.H=t===null||t.memoizedState===null?Gf:lo),e}function Cr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return hs(e);if(e.$$typeof===X)return ut(e)}throw Error(c(438,String(e)))}function Zc(e){var t=null,a=he.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=he.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Sr(),he.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=J;return t.index++,a}function Ca(e,t){return typeof t=="function"?t(e):t}function Er(e){var t=Ie();return Fc(t,Le,e)}function Fc(e,t,a){var l=e.queue;if(l===null)throw Error(c(311));l.lastRenderedReducer=a;var r=e.baseQueue,i=l.pending;if(i!==null){if(r!==null){var f=r.next;r.next=i.next,i.next=f}t.baseQueue=r=i,l.pending=null}if(i=e.baseState,r===null)e.memoizedState=i;else{t=r.next;var x=f=null,S=null,B=t,G=!1;do{var F=B.lane&-536870913;if(F!==B.lane?(je&F)===F:(Sa&F)===F){var k=B.revertLane;if(k===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),F===hn&&(G=!0);else if((Sa&k)===k){B=B.next,k===hn&&(G=!0);continue}else F={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},S===null?(x=S=F,f=i):S=S.next=F,he.lanes|=k,Pa|=k;F=B.action,Ol&&a(i,F),i=B.hasEagerState?B.eagerState:a(i,F)}else k={lane:F,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},S===null?(x=S=k,f=i):S=S.next=k,he.lanes|=F,Pa|=F;B=B.next}while(B!==null&&B!==t);if(S===null?f=i:S.next=x,!Dt(i,e.memoizedState)&&(Pe=!0,G&&(a=pn,a!==null)))throw a;e.memoizedState=i,e.baseState=f,e.baseQueue=S,l.lastRenderedState=i}return r===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Kc(e){var t=Ie(),a=t.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=e;var l=a.dispatch,r=a.pending,i=t.memoizedState;if(r!==null){a.pending=null;var f=r=r.next;do i=e(i,f.action),f=f.next;while(f!==r);Dt(i,t.memoizedState)||(Pe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,l]}function uf(e,t,a){var l=he,r=Ie(),i=_e;if(i){if(a===void 0)throw Error(c(407));a=a()}else a=t();var f=!Dt((Le||r).memoizedState,a);if(f&&(r.memoizedState=a,Pe=!0),r=r.queue,$c(mf.bind(null,l,r,e),[e]),r.getSnapshot!==t||f||We!==null&&We.memoizedState.tag&1){if(l.flags|=2048,Nn(9,{destroy:void 0},ff.bind(null,l,r,a,t),null),ke===null)throw Error(c(349));i||(Sa&127)!==0||df(l,t,a)}return a}function df(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=he.updateQueue,t===null?(t=Sr(),he.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function ff(e,t,a,l){t.value=a,t.getSnapshot=l,hf(t)&&pf(e)}function mf(e,t,a){return a(function(){hf(t)&&pf(e)})}function hf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Dt(e,a)}catch{return!0}}function pf(e){var t=_l(e,2);t!==null&&Tt(t,e,2)}function Jc(e){var t=vt();if(typeof e=="function"){var a=e;if(e=a(),Ol){ia(!0);try{a()}finally{ia(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t}function xf(e,t,a,l){return e.baseState=a,Fc(e,Le,typeof l=="function"?l:Ca)}function $0(e,t,a,l,r){if(Dr(e))throw Error(c(485));if(e=t.action,e!==null){var i={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){i.listeners.push(f)}};Y.T!==null?a(!0):i.isTransition=!1,l(i),a=t.pending,a===null?(i.next=t.pending=i,gf(t,i)):(i.next=a.next,t.pending=a.next=i)}}function gf(e,t){var a=t.action,l=t.payload,r=e.state;if(t.isTransition){var i=Y.T,f={};Y.T=f;try{var x=a(r,l),S=Y.S;S!==null&&S(f,x),vf(e,t,x)}catch(B){Ic(e,t,B)}finally{i!==null&&f.types!==null&&(i.types=f.types),Y.T=i}}else try{i=a(r,l),vf(e,t,i)}catch(B){Ic(e,t,B)}}function vf(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){bf(e,t,l)},function(l){return Ic(e,t,l)}):bf(e,t,a)}function bf(e,t,a){t.status="fulfilled",t.value=a,yf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,gf(e,a)))}function Ic(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,yf(t),t=t.next;while(t!==l)}e.action=null}function yf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Nf(e,t){return t}function jf(e,t){if(_e){var a=ke.formState;if(a!==null){e:{var l=he;if(_e){if(qe){t:{for(var r=qe,i=Zt;r.nodeType!==8;){if(!i){r=null;break t}if(r=Kt(r.nextSibling),r===null){r=null;break t}}i=r.data,r=i==="F!"||i==="F"?r:null}if(r){qe=Kt(r.nextSibling),l=r.data==="F!";break e}}Ga(l)}l=!1}l&&(t=a[0])}}return a=vt(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nf,lastRenderedState:t},a.queue=l,a=Yf.bind(null,he,l),l.dispatch=a,l=Jc(!1),i=ao.bind(null,he,!1,l.queue),l=vt(),r={state:t,dispatch:null,action:e,pending:null},l.queue=r,a=$0.bind(null,he,r,i,a),r.dispatch=a,l.memoizedState=e,[t,a,!1]}function wf(e){var t=Ie();return _f(t,Le,e)}function _f(e,t,a){if(t=Fc(e,t,Nf)[0],e=Er(Ca)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=hs(t)}catch(f){throw f===xn?gr:f}else l=t;t=Ie();var r=t.queue,i=r.dispatch;return a!==t.memoizedState&&(he.flags|=2048,Nn(9,{destroy:void 0},W0.bind(null,r,a),null)),[l,i,e]}function W0(e,t){e.action=t}function Sf(e){var t=Ie(),a=Le;if(a!==null)return _f(t,a,e);Ie(),t=t.memoizedState,a=Ie();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Nn(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=he.updateQueue,t===null&&(t=Sr(),he.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function Cf(){return Ie().memoizedState}function Tr(e,t,a,l){var r=vt();he.flags|=e,r.memoizedState=Nn(1|t,{destroy:void 0},a,l===void 0?null:l)}function Ar(e,t,a,l){var r=Ie();l=l===void 0?null:l;var i=r.memoizedState.inst;Le!==null&&l!==null&&Yc(l,Le.memoizedState.deps)?r.memoizedState=Nn(t,i,a,l):(he.flags|=e,r.memoizedState=Nn(1|t,i,a,l))}function Ef(e,t){Tr(8390656,8,e,t)}function $c(e,t){Ar(2048,8,e,t)}function P0(e){he.flags|=4;var t=he.updateQueue;if(t===null)t=Sr(),he.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Tf(e){var t=Ie().memoizedState;return P0({ref:t,nextImpl:e}),function(){if((De&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function Af(e,t){return Ar(4,2,e,t)}function Df(e,t){return Ar(4,4,e,t)}function Rf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mf(e,t,a){a=a!=null?a.concat([e]):null,Ar(4,4,Rf.bind(null,t,e),a)}function Wc(){}function Of(e,t){var a=Ie();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&Yc(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function zf(e,t){var a=Ie();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&Yc(t,l[1]))return l[0];if(l=e(),Ol){ia(!0);try{e()}finally{ia(!1)}}return a.memoizedState=[l,t],l}function Pc(e,t,a){return a===void 0||(Sa&1073741824)!==0&&(je&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Lm(),he.lanes|=e,Pa|=e,a)}function Lf(e,t,a,l){return Dt(a,t)?a:vn.current!==null?(e=Pc(e,a,l),Dt(e,t)||(Pe=!0),e):(Sa&42)===0||(Sa&1073741824)!==0&&(je&261930)===0?(Pe=!0,e.memoizedState=a):(e=Lm(),he.lanes|=e,Pa|=e,t)}function Uf(e,t,a,l,r){var i=H.p;H.p=i!==0&&8>i?i:8;var f=Y.T,x={};Y.T=x,ao(e,!1,t,a);try{var S=r(),B=Y.S;if(B!==null&&B(x,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var G=K0(S,l);ps(e,t,G,Ut(e))}else ps(e,t,l,Ut(e))}catch(F){ps(e,t,{then:function(){},status:"rejected",reason:F},Ut())}finally{H.p=i,f!==null&&x.types!==null&&(f.types=x.types),Y.T=f}}function eg(){}function eo(e,t,a,l){if(e.tag!==5)throw Error(c(476));var r=Bf(e).queue;Uf(e,r,t,W,a===null?eg:function(){return kf(e),a(l)})}function Bf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:W},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function kf(e){var t=Bf(e);t.next===null&&(t=e.alternate.memoizedState),ps(e,t.next.queue,{},Ut())}function to(){return ut(Ms)}function Hf(){return Ie().memoizedState}function qf(){return Ie().memoizedState}function tg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ut();e=Fa(a);var l=Ka(t,e,a);l!==null&&(Tt(l,t,a),us(l,t,a)),t={cache:Dc()},e.payload=t;return}t=t.return}}function ag(e,t,a){var l=Ut();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Dr(e)?Xf(t,a):(a=bc(e,t,a,l),a!==null&&(Tt(a,e,l),Vf(a,t,l)))}function Yf(e,t,a){var l=Ut();ps(e,t,a,l)}function ps(e,t,a,l){var r={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Dr(e))Xf(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var f=t.lastRenderedState,x=i(f,a);if(r.hasEagerState=!0,r.eagerState=x,Dt(x,f))return ur(e,t,r,0),ke===null&&or(),!1}catch{}finally{}if(a=bc(e,t,r,l),a!==null)return Tt(a,e,l),Vf(a,t,l),!0}return!1}function ao(e,t,a,l){if(l={lane:2,revertLane:Lo(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Dr(e)){if(t)throw Error(c(479))}else t=bc(e,a,l,2),t!==null&&Tt(t,e,2)}function Dr(e){var t=e.alternate;return e===he||t!==null&&t===he}function Xf(e,t){bn=wr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Vf(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Zn(e,a)}}var xs={readContext:ut,use:Cr,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};xs.useEffectEvent=Ze;var Gf={readContext:ut,use:Cr,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:Ef,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Tr(4194308,4,Rf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Tr(4194308,4,e,t)},useInsertionEffect:function(e,t){Tr(4,2,e,t)},useMemo:function(e,t){var a=vt();t=t===void 0?null:t;var l=e();if(Ol){ia(!0);try{e()}finally{ia(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=vt();if(a!==void 0){var r=a(t);if(Ol){ia(!0);try{a(t)}finally{ia(!1)}}}else r=t;return l.memoizedState=l.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},l.queue=e,e=e.dispatch=ag.bind(null,he,e),[l.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:function(e){e=Jc(e);var t=e.queue,a=Yf.bind(null,he,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Wc,useDeferredValue:function(e,t){var a=vt();return Pc(a,e,t)},useTransition:function(){var e=Jc(!1);return e=Uf.bind(null,he,e.queue,!0,!1),vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=he,r=vt();if(_e){if(a===void 0)throw Error(c(407));a=a()}else{if(a=t(),ke===null)throw Error(c(349));(je&127)!==0||df(l,t,a)}r.memoizedState=a;var i={value:a,getSnapshot:t};return r.queue=i,Ef(mf.bind(null,l,i,e),[e]),l.flags|=2048,Nn(9,{destroy:void 0},ff.bind(null,l,i,a,t),null),a},useId:function(){var e=vt(),t=ke.identifierPrefix;if(_e){var a=ua,l=oa;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=_r++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=J0++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:to,useFormState:jf,useActionState:jf,useOptimistic:function(e){var t=vt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=ao.bind(null,he,!0,a),a.dispatch=t,[e,t]},useMemoCache:Zc,useCacheRefresh:function(){return vt().memoizedState=tg.bind(null,he)},useEffectEvent:function(e){var t=vt(),a={impl:e};return t.memoizedState=a,function(){if((De&2)!==0)throw Error(c(440));return a.impl.apply(void 0,arguments)}}},lo={readContext:ut,use:Cr,useCallback:Of,useContext:ut,useEffect:$c,useImperativeHandle:Mf,useInsertionEffect:Af,useLayoutEffect:Df,useMemo:zf,useReducer:Er,useRef:Cf,useState:function(){return Er(Ca)},useDebugValue:Wc,useDeferredValue:function(e,t){var a=Ie();return Lf(a,Le.memoizedState,e,t)},useTransition:function(){var e=Er(Ca)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:hs(e),t]},useSyncExternalStore:uf,useId:Hf,useHostTransitionStatus:to,useFormState:wf,useActionState:wf,useOptimistic:function(e,t){var a=Ie();return xf(a,Le,e,t)},useMemoCache:Zc,useCacheRefresh:qf};lo.useEffectEvent=Tf;var Qf={readContext:ut,use:Cr,useCallback:Of,useContext:ut,useEffect:$c,useImperativeHandle:Mf,useInsertionEffect:Af,useLayoutEffect:Df,useMemo:zf,useReducer:Kc,useRef:Cf,useState:function(){return Kc(Ca)},useDebugValue:Wc,useDeferredValue:function(e,t){var a=Ie();return Le===null?Pc(a,e,t):Lf(a,Le.memoizedState,e,t)},useTransition:function(){var e=Kc(Ca)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:hs(e),t]},useSyncExternalStore:uf,useId:Hf,useHostTransitionStatus:to,useFormState:Sf,useActionState:Sf,useOptimistic:function(e,t){var a=Ie();return Le!==null?xf(a,Le,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Zc,useCacheRefresh:qf};Qf.useEffectEvent=Tf;function no(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:y({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var so={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Ut(),r=Fa(l);r.payload=t,a!=null&&(r.callback=a),t=Ka(e,r,l),t!==null&&(Tt(t,e,l),us(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Ut(),r=Fa(l);r.tag=1,r.payload=t,a!=null&&(r.callback=a),t=Ka(e,r,l),t!==null&&(Tt(t,e,l),us(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ut(),l=Fa(a);l.tag=2,t!=null&&(l.callback=t),t=Ka(e,l,a),t!==null&&(Tt(t,e,a),us(t,e,a))}};function Zf(e,t,a,l,r,i,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,i,f):t.prototype&&t.prototype.isPureReactComponent?!as(a,l)||!as(r,i):!0}function Ff(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&so.enqueueReplaceState(t,t.state,null)}function zl(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=y({},a));for(var r in e)a[r]===void 0&&(a[r]=e[r])}return a}function Kf(e){cr(e)}function Jf(e){console.error(e)}function If(e){cr(e)}function Rr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function $f(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function ro(e,t,a){return a=Fa(a),a.tag=3,a.payload={element:null},a.callback=function(){Rr(e,t)},a}function Wf(e){return e=Fa(e),e.tag=3,e}function Pf(e,t,a,l){var r=a.type.getDerivedStateFromError;if(typeof r=="function"){var i=l.value;e.payload=function(){return r(i)},e.callback=function(){$f(t,a,l)}}var f=a.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){$f(t,a,l),typeof r!="function"&&(el===null?el=new Set([this]):el.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function lg(e,t,a,l,r){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&mn(t,a,r,!0),a=Mt.current,a!==null){switch(a.tag){case 31:case 13:return Ft===null?Vr():a.alternate===null&&Fe===0&&(Fe=3),a.flags&=-257,a.flags|=65536,a.lanes=r,l===vr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Mo(e,l,r)),!1;case 22:return a.flags|=65536,l===vr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Mo(e,l,r)),!1}throw Error(c(435,a.tag))}return Mo(e,l,r),Vr(),!1}if(_e)return t=Mt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,l!==Sc&&(e=Error(c(422),{cause:l}),ss(Vt(e,a)))):(l!==Sc&&(t=Error(c(423),{cause:l}),ss(Vt(t,a))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,l=Vt(l,a),r=ro(e.stateNode,l,r),Uc(e,r),Fe!==4&&(Fe=2)),!1;var i=Error(c(520),{cause:l});if(i=Vt(i,a),_s===null?_s=[i]:_s.push(i),Fe!==4&&(Fe=2),t===null)return!0;l=Vt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=r&-r,a.lanes|=e,e=ro(a.stateNode,l,e),Uc(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(el===null||!el.has(i))))return a.flags|=65536,r&=-r,a.lanes|=r,r=Wf(r),Pf(r,e,a,l),Uc(a,r),!1}a=a.return}while(a!==null);return!1}var io=Error(c(461)),Pe=!1;function dt(e,t,a,l){t.child=e===null?af(t,null,a,l):Ml(t,e.child,a,l)}function em(e,t,a,l,r){a=a.render;var i=t.ref;if("ref"in l){var f={};for(var x in l)x!=="ref"&&(f[x]=l[x])}else f=l;return Tl(t),l=Xc(e,t,a,f,i,r),x=Vc(),e!==null&&!Pe?(Gc(e,t,r),Ea(e,t,r)):(_e&&x&&wc(t),t.flags|=1,dt(e,t,l,r),t.child)}function tm(e,t,a,l,r){if(e===null){var i=a.type;return typeof i=="function"&&!yc(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,am(e,t,i,l,r)):(e=fr(a.type,null,l,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!xo(e,r)){var f=i.memoizedProps;if(a=a.compare,a=a!==null?a:as,a(f,l)&&e.ref===t.ref)return Ea(e,t,r)}return t.flags|=1,e=Na(i,l),e.ref=t.ref,e.return=t,t.child=e}function am(e,t,a,l,r){if(e!==null){var i=e.memoizedProps;if(as(i,l)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=l=i,xo(e,r))(e.flags&131072)!==0&&(Pe=!0);else return t.lanes=e.lanes,Ea(e,t,r)}return co(e,t,a,l,r)}function lm(e,t,a,l){var r=l.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(l=t.child=e.child,r=0;l!==null;)r=r|l.lanes|l.childLanes,l=l.sibling;l=r&~i}else l=0,t.child=null;return nm(e,t,i,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&xr(t,i!==null?i.cachePool:null),i!==null?sf(t,i):kc(),rf(t);else return l=t.lanes=536870912,nm(e,t,i!==null?i.baseLanes|a:a,a,l)}else i!==null?(xr(t,i.cachePool),sf(t,i),Ia(),t.memoizedState=null):(e!==null&&xr(t,null),kc(),Ia());return dt(e,t,r,a),t.child}function gs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function nm(e,t,a,l,r){var i=Mc();return i=i===null?null:{parent:$e._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&xr(t,null),kc(),rf(t),e!==null&&mn(e,t,l,!0),t.childLanes=r,null}function Mr(e,t){return t=zr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function sm(e,t,a){return Ml(t,e.child,null,a),e=Mr(t,t.pendingProps),e.flags|=2,Ot(t),t.memoizedState=null,e}function ng(e,t,a){var l=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(_e){if(l.mode==="hidden")return e=Mr(t,l),t.lanes=536870912,gs(null,e);if(qc(t),(e=qe)?(e=gh(e,Zt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Xa!==null?{id:oa,overflow:ua}:null,retryLane:536870912,hydrationErrors:null},a=Yd(e),a.return=t,t.child=a,ot=t,qe=null)):e=null,e===null)throw Ga(t);return t.lanes=536870912,null}return Mr(t,l)}var i=e.memoizedState;if(i!==null){var f=i.dehydrated;if(qc(t),r)if(t.flags&256)t.flags&=-257,t=sm(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(Pe||mn(e,t,a,!1),r=(a&e.childLanes)!==0,Pe||r){if(l=ke,l!==null&&(f=Ku(l,a),f!==0&&f!==i.retryLane))throw i.retryLane=f,_l(e,f),Tt(l,e,f),io;Vr(),t=sm(e,t,a)}else e=i.treeContext,qe=Kt(f.nextSibling),ot=t,_e=!0,Va=null,Zt=!1,e!==null&&Gd(t,e),t=Mr(t,l),t.flags|=4096;return t}return e=Na(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Or(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(c(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function co(e,t,a,l,r){return Tl(t),a=Xc(e,t,a,l,void 0,r),l=Vc(),e!==null&&!Pe?(Gc(e,t,r),Ea(e,t,r)):(_e&&l&&wc(t),t.flags|=1,dt(e,t,a,r),t.child)}function rm(e,t,a,l,r,i){return Tl(t),t.updateQueue=null,a=of(t,l,a,r),cf(e),l=Vc(),e!==null&&!Pe?(Gc(e,t,i),Ea(e,t,i)):(_e&&l&&wc(t),t.flags|=1,dt(e,t,a,i),t.child)}function im(e,t,a,l,r){if(Tl(t),t.stateNode===null){var i=on,f=a.contextType;typeof f=="object"&&f!==null&&(i=ut(f)),i=new a(l,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=so,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=l,i.state=t.memoizedState,i.refs={},zc(t),f=a.contextType,i.context=typeof f=="object"&&f!==null?ut(f):on,i.state=t.memoizedState,f=a.getDerivedStateFromProps,typeof f=="function"&&(no(t,a,f,l),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(f=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),f!==i.state&&so.enqueueReplaceState(i,i.state,null),fs(t,l,i,r),ds(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){i=t.stateNode;var x=t.memoizedProps,S=zl(a,x);i.props=S;var B=i.context,G=a.contextType;f=on,typeof G=="object"&&G!==null&&(f=ut(G));var F=a.getDerivedStateFromProps;G=typeof F=="function"||typeof i.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,G||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(x||B!==f)&&Ff(t,i,l,f),Za=!1;var k=t.memoizedState;i.state=k,fs(t,l,i,r),ds(),B=t.memoizedState,x||k!==B||Za?(typeof F=="function"&&(no(t,a,F,l),B=t.memoizedState),(S=Za||Zf(t,a,S,l,k,B,f))?(G||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=B),i.props=l,i.state=B,i.context=f,l=S):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,Lc(e,t),f=t.memoizedProps,G=zl(a,f),i.props=G,F=t.pendingProps,k=i.context,B=a.contextType,S=on,typeof B=="object"&&B!==null&&(S=ut(B)),x=a.getDerivedStateFromProps,(B=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(f!==F||k!==S)&&Ff(t,i,l,S),Za=!1,k=t.memoizedState,i.state=k,fs(t,l,i,r),ds();var q=t.memoizedState;f!==F||k!==q||Za||e!==null&&e.dependencies!==null&&hr(e.dependencies)?(typeof x=="function"&&(no(t,a,x,l),q=t.memoizedState),(G=Za||Zf(t,a,G,l,k,q,S)||e!==null&&e.dependencies!==null&&hr(e.dependencies))?(B||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,q,S),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,q,S)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||f===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=q),i.props=l,i.state=q,i.context=S,l=G):(typeof i.componentDidUpdate!="function"||f===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),l=!1)}return i=l,Or(e,t),l=(t.flags&128)!==0,i||l?(i=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&l?(t.child=Ml(t,e.child,null,r),t.child=Ml(t,null,a,r)):dt(e,t,a,r),t.memoizedState=i.state,e=t.child):e=Ea(e,t,r),e}function cm(e,t,a,l){return Cl(),t.flags|=256,dt(e,t,a,l),t.child}var oo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uo(e){return{baseLanes:e,cachePool:Id()}}function fo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Lt),e}function om(e,t,a){var l=t.pendingProps,r=!1,i=(t.flags&128)!==0,f;if((f=i)||(f=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),f&&(r=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(_e){if(r?Ja(t):Ia(),(e=qe)?(e=gh(e,Zt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Xa!==null?{id:oa,overflow:ua}:null,retryLane:536870912,hydrationErrors:null},a=Yd(e),a.return=t,t.child=a,ot=t,qe=null)):e=null,e===null)throw Ga(t);return Ko(e)?t.lanes=32:t.lanes=536870912,null}var x=l.children;return l=l.fallback,r?(Ia(),r=t.mode,x=zr({mode:"hidden",children:x},r),l=Sl(l,r,a,null),x.return=t,l.return=t,x.sibling=l,t.child=x,l=t.child,l.memoizedState=uo(a),l.childLanes=fo(e,f,a),t.memoizedState=oo,gs(null,l)):(Ja(t),mo(t,x))}var S=e.memoizedState;if(S!==null&&(x=S.dehydrated,x!==null)){if(i)t.flags&256?(Ja(t),t.flags&=-257,t=ho(e,t,a)):t.memoizedState!==null?(Ia(),t.child=e.child,t.flags|=128,t=null):(Ia(),x=l.fallback,r=t.mode,l=zr({mode:"visible",children:l.children},r),x=Sl(x,r,a,null),x.flags|=2,l.return=t,x.return=t,l.sibling=x,t.child=l,Ml(t,e.child,null,a),l=t.child,l.memoizedState=uo(a),l.childLanes=fo(e,f,a),t.memoizedState=oo,t=gs(null,l));else if(Ja(t),Ko(x)){if(f=x.nextSibling&&x.nextSibling.dataset,f)var B=f.dgst;f=B,l=Error(c(419)),l.stack="",l.digest=f,ss({value:l,source:null,stack:null}),t=ho(e,t,a)}else if(Pe||mn(e,t,a,!1),f=(a&e.childLanes)!==0,Pe||f){if(f=ke,f!==null&&(l=Ku(f,a),l!==0&&l!==S.retryLane))throw S.retryLane=l,_l(e,l),Tt(f,e,l),io;Fo(x)||Vr(),t=ho(e,t,a)}else Fo(x)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,qe=Kt(x.nextSibling),ot=t,_e=!0,Va=null,Zt=!1,e!==null&&Gd(t,e),t=mo(t,l.children),t.flags|=4096);return t}return r?(Ia(),x=l.fallback,r=t.mode,S=e.child,B=S.sibling,l=Na(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,B!==null?x=Na(B,x):(x=Sl(x,r,a,null),x.flags|=2),x.return=t,l.return=t,l.sibling=x,t.child=l,gs(null,l),l=t.child,x=e.child.memoizedState,x===null?x=uo(a):(r=x.cachePool,r!==null?(S=$e._currentValue,r=r.parent!==S?{parent:S,pool:S}:r):r=Id(),x={baseLanes:x.baseLanes|a,cachePool:r}),l.memoizedState=x,l.childLanes=fo(e,f,a),t.memoizedState=oo,gs(e.child,l)):(Ja(t),a=e.child,e=a.sibling,a=Na(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=a,t.memoizedState=null,a)}function mo(e,t){return t=zr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function zr(e,t){return e=Rt(22,e,null,t),e.lanes=0,e}function ho(e,t,a){return Ml(t,e.child,null,a),e=mo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function um(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Tc(e.return,t,a)}function po(e,t,a,l,r,i){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:r,treeForkCount:i}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=r,f.treeForkCount=i)}function dm(e,t,a){var l=t.pendingProps,r=l.revealOrder,i=l.tail;l=l.children;var f=Je.current,x=(f&2)!==0;if(x?(f=f&1|2,t.flags|=128):f&=1,ge(Je,f),dt(e,t,l,a),l=_e?ns:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&um(e,a,t);else if(e.tag===19)um(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(a=t.child,r=null;a!==null;)e=a.alternate,e!==null&&jr(e)===null&&(r=a),a=a.sibling;a=r,a===null?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),po(t,!1,r,a,i,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&jr(e)===null){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}po(t,!0,a,null,i,l);break;case"together":po(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function Ea(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Pa|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(mn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,a=Na(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Na(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function xo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&hr(e)))}function sg(e,t,a){switch(t.tag){case 3:na(t,t.stateNode.containerInfo),Qa(t,$e,e.memoizedState.cache),Cl();break;case 27:case 5:xl(t);break;case 4:na(t,t.stateNode.containerInfo);break;case 10:Qa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,qc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Ja(t),t.flags|=128,null):(a&t.child.childLanes)!==0?om(e,t,a):(Ja(t),e=Ea(e,t,a),e!==null?e.sibling:null);Ja(t);break;case 19:var r=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(mn(e,t,a,!1),l=(a&t.childLanes)!==0),r){if(l)return dm(e,t,a);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ge(Je,Je.current),l)break;return null;case 22:return t.lanes=0,lm(e,t,a,t.pendingProps);case 24:Qa(t,$e,e.memoizedState.cache)}return Ea(e,t,a)}function fm(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Pe=!0;else{if(!xo(e,a)&&(t.flags&128)===0)return Pe=!1,sg(e,t,a);Pe=(e.flags&131072)!==0}else Pe=!1,_e&&(t.flags&1048576)!==0&&Vd(t,ns,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Dl(t.elementType),t.type=e,typeof e=="function")yc(e)?(l=zl(e,l),t.tag=1,t=im(null,t,e,l,a)):(t.tag=0,t=co(null,t,e,l,a));else{if(e!=null){var r=e.$$typeof;if(r===D){t.tag=11,t=em(null,t,e,l,a);break e}else if(r===O){t.tag=14,t=tm(null,t,e,l,a);break e}}throw t=ae(e)||e,Error(c(306,t,""))}}return t;case 0:return co(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,r=zl(l,t.pendingProps),im(e,t,l,r,a);case 3:e:{if(na(t,t.stateNode.containerInfo),e===null)throw Error(c(387));l=t.pendingProps;var i=t.memoizedState;r=i.element,Lc(e,t),fs(t,l,null,a);var f=t.memoizedState;if(l=f.cache,Qa(t,$e,l),l!==i.cache&&Ac(t,[$e],a,!0),ds(),l=f.element,i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=cm(e,t,l,a);break e}else if(l!==r){r=Vt(Error(c(424)),t),ss(r),t=cm(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(qe=Kt(e.firstChild),ot=t,_e=!0,Va=null,Zt=!0,a=af(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Cl(),l===r){t=Ea(e,t,a);break e}dt(e,t,l,a)}t=t.child}return t;case 26:return Or(e,t),e===null?(a=wh(t.type,null,t.pendingProps,null))?t.memoizedState=a:_e||(a=t.type,e=t.pendingProps,l=Ir(kt.current).createElement(a),l[ct]=t,l[jt]=e,ft(l,a,e),rt(l),t.stateNode=l):t.memoizedState=wh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return xl(t),e===null&&_e&&(l=t.stateNode=yh(t.type,t.pendingProps,kt.current),ot=t,Zt=!0,r=qe,nl(t.type)?(Jo=r,qe=Kt(l.firstChild)):qe=r),dt(e,t,t.pendingProps.children,a),Or(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&_e&&((r=l=qe)&&(l=Lg(l,t.type,t.pendingProps,Zt),l!==null?(t.stateNode=l,ot=t,qe=Kt(l.firstChild),Zt=!1,r=!0):r=!1),r||Ga(t)),xl(t),r=t.type,i=t.pendingProps,f=e!==null?e.memoizedProps:null,l=i.children,Go(r,i)?l=null:f!==null&&Go(r,f)&&(t.flags|=32),t.memoizedState!==null&&(r=Xc(e,t,I0,null,null,a),Ms._currentValue=r),Or(e,t),dt(e,t,l,a),t.child;case 6:return e===null&&_e&&((e=a=qe)&&(a=Ug(a,t.pendingProps,Zt),a!==null?(t.stateNode=a,ot=t,qe=null,e=!0):e=!1),e||Ga(t)),null;case 13:return om(e,t,a);case 4:return na(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Ml(t,null,l,a):dt(e,t,l,a),t.child;case 11:return em(e,t,t.type,t.pendingProps,a);case 7:return dt(e,t,t.pendingProps,a),t.child;case 8:return dt(e,t,t.pendingProps.children,a),t.child;case 12:return dt(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,Qa(t,t.type,l.value),dt(e,t,l.children,a),t.child;case 9:return r=t.type._context,l=t.pendingProps.children,Tl(t),r=ut(r),l=l(r),t.flags|=1,dt(e,t,l,a),t.child;case 14:return tm(e,t,t.type,t.pendingProps,a);case 15:return am(e,t,t.type,t.pendingProps,a);case 19:return dm(e,t,a);case 31:return ng(e,t,a);case 22:return lm(e,t,a,t.pendingProps);case 24:return Tl(t),l=ut($e),e===null?(r=Mc(),r===null&&(r=ke,i=Dc(),r.pooledCache=i,i.refCount++,i!==null&&(r.pooledCacheLanes|=a),r=i),t.memoizedState={parent:l,cache:r},zc(t),Qa(t,$e,r)):((e.lanes&a)!==0&&(Lc(e,t),fs(t,null,null,a),ds()),r=e.memoizedState,i=t.memoizedState,r.parent!==l?(r={parent:l,cache:l},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Qa(t,$e,l)):(l=i.cache,Qa(t,$e,l),l!==r.cache&&Ac(t,[$e],a,!0))),dt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function Ta(e){e.flags|=4}function go(e,t,a,l,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(Hm())e.flags|=8192;else throw Rl=vr,Oc}else e.flags&=-16777217}function mm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Th(t))if(Hm())e.flags|=8192;else throw Rl=vr,Oc}function Lr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?yt():536870912,e.lanes|=t,Sn|=t)}function vs(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var r=e.child;r!==null;)a|=r.lanes|r.childLanes,l|=r.subtreeFlags&65011712,l|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)a|=r.lanes|r.childLanes,l|=r.subtreeFlags,l|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function rg(e,t,a){var l=t.pendingProps;switch(_c(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return Ye(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),_a($e),sa(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(fn(t)?Ta(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Cc())),Ye(t),null;case 26:var r=t.type,i=t.memoizedState;return e===null?(Ta(t),i!==null?(Ye(t),mm(t,i)):(Ye(t),go(t,r,null,l,a))):i?i!==e.memoizedState?(Ta(t),Ye(t),mm(t,i)):(Ye(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ta(t),Ye(t),go(t,r,e,l,a)),null;case 27:if($t(t),a=kt.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ta(t);else{if(!l){if(t.stateNode===null)throw Error(c(166));return Ye(t),null}e=Ve.current,fn(t)?Qd(t):(e=yh(r,l,a),t.stateNode=e,Ta(t))}return Ye(t),null;case 5:if($t(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ta(t);else{if(!l){if(t.stateNode===null)throw Error(c(166));return Ye(t),null}if(i=Ve.current,fn(t))Qd(t);else{var f=Ir(kt.current);switch(i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?f.createElement(r,{is:l.is}):f.createElement(r)}}i[ct]=t,i[jt]=l;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=i;e:switch(ft(i,r,l),r){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ta(t)}}return Ye(t),go(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Ta(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(c(166));if(e=kt.current,fn(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,r=ot,r!==null)switch(r.tag){case 27:case 5:l=r.memoizedProps}e[ct]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||oh(e.nodeValue,a)),e||Ga(t,!0)}else e=Ir(e).createTextNode(l),e[ct]=t,t.stateNode=e}return Ye(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=fn(t),a!==null){if(e===null){if(!l)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[ct]=t}else Cl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),e=!1}else a=Cc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Ot(t),t):(Ot(t),null);if((t.flags&128)!==0)throw Error(c(558))}return Ye(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=fn(t),l!==null&&l.dehydrated!==null){if(e===null){if(!r)throw Error(c(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(c(317));r[ct]=t}else Cl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),r=!1}else r=Cc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Ot(t),t):(Ot(t),null)}return Ot(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,r=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(r=l.alternate.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==r&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Lr(t,t.updateQueue),Ye(t),null);case 4:return sa(),e===null&&Ho(t.stateNode.containerInfo),Ye(t),null;case 10:return _a(t.type),Ye(t),null;case 19:if(Re(Je),l=t.memoizedState,l===null)return Ye(t),null;if(r=(t.flags&128)!==0,i=l.rendering,i===null)if(r)vs(l,!1);else{if(Fe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=jr(e),i!==null){for(t.flags|=128,vs(l,!1),e=i.updateQueue,t.updateQueue=e,Lr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)qd(a,e),a=a.sibling;return ge(Je,Je.current&1|2),_e&&ja(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&pt()>qr&&(t.flags|=128,r=!0,vs(l,!1),t.lanes=4194304)}else{if(!r)if(e=jr(i),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Lr(t,e),vs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!_e)return Ye(t),null}else 2*pt()-l.renderingStartTime>qr&&a!==536870912&&(t.flags|=128,r=!0,vs(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(e=l.last,e!==null?e.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=pt(),e.sibling=null,a=Je.current,ge(Je,r?a&1|2:a&1),_e&&ja(t,l.treeForkCount),e):(Ye(t),null);case 22:case 23:return Ot(t),Hc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),a=t.updateQueue,a!==null&&Lr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&Re(Al),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),_a($e),Ye(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function ig(e,t){switch(_c(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _a($e),sa(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return $t(t),null;case 31:if(t.memoizedState!==null){if(Ot(t),t.alternate===null)throw Error(c(340));Cl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ot(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));Cl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Re(Je),null;case 4:return sa(),null;case 10:return _a(t.type),null;case 22:case 23:return Ot(t),Hc(),e!==null&&Re(Al),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return _a($e),null;case 25:return null;default:return null}}function hm(e,t){switch(_c(t),t.tag){case 3:_a($e),sa();break;case 26:case 27:case 5:$t(t);break;case 4:sa();break;case 31:t.memoizedState!==null&&Ot(t);break;case 13:Ot(t);break;case 19:Re(Je);break;case 10:_a(t.type);break;case 22:case 23:Ot(t),Hc(),e!==null&&Re(Al);break;case 24:_a($e)}}function bs(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var r=l.next;a=r;do{if((a.tag&e)===e){l=void 0;var i=a.create,f=a.inst;l=i(),f.destroy=l}a=a.next}while(a!==r)}}catch(x){ze(t,t.return,x)}}function $a(e,t,a){try{var l=t.updateQueue,r=l!==null?l.lastEffect:null;if(r!==null){var i=r.next;l=i;do{if((l.tag&e)===e){var f=l.inst,x=f.destroy;if(x!==void 0){f.destroy=void 0,r=t;var S=a,B=x;try{B()}catch(G){ze(r,S,G)}}}l=l.next}while(l!==i)}}catch(G){ze(t,t.return,G)}}function pm(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{nf(t,a)}catch(l){ze(e,e.return,l)}}}function xm(e,t,a){a.props=zl(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ze(e,t,l)}}function ys(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(r){ze(e,t,r)}}function da(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(r){ze(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(r){ze(e,t,r)}else a.current=null}function gm(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(r){ze(e,e.return,r)}}function vo(e,t,a){try{var l=e.stateNode;Ag(l,e.type,a,t),l[jt]=t}catch(r){ze(e,e.return,r)}}function vm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&nl(e.type)||e.tag===4}function bo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&nl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yo(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ba));else if(l!==4&&(l===27&&nl(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(yo(e,t,a),e=e.sibling;e!==null;)yo(e,t,a),e=e.sibling}function Ur(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&nl(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ur(e,t,a),e=e.sibling;e!==null;)Ur(e,t,a),e=e.sibling}function bm(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ft(t,l,a),t[ct]=e,t[jt]=a}catch(i){ze(e,e.return,i)}}var Aa=!1,et=!1,No=!1,ym=typeof WeakSet=="function"?WeakSet:Set,it=null;function cg(e,t){if(e=e.containerInfo,Xo=li,e=Rd(e),mc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var r=l.anchorOffset,i=l.focusNode;l=l.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var f=0,x=-1,S=-1,B=0,G=0,F=e,k=null;t:for(;;){for(var q;F!==a||r!==0&&F.nodeType!==3||(x=f+r),F!==i||l!==0&&F.nodeType!==3||(S=f+l),F.nodeType===3&&(f+=F.nodeValue.length),(q=F.firstChild)!==null;)k=F,F=q;for(;;){if(F===e)break t;if(k===a&&++B===r&&(x=f),k===i&&++G===l&&(S=f),(q=F.nextSibling)!==null)break;F=k,k=F.parentNode}F=q}a=x===-1||S===-1?null:{start:x,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vo={focusedElem:e,selectionRange:a},li=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){switch(t=it,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)r=e[a],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,r=i.memoizedProps,i=i.memoizedState,l=a.stateNode;try{var ee=zl(a.type,r);e=l.getSnapshotBeforeUpdate(ee,i),l.__reactInternalSnapshotBeforeUpdate=e}catch(ce){ze(a,a.return,ce)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Zo(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}}function Nm(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ra(e,a),l&4&&bs(5,a);break;case 1:if(Ra(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(f){ze(a,a.return,f)}else{var r=zl(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){ze(a,a.return,f)}}l&64&&pm(a),l&512&&ys(a,a.return);break;case 3:if(Ra(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{nf(e,t)}catch(f){ze(a,a.return,f)}}break;case 27:t===null&&l&4&&bm(a);case 26:case 5:Ra(e,a),t===null&&l&4&&gm(a),l&512&&ys(a,a.return);break;case 12:Ra(e,a);break;case 31:Ra(e,a),l&4&&_m(e,a);break;case 13:Ra(e,a),l&4&&Sm(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=gg.bind(null,a),Bg(e,a))));break;case 22:if(l=a.memoizedState!==null||Aa,!l){t=t!==null&&t.memoizedState!==null||et,r=Aa;var i=et;Aa=l,(et=t)&&!i?Ma(e,a,(a.subtreeFlags&8772)!==0):Ra(e,a),Aa=r,et=i}break;case 30:break;default:Ra(e,a)}}function jm(e){var t=e.alternate;t!==null&&(e.alternate=null,jm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ii(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xe=null,_t=!1;function Da(e,t,a){for(a=a.child;a!==null;)wm(e,t,a),a=a.sibling}function wm(e,t,a){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(Ha,a)}catch{}switch(a.tag){case 26:et||da(a,t),Da(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:et||da(a,t);var l=Xe,r=_t;nl(a.type)&&(Xe=a.stateNode,_t=!1),Da(e,t,a),As(a.stateNode),Xe=l,_t=r;break;case 5:et||da(a,t);case 6:if(l=Xe,r=_t,Xe=null,Da(e,t,a),Xe=l,_t=r,Xe!==null)if(_t)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(a.stateNode)}catch(i){ze(a,t,i)}else try{Xe.removeChild(a.stateNode)}catch(i){ze(a,t,i)}break;case 18:Xe!==null&&(_t?(e=Xe,ph(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),On(e)):ph(Xe,a.stateNode));break;case 4:l=Xe,r=_t,Xe=a.stateNode.containerInfo,_t=!0,Da(e,t,a),Xe=l,_t=r;break;case 0:case 11:case 14:case 15:$a(2,a,t),et||$a(4,a,t),Da(e,t,a);break;case 1:et||(da(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&xm(a,t,l)),Da(e,t,a);break;case 21:Da(e,t,a);break;case 22:et=(l=et)||a.memoizedState!==null,Da(e,t,a),et=l;break;default:Da(e,t,a)}}function _m(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{On(e)}catch(a){ze(t,t.return,a)}}}function Sm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{On(e)}catch(a){ze(t,t.return,a)}}function og(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ym),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ym),t;default:throw Error(c(435,e.tag))}}function Br(e,t){var a=og(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var r=vg.bind(null,e,l);l.then(r,r)}})}function St(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var r=a[l],i=e,f=t,x=f;e:for(;x!==null;){switch(x.tag){case 27:if(nl(x.type)){Xe=x.stateNode,_t=!1;break e}break;case 5:Xe=x.stateNode,_t=!1;break e;case 3:case 4:Xe=x.stateNode.containerInfo,_t=!0;break e}x=x.return}if(Xe===null)throw Error(c(160));wm(i,f,r),Xe=null,_t=!1,i=r.alternate,i!==null&&(i.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Cm(t,e),t=t.sibling}var ea=null;function Cm(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:St(t,e),Ct(e),l&4&&($a(3,e,e.return),bs(3,e),$a(5,e,e.return));break;case 1:St(t,e),Ct(e),l&512&&(et||a===null||da(a,a.return)),l&64&&Aa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var r=ea;if(St(t,e),Ct(e),l&512&&(et||a===null||da(a,a.return)),l&4){var i=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,r=r.ownerDocument||r;t:switch(l){case"title":i=r.getElementsByTagName("title")[0],(!i||i[Fn]||i[ct]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=r.createElement(l),r.head.insertBefore(i,r.querySelector("head > title"))),ft(i,l,a),i[ct]=e,rt(i),l=i;break e;case"link":var f=Ch("link","href",r).get(l+(a.href||""));if(f){for(var x=0;x<f.length;x++)if(i=f[x],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){f.splice(x,1);break t}}i=r.createElement(l),ft(i,l,a),r.head.appendChild(i);break;case"meta":if(f=Ch("meta","content",r).get(l+(a.content||""))){for(x=0;x<f.length;x++)if(i=f[x],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){f.splice(x,1);break t}}i=r.createElement(l),ft(i,l,a),r.head.appendChild(i);break;default:throw Error(c(468,l))}i[ct]=e,rt(i),l=i}e.stateNode=l}else Eh(r,e.type,e.stateNode);else e.stateNode=Sh(r,l,e.memoizedProps);else i!==l?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,l===null?Eh(r,e.type,e.stateNode):Sh(r,l,e.memoizedProps)):l===null&&e.stateNode!==null&&vo(e,e.memoizedProps,a.memoizedProps)}break;case 27:St(t,e),Ct(e),l&512&&(et||a===null||da(a,a.return)),a!==null&&l&4&&vo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(St(t,e),Ct(e),l&512&&(et||a===null||da(a,a.return)),e.flags&32){r=e.stateNode;try{tn(r,"")}catch(ee){ze(e,e.return,ee)}}l&4&&e.stateNode!=null&&(r=e.memoizedProps,vo(e,r,a!==null?a.memoizedProps:r)),l&1024&&(No=!0);break;case 6:if(St(t,e),Ct(e),l&4){if(e.stateNode===null)throw Error(c(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ee){ze(e,e.return,ee)}}break;case 3:if(Pr=null,r=ea,ea=$r(t.containerInfo),St(t,e),ea=r,Ct(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{On(t.containerInfo)}catch(ee){ze(e,e.return,ee)}No&&(No=!1,Em(e));break;case 4:l=ea,ea=$r(e.stateNode.containerInfo),St(t,e),Ct(e),ea=l;break;case 12:St(t,e),Ct(e);break;case 31:St(t,e),Ct(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Br(e,l)));break;case 13:St(t,e),Ct(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Hr=pt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Br(e,l)));break;case 22:r=e.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,B=Aa,G=et;if(Aa=B||r,et=G||S,St(t,e),et=G,Aa=B,Ct(e),l&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(a===null||S||Aa||et||Ll(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){S=a=t;try{if(i=S.stateNode,r)f=i.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{x=S.stateNode;var F=S.memoizedProps.style,k=F!=null&&F.hasOwnProperty("display")?F.display:null;x.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(ee){ze(S,S.return,ee)}}}else if(t.tag===6){if(a===null){S=t;try{S.stateNode.nodeValue=r?"":S.memoizedProps}catch(ee){ze(S,S.return,ee)}}}else if(t.tag===18){if(a===null){S=t;try{var q=S.stateNode;r?xh(q,!0):xh(S.stateNode,!1)}catch(ee){ze(S,S.return,ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Br(e,a))));break;case 19:St(t,e),Ct(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Br(e,l)));break;case 30:break;case 21:break;default:St(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(vm(l)){a=l;break}l=l.return}if(a==null)throw Error(c(160));switch(a.tag){case 27:var r=a.stateNode,i=bo(e);Ur(e,i,r);break;case 5:var f=a.stateNode;a.flags&32&&(tn(f,""),a.flags&=-33);var x=bo(e);Ur(e,x,f);break;case 3:case 4:var S=a.stateNode.containerInfo,B=bo(e);yo(e,B,S);break;default:throw Error(c(161))}}catch(G){ze(e,e.return,G)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Em(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Em(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ra(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Nm(e,t.alternate,t),t=t.sibling}function Ll(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:$a(4,t,t.return),Ll(t);break;case 1:da(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&xm(t,t.return,a),Ll(t);break;case 27:As(t.stateNode);case 26:case 5:da(t,t.return),Ll(t);break;case 22:t.memoizedState===null&&Ll(t);break;case 30:Ll(t);break;default:Ll(t)}e=e.sibling}}function Ma(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,r=e,i=t,f=i.flags;switch(i.tag){case 0:case 11:case 15:Ma(r,i,a),bs(4,i);break;case 1:if(Ma(r,i,a),l=i,r=l.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(B){ze(l,l.return,B)}if(l=i,r=l.updateQueue,r!==null){var x=l.stateNode;try{var S=r.shared.hiddenCallbacks;if(S!==null)for(r.shared.hiddenCallbacks=null,r=0;r<S.length;r++)lf(S[r],x)}catch(B){ze(l,l.return,B)}}a&&f&64&&pm(i),ys(i,i.return);break;case 27:bm(i);case 26:case 5:Ma(r,i,a),a&&l===null&&f&4&&gm(i),ys(i,i.return);break;case 12:Ma(r,i,a);break;case 31:Ma(r,i,a),a&&f&4&&_m(r,i);break;case 13:Ma(r,i,a),a&&f&4&&Sm(r,i);break;case 22:i.memoizedState===null&&Ma(r,i,a),ys(i,i.return);break;case 30:break;default:Ma(r,i,a)}t=t.sibling}}function jo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&rs(a))}function wo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&rs(e))}function ta(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Tm(e,t,a,l),t=t.sibling}function Tm(e,t,a,l){var r=t.flags;switch(t.tag){case 0:case 11:case 15:ta(e,t,a,l),r&2048&&bs(9,t);break;case 1:ta(e,t,a,l);break;case 3:ta(e,t,a,l),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&rs(e)));break;case 12:if(r&2048){ta(e,t,a,l),e=t.stateNode;try{var i=t.memoizedProps,f=i.id,x=i.onPostCommit;typeof x=="function"&&x(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){ze(t,t.return,S)}}else ta(e,t,a,l);break;case 31:ta(e,t,a,l);break;case 13:ta(e,t,a,l);break;case 23:break;case 22:i=t.stateNode,f=t.alternate,t.memoizedState!==null?i._visibility&2?ta(e,t,a,l):Ns(e,t):i._visibility&2?ta(e,t,a,l):(i._visibility|=2,jn(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),r&2048&&jo(f,t);break;case 24:ta(e,t,a,l),r&2048&&wo(t.alternate,t);break;default:ta(e,t,a,l)}}function jn(e,t,a,l,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,f=t,x=a,S=l,B=f.flags;switch(f.tag){case 0:case 11:case 15:jn(i,f,x,S,r),bs(8,f);break;case 23:break;case 22:var G=f.stateNode;f.memoizedState!==null?G._visibility&2?jn(i,f,x,S,r):Ns(i,f):(G._visibility|=2,jn(i,f,x,S,r)),r&&B&2048&&jo(f.alternate,f);break;case 24:jn(i,f,x,S,r),r&&B&2048&&wo(f.alternate,f);break;default:jn(i,f,x,S,r)}t=t.sibling}}function Ns(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,r=l.flags;switch(l.tag){case 22:Ns(a,l),r&2048&&jo(l.alternate,l);break;case 24:Ns(a,l),r&2048&&wo(l.alternate,l);break;default:Ns(a,l)}t=t.sibling}}var js=8192;function wn(e,t,a){if(e.subtreeFlags&js)for(e=e.child;e!==null;)Am(e,t,a),e=e.sibling}function Am(e,t,a){switch(e.tag){case 26:wn(e,t,a),e.flags&js&&e.memoizedState!==null&&Jg(a,ea,e.memoizedState,e.memoizedProps);break;case 5:wn(e,t,a);break;case 3:case 4:var l=ea;ea=$r(e.stateNode.containerInfo),wn(e,t,a),ea=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=js,js=16777216,wn(e,t,a),js=l):wn(e,t,a));break;default:wn(e,t,a)}}function Dm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ws(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];it=l,Mm(l,e)}Dm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Rm(e),e=e.sibling}function Rm(e){switch(e.tag){case 0:case 11:case 15:ws(e),e.flags&2048&&$a(9,e,e.return);break;case 3:ws(e);break;case 12:ws(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,kr(e)):ws(e);break;default:ws(e)}}function kr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];it=l,Mm(l,e)}Dm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:$a(8,t,t.return),kr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,kr(t));break;default:kr(t)}e=e.sibling}}function Mm(e,t){for(;it!==null;){var a=it;switch(a.tag){case 0:case 11:case 15:$a(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rs(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,it=l;else e:for(a=e;it!==null;){l=it;var r=l.sibling,i=l.return;if(jm(l),l===a){it=null;break e}if(r!==null){r.return=i,it=r;break e}it=i}}}var ug={getCacheForType:function(e){var t=ut($e),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return ut($e).controller.signal}},dg=typeof WeakMap=="function"?WeakMap:Map,De=0,ke=null,be=null,je=0,Oe=0,zt=null,Wa=!1,_n=!1,_o=!1,Oa=0,Fe=0,Pa=0,Ul=0,So=0,Lt=0,Sn=0,_s=null,Et=null,Co=!1,Hr=0,Om=0,qr=1/0,Yr=null,el=null,nt=0,tl=null,Cn=null,za=0,Eo=0,To=null,zm=null,Ss=0,Ao=null;function Ut(){return(De&2)!==0&&je!==0?je&-je:Y.T!==null?Lo():Ju()}function Lm(){if(Lt===0)if((je&536870912)===0||_e){var e=Ae;Ae<<=1,(Ae&3932160)===0&&(Ae=262144),Lt=e}else Lt=536870912;return e=Mt.current,e!==null&&(e.flags|=32),Lt}function Tt(e,t,a){(e===ke&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&(En(e,0),al(e,je,Lt,!1)),Nt(e,a),((De&2)===0||e!==ke)&&(e===ke&&((De&2)===0&&(Ul|=a),Fe===4&&al(e,je,Lt,!1)),fa(e))}function Um(e,t,a){if((De&6)!==0)throw Error(c(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Ke(e,t),r=l?hg(e,t):Ro(e,t,!0),i=l;do{if(r===0){_n&&!l&&al(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!fg(a)){r=Ro(e,t,!1),i=!1;continue}if(r===2){if(i=t,e.errorRecoveryDisabledLanes&i)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var x=e;r=_s;var S=x.current.memoizedState.isDehydrated;if(S&&(En(x,f).flags|=256),f=Ro(x,f,!1),f!==2){if(_o&&!S){x.errorRecoveryDisabledLanes|=i,Ul|=i,r=4;break e}i=Et,Et=r,i!==null&&(Et===null?Et=i:Et.push.apply(Et,i))}r=f}if(i=!1,r!==2)continue}}if(r===1){En(e,0),al(e,t,0,!0);break}e:{switch(l=e,i=r,i){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:al(l,t,Lt,!Wa);break e;case 2:Et=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(r=Hr+300-pt(),10<r)){if(al(l,t,Lt,!Wa),lt(l,0,!0)!==0)break e;za=t,l.timeoutHandle=mh(Bm.bind(null,l,a,Et,Yr,Co,t,Lt,Ul,Sn,Wa,i,"Throttled",-0,0),r);break e}Bm(l,a,Et,Yr,Co,t,Lt,Ul,Sn,Wa,i,null,-0,0)}}break}while(!0);fa(e)}function Bm(e,t,a,l,r,i,f,x,S,B,G,F,k,q){if(e.timeoutHandle=-1,F=t.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ba},Am(t,i,F);var ee=(i&62914560)===i?Hr-pt():(i&4194048)===i?Om-pt():0;if(ee=Ig(F,ee),ee!==null){za=i,e.cancelPendingCommit=ee(Qm.bind(null,e,t,i,a,l,r,f,x,S,G,F,null,k,q)),al(e,i,f,!B);return}}Qm(e,t,i,a,l,r,f,x,S)}function fg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var r=a[l],i=r.getSnapshot;r=r.value;try{if(!Dt(i(),r))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function al(e,t,a,l){t&=~So,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var r=t;0<r;){var i=31-gt(r),f=1<<i;l[i]=-1,r&=~f}a!==0&&bl(e,a,t)}function Xr(){return(De&6)===0?(Cs(0),!1):!0}function Do(){if(be!==null){if(Oe===0)var e=be.return;else e=be,wa=El=null,Qc(e),gn=null,cs=0,e=be;for(;e!==null;)hm(e.alternate,e),e=e.return;be=null}}function En(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Mg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),za=0,Do(),ke=e,be=a=Na(e.current,null),je=t,Oe=0,zt=null,Wa=!1,_n=Ke(e,t),_o=!1,Sn=Lt=So=Ul=Pa=Fe=0,Et=_s=null,Co=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var r=31-gt(l),i=1<<r;t|=e[r],l&=~i}return Oa=t,or(),a}function km(e,t){he=null,Y.H=xs,t===xn||t===gr?(t=Pd(),Oe=3):t===Oc?(t=Pd(),Oe=4):Oe=t===io?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,zt=t,be===null&&(Fe=1,Rr(e,Vt(t,e.current)))}function Hm(){var e=Mt.current;return e===null?!0:(je&4194048)===je?Ft===null:(je&62914560)===je||(je&536870912)!==0?e===Ft:!1}function qm(){var e=Y.H;return Y.H=xs,e===null?xs:e}function Ym(){var e=Y.A;return Y.A=ug,e}function Vr(){Fe=4,Wa||(je&4194048)!==je&&Mt.current!==null||(_n=!0),(Pa&134217727)===0&&(Ul&134217727)===0||ke===null||al(ke,je,Lt,!1)}function Ro(e,t,a){var l=De;De|=2;var r=qm(),i=Ym();(ke!==e||je!==t)&&(Yr=null,En(e,t)),t=!1;var f=Fe;e:do try{if(Oe!==0&&be!==null){var x=be,S=zt;switch(Oe){case 8:Do(),f=6;break e;case 3:case 2:case 9:case 6:Mt.current===null&&(t=!0);var B=Oe;if(Oe=0,zt=null,Tn(e,x,S,B),a&&_n){f=0;break e}break;default:B=Oe,Oe=0,zt=null,Tn(e,x,S,B)}}mg(),f=Fe;break}catch(G){km(e,G)}while(!0);return t&&e.shellSuspendCounter++,wa=El=null,De=l,Y.H=r,Y.A=i,be===null&&(ke=null,je=0,or()),f}function mg(){for(;be!==null;)Xm(be)}function hg(e,t){var a=De;De|=2;var l=qm(),r=Ym();ke!==e||je!==t?(Yr=null,qr=pt()+500,En(e,t)):_n=Ke(e,t);e:do try{if(Oe!==0&&be!==null){t=be;var i=zt;t:switch(Oe){case 1:Oe=0,zt=null,Tn(e,t,i,1);break;case 2:case 9:if($d(i)){Oe=0,zt=null,Vm(t);break}t=function(){Oe!==2&&Oe!==9||ke!==e||(Oe=7),fa(e)},i.then(t,t);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:$d(i)?(Oe=0,zt=null,Vm(t)):(Oe=0,zt=null,Tn(e,t,i,7));break;case 5:var f=null;switch(be.tag){case 26:f=be.memoizedState;case 5:case 27:var x=be;if(f?Th(f):x.stateNode.complete){Oe=0,zt=null;var S=x.sibling;if(S!==null)be=S;else{var B=x.return;B!==null?(be=B,Gr(B)):be=null}break t}}Oe=0,zt=null,Tn(e,t,i,5);break;case 6:Oe=0,zt=null,Tn(e,t,i,6);break;case 8:Do(),Fe=6;break e;default:throw Error(c(462))}}pg();break}catch(G){km(e,G)}while(!0);return wa=El=null,Y.H=l,Y.A=r,De=a,be!==null?0:(ke=null,je=0,or(),Fe)}function pg(){for(;be!==null&&!Xi();)Xm(be)}function Xm(e){var t=fm(e.alternate,e,Oa);e.memoizedProps=e.pendingProps,t===null?Gr(e):be=t}function Vm(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=rm(a,t,t.pendingProps,t.type,void 0,je);break;case 11:t=rm(a,t,t.pendingProps,t.type.render,t.ref,je);break;case 5:Qc(t);default:hm(a,t),t=be=qd(t,Oa),t=fm(a,t,Oa)}e.memoizedProps=e.pendingProps,t===null?Gr(e):be=t}function Tn(e,t,a,l){wa=El=null,Qc(t),gn=null,cs=0;var r=t.return;try{if(lg(e,r,t,a,je)){Fe=1,Rr(e,Vt(a,e.current)),be=null;return}}catch(i){if(r!==null)throw be=r,i;Fe=1,Rr(e,Vt(a,e.current)),be=null;return}t.flags&32768?(_e||l===1?e=!0:_n||(je&536870912)!==0?e=!1:(Wa=e=!0,(l===2||l===9||l===3||l===6)&&(l=Mt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Gm(t,e)):Gr(t)}function Gr(e){var t=e;do{if((t.flags&32768)!==0){Gm(t,Wa);return}e=t.return;var a=rg(t.alternate,t,Oa);if(a!==null){be=a;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);Fe===0&&(Fe=5)}function Gm(e,t){do{var a=ig(e.alternate,e);if(a!==null){a.flags&=32767,be=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){be=e;return}be=e=a}while(e!==null);Fe=6,be=null}function Qm(e,t,a,l,r,i,f,x,S){e.cancelPendingCommit=null;do Qr();while(nt!==0);if((De&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(i=t.lanes|t.childLanes,i|=vc,Ht(e,a,i,f,x,S),e===ke&&(be=ke=null,je=0),Cn=t,tl=e,za=a,Eo=i,To=r,zm=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,bg(ga,function(){return Im(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,r=H.p,H.p=2,f=De,De|=4;try{cg(e,t,a)}finally{De=f,H.p=r,Y.T=l}}nt=1,Zm(),Fm(),Km()}}function Zm(){if(nt===1){nt=0;var e=tl,t=Cn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=H.p;H.p=2;var r=De;De|=4;try{Cm(t,e);var i=Vo,f=Rd(e.containerInfo),x=i.focusedElem,S=i.selectionRange;if(f!==x&&x&&x.ownerDocument&&Dd(x.ownerDocument.documentElement,x)){if(S!==null&&mc(x)){var B=S.start,G=S.end;if(G===void 0&&(G=B),"selectionStart"in x)x.selectionStart=B,x.selectionEnd=Math.min(G,x.value.length);else{var F=x.ownerDocument||document,k=F&&F.defaultView||window;if(k.getSelection){var q=k.getSelection(),ee=x.textContent.length,ce=Math.min(S.start,ee),Be=S.end===void 0?ce:Math.min(S.end,ee);!q.extend&&ce>Be&&(f=Be,Be=ce,ce=f);var R=Ad(x,ce),E=Ad(x,Be);if(R&&E&&(q.rangeCount!==1||q.anchorNode!==R.node||q.anchorOffset!==R.offset||q.focusNode!==E.node||q.focusOffset!==E.offset)){var U=F.createRange();U.setStart(R.node,R.offset),q.removeAllRanges(),ce>Be?(q.addRange(U),q.extend(E.node,E.offset)):(U.setEnd(E.node,E.offset),q.addRange(U))}}}}for(F=[],q=x;q=q.parentNode;)q.nodeType===1&&F.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<F.length;x++){var Z=F[x];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}li=!!Xo,Vo=Xo=null}finally{De=r,H.p=l,Y.T=a}}e.current=t,nt=2}}function Fm(){if(nt===2){nt=0;var e=tl,t=Cn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=H.p;H.p=2;var r=De;De|=4;try{Nm(e,t.alternate,t)}finally{De=r,H.p=l,Y.T=a}}nt=3}}function Km(){if(nt===4||nt===3){nt=0,gl();var e=tl,t=Cn,a=za,l=zm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?nt=5:(nt=0,Cn=tl=null,Jm(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(el=null),Ki(a),t=t.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(Ha,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=Y.T,r=H.p,H.p=2,Y.T=null;try{for(var i=e.onRecoverableError,f=0;f<l.length;f++){var x=l[f];i(x.value,{componentStack:x.stack})}}finally{Y.T=t,H.p=r}}(za&3)!==0&&Qr(),fa(e),r=e.pendingLanes,(a&261930)!==0&&(r&42)!==0?e===Ao?Ss++:(Ss=0,Ao=e):Ss=0,Cs(0)}}function Jm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,rs(t)))}function Qr(){return Zm(),Fm(),Km(),Im()}function Im(){if(nt!==5)return!1;var e=tl,t=Eo;Eo=0;var a=Ki(za),l=Y.T,r=H.p;try{H.p=32>a?32:a,Y.T=null,a=To,To=null;var i=tl,f=za;if(nt=0,Cn=tl=null,za=0,(De&6)!==0)throw Error(c(331));var x=De;if(De|=4,Rm(i.current),Tm(i,i.current,f,a),De=x,Cs(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(Ha,i)}catch{}return!0}finally{H.p=r,Y.T=l,Jm(e,t)}}function $m(e,t,a){t=Vt(a,t),t=ro(e.stateNode,t,2),e=Ka(e,t,2),e!==null&&(Nt(e,2),fa(e))}function ze(e,t,a){if(e.tag===3)$m(e,e,a);else for(;t!==null;){if(t.tag===3){$m(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(el===null||!el.has(l))){e=Vt(a,e),a=Wf(2),l=Ka(t,a,2),l!==null&&(Pf(a,l,t,e),Nt(l,2),fa(l));break}}t=t.return}}function Mo(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new dg;var r=new Set;l.set(t,r)}else r=l.get(t),r===void 0&&(r=new Set,l.set(t,r));r.has(a)||(_o=!0,r.add(a),e=xg.bind(null,e,t,a),t.then(e,e))}function xg(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ke===e&&(je&a)===a&&(Fe===4||Fe===3&&(je&62914560)===je&&300>pt()-Hr?(De&2)===0&&En(e,0):So|=a,Sn===je&&(Sn=0)),fa(e)}function Wm(e,t){t===0&&(t=yt()),e=_l(e,t),e!==null&&(Nt(e,t),fa(e))}function gg(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Wm(e,a)}function vg(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,r=e.memoizedState;r!==null&&(a=r.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(c(314))}l!==null&&l.delete(t),Wm(e,a)}function bg(e,t){return ra(e,t)}var Zr=null,An=null,Oo=!1,Fr=!1,zo=!1,ll=0;function fa(e){e!==An&&e.next===null&&(An===null?Zr=An=e:An=An.next=e),Fr=!0,Oo||(Oo=!0,Ng())}function Cs(e,t){if(!zo&&Fr){zo=!0;do for(var a=!1,l=Zr;l!==null;){if(e!==0){var r=l.pendingLanes;if(r===0)var i=0;else{var f=l.suspendedLanes,x=l.pingedLanes;i=(1<<31-gt(42|e)+1)-1,i&=r&~(f&~x),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,ah(l,i))}else i=je,i=lt(l,l===ke?i:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(i&3)===0||Ke(l,i)||(a=!0,ah(l,i));l=l.next}while(a);zo=!1}}function yg(){Pm()}function Pm(){Fr=Oo=!1;var e=0;ll!==0&&Rg()&&(e=ll);for(var t=pt(),a=null,l=Zr;l!==null;){var r=l.next,i=eh(l,t);i===0?(l.next=null,a===null?Zr=r:a.next=r,r===null&&(An=a)):(a=l,(e!==0||(i&3)!==0)&&(Fr=!0)),l=r}nt!==0&&nt!==5||Cs(e),ll!==0&&(ll=0)}function eh(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var f=31-gt(i),x=1<<f,S=r[f];S===-1?((x&a)===0||(x&l)!==0)&&(r[f]=ca(x,t)):S<=t&&(e.expiredLanes|=x),i&=~x}if(t=ke,a=je,a=lt(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Kl(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ke(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&Kl(l),Ki(a)){case 2:case 8:a=$s;break;case 32:a=ga;break;case 268435456:a=Qn;break;default:a=ga}return l=th.bind(null,e),a=ra(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&Kl(l),e.callbackPriority=2,e.callbackNode=null,2}function th(e,t){if(nt!==0&&nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Qr()&&e.callbackNode!==a)return null;var l=je;return l=lt(e,e===ke?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Um(e,l,t),eh(e,pt()),e.callbackNode!=null&&e.callbackNode===a?th.bind(null,e):null)}function ah(e,t){if(Qr())return null;Um(e,t,!0)}function Ng(){Og(function(){(De&6)!==0?ra(Is,yg):Pm()})}function Lo(){if(ll===0){var e=hn;e===0&&(e=Se,Se<<=1,(Se&261888)===0&&(Se=256)),ll=e}return ll}function lh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:tr(""+e)}function nh(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function jg(e,t,a,l,r){if(t==="submit"&&a&&a.stateNode===r){var i=lh((r[jt]||null).action),f=l.submitter;f&&(t=(t=f[jt]||null)?lh(t.formAction):f.getAttribute("formAction"),t!==null&&(i=t,f=null));var x=new sr("action","action",null,l,r);e.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ll!==0){var S=f?nh(r,f):new FormData(r);eo(a,{pending:!0,data:S,method:r.method,action:i},null,S)}}else typeof i=="function"&&(x.preventDefault(),S=f?nh(r,f):new FormData(r),eo(a,{pending:!0,data:S,method:r.method,action:i},i,S))},currentTarget:r}]})}}for(var Uo=0;Uo<gc.length;Uo++){var Bo=gc[Uo],wg=Bo.toLowerCase(),_g=Bo[0].toUpperCase()+Bo.slice(1);Pt(wg,"on"+_g)}Pt(zd,"onAnimationEnd"),Pt(Ld,"onAnimationIteration"),Pt(Ud,"onAnimationStart"),Pt("dblclick","onDoubleClick"),Pt("focusin","onFocus"),Pt("focusout","onBlur"),Pt(q0,"onTransitionRun"),Pt(Y0,"onTransitionStart"),Pt(X0,"onTransitionCancel"),Pt(Bd,"onTransitionEnd"),Pl("onMouseEnter",["mouseout","mouseover"]),Pl("onMouseLeave",["mouseout","mouseover"]),Pl("onPointerEnter",["pointerout","pointerover"]),Pl("onPointerLeave",["pointerout","pointerover"]),yl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yl("onBeforeInput",["compositionend","keypress","textInput","paste"]),yl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Es));function sh(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],r=l.event;l=l.listeners;e:{var i=void 0;if(t)for(var f=l.length-1;0<=f;f--){var x=l[f],S=x.instance,B=x.currentTarget;if(x=x.listener,S!==i&&r.isPropagationStopped())break e;i=x,r.currentTarget=B;try{i(r)}catch(G){cr(G)}r.currentTarget=null,i=S}else for(f=0;f<l.length;f++){if(x=l[f],S=x.instance,B=x.currentTarget,x=x.listener,S!==i&&r.isPropagationStopped())break e;i=x,r.currentTarget=B;try{i(r)}catch(G){cr(G)}r.currentTarget=null,i=S}}}}function ye(e,t){var a=t[Ji];a===void 0&&(a=t[Ji]=new Set);var l=e+"__bubble";a.has(l)||(rh(t,e,2,!1),a.add(l))}function ko(e,t,a){var l=0;t&&(l|=4),rh(a,e,l,t)}var Kr="_reactListening"+Math.random().toString(36).slice(2);function Ho(e){if(!e[Kr]){e[Kr]=!0,Wu.forEach(function(a){a!=="selectionchange"&&(Sg.has(a)||ko(a,!1,e),ko(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Kr]||(t[Kr]=!0,ko("selectionchange",!1,t))}}function rh(e,t,a,l){switch(Lh(t)){case 2:var r=Pg;break;case 8:r=ev;break;default:r=eu}a=r.bind(null,t,a,e),r=void 0,!nc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),l?r!==void 0?e.addEventListener(t,a,{capture:!0,passive:r}):e.addEventListener(t,a,!0):r!==void 0?e.addEventListener(t,a,{passive:r}):e.addEventListener(t,a,!1)}function qo(e,t,a,l,r){var i=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var f=l.tag;if(f===3||f===4){var x=l.stateNode.containerInfo;if(x===r)break;if(f===4)for(f=l.return;f!==null;){var S=f.tag;if((S===3||S===4)&&f.stateNode.containerInfo===r)return;f=f.return}for(;x!==null;){if(f=Il(x),f===null)return;if(S=f.tag,S===5||S===6||S===26||S===27){l=i=f;continue e}x=x.parentNode}}l=l.return}ud(function(){var B=i,G=ac(a),F=[];e:{var k=kd.get(e);if(k!==void 0){var q=sr,ee=e;switch(e){case"keypress":if(lr(a)===0)break e;case"keydown":case"keyup":q=v0;break;case"focusin":ee="focus",q=cc;break;case"focusout":ee="blur",q=cc;break;case"beforeblur":case"afterblur":q=cc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=md;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=r0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=N0;break;case zd:case Ld:case Ud:q=o0;break;case Bd:q=w0;break;case"scroll":case"scrollend":q=n0;break;case"wheel":q=S0;break;case"copy":case"cut":case"paste":q=d0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=pd;break;case"toggle":case"beforetoggle":q=E0}var ce=(t&4)!==0,Be=!ce&&(e==="scroll"||e==="scrollend"),R=ce?k!==null?k+"Capture":null:k;ce=[];for(var E=B,U;E!==null;){var Z=E;if(U=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||U===null||R===null||(Z=Jn(E,R),Z!=null&&ce.push(Ts(E,Z,U))),Be)break;E=E.return}0<ce.length&&(k=new q(k,ee,null,a,G),F.push({event:k,listeners:ce}))}}if((t&7)===0){e:{if(k=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",k&&a!==tc&&(ee=a.relatedTarget||a.fromElement)&&(Il(ee)||ee[Jl]))break e;if((q||k)&&(k=G.window===G?G:(k=G.ownerDocument)?k.defaultView||k.parentWindow:window,q?(ee=a.relatedTarget||a.toElement,q=B,ee=ee?Il(ee):null,ee!==null&&(Be=m(ee),ce=ee.tag,ee!==Be||ce!==5&&ce!==27&&ce!==6)&&(ee=null)):(q=null,ee=B),q!==ee)){if(ce=md,Z="onMouseLeave",R="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(ce=pd,Z="onPointerLeave",R="onPointerEnter",E="pointer"),Be=q==null?k:Kn(q),U=ee==null?k:Kn(ee),k=new ce(Z,E+"leave",q,a,G),k.target=Be,k.relatedTarget=U,Z=null,Il(G)===B&&(ce=new ce(R,E+"enter",ee,a,G),ce.target=U,ce.relatedTarget=Be,Z=ce),Be=Z,q&&ee)t:{for(ce=Cg,R=q,E=ee,U=0,Z=R;Z;Z=ce(Z))U++;Z=0;for(var ie=E;ie;ie=ce(ie))Z++;for(;0<U-Z;)R=ce(R),U--;for(;0<Z-U;)E=ce(E),Z--;for(;U--;){if(R===E||E!==null&&R===E.alternate){ce=R;break t}R=ce(R),E=ce(E)}ce=null}else ce=null;q!==null&&ih(F,k,q,ce,!1),ee!==null&&Be!==null&&ih(F,Be,ee,ce,!0)}}e:{if(k=B?Kn(B):window,q=k.nodeName&&k.nodeName.toLowerCase(),q==="select"||q==="input"&&k.type==="file")var Ee=wd;else if(Nd(k))if(_d)Ee=B0;else{Ee=L0;var le=z0}else q=k.nodeName,!q||q.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?B&&ec(B.elementType)&&(Ee=wd):Ee=U0;if(Ee&&(Ee=Ee(e,B))){jd(F,Ee,a,G);break e}le&&le(e,k,B),e==="focusout"&&B&&k.type==="number"&&B.memoizedProps.value!=null&&Pi(k,"number",k.value)}switch(le=B?Kn(B):window,e){case"focusin":(Nd(le)||le.contentEditable==="true")&&(sn=le,hc=B,ls=null);break;case"focusout":ls=hc=sn=null;break;case"mousedown":pc=!0;break;case"contextmenu":case"mouseup":case"dragend":pc=!1,Md(F,a,G);break;case"selectionchange":if(H0)break;case"keydown":case"keyup":Md(F,a,G)}var pe;if(uc)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else nn?bd(e,a)&&(we="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(xd&&a.locale!=="ko"&&(nn||we!=="onCompositionStart"?we==="onCompositionEnd"&&nn&&(pe=dd()):(Ya=G,sc="value"in Ya?Ya.value:Ya.textContent,nn=!0)),le=Jr(B,we),0<le.length&&(we=new hd(we,e,null,a,G),F.push({event:we,listeners:le}),pe?we.data=pe:(pe=yd(a),pe!==null&&(we.data=pe)))),(pe=A0?D0(e,a):R0(e,a))&&(we=Jr(B,"onBeforeInput"),0<we.length&&(le=new hd("onBeforeInput","beforeinput",null,a,G),F.push({event:le,listeners:we}),le.data=pe)),jg(F,e,B,a,G)}sh(F,t)})}function Ts(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Jr(e,t){for(var a=t+"Capture",l=[];e!==null;){var r=e,i=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||i===null||(r=Jn(e,a),r!=null&&l.unshift(Ts(e,r,i)),r=Jn(e,t),r!=null&&l.push(Ts(e,r,i))),e.tag===3)return l;e=e.return}return[]}function Cg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ih(e,t,a,l,r){for(var i=t._reactName,f=[];a!==null&&a!==l;){var x=a,S=x.alternate,B=x.stateNode;if(x=x.tag,S!==null&&S===l)break;x!==5&&x!==26&&x!==27||B===null||(S=B,r?(B=Jn(a,i),B!=null&&f.unshift(Ts(a,B,S))):r||(B=Jn(a,i),B!=null&&f.push(Ts(a,B,S)))),a=a.return}f.length!==0&&e.push({event:t,listeners:f})}var Eg=/\r\n?/g,Tg=/\u0000|\uFFFD/g;function ch(e){return(typeof e=="string"?e:""+e).replace(Eg,`
`).replace(Tg,"")}function oh(e,t){return t=ch(t),ch(e)===t}function Ue(e,t,a,l,r,i){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||tn(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&tn(e,""+l);break;case"className":Ps(e,"class",l);break;case"tabIndex":Ps(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ps(e,a,l);break;case"style":cd(e,l,i);break;case"data":if(t!=="object"){Ps(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=tr(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&Ue(e,t,"name",r.name,r,null),Ue(e,t,"formEncType",r.formEncType,r,null),Ue(e,t,"formMethod",r.formMethod,r,null),Ue(e,t,"formTarget",r.formTarget,r,null)):(Ue(e,t,"encType",r.encType,r,null),Ue(e,t,"method",r.method,r,null),Ue(e,t,"target",r.target,r,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=tr(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ba);break;case"onScroll":l!=null&&ye("scroll",e);break;case"onScrollEnd":l!=null&&ye("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(a=l.__html,a!=null){if(r.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=tr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":ye("beforetoggle",e),ye("toggle",e),Ws(e,"popover",l);break;case"xlinkActuate":va(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":va(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":va(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":va(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":va(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":va(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":va(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":va(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":va(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ws(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=a0.get(a)||a,Ws(e,a,l))}}function Yo(e,t,a,l,r,i){switch(a){case"style":cd(e,l,i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(a=l.__html,a!=null){if(r.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"children":typeof l=="string"?tn(e,l):(typeof l=="number"||typeof l=="bigint")&&tn(e,""+l);break;case"onScroll":l!=null&&ye("scroll",e);break;case"onScrollEnd":l!=null&&ye("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ba);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pu.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(r=a.endsWith("Capture"),t=a.slice(2,r?a.length-7:void 0),i=e[jt]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,r),typeof l=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,r);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ws(e,a,l)}}}function ft(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",e),ye("load",e);var l=!1,r=!1,i;for(i in a)if(a.hasOwnProperty(i)){var f=a[i];if(f!=null)switch(i){case"src":l=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Ue(e,t,i,f,a,null)}}r&&Ue(e,t,"srcSet",a.srcSet,a,null),l&&Ue(e,t,"src",a.src,a,null);return;case"input":ye("invalid",e);var x=i=f=r=null,S=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":r=G;break;case"type":f=G;break;case"checked":S=G;break;case"defaultChecked":B=G;break;case"value":i=G;break;case"defaultValue":x=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(c(137,t));break;default:Ue(e,t,l,G,a,null)}}nd(e,i,x,S,B,f,r,!1);return;case"select":ye("invalid",e),l=f=i=null;for(r in a)if(a.hasOwnProperty(r)&&(x=a[r],x!=null))switch(r){case"value":i=x;break;case"defaultValue":f=x;break;case"multiple":l=x;default:Ue(e,t,r,x,a,null)}t=i,a=f,e.multiple=!!l,t!=null?en(e,!!l,t,!1):a!=null&&en(e,!!l,a,!0);return;case"textarea":ye("invalid",e),i=r=l=null;for(f in a)if(a.hasOwnProperty(f)&&(x=a[f],x!=null))switch(f){case"value":l=x;break;case"defaultValue":r=x;break;case"children":i=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(c(91));break;default:Ue(e,t,f,x,a,null)}rd(e,l,r,i);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(l=a[S],l!=null))switch(S){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ue(e,t,S,l,a,null)}return;case"dialog":ye("beforetoggle",e),ye("toggle",e),ye("cancel",e),ye("close",e);break;case"iframe":case"object":ye("load",e);break;case"video":case"audio":for(l=0;l<Es.length;l++)ye(Es[l],e);break;case"image":ye("error",e),ye("load",e);break;case"details":ye("toggle",e);break;case"embed":case"source":case"link":ye("error",e),ye("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Ue(e,t,B,l,a,null)}return;default:if(ec(t)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Yo(e,t,G,l,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null&&Ue(e,t,x,l,a,null))}function Ag(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,f=null,x=null,S=null,B=null,G=null;for(q in a){var F=a[q];if(a.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":S=F;default:l.hasOwnProperty(q)||Ue(e,t,q,null,l,F)}}for(var k in l){var q=l[k];if(F=a[k],l.hasOwnProperty(k)&&(q!=null||F!=null))switch(k){case"type":i=q;break;case"name":r=q;break;case"checked":B=q;break;case"defaultChecked":G=q;break;case"value":f=q;break;case"defaultValue":x=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(c(137,t));break;default:q!==F&&Ue(e,t,k,q,l,F)}}Wi(e,f,x,S,B,G,i,r);return;case"select":q=f=x=k=null;for(i in a)if(S=a[i],a.hasOwnProperty(i)&&S!=null)switch(i){case"value":break;case"multiple":q=S;default:l.hasOwnProperty(i)||Ue(e,t,i,null,l,S)}for(r in l)if(i=l[r],S=a[r],l.hasOwnProperty(r)&&(i!=null||S!=null))switch(r){case"value":k=i;break;case"defaultValue":x=i;break;case"multiple":f=i;default:i!==S&&Ue(e,t,r,i,l,S)}t=x,a=f,l=q,k!=null?en(e,!!a,k,!1):!!l!=!!a&&(t!=null?en(e,!!a,t,!0):en(e,!!a,a?[]:"",!1));return;case"textarea":q=k=null;for(x in a)if(r=a[x],a.hasOwnProperty(x)&&r!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ue(e,t,x,null,l,r)}for(f in l)if(r=l[f],i=a[f],l.hasOwnProperty(f)&&(r!=null||i!=null))switch(f){case"value":k=r;break;case"defaultValue":q=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(c(91));break;default:r!==i&&Ue(e,t,f,r,l,i)}sd(e,k,q);return;case"option":for(var ee in a)if(k=a[ee],a.hasOwnProperty(ee)&&k!=null&&!l.hasOwnProperty(ee))switch(ee){case"selected":e.selected=!1;break;default:Ue(e,t,ee,null,l,k)}for(S in l)if(k=l[S],q=a[S],l.hasOwnProperty(S)&&k!==q&&(k!=null||q!=null))switch(S){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Ue(e,t,S,k,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in a)k=a[ce],a.hasOwnProperty(ce)&&k!=null&&!l.hasOwnProperty(ce)&&Ue(e,t,ce,null,l,k);for(B in l)if(k=l[B],q=a[B],l.hasOwnProperty(B)&&k!==q&&(k!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(c(137,t));break;default:Ue(e,t,B,k,l,q)}return;default:if(ec(t)){for(var Be in a)k=a[Be],a.hasOwnProperty(Be)&&k!==void 0&&!l.hasOwnProperty(Be)&&Yo(e,t,Be,void 0,l,k);for(G in l)k=l[G],q=a[G],!l.hasOwnProperty(G)||k===q||k===void 0&&q===void 0||Yo(e,t,G,k,l,q);return}}for(var R in a)k=a[R],a.hasOwnProperty(R)&&k!=null&&!l.hasOwnProperty(R)&&Ue(e,t,R,null,l,k);for(F in l)k=l[F],q=a[F],!l.hasOwnProperty(F)||k===q||k==null&&q==null||Ue(e,t,F,k,l,q)}function uh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Dg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var r=a[l],i=r.transferSize,f=r.initiatorType,x=r.duration;if(i&&x&&uh(f)){for(f=0,x=r.responseEnd,l+=1;l<a.length;l++){var S=a[l],B=S.startTime;if(B>x)break;var G=S.transferSize,F=S.initiatorType;G&&uh(F)&&(S=S.responseEnd,f+=G*(S<x?1:(x-B)/(S-B)))}if(--l,t+=8*(i+f)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Xo=null,Vo=null;function Ir(e){return e.nodeType===9?e:e.ownerDocument}function dh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Go(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qo=null;function Rg(){var e=window.event;return e&&e.type==="popstate"?e===Qo?!1:(Qo=e,!0):(Qo=null,!1)}var mh=typeof setTimeout=="function"?setTimeout:void 0,Mg=typeof clearTimeout=="function"?clearTimeout:void 0,hh=typeof Promise=="function"?Promise:void 0,Og=typeof queueMicrotask=="function"?queueMicrotask:typeof hh<"u"?function(e){return hh.resolve(null).then(e).catch(zg)}:mh;function zg(e){setTimeout(function(){throw e})}function nl(e){return e==="head"}function ph(e,t){var a=t,l=0;do{var r=a.nextSibling;if(e.removeChild(a),r&&r.nodeType===8)if(a=r.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(r),On(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")As(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,As(a);for(var i=a.firstChild;i;){var f=i.nextSibling,x=i.nodeName;i[Fn]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=f}}else a==="body"&&As(e.ownerDocument.body);a=r}while(a);On(t)}function xh(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Zo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zo(a),Ii(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Lg(e,t,a,l){for(;e.nodeType===1;){var r=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Fn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Kt(e.nextSibling),e===null)break}return null}function Ug(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Kt(e.nextSibling),e===null))return null;return e}function gh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Kt(e.nextSibling),e===null))return null;return e}function Fo(e){return e.data==="$?"||e.data==="$~"}function Ko(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Bg(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Jo=null;function vh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Kt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function bh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function yh(e,t,a){switch(t=Ir(a),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function As(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ii(e)}var Jt=new Map,Nh=new Set;function $r(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var La=H.d;H.d={f:kg,r:Hg,D:qg,C:Yg,L:Xg,m:Vg,X:Qg,S:Gg,M:Zg};function kg(){var e=La.f(),t=Xr();return e||t}function Hg(e){var t=$l(e);t!==null&&t.tag===5&&t.type==="form"?kf(t):La.r(e)}var Dn=typeof document>"u"?null:document;function jh(e,t,a){var l=Dn;if(l&&typeof t=="string"&&t){var r=Yt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof a=="string"&&(r+='[crossorigin="'+a+'"]'),Nh.has(r)||(Nh.add(r),e={rel:e,crossOrigin:a,href:t},l.querySelector(r)===null&&(t=l.createElement("link"),ft(t,"link",e),rt(t),l.head.appendChild(t)))}}function qg(e){La.D(e),jh("dns-prefetch",e,null)}function Yg(e,t){La.C(e,t),jh("preconnect",e,t)}function Xg(e,t,a){La.L(e,t,a);var l=Dn;if(l&&e&&t){var r='link[rel="preload"][as="'+Yt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(r+='[imagesrcset="'+Yt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(r+='[imagesizes="'+Yt(a.imageSizes)+'"]')):r+='[href="'+Yt(e)+'"]';var i=r;switch(t){case"style":i=Rn(e);break;case"script":i=Mn(e)}Jt.has(i)||(e=y({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Jt.set(i,e),l.querySelector(r)!==null||t==="style"&&l.querySelector(Ds(i))||t==="script"&&l.querySelector(Rs(i))||(t=l.createElement("link"),ft(t,"link",e),rt(t),l.head.appendChild(t)))}}function Vg(e,t){La.m(e,t);var a=Dn;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Yt(l)+'"][href="'+Yt(e)+'"]',i=r;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Mn(e)}if(!Jt.has(i)&&(e=y({rel:"modulepreload",href:e},t),Jt.set(i,e),a.querySelector(r)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rs(i)))return}l=a.createElement("link"),ft(l,"link",e),rt(l),a.head.appendChild(l)}}}function Gg(e,t,a){La.S(e,t,a);var l=Dn;if(l&&e){var r=Wl(l).hoistableStyles,i=Rn(e);t=t||"default";var f=r.get(i);if(!f){var x={loading:0,preload:null};if(f=l.querySelector(Ds(i)))x.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Jt.get(i))&&Io(e,a);var S=f=l.createElement("link");rt(S),ft(S,"link",e),S._p=new Promise(function(B,G){S.onload=B,S.onerror=G}),S.addEventListener("load",function(){x.loading|=1}),S.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Wr(f,t,l)}f={type:"stylesheet",instance:f,count:1,state:x},r.set(i,f)}}}function Qg(e,t){La.X(e,t);var a=Dn;if(a&&e){var l=Wl(a).hoistableScripts,r=Mn(e),i=l.get(r);i||(i=a.querySelector(Rs(r)),i||(e=y({src:e,async:!0},t),(t=Jt.get(r))&&$o(e,t),i=a.createElement("script"),rt(i),ft(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(r,i))}}function Zg(e,t){La.M(e,t);var a=Dn;if(a&&e){var l=Wl(a).hoistableScripts,r=Mn(e),i=l.get(r);i||(i=a.querySelector(Rs(r)),i||(e=y({src:e,async:!0,type:"module"},t),(t=Jt.get(r))&&$o(e,t),i=a.createElement("script"),rt(i),ft(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(r,i))}}function wh(e,t,a,l){var r=(r=kt.current)?$r(r):null;if(!r)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Rn(a.href),a=Wl(r).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Rn(a.href);var i=Wl(r).hoistableStyles,f=i.get(e);if(f||(r=r.ownerDocument||r,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,f),(i=r.querySelector(Ds(e)))&&!i._p&&(f.instance=i,f.state.loading=5),Jt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jt.set(e,a),i||Fg(r,e,a,f.state))),t&&l===null)throw Error(c(528,""));return f}if(t&&l!==null)throw Error(c(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Mn(a),a=Wl(r).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function Rn(e){return'href="'+Yt(e)+'"'}function Ds(e){return'link[rel="stylesheet"]['+e+"]"}function _h(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function Fg(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),ft(t,"link",a),rt(t),e.head.appendChild(t))}function Mn(e){return'[src="'+Yt(e)+'"]'}function Rs(e){return"script[async]"+e}function Sh(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Yt(a.href)+'"]');if(l)return t.instance=l,rt(l),l;var r=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),rt(l),ft(l,"style",r),Wr(l,a.precedence,e),t.instance=l;case"stylesheet":r=Rn(a.href);var i=e.querySelector(Ds(r));if(i)return t.state.loading|=4,t.instance=i,rt(i),i;l=_h(a),(r=Jt.get(r))&&Io(l,r),i=(e.ownerDocument||e).createElement("link"),rt(i);var f=i;return f._p=new Promise(function(x,S){f.onload=x,f.onerror=S}),ft(i,"link",l),t.state.loading|=4,Wr(i,a.precedence,e),t.instance=i;case"script":return i=Mn(a.src),(r=e.querySelector(Rs(i)))?(t.instance=r,rt(r),r):(l=a,(r=Jt.get(i))&&(l=y({},a),$o(l,r)),e=e.ownerDocument||e,r=e.createElement("script"),rt(r),ft(r,"link",l),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Wr(l,a.precedence,e));return t.instance}function Wr(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=l.length?l[l.length-1]:null,i=r,f=0;f<l.length;f++){var x=l[f];if(x.dataset.precedence===t)i=x;else if(i!==r)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Io(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function $o(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Pr=null;function Ch(e,t,a){if(Pr===null){var l=new Map,r=Pr=new Map;r.set(a,l)}else r=Pr,l=r.get(a),l||(l=new Map,r.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),r=0;r<a.length;r++){var i=a[r];if(!(i[Fn]||i[ct]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var f=i.getAttribute(t)||"";f=e+f;var x=l.get(f);x?x.push(i):l.set(f,[i])}}return l}function Eh(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Kg(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Th(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Jg(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var r=Rn(l.href),i=t.querySelector(Ds(r));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ei.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,rt(i);return}i=t.ownerDocument||t,l=_h(l),(r=Jt.get(r))&&Io(l,r),i=i.createElement("link"),rt(i);var f=i;f._p=new Promise(function(x,S){f.onload=x,f.onerror=S}),ft(i,"link",l),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=ei.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Wo=0;function Ig(e,t){return e.stylesheets&&e.count===0&&ai(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&ai(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Wo===0&&(Wo=62500*Dg());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ai(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Wo?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(r)}}:null}function ei(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ai(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ti=null;function ai(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ti=new Map,t.forEach($g,e),ti=null,ei.call(e))}function $g(e,t){if(!(t.state.loading&4)){var a=ti.get(e);if(a)var l=a.get(null);else{a=new Map,ti.set(e,a);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var f=r[i];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(a.set(f.dataset.precedence,f),l=f)}l&&a.set(null,l)}r=t.instance,f=r.getAttribute("data-precedence"),i=a.get(f)||l,i===l&&a.set(null,r),a.set(f,r),this.count++,l=ei.bind(this),r.addEventListener("load",l),r.addEventListener("error",l),i?i.parentNode.insertBefore(r,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Ms={$$typeof:X,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function Wg(e,t,a,l,r,i,f,x,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wt(0),this.hiddenUpdates=Wt(null),this.identifierPrefix=l,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Ah(e,t,a,l,r,i,f,x,S,B,G,F){return e=new Wg(e,t,a,f,S,B,G,F,x),t=1,i===!0&&(t|=24),i=Rt(3,null,null,t),e.current=i,i.stateNode=e,t=Dc(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:l,isDehydrated:a,cache:t},zc(i),e}function Dh(e){return e?(e=on,e):on}function Rh(e,t,a,l,r,i){r=Dh(r),l.context===null?l.context=r:l.pendingContext=r,l=Fa(t),l.payload={element:a},i=i===void 0?null:i,i!==null&&(l.callback=i),a=Ka(e,l,t),a!==null&&(Tt(a,e,t),us(a,e,t))}function Mh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Po(e,t){Mh(e,t),(e=e.alternate)&&Mh(e,t)}function Oh(e){if(e.tag===13||e.tag===31){var t=_l(e,67108864);t!==null&&Tt(t,e,67108864),Po(e,67108864)}}function zh(e){if(e.tag===13||e.tag===31){var t=Ut();t=Fi(t);var a=_l(e,t);a!==null&&Tt(a,e,t),Po(e,t)}}var li=!0;function Pg(e,t,a,l){var r=Y.T;Y.T=null;var i=H.p;try{H.p=2,eu(e,t,a,l)}finally{H.p=i,Y.T=r}}function ev(e,t,a,l){var r=Y.T;Y.T=null;var i=H.p;try{H.p=8,eu(e,t,a,l)}finally{H.p=i,Y.T=r}}function eu(e,t,a,l){if(li){var r=tu(l);if(r===null)qo(e,t,l,ni,a),Uh(e,l);else if(av(r,e,t,a,l))l.stopPropagation();else if(Uh(e,l),t&4&&-1<tv.indexOf(e)){for(;r!==null;){var i=$l(r);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var f=Me(i.pendingLanes);if(f!==0){var x=i;for(x.pendingLanes|=2,x.entangledLanes|=2;f;){var S=1<<31-gt(f);x.entanglements[1]|=S,f&=~S}fa(i),(De&6)===0&&(qr=pt()+500,Cs(0))}}break;case 31:case 13:x=_l(i,2),x!==null&&Tt(x,i,2),Xr(),Po(i,2)}if(i=tu(l),i===null&&qo(e,t,l,ni,a),i===r)break;r=i}r!==null&&l.stopPropagation()}else qo(e,t,l,null,a)}}function tu(e){return e=ac(e),au(e)}var ni=null;function au(e){if(ni=null,e=Il(e),e!==null){var t=m(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=p(t),e!==null)return e;e=null}else if(a===31){if(e=h(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ni=e,null}function Lh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Js()){case Is:return 2;case $s:return 8;case ga:case Vi:return 32;case Qn:return 268435456;default:return 32}default:return 32}}var lu=!1,sl=null,rl=null,il=null,Os=new Map,zs=new Map,cl=[],tv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Uh(e,t){switch(e){case"focusin":case"focusout":sl=null;break;case"dragenter":case"dragleave":rl=null;break;case"mouseover":case"mouseout":il=null;break;case"pointerover":case"pointerout":Os.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zs.delete(t.pointerId)}}function Ls(e,t,a,l,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:i,targetContainers:[r]},t!==null&&(t=$l(t),t!==null&&Oh(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function av(e,t,a,l,r){switch(t){case"focusin":return sl=Ls(sl,e,t,a,l,r),!0;case"dragenter":return rl=Ls(rl,e,t,a,l,r),!0;case"mouseover":return il=Ls(il,e,t,a,l,r),!0;case"pointerover":var i=r.pointerId;return Os.set(i,Ls(Os.get(i)||null,e,t,a,l,r)),!0;case"gotpointercapture":return i=r.pointerId,zs.set(i,Ls(zs.get(i)||null,e,t,a,l,r)),!0}return!1}function Bh(e){var t=Il(e.target);if(t!==null){var a=m(t);if(a!==null){if(t=a.tag,t===13){if(t=p(a),t!==null){e.blockedOn=t,Iu(e.priority,function(){zh(a)});return}}else if(t===31){if(t=h(a),t!==null){e.blockedOn=t,Iu(e.priority,function(){zh(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function si(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=tu(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);tc=l,a.target.dispatchEvent(l),tc=null}else return t=$l(a),t!==null&&Oh(t),e.blockedOn=a,!1;t.shift()}return!0}function kh(e,t,a){si(e)&&a.delete(t)}function lv(){lu=!1,sl!==null&&si(sl)&&(sl=null),rl!==null&&si(rl)&&(rl=null),il!==null&&si(il)&&(il=null),Os.forEach(kh),zs.forEach(kh)}function ri(e,t){e.blockedOn===t&&(e.blockedOn=null,lu||(lu=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,lv)))}var ii=null;function Hh(e){ii!==e&&(ii=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){ii===e&&(ii=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],r=e[t+2];if(typeof l!="function"){if(au(l||a)===null)continue;break}var i=$l(a);i!==null&&(e.splice(t,3),t-=3,eo(i,{pending:!0,data:r,method:a.method,action:l},l,r))}}))}function On(e){function t(S){return ri(S,e)}sl!==null&&ri(sl,e),rl!==null&&ri(rl,e),il!==null&&ri(il,e),Os.forEach(t),zs.forEach(t);for(var a=0;a<cl.length;a++){var l=cl[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<cl.length&&(a=cl[0],a.blockedOn===null);)Bh(a),a.blockedOn===null&&cl.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var r=a[l],i=a[l+1],f=r[jt]||null;if(typeof i=="function")f||Hh(a);else if(f){var x=null;if(i&&i.hasAttribute("formAction")){if(r=i,f=i[jt]||null)x=f.formAction;else if(au(r)!==null)continue}else x=f.action;typeof x=="function"?a[l+1]=x:(a.splice(l,3),l-=3),Hh(a)}}}function qh(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(f){return r=f})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function nu(e){this._internalRoot=e}ci.prototype.render=nu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var a=t.current,l=Ut();Rh(a,l,e,t,null,null)},ci.prototype.unmount=nu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rh(e.current,2,null,e,null,null),Xr(),t[Jl]=null}};function ci(e){this._internalRoot=e}ci.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ju();e={blockedOn:null,target:e,priority:t};for(var a=0;a<cl.length&&t!==0&&t<cl[a].priority;a++);cl.splice(a,0,e),a===0&&Bh(e)}};var Yh=o.version;if(Yh!=="19.2.0")throw Error(c(527,Yh,"19.2.0"));H.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=N(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var nv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oi.isDisabled&&oi.supportsFiber)try{Ha=oi.inject(nv),xt=oi}catch{}}return Bs.createRoot=function(e,t){if(!d(e))throw Error(c(299));var a=!1,l="",r=Kf,i=Jf,f=If;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=Ah(e,1,!1,null,null,a,l,null,r,i,f,qh),e[Jl]=t.current,Ho(e),new nu(t)},Bs.hydrateRoot=function(e,t,a){if(!d(e))throw Error(c(299));var l=!1,r="",i=Kf,f=Jf,x=If,S=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(r=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(f=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(S=a.formState)),t=Ah(e,1,!0,t,a??null,l,r,S,i,f,x,qh),t.context=Dh(null),a=t.current,l=Ut(),l=Fi(l),r=Fa(l),r.callback=null,Ka(a,r,l),a=l,t.current.lanes=a,Nt(t,a),fa(t),e[Jl]=t.current,Ho(e),new ci(t)},Bs.version="19.2.0",Bs}var Kh;function nb(){if(Kh)return ru.exports;Kh=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(o){console.error(o)}}return s(),ru.exports=lb(),ru.exports}var sb=nb();function Vu(s,o){let u;try{u=s()}catch{return}return{getItem:d=>{var m;const p=g=>g===null?null:JSON.parse(g,void 0),h=(m=u.getItem(d))!=null?m:null;return h instanceof Promise?h.then(p):p(h)},setItem:(d,m)=>u.setItem(d,JSON.stringify(m,void 0)),removeItem:d=>u.removeItem(d)}}const _u=s=>o=>{try{const u=s(o);return u instanceof Promise?u:{then(c){return _u(c)(u)},catch(c){return this}}}catch(u){return{then(c){return this},catch(c){return _u(c)(u)}}}},rb=(s,o)=>(u,c,d)=>{let m={storage:Vu(()=>localStorage),partialize:C=>C,version:0,merge:(C,A)=>({...A,...C}),...o},p=!1;const h=new Set,g=new Set;let N=m.storage;if(!N)return s((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${m.name}', the given storage is currently unavailable.`),u(...C)},c,d);const _=()=>{const C=m.partialize({...c()});return N.setItem(m.name,{state:C,version:m.version})},y=d.setState;d.setState=(C,A)=>(y(C,A),_());const w=s((...C)=>(u(...C),_()),c,d);d.getInitialState=()=>w;let T;const M=()=>{var C,A;if(!N)return;p=!1,h.forEach(L=>{var X;return L((X=c())!=null?X:w)});const v=((A=m.onRehydrateStorage)==null?void 0:A.call(m,(C=c())!=null?C:w))||void 0;return _u(N.getItem.bind(N))(m.name).then(L=>{if(L)if(typeof L.version=="number"&&L.version!==m.version){if(m.migrate){const X=m.migrate(L.state,L.version);return X instanceof Promise?X.then(D=>[!0,D]):[!0,X]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,L.state];return[!1,void 0]}).then(L=>{var X;const[D,b]=L;if(T=m.merge(b,(X=c())!=null?X:w),u(T,!0),D)return _()}).then(()=>{v?.(T,void 0),T=c(),p=!0,g.forEach(L=>L(T))}).catch(L=>{v?.(void 0,L)})};return d.persist={setOptions:C=>{m={...m,...C},C.storage&&(N=C.storage)},clearStorage:()=>{N?.removeItem(m.name)},getOptions:()=>m,rehydrate:()=>M(),hasHydrated:()=>p,onHydrate:C=>(h.add(C),()=>{h.delete(C)}),onFinishHydration:C=>(g.add(C),()=>{g.delete(C)})},m.skipHydration||M(),T||w},tx=rb,I={CURTAIN:"curtain",WALLPAPER:"wallpaper",WOODEN_BLIND:"wooden_blind",ROLLER_BLIND:"roller_blind",VERTICAL_BLIND:"vertical_blind",ALUMINUM_BLIND:"aluminum_blind",PARTITION:"partition",PLEATED_SCREEN:"pleated_screen",REMOVAL:"removal"},me={CURTAIN_MAIN:"curtain_main",CURTAIN_SHEER:"curtain_sheer",WALLPAPER:I.WALLPAPER,WOODEN_BLIND:I.WOODEN_BLIND,ROLLER_BLIND:I.ROLLER_BLIND,VERTICAL_BLIND:I.VERTICAL_BLIND,ALUMINUM_BLIND:I.ALUMINUM_BLIND,PARTITION:I.PARTITION},Ni={MAIN:"main",SHEER:"sheer",DOUBLE:"double"},pa={CENTER:"center",SIDE:"side"},ib="marnthara.input.v6.4",Jh=1.19599,Ih=[{label:" (Wave)",value:""},{label:" (Pleated)",value:""},{label:" (Eyelet)",value:""},{label:" (Roman)",value:""},{label:"/ (Rod)",value:""},{label:" (Louis)",value:""}],Su={:{hasRail:!0,hasHook:!0,hasChain:!1,hasEyelet:!1},:{hasRail:!0,hasHook:!0,hasChain:!0,hasEyelet:!1},:{hasRail:!0,hasHook:!1,hasChain:!1,hasEyelet:!0},:{hasRail:!0,hasHook:!1,hasChain:!0,hasEyelet:!1},:{hasRail:!1,hasHook:!1,hasChain:!1,hasEyelet:!1},:{hasRail:!0,hasHook:!0,hasChain:!1,hasEyelet:!1}},Yl={[I.CURTAIN]:{id:I.CURTAIN,name:"",unit:"",icon:"AlignLeft"},[I.WALLPAPER]:{id:I.WALLPAPER,name:"",unit:"",icon:"ScrollText"},[I.WOODEN_BLIND]:{id:I.WOODEN_BLIND,name:"",unit:"",icon:"Blinds"},[I.ROLLER_BLIND]:{id:I.ROLLER_BLIND,name:"",unit:"",icon:"Minimize2"},[I.VERTICAL_BLIND]:{id:I.VERTICAL_BLIND,name:"",unit:"",icon:"Columns"},[I.ALUMINUM_BLIND]:{id:I.ALUMINUM_BLIND,name:"",unit:"",icon:"Blinds"},[I.PARTITION]:{id:I.PARTITION,name:"",unit:"",icon:"Grid3X3"},[I.PLEATED_SCREEN]:{id:I.PLEATED_SCREEN,name:"",unit:"",icon:"Grid3X3"},[I.REMOVAL]:{id:I.REMOVAL,name:"/",unit:"",icon:"Scissors"}},cb={name:"Marnthara Smart Quotation",address:"123/45     10110",phone:"081-234-5678",taxId:"",logoUrl:"",baseVatRate:0,bankAccount:{bankName:"",accountName:".  ",accountNumber:"123-4-56789-0",branch:"",isEnabled:!0},pdf:{paymentTerms:" 50%  ",priceValidity:" 30 ",notes:[" ()"," 1  ()"]}},ob={style_surcharge:{:0,:0,:0,:0,:0,:500}},Cu={ROLL_WIDTH_M:.53},ub=s=>({customer:{name:"",phone:"",address:"",taxId:"",installationAddress:"",useSameAddress:!0,showInstallationAddress:!0},setCustomer:o=>s(u=>({customer:{...u.customer,...o}}))}),Li=s=>s.type===I.CURTAIN,Ui=s=>s.type===I.WALLPAPER,ax=s=>s.type===I.REMOVAL,Bi=s=>!Li(s)&&!Ui(s)&&!ax(s),ks=()=>Math.random().toString(36).substring(2,9),db=s=>({rooms:[],addRoom:o=>s(u=>({rooms:[...u.rooms,{id:ks(),name:o||` ${u.rooms.length+1}`,items:[],is_suspended:!1,room_defaults:{}}]})),updateRoom:(o,u)=>s(c=>({rooms:c.rooms.map(d=>d.id===o?{...d,...u}:d)})),removeRoom:o=>s(u=>({rooms:u.rooms.filter(c=>c.id!==o)})),duplicateRoom:o=>s(u=>{const c=u.rooms.find(m=>m.id===o);if(!c)return u;const d={...c,id:ks(),name:`${c.name} (Copy)`,items:c.items.map(m=>({...m,id:ks()}))};return{rooms:[...u.rooms,d]}}),toggleRoomSuspension:o=>s(u=>({rooms:u.rooms.map(c=>c.id===o?{...c,is_suspended:!c.is_suspended}:c)})),updateRoomDefaults:(o,u)=>s(c=>({rooms:c.rooms.map(d=>d.id===o?{...d,room_defaults:{...d.room_defaults,...u}}:d)})),addItem:(o,u)=>s(c=>({rooms:c.rooms.map(d=>d.id!==o?d:{...d,items:[...d.items,{...u,id:ks()}]})})),updateItem:(o,u,c)=>s(d=>({rooms:d.rooms.map(m=>m.id!==o?m:{...m,items:m.items.map(p=>p.id===u?{...p,...c}:p)})})),removeItem:(o,u)=>s(c=>({rooms:c.rooms.map(d=>d.id!==o?d:{...d,items:d.items.filter(m=>m.id!==u)})})),duplicateItem:(o,u)=>s(c=>({rooms:c.rooms.map(d=>{if(d.id!==o)return d;const m=d.items.findIndex(N=>N.id===u);if(m===-1)return d;const h={...d.items[m],id:ks()},g=[...d.items];return g.splice(m+1,0,h),{...d,items:g}})})),updatePriceByCode:(o,u,c)=>{let d=0;const m=String(c);return s(p=>({rooms:p.rooms.map(h=>({...h,items:h.items.map(g=>o===me.CURTAIN_MAIN&&g.type===I.CURTAIN&&g.code===u?(d++,{...g,price_per_m_raw:m}):o===me.CURTAIN_SHEER&&g.type===I.CURTAIN&&g.sheer_code===u?(d++,{...g,sheer_price_per_m:m}):o===me.WALLPAPER&&g.type===I.WALLPAPER&&g.wallpaper_code===u?(d++,{...g,price_per_roll:c}):o===g.type&&Bi(g)&&g.code===u?(d++,{...g,price_sqyd:c}):g)}))})),d},resetProject:()=>s(()=>({rooms:[],customer:{name:"",phone:"",address:"",taxId:"",installationAddress:"",useSameAddress:!0,showInstallationAddress:!0},discount:{type:"amount",value:0}})),factoryReset:()=>{localStorage.removeItem("marnthara.input.v6.4"),window.location.reload()}}),fb=s=>({shopConfig:cb,discount:{type:"amount",value:0},setDiscount:o=>s({discount:o}),updateShopConfig:o=>s(u=>({shopConfig:{...u.shopConfig,...o}}))}),mb=()=>Math.random().toString(36).substring(2,9),hb=(s,o)=>({favorites:{},addFavorite:(u,c)=>{c.cost_per_yard&&c.cost_per_yard>0&&o().updateFabricCost(c.code,c.cost_per_yard);const d={...c};delete d.cost_per_yard,s(m=>({favorites:{...m.favorites,[u]:[...m.favorites[u]||[],{...d,id:mb()}]}}))},removeFavorite:(u,c)=>s(d=>({favorites:{...d.favorites,[u]:(d.favorites[u]||[]).filter(m=>m.id!==c)}})),updateFavorite:(u,c,d)=>{d.cost_per_yard&&d.cost_per_yard>0&&d.code&&(o().updateFabricCost(d.code,d.cost_per_yard),delete d.cost_per_yard),s(m=>({favorites:{...m.favorites,[u]:(m.favorites[u]||[]).map(p=>p.id===c?{...p,...d}:p)}}))},importFavorites:u=>{try{let c;const d=u.trim();try{c=JSON.parse(d)}catch{try{const h=decodeURIComponent(escape(atob(d)));c=JSON.parse(h)}catch{return!1}}const m=c.favorites?c.favorites:c;if(typeof m!="object"||m===null)return!1;const p={...m};return Object.values(p).forEach(h=>{Array.isArray(h)&&h.forEach(g=>{g.cost_per_yard&&g.cost_per_yard>0&&(o().updateFabricCost(g.code,g.cost_per_yard),delete g.cost_per_yard)})}),s(h=>({favorites:{...h.favorites,...p}})),!0}catch(c){return console.error(c),!1}}}),pb=s=>({activeModal:null,modalProps:{},modalStack:[],openModal:(o,u={})=>s(c=>c.activeModal&&c.activeModal!==o?{modalStack:[...c.modalStack,{type:c.activeModal,props:c.modalProps}],activeModal:o,modalProps:u}:{activeModal:o,modalProps:u}),closeModal:()=>s(o=>{if(o.modalStack.length>0){const u=o.modalStack[o.modalStack.length-1],c=o.modalStack.slice(0,-1);return{activeModal:u.type,modalProps:u.props,modalStack:c}}return{activeModal:null,modalProps:{}}}),closeAllModals:()=>s({activeModal:null,modalProps:{},modalStack:[]})}),$h={},Wh={},xb=(s,o)=>({laborCosts:$h,accessoryCosts:Wh,fabricCosts:{},updateLaborCost:(u,c)=>s(d=>({laborCosts:{...d.laborCosts,[u]:{...d.laborCosts[u]||{},...c}}})),updateAccessoryCost:(u,c)=>s(d=>({accessoryCosts:{...d.accessoryCosts,[u]:c}})),removeAccessoryCost:u=>s(c=>{const d={...c.accessoryCosts};return delete d[u],{accessoryCosts:d}}),updateFabricCost:(u,c)=>s(d=>({fabricCosts:{...d.fabricCosts,[u]:c}})),removeFabricCost:u=>s(c=>{const d={...c.fabricCosts};return delete d[u],{fabricCosts:d}}),updateUnifiedCost:(u,c)=>{o().updateFabricCost(u,c)},batchUpdateFabricCosts:u=>s(c=>({fabricCosts:{...c.fabricCosts,...u}})),resetProductionCosts:()=>s(()=>({laborCosts:$h,accessoryCosts:Wh,fabricCosts:{}})),exportSecrets:()=>{const{laborCosts:u,accessoryCosts:c,fabricCosts:d}=o();return JSON.stringify({laborCosts:u,accessoryCosts:c,fabricCosts:d},null,2)},importSecrets:u=>{try{const c=JSON.parse(u);return!c.laborCosts&&!c.accessoryCosts&&!c.fabricCosts?!1:(s(d=>({laborCosts:{...d.laborCosts,...c.laborCosts},accessoryCosts:{...d.accessoryCosts,...c.accessoryCosts},fabricCosts:{...d.fabricCosts,...c.fabricCosts}})),!0)}catch(c){return console.error("Import failed",c),!1}}}),gb=s=>{const o={...s};return delete o.activeModal,delete o.modalProps,delete o.modalStack,o},se=Xu()(Jv(tx((...s)=>({...ub(...s),...db(...s),...fb(...s),...hb(...s),...pb(...s),...xb(...s)}),{name:ib,storage:Vu(()=>localStorage),version:1,partialize:s=>gb(s)}),{limit:20,partialize:s=>{const{rooms:o,customer:u,shopConfig:c,discount:d,laborCosts:m,accessoryCosts:p,fabricCosts:h,favorites:g}=s;return{rooms:o,customer:u,shopConfig:c,discount:d,laborCosts:m,accessoryCosts:p,fabricCosts:h,favorites:g}}})),$=s=>{if(typeof s=="number")return Number.isFinite(s)?s:0;if(!s)return 0;const o=typeof s=="string"?s.replace(/,/g,""):String(s),u=parseFloat(o);return Number.isFinite(u)?u:0},mt=s=>{const o=$(s);return o>0?o.toFixed(2):""},vb=s=>{const o=s.replace(/,/g,"").trim();if(o===""||o===".")return"";let u=parseFloat(o);return isNaN(u)?s:(Math.abs(u)>=10&&(u=u/100),u.toFixed(2))},bb=(s,o=2,u=!1)=>Number.isFinite(s)?s.toLocaleString("th-TH",{minimumFractionDigits:u?2:0,maximumFractionDigits:o}):"0",He=s=>bb(s,2,!0),yb=s=>{if(!s)return"";const o=["","","","","","","","","","",""],u=["","","","","","",""];s=parseFloat(s.toFixed(2));let c="";if(s===0)return"";const d=h=>{let g="";const N=String(h);for(let _=0;_<N.length;_++){const y=parseInt(N[_]),w=N.length-_-1;y!==0&&(w===1&&y===1?g+=u[w]:w===1&&y===2?g+=""+u[w]:w===0&&y===1&&N.length>1?g+="":g+=o[y]+u[w])}return g},m=Math.floor(s),p=Math.round((s-m)*100);return m>0&&(c+=d(m),c+=""),p>0?(c+=d(p),c+=""):c+="",c},ji=(s,o)=>{if(o<=0)return 0;let u=2.5;return s===""&&(u=1.5),o*u*1.1},Nb=s=>ob.style_surcharge[s]||0,Ph={calculate:s=>{const o=$(s.width_m);if(o<=0)return{total:0,breakdown:{}};let u=0;s.price_per_m_raw&&$(s.price_per_m_raw)>0?u=o*$(s.price_per_m_raw):u=ji(s.style,o)*$(s.price_sqyd);let c=0;s.layer_mode!=="main"&&(s.sheer_price_per_m&&$(s.sheer_price_per_m)>0?c=o*$(s.sheer_price_per_m):s.sheer_price_sqyd&&(c=ji(s.style,o)*$(s.sheer_price_sqyd)));let d=0;if(s.use_rail&&s.rail_price_per_m){const h=s.layer_mode==="double"?2:1;d=o*$(s.rail_price_per_m)*h}const m=Nb(s.style);let p=u+c+d+m;return s.enable_set_price&&$(s.set_price_override)>0&&(p=$(s.set_price_override)),p=Math.round(p*100)/100,{total:p,breakdown:{fabricPrice:u,sheerPrice:c,railPrice:d,accessoryPrice:m,fabricMeters:o}}},validate:s=>{const o=[];return $(s.width_m)<=0&&o.push(" 0"),$(s.height_m)<=0&&o.push(" 0"),s.style||o.push(""),o},getSpecs:s=>{const o=[`:  ${s.width_m} . x  ${s.height_m} .`,`: ${s.style}`];return s.fabric_variant&&o.push(`: ${s.fabric_variant}`),s.layer_mode==="double"?o.push(":  2  (+)"):s.layer_mode==="sheer"&&o.push(": "),s.use_rail&&o.push(""),o}},ep={calculate:s=>{const o=s.widths.reduce((N,_)=>N+$(_),0),u=$(s.height_m);if(o<=0||u<=0)return{total:0,breakdown:{}};const c=Math.ceil(o/Cu.ROLL_WIDTH_M),d=$(s.price_per_roll),m=$(s.install_cost_per_roll),p=c*d,h=c*m;let g=p+h;return s.enable_set_price&&$(s.set_price_override)>0&&(g=$(s.set_price_override)),g=Math.round(g*100)/100,{total:g,breakdown:{rolls:c,materialPrice:p,laborPrice:h,totalWidth:o}}},validate:s=>{const o=[];return s.widths.reduce((c,d)=>c+$(d),0)<=0&&o.push(" 1 "),$(s.height_m)<=0&&o.push(""),s.wallpaper_code||o.push(""),o},getSpecs:s=>{const o=s.widths.reduce((d,m)=>d+$(m),0),u=[`:  ${o.toFixed(2)} . x  ${s.height_m} .`];s.wallpaper_code&&u.push(`: ${s.wallpaper_code}`);const c=Math.ceil(o/Cu.ROLL_WIDTH_M);return u.push(`: ${c}  ()`),u}},tp={calculate:s=>{if(s.enable_set_price&&$(s.set_price_override)>0)return{total:$(s.set_price_override)};const o=$(s.quantity),u=$(s.price_per_item);if(o<=0||u<=0)return{total:0};const c=o*u;return{total:Math.round(c*100)/100}},validate:s=>{const o=[];return s.description||o.push(""),!s.enable_set_price&&$(s.price_per_item)<=0&&o.push(""),o},getSpecs:s=>{const o=[];s.description&&o.push(s.description);const u=$(s.quantity);return u>0&&o.push(`: ${u} /`),o}},Yn=s=>{const{minAreaSqyd:o=1}=s;return{calculate:u=>{if(u.enable_set_price&&$(u.set_price_override)>0)return{total:$(u.set_price_override)};const c=$(u.width_m),d=$(u.height_m),m=$(u.price_sqyd);if(c<=0||d<=0)return{total:0,breakdown:{}};const p=c*d;let h=p*Jh;h<o&&(h=o);let g=h*m;return g=Math.round(g*100)/100,{total:g,breakdown:{areaSqm:p,areaSqyd:h,pricePerUnit:m}}},validate:u=>{const c=[];return $(u.width_m)<=0&&c.push(""),$(u.height_m)<=0&&c.push(""),!u.enable_set_price&&$(u.price_sqyd)<=0&&c.push(" .."),c},getSpecs:u=>{const c=[`: ${u.width_m} x ${u.height_m} .`];u.code&&c.push(`/: ${u.code}`),u.fabric_variant&&c.push(`: ${u.fabric_variant}`);const d=$(u.width_m),m=$(u.height_m);if(d>0&&m>0){const p=Math.max(d*m*Jh,o);c.push(`: ${p.toFixed(2)} ..`)}return c}}},ap=Yn({}),lp=Yn({}),np=Yn({}),sp=Yn({}),rp=Yn({}),ip=Yn({}),ht={calculatePrice:s=>ht.calculateDetailedPrice(s).total,calculateDetailedPrice:s=>{if(s.is_suspended)return{total:0};switch(s.type){case I.CURTAIN:return Ph.calculate(s);case I.WALLPAPER:return ep.calculate(s);case I.WOODEN_BLIND:return ap.calculate(s);case I.ROLLER_BLIND:return lp.calculate(s);case I.VERTICAL_BLIND:return np.calculate(s);case I.ALUMINUM_BLIND:return sp.calculate(s);case I.PARTITION:return rp.calculate(s);case I.PLEATED_SCREEN:return ip.calculate(s);case I.REMOVAL:return tp.calculate(s);default:return console.warn("[PricingEngine]  Unhandled item type:",s),{total:0}}},getItemSpecs:s=>{switch(s.type){case I.CURTAIN:return Ph.getSpecs(s);case I.WALLPAPER:return ep.getSpecs(s);case I.WOODEN_BLIND:return ap.getSpecs(s);case I.ROLLER_BLIND:return lp.getSpecs(s);case I.VERTICAL_BLIND:return np.getSpecs(s);case I.ALUMINUM_BLIND:return sp.getSpecs(s);case I.PARTITION:return rp.getSpecs(s);case I.PLEATED_SCREEN:return ip.getSpecs(s);case I.REMOVAL:return tp.getSpecs(s);default:return[]}}},ki=()=>{const s=se(d=>d.rooms),o=se(d=>d.discount),u=se(d=>d.shopConfig);return j.useMemo(()=>{const d=s.map(y=>{if(y.is_suspended)return{roomId:y.id,total:0,itemCount:y.items.length,isSuspended:!0};const T=y.items.map(M=>ht.calculatePrice(M)).reduce((M,C)=>M+C,0);return{roomId:y.id,total:T,itemCount:y.items.length,isSuspended:!1}}),m=d.reduce((y,w)=>y+w.total,0);let p=m,h=0;o.is_enabled===!0&&o.value>0&&(o.type==="percent"?h=m*o.value/100:h=o.value,h>m&&(h=m),p=m-h);let N=0,_=p;return u.baseVatRate>0&&(N=p*u.baseVatRate/100,_=p+N),{grandTotal:Math.round(m*100)/100,discountAmount:Math.round(h*100)/100,afterDiscount:Math.round(p*100)/100,vatAmount:Math.round(N*100)/100,finalTotal:Math.round(_*100)/100,roomTotals:d}},[s,o,u])},ml=()=>({trigger:j.useCallback((o="selection")=>{if(!(typeof navigator>"u"||!navigator.vibrate))switch(o){case"light":navigator.vibrate(5);break;case"medium":navigator.vibrate(10);break;case"heavy":navigator.vibrate(15);break;case"selection":navigator.vibrate(3);break;case"success":navigator.vibrate([10,30,10]);break;case"warning":navigator.vibrate([30,50,10]);break;case"error":navigator.vibrate([50,100,50,100]);break;default:navigator.vibrate(10)}},[])});function K(...s){return Iv($v(s))}const jb=({children:s,onOpenMainMenu:o,onOpenDiscount:u,onOpenOverview:c})=>{const d=se(M=>M.shopConfig),m=se(M=>M.discount),p=se(M=>M.addRoom),{finalTotal:h}=ki(),{trigger:g}=ml(),[N,_]=j.useState(!1),y=m.is_enabled&&m.value>0,w=d.baseVatRate>0;j.useEffect(()=>{const M=()=>_(window.scrollY>10);return window.addEventListener("scroll",M),()=>window.removeEventListener("scroll",M)},[]);const T=()=>{g("medium"),p(),setTimeout(()=>window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"}),100)};return n.jsxs("div",{className:"relative min-h-[100dvh] bg-background text-foreground",children:[n.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 h-safe-top bg-background/80 backdrop-blur-md border-b border-transparent transition-all duration-300"}),n.jsx("header",{className:"fixed top-0 left-0 right-0 z-40 pt-safe-top transition-all duration-300",children:n.jsxs("div",{className:K("h-14 px-6 flex items-center justify-between transition-all duration-500","bg-background/80 backdrop-blur-md border-b border-border/50",N?"shadow-sm":""),children:[n.jsxs("button",{className:"flex flex-col items-start text-left group active:scale-95 transition-transform outline-none",onClick:()=>{g("light"),o?.()},children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h1",{className:"text-lg font-bold tracking-tight text-foreground group-hover:text-primary transition-colors",children:d.name||"Marnthara"}),n.jsx(_i,{className:"w-3.5 h-3.5 text-muted-foreground/50 group-hover:text-primary/50 transition-colors"})]}),n.jsx("span",{className:"text-[10px] font-medium text-muted-foreground tracking-widest uppercase",children:"Quotation"})]}),n.jsxs("div",{className:"flex flex-col items-end cursor-pointer active:scale-95 transition-transform outline-none",onClick:()=>{g("selection"),u?.()},children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsxs("div",{className:"flex gap-0.5",children:[y&&n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-success shadow-[0_0_6px_rgba(var(--color-success),0.5)] animate-pulse"}),w&&n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-info shadow-[0_0_6px_rgba(var(--color-info),0.5)]"})]}),n.jsx("span",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-wider",children:"Net"})]}),n.jsx("div",{className:K("text-sm font-mono font-bold leading-none transition-colors",y||w?"text-primary":"text-foreground"),children:He(h)})]})]})}),n.jsx("main",{className:"pt-[calc(3.5rem+env(safe-area-inset-top))] pb-[calc(5rem+env(safe-area-inset-bottom))] px-4 sm:px-6 space-y-4 max-w-3xl mx-auto overflow-x-hidden",children:s}),n.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 w-full max-w-[320px] px-4 mb-safe-bottom",children:n.jsxs("div",{className:"flex items-center justify-between px-2 py-1.5 rounded-full bg-primary/90 backdrop-blur-xl shadow-2xl border border-primary-foreground/10 ring-1 ring-black/20",children:[n.jsx(ui,{icon:rv,onClick:c,label:"Overview"}),n.jsx(ui,{icon:Hl,onClick:()=>g("light"),label:"Search"}),n.jsx("div",{className:"px-2",children:n.jsx("button",{onClick:T,className:"group relative w-10 h-10 rounded-full bg-primary shadow-lg shadow-primary/30 flex items-center justify-center transform transition-all duration-300 active:scale-90 hover:shadow-primary/50",children:n.jsx(kn,{className:"w-5 h-5 text-white group-hover:rotate-90 transition-transform duration-300",strokeWidth:3})})}),n.jsx(ui,{icon:wu,onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),label:"Home"}),n.jsx(ui,{icon:iv,onClick:o,label:"Menu"})]})})]})},ui=({icon:s,onClick:o,label:u})=>{const{trigger:c}=ml();return n.jsx("button",{onClick:()=>{c("light"),o?.()},className:"group flex flex-col items-center justify-center w-10 h-10 rounded-full hover:bg-primary-foreground/10 transition-colors active:scale-90 outline-none","aria-label":u,children:n.jsx(s,{className:"w-5 h-5 text-primary-foreground/60 group-hover:text-primary-foreground transition-colors",strokeWidth:2})})},at=Xu(s=>({toasts:[],addToast:(o,u,c)=>{const d=Math.random().toString(36).substring(2,9);s(m=>({toasts:[...m.toasts,{id:d,type:o,title:u,message:c}]})),setTimeout(()=>{s(m=>({toasts:m.toasts.filter(p=>p.id!==d)}))},3e3)},removeToast:o=>s(u=>({toasts:u.toasts.filter(c=>c.id!==o)})),alertConfig:{isOpen:!1,title:"",description:"",variant:"default",confirmLabel:"",cancelLabel:"",onConfirm:()=>{},onCancel:()=>{}},openAlert:o=>s(u=>({alertConfig:{...u.alertConfig,...o,isOpen:!0}})),closeAlert:()=>s(o=>({alertConfig:{...o.alertConfig,isOpen:!1}}))})),hl=()=>{const s=at(u=>u.openAlert);return{confirm:u=>new Promise(c=>{s({...u,onConfirm:()=>c(!0),onCancel:()=>c(!1)})})}},wb=({item:s,index:o,roomId:u,onEdit:c})=>{const d=se(v=>v.removeItem),m=se(v=>v.duplicateItem),p=se(v=>v.updateItem),{confirm:h}=hl(),g=at(v=>v.addToast),N=ht.calculatePrice(s),_=j.useMemo(()=>{let v="";return s.type===I.CURTAIN&&"style"in s?v=`${s.style}`:(s.type,I.WALLPAPER,v=Yl[s.type]?.name||""),v.replace(/\s*\(.*?\)\s*/g,"").trim()},[s]),y=j.useMemo(()=>"width_m"in s&&"height_m"in s?`${mt(s.width_m)}  ${mt(s.height_m)}`:"quantity"in s?`${s.quantity}`:"",[s]),w=j.useMemo(()=>"fabric_variant"in s&&s.fabric_variant?s.fabric_variant.replace(/\s*\(.*?\)\s*/g,"").trim():"",[s]),T=j.useMemo(()=>N.toLocaleString("th-TH",{minimumFractionDigits:0,maximumFractionDigits:0}),[N]),M=(o+1).toString().padStart(2,"0"),C=async()=>{await h({title:"",description:"?",variant:"destructive",confirmLabel:""})&&(d(u,s.id),g("success",""))},A=()=>{p(u,s.id,{is_suspended:!s.is_suspended})};return n.jsxs("div",{className:K("relative flex items-start gap-3 py-4 px-3 border-b last:border-0 border-border transition-all cursor-pointer rounded-xl active:bg-accent","hover:bg-accent",s.is_suspended&&"opacity-60 grayscale bg-muted/50"),onClick:c,children:[n.jsx("div",{className:"pt-0.5",children:n.jsx("div",{className:K("flex h-8 w-8 items-center justify-center rounded-lg text-xs font-bold font-mono border",s.is_suspended?"bg-muted text-muted-foreground border-border":"bg-card text-foreground border-border shadow-sm"),children:M})}),n.jsxs("div",{className:"flex-1 min-w-0 flex flex-col gap-1",children:[n.jsxs("div",{className:"flex justify-between items-start gap-2",children:[n.jsx("span",{className:K("text-base font-bold text-foreground truncate leading-tight",s.is_suspended&&"line-through text-muted-foreground"),children:_}),n.jsx("span",{className:K("text-lg font-mono font-bold tracking-tight shrink-0 leading-tight",s.is_suspended?"text-muted-foreground":"text-foreground"),children:T})]}),n.jsxs("div",{className:"flex flex-col items-start gap-1 text-sm text-muted-foreground font-medium leading-snug",children:[w&&n.jsx("span",{className:"truncate w-full",children:w}),y&&n.jsx("span",{className:"font-mono text-foreground/80 bg-muted/50 px-2 py-0.5 rounded-md text-xs tracking-wide",children:y})]})]}),n.jsx("div",{className:"shrink-0 pl-1 pt-0.5",onClick:v=>v.stopPropagation(),children:n.jsxs(Si,{children:[n.jsx(Ci,{className:"flex h-8 w-8 items-center justify-center rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-100 active:bg-slate-200 transition-colors focus:outline-none","aria-label":"",children:n.jsx(Ei,{className:"w-5 h-5"})}),n.jsx(xa,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:n.jsxs(Ti,{anchor:"bottom end",className:K("z-[999] w-44 origin-top-right rounded-xl p-1 shadow-xl ring-1 focus:outline-none","bg-popover ring-border border border-border"),children:[n.jsx("div",{className:"px-3 py-2 border-b border-border mb-1",children:n.jsx("p",{className:"text-[11px] font-bold text-muted-foreground uppercase tracking-wider truncate",children:_})}),n.jsx(At,{children:({focus:v})=>n.jsxs("button",{onClick:()=>c(),className:K("flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-[13px] font-medium transition-colors",v?"bg-primary/10 text-primary":"text-foreground"),children:[n.jsx(cv,{className:"w-4 h-4"})," "]})}),n.jsx(At,{children:({focus:v})=>n.jsxs("button",{onClick:()=>m(u,s.id),className:K("flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-[13px] font-medium transition-colors",v?"bg-primary/10 text-primary":"text-foreground"),children:[n.jsx(Hp,{className:"w-4 h-4"})," "]})}),n.jsx("div",{className:"h-px bg-border my-1"}),n.jsx(At,{children:({focus:v})=>n.jsxs("button",{onClick:A,className:K("flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-[13px] font-medium transition-colors",v?"bg-warning/10 text-warning":"text-foreground"),children:[s.is_suspended?n.jsx(Ru,{className:"w-4 h-4 text-success"}):n.jsx(qp,{className:"w-4 h-4 text-warning"}),s.is_suspended?"":""]})}),n.jsx("div",{className:"h-px bg-border my-1"}),n.jsx(At,{children:({focus:v})=>n.jsxs("button",{onClick:C,className:K("flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-[13px] font-medium text-red-600 transition-colors",v?"bg-destructive/10 text-destructive":"text-destructive"),children:[n.jsx(Qs,{className:"w-4 h-4"})," "]})})]})})]})})]})},ne=({className:s,label:o,suffix:u,prefix:c,isDimension:d=!1,id:m,ref:p,value:h,onChange:g,onClear:N,onBlur:_,type:y="text",error:w,warning:T,...M})=>{const C=j.useId(),A=m||C,v=j.useRef(null),L=p||v,X=O=>{if(d&&g){const V=O.target.value,Q=vb(V);if(Q!==V&&Q!==""){const J={...O,target:{...O.target,value:Q}};g(J)}}_?.(O)},D=()=>{N?N():g&&L.current&&g({target:{value:""}}),L.current?.focus()},b=N||h&&h.toString().length>0&&!M.disabled&&!M.readOnly,z=w?"border-destructive/50 focus:border-destructive focus:ring-destructive/20 text-destructive":T?"border-warning/50 focus:border-warning focus:ring-warning/20 text-warning-foreground":"border-input focus:border-primary focus:ring-primary/20 hover:border-accent-foreground/30";return n.jsxs("div",{className:"space-y-1.5 w-full group",children:[o&&n.jsx("label",{htmlFor:A,className:"text-[15px] font-medium text-foreground/80 ml-1",children:o}),n.jsxs("div",{className:"relative",children:[c&&n.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none group-focus-within:text-foreground transition-colors",children:c}),n.jsx("input",{ref:L,id:A,type:y,value:h,onChange:g,onBlur:X,inputMode:d?"decimal":M.inputMode,className:K("flex h-12 w-full rounded-xl border px-4 py-2 text-[16px] transition-all shadow-sm appearance-none","bg-background text-foreground placeholder:text-muted-foreground/50","focus:outline-none focus:ring-4 focus:ring-offset-0","disabled:cursor-not-allowed disabled:opacity-50 disabled:bg-muted",z,u?"pr-12":b?"pr-10":"",c?"pl-10":"",s),...M}),u&&n.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground text-sm font-medium pointer-events-none",children:u}),b&&!u&&n.jsx("button",{type:"button",onClick:D,tabIndex:-1,className:"absolute right-3 top-1/2 -translate-y-1/2 p-1.5 rounded-full text-muted-foreground hover:bg-accent hover:text-foreground transition-colors focus:outline-none focus:ring-2 focus:ring-ring","aria-label":"Clear input",children:n.jsx(Hn,{className:"w-4 h-4"})})]}),w?n.jsxs("div",{className:"flex items-center gap-1.5 px-1 animate-fade-in",role:"alert",children:[n.jsx(Mu,{className:"w-3.5 h-3.5 text-destructive"}),n.jsx("span",{className:"text-xs font-medium text-destructive",children:w})]}):T?n.jsxs("div",{className:"flex items-center gap-1.5 px-1 animate-fade-in",role:"alert",children:[n.jsx(Ua,{className:"w-3.5 h-3.5 text-warning"}),n.jsx("span",{className:"text-xs font-medium text-warning",children:T})]}):null]})},_b=({room:s,index:o,onAddItem:u,onEditItem:c,onOpenDefaults:d,className:m})=>{const[p,h]=j.useState(!0),[g,N]=j.useState(!1),[_,y]=j.useState(s.name),w=j.useRef(null),T=se(J=>J.updateRoom),M=se(J=>J.removeRoom),C=se(J=>J.duplicateRoom),A=se(J=>J.toggleRoomSuspension),{confirm:v}=hl(),L=at(J=>J.addToast);j.useEffect(()=>{g&&w.current&&w.current.focus()},[g]);const X=j.useMemo(()=>s.is_suspended?0:s.items.reduce((J,re)=>J+ht.calculatePrice(re),0),[s.items,s.is_suspended]),D=s.items.length,b=()=>{_.trim()&&(T(s.id,{name:_.trim()}),N(!1))},z=async()=>{await v({title:"?",description:` "${s.name}" ?`,confirmLabel:"",variant:"destructive"})&&(M(s.id),L("success",""))},O=()=>{C(s.id),L("success","")},V=()=>{A(s.id);const J=!s.is_suspended;L("info",J?" ()":"")},Q=J=>{J.stopPropagation()};return n.jsxs("div",{className:K("relative rounded-2xl transition-all duration-300","bg-card border border-border shadow-sm",s.is_suspended&&"opacity-60 grayscale border-dashed",m),children:[n.jsxs("div",{onClick:()=>h(!p),className:K("flex items-center justify-between p-5 cursor-pointer select-none transition-colors rounded-t-2xl","hover:bg-accent",!p&&"rounded-b-2xl"),children:[n.jsxs("div",{className:"flex items-center gap-4 min-w-0 flex-1",children:[n.jsx("div",{className:K("flex shrink-0 items-center justify-center w-11 h-11 rounded-xl font-mono text-base font-bold transition-colors","bg-muted text-muted-foreground"),children:String(o+1).padStart(2,"0")}),n.jsxs("div",{className:"min-w-0 flex-1",children:[g?n.jsxs("div",{className:"flex items-center gap-2",onClick:Q,onMouseDown:Q,children:[n.jsx(ne,{ref:w,value:_,onChange:J=>y(J.target.value),onKeyDown:J=>{J.key==="Enter"&&b(),J.stopPropagation()},className:"h-9 text-base font-bold bg-background"}),n.jsx("button",{onClick:b,className:"px-3 py-1.5 bg-primary text-primary-foreground text-xs rounded-lg whitespace-nowrap",children:""})]}):n.jsx("h3",{className:"text-lg font-bold text-foreground leading-tight truncate pr-2",children:s.name}),n.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[n.jsxs("span",{className:K("inline-flex items-center gap-1.5 text-xs font-medium text-muted-foreground"),children:[n.jsx(yi,{className:"w-3.5 h-3.5"}),D]}),X>0&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"w-1 h-1 rounded-full bg-border"}),n.jsx("span",{className:K("inline-flex items-center gap-1.5 text-sm font-mono font-bold","text-foreground"),children:He(X)})]}),s.is_suspended&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"w-1 h-1 rounded-full bg-border"}),n.jsx("span",{className:"text-[10px] text-amber-500 font-medium px-1.5 border border-amber-500/30 rounded",children:""})]})]})]})]}),n.jsx("div",{className:"flex items-center gap-2 pl-2 relative z-20",onClick:Q,onMouseDown:Q,onTouchStart:Q,children:n.jsxs(Si,{as:"div",className:"relative",children:[n.jsx(Ci,{className:K("p-2 rounded-full transition-colors focus:outline-none","text-muted-foreground hover:text-foreground hover:bg-accent"),children:n.jsx(Ei,{className:"w-5 h-5"})}),n.jsx(xa,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:n.jsxs(Ti,{className:K("absolute right-0 mt-2 w-48 origin-top-right divide-y rounded-xl shadow-xl ring-1 focus:outline-none","z-50","bg-popover divide-border ring-border"),children:[n.jsxs("div",{className:"p-1",children:[n.jsx(At,{children:({focus:J})=>n.jsxs("button",{onClick:()=>{y(s.name),N(!0)},className:K("flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm transition-colors",J?"bg-accent text-foreground":"text-muted-foreground"),children:[n.jsx(Ou,{className:"w-4 h-4"})," "]})}),n.jsx(At,{children:({focus:J})=>n.jsxs("button",{onClick:()=>d(s.id),className:K("flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm transition-colors",J?"bg-accent text-foreground":"text-muted-foreground"),children:[n.jsx(Yp,{className:"w-4 h-4"})," "]})}),n.jsx(At,{children:({focus:J})=>n.jsxs("button",{onClick:O,className:K("flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm transition-colors",J?"bg-accent text-foreground":"text-muted-foreground"),children:[n.jsx(Hp,{className:"w-4 h-4"})," "]})})]}),n.jsx("div",{className:"p-1",children:n.jsx(At,{children:({focus:J})=>n.jsxs("button",{onClick:V,className:K("flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm transition-colors",J?"bg-amber-500/10 text-amber-600 dark:text-amber-400":"text-muted-foreground"),children:[s.is_suspended?n.jsx(Ru,{className:"w-4 h-4"}):n.jsx(qp,{className:"w-4 h-4"}),s.is_suspended?"":""]})})}),n.jsx("div",{className:"p-1",children:n.jsx(At,{children:({focus:J})=>n.jsxs("button",{onClick:z,className:K("flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm text-red-600 transition-colors",J?"bg-destructive/10":""),children:[n.jsx(Qs,{className:"w-4 h-4"})," "]})})})]})})]})})]}),n.jsx("div",{className:K("transition-all duration-300 ease-out origin-top overflow-hidden",p?"opacity-100 max-h-[5000px]":"opacity-0 max-h-0"),children:n.jsxs("div",{className:"px-4 pb-4 space-y-3 pt-2 border-t border-border",children:[s.items.map((J,re)=>n.jsx(wb,{item:J,index:re,roomId:s.id,onEdit:()=>c(s.id,J)},J.id)),n.jsx("button",{onClick:()=>u(s.id),className:K("w-full flex items-center justify-center gap-2 rounded-xl border-2 border-dashed transition-all active:scale-[0.98]",D===0?"py-8 border-border bg-muted/30 text-muted-foreground":"py-3 border-indigo-500/20 bg-indigo-500/5 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-500/10"),children:D===0?n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-card border border-border flex items-center justify-center shadow-sm",children:n.jsx(yi,{className:"w-5 h-5 text-muted-foreground"})}),n.jsx("span",{className:"text-sm font-medium",children:""})]}):n.jsxs(n.Fragment,{children:[n.jsx(ov,{className:"w-5 h-5"}),n.jsx("span",{className:"text-sm font-semibold",children:""})]})})]})})]})},Sb=({rooms:s,onAddItem:o,onEditItem:u,onOpenDefaults:c})=>{const d=j.useRef(null),[m,p]=j.useState(0),{trigger:h}=ml(),g=se(y=>y.addRoom);j.useEffect(()=>{const y=d.current;if(!y)return;const w=new IntersectionObserver(M=>{M.forEach(C=>{if(C.isIntersecting){const A=Number(C.target.getAttribute("data-index"));isNaN(A)||p(v=>v!==A?(h("selection"),A):v)}})},{root:y,threshold:.6});return y.querySelectorAll(".room-slide").forEach(M=>w.observe(M)),()=>w.disconnect()},[s.length,h]);const N=y=>{const w=d.current;if(!w)return;const T=Math.max(0,Math.min(y,s.length)),M=w.clientWidth;w.scrollTo({left:T*M,behavior:"smooth"})},_=()=>{h("medium"),g(),setTimeout(()=>N(s.length),100)};return n.jsxs("div",{className:"relative w-full",children:[n.jsx("div",{className:"sticky top-0 z-10 flex justify-center py-2 mb-2",children:n.jsxs("div",{className:"flex items-center gap-1.5 bg-black/10 dark:bg-white/10 backdrop-blur-md px-3 py-1.5 rounded-full border border-white/5 shadow-sm",children:[s.map((y,w)=>n.jsx("button",{onClick:()=>N(w),className:K("w-2 h-2 rounded-full transition-all duration-300",m===w?"bg-primary w-6":"bg-muted-foreground/30 hover:bg-muted-foreground/60")},`dot-${w}`)),n.jsx("div",{className:K("w-2 h-2 rounded-full transition-all duration-300",m===s.length?"bg-primary w-6":"bg-muted-foreground/30")})]})}),n.jsxs("div",{ref:d,className:K("flex overflow-x-auto snap-x snap-mandatory scrollbar-hide pb-4","overflow-y-hidden"),style:{scrollBehavior:"smooth"},children:[s.map((y,w)=>n.jsx("div",{"data-index":w,className:"room-slide min-w-full px-1 snap-center",children:n.jsx("div",{className:K("transition-all duration-500 ease-out h-full",m===w?"scale-100 opacity-100":"scale-[0.96] opacity-70 blur-[1px]"),children:n.jsx(_b,{room:y,index:w,totalRooms:s.length,onAddItem:o,onEditItem:u,onOpenDefaults:c})})},y.id)),n.jsx("div",{"data-index":s.length,className:"room-slide min-w-full px-1 snap-center flex",children:n.jsxs("button",{onClick:_,className:K("w-full rounded-2xl border-2 border-dashed border-muted-foreground/20","flex flex-col items-center justify-center gap-4 min-h-[300px]","bg-muted/5 hover:bg-muted/10 active:scale-[0.98] transition-all","text-muted-foreground hover:text-primary group",m===s.length?"scale-100 opacity-100":"scale-[0.96] opacity-70"),children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-background shadow-sm border border-border flex items-center justify-center group-hover:shadow-md group-hover:scale-110 transition-all duration-300",children:n.jsx(kn,{className:"w-8 h-8 text-primary/50 group-hover:text-primary"})}),n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-lg font-bold group-hover:text-primary transition-colors",children:""}),n.jsx("p",{className:"text-sm opacity-60",children:"Add New Room"})]})]})})]}),n.jsxs("div",{className:"hidden sm:block",children:[m>0&&n.jsx("button",{onClick:()=>N(m-1),className:"absolute top-1/2 -left-4 -translate-y-1/2 p-2 rounded-full bg-background border border-border shadow-lg hover:bg-accent transition-colors z-20",children:n.jsx(Xp,{className:"w-5 h-5"})}),m<s.length&&n.jsx("button",{onClick:()=>N(m+1),className:"absolute top-1/2 -right-4 -translate-y-1/2 p-2 rounded-full bg-background border border-border shadow-lg hover:bg-accent transition-colors z-20",children:n.jsx(_i,{className:"w-5 h-5"})})]})]})},lx=Xu()(tx(s=>({theme:"light",toggleTheme:()=>s(o=>{const u=o.theme==="light"?"dark":"light";return ou(u),{theme:u}}),setTheme:o=>{ou(o),s({theme:o})}}),{name:"marnthara-theme",storage:Vu(()=>localStorage),onRehydrateStorage:()=>s=>{s&&ou(s.theme)}})),ou=s=>{const o=window.document.documentElement;o.classList.remove("light","dark"),o.classList.add(s);const u=document.querySelector('meta[name="theme-color"]');u&&u.setAttribute("content",s==="dark"?"#0D0814":"#FBFBFE")},Cb=({toast:s,onDismiss:o})=>{const u={success:n.jsx("div",{className:"bg-success rounded-full p-1",children:n.jsx(qn,{className:"w-3 h-3 text-white",strokeWidth:4})}),error:n.jsx(Mu,{className:"w-5 h-5 text-destructive"}),warning:n.jsx(Ua,{className:"w-5 h-5 text-warning"}),info:n.jsx(uv,{className:"w-5 h-5 text-info"})};return n.jsx(xa,{show:!0,appear:!0,enter:"transform ease-out duration-300 transition",enterFrom:"translate-y-[-150%] opacity-0 scale-90",enterTo:"translate-y-0 opacity-100 scale-100",leave:"transition ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:n.jsxs("div",{className:K("pointer-events-auto flex items-center gap-3 px-4 py-3 shadow-2xl mb-3 cursor-pointer select-none","bg-primary/95 backdrop-blur-md border border-primary-foreground/10","rounded-full min-w-[200px] max-w-[90vw]","text-primary-foreground"),onClick:()=>o(s.id),children:[n.jsx("div",{className:"shrink-0 flex items-center",children:u[s.type]}),n.jsxs("div",{className:"flex-1 min-w-0 text-center sm:text-left mr-2",children:[n.jsx("p",{className:"text-[14px] font-semibold leading-tight tracking-tight",children:s.title}),s.message&&n.jsx("p",{className:"text-[12px] text-primary-foreground/70 mt-0.5 truncate max-w-[240px]",children:s.message})]})]})})},Eb=()=>{const s=at(u=>u.toasts),o=at(u=>u.removeToast);return s.length===0?null:Vp.createPortal(n.jsx("div",{className:"fixed top-6 left-0 right-0 z-[100] flex flex-col items-center pointer-events-none px-4",children:s.map(u=>n.jsx(Cb,{toast:u,onDismiss:o},u.id))}),document.body)},oe=({className:s,variant:o="primary",size:u="md",disableHaptic:c=!1,onClick:d,ref:m,...p})=>{const{trigger:h}=ml(),g=y=>{c||h(o==="destructive"?"warning":"light"),d?.(y)},N={primary:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm active:scale-[0.96] border border-transparent",secondary:"bg-card text-foreground border border-border hover:bg-accent hover:text-accent-foreground shadow-sm active:scale-[0.96]",outline:"border border-border bg-transparent hover:bg-accent hover:text-accent-foreground text-muted-foreground active:scale-[0.96]",ghost:"hover:bg-accent hover:text-accent-foreground text-muted-foreground hover:text-foreground active:scale-[0.96] border border-transparent",destructive:"bg-destructive/10 text-destructive hover:bg-destructive/20 border border-destructive/20 active:scale-[0.96]"},_={sm:"h-8 px-3 text-xs rounded-lg",md:"h-12 px-5 py-2 rounded-xl text-sm font-medium",lg:"h-14 px-8 rounded-2xl text-base font-medium",icon:"h-11 w-11 p-0 rounded-full flex items-center justify-center"};return n.jsx("button",{ref:m,onClick:g,className:K("inline-flex items-center justify-center whitespace-nowrap transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",N[o],_[u],s),...p})},Tb=()=>{const{isOpen:s,title:o,description:u,variant:c,confirmLabel:d,cancelLabel:m,onConfirm:p,onCancel:h}=at(_=>_.alertConfig),g=at(_=>_.closeAlert),N=_=>{g(),_?p():h()};return n.jsx(xa,{show:s,as:j.Fragment,children:n.jsxs(Ai,{onClose:()=>N(!1),className:"relative z-[110]",children:[n.jsx(fl,{as:j.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:n.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-[2px]"})}),n.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:n.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:n.jsx(fl,{as:j.Fragment,enter:"ease-ios duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:n.jsxs(Di,{className:"w-full max-w-sm transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c==="destructive"&&n.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:n.jsx(Ua,{className:"w-5 h-5 text-red-600"})}),n.jsx("div",{children:n.jsx(zu,{as:"h3",className:"text-lg font-bold leading-6 text-slate-900",children:o})})]}),n.jsx("div",{className:"mt-2",children:n.jsx("p",{className:"text-sm text-slate-500",children:u})}),n.jsxs("div",{className:"mt-6 flex gap-3 justify-end",children:[n.jsx(oe,{variant:"ghost",onClick:()=>N(!1),children:m}),n.jsx(oe,{variant:c==="destructive"?"destructive":"primary",onClick:()=>N(!0),children:d})]})]})})})})]})})};function dl(s,o,{checkForDefaultPrevented:u=!0}={}){return function(d){if(s?.(d),u===!1||!d.defaultPrevented)return o?.(d)}}function cp(s,o){if(typeof s=="function")return s(o);s!=null&&(s.current=o)}function nx(...s){return o=>{let u=!1;const c=s.map(d=>{const m=cp(d,o);return!u&&typeof m=="function"&&(u=!0),m});if(u)return()=>{for(let d=0;d<c.length;d++){const m=c[d];typeof m=="function"?m():cp(s[d],null)}}}}function Gl(...s){return j.useCallback(nx(...s),s)}function Ab(s,o){const u=j.createContext(o),c=m=>{const{children:p,...h}=m,g=j.useMemo(()=>h,Object.values(h));return n.jsx(u.Provider,{value:g,children:p})};c.displayName=s+"Provider";function d(m){const p=j.useContext(u);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[c,d]}function Db(s,o=[]){let u=[];function c(m,p){const h=j.createContext(p),g=u.length;u=[...u,p];const N=y=>{const{scope:w,children:T,...M}=y,C=w?.[s]?.[g]||h,A=j.useMemo(()=>M,Object.values(M));return n.jsx(C.Provider,{value:A,children:T})};N.displayName=m+"Provider";function _(y,w){const T=w?.[s]?.[g]||h,M=j.useContext(T);if(M)return M;if(p!==void 0)return p;throw new Error(`\`${y}\` must be used within \`${m}\``)}return[N,_]}const d=()=>{const m=u.map(p=>j.createContext(p));return function(h){const g=h?.[s]||m;return j.useMemo(()=>({[`__scope${s}`]:{...h,[s]:g}}),[h,g])}};return d.scopeName=s,[c,Rb(d,...o)]}function Rb(...s){const o=s[0];if(s.length===1)return o;const u=()=>{const c=s.map(d=>({useScope:d(),scopeName:d.scopeName}));return function(m){const p=c.reduce((h,{useScope:g,scopeName:N})=>{const y=g(m)[`__scope${N}`];return{...h,...y}},{});return j.useMemo(()=>({[`__scope${o.scopeName}`]:p}),[p])}};return u.scopeName=o.scopeName,u}var Vs=globalThis?.document?j.useLayoutEffect:()=>{},Mb=Gp[" useId ".trim().toString()]||(()=>{}),Ob=0;function uu(s){const[o,u]=j.useState(Mb());return Vs(()=>{u(c=>c??String(Ob++))},[s]),s||(o?`radix-${o}`:"")}var zb=Gp[" useInsertionEffect ".trim().toString()]||Vs;function Lb({prop:s,defaultProp:o,onChange:u=()=>{},caller:c}){const[d,m,p]=Ub({defaultProp:o,onChange:u}),h=s!==void 0,g=h?s:d;{const _=j.useRef(s!==void 0);j.useEffect(()=>{const y=_.current;y!==h&&console.warn(`${c} is changing from ${y?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),_.current=h},[h,c])}const N=j.useCallback(_=>{if(h){const y=Bb(_)?_(s):_;y!==s&&p.current?.(y)}else m(_)},[h,s,m,p]);return[g,N]}function Ub({defaultProp:s,onChange:o}){const[u,c]=j.useState(s),d=j.useRef(u),m=j.useRef(o);return zb(()=>{m.current=o},[o]),j.useEffect(()=>{d.current!==u&&(m.current?.(u),d.current=u)},[u,d]),[u,c,m]}function Bb(s){return typeof s=="function"}function sx(s){const o=kb(s),u=j.forwardRef((c,d)=>{const{children:m,...p}=c,h=j.Children.toArray(m),g=h.find(qb);if(g){const N=g.props.children,_=h.map(y=>y===g?j.Children.count(N)>1?j.Children.only(null):j.isValidElement(N)?N.props.children:null:y);return n.jsx(o,{...p,ref:d,children:j.isValidElement(N)?j.cloneElement(N,void 0,_):null})}return n.jsx(o,{...p,ref:d,children:m})});return u.displayName=`${s}.Slot`,u}function kb(s){const o=j.forwardRef((u,c)=>{const{children:d,...m}=u;if(j.isValidElement(d)){const p=Xb(d),h=Yb(m,d.props);return d.type!==j.Fragment&&(h.ref=c?nx(c,p):p),j.cloneElement(d,h)}return j.Children.count(d)>1?j.Children.only(null):null});return o.displayName=`${s}.SlotClone`,o}var Hb=Symbol("radix.slottable");function qb(s){return j.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===Hb}function Yb(s,o){const u={...o};for(const c in o){const d=s[c],m=o[c];/^on[A-Z]/.test(c)?d&&m?u[c]=(...h)=>{const g=m(...h);return d(...h),g}:d&&(u[c]=d):c==="style"?u[c]={...d,...m}:c==="className"&&(u[c]=[d,m].filter(Boolean).join(" "))}return{...s,...u}}function Xb(s){let o=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,u=o&&"isReactWarning"in o&&o.isReactWarning;return u?s.ref:(o=Object.getOwnPropertyDescriptor(s,"ref")?.get,u=o&&"isReactWarning"in o&&o.isReactWarning,u?s.props.ref:s.props.ref||s.ref)}var Vb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ka=Vb.reduce((s,o)=>{const u=sx(`Primitive.${o}`),c=j.forwardRef((d,m)=>{const{asChild:p,...h}=d,g=p?u:o;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(g,{...h,ref:m})});return c.displayName=`Primitive.${o}`,{...s,[o]:c}},{});function Gb(s,o){s&&Vp.flushSync(()=>s.dispatchEvent(o))}function Gs(s){const o=j.useRef(s);return j.useEffect(()=>{o.current=s}),j.useMemo(()=>(...u)=>o.current?.(...u),[])}function Qb(s,o=globalThis?.document){const u=Gs(s);j.useEffect(()=>{const c=d=>{d.key==="Escape"&&u(d)};return o.addEventListener("keydown",c,{capture:!0}),()=>o.removeEventListener("keydown",c,{capture:!0})},[u,o])}var Zb="DismissableLayer",Eu="dismissableLayer.update",Fb="dismissableLayer.pointerDownOutside",Kb="dismissableLayer.focusOutside",op,rx=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ix=j.forwardRef((s,o)=>{const{disableOutsidePointerEvents:u=!1,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:m,onInteractOutside:p,onDismiss:h,...g}=s,N=j.useContext(rx),[_,y]=j.useState(null),w=_?.ownerDocument??globalThis?.document,[,T]=j.useState({}),M=Gl(o,O=>y(O)),C=Array.from(N.layers),[A]=[...N.layersWithOutsidePointerEventsDisabled].slice(-1),v=C.indexOf(A),L=_?C.indexOf(_):-1,X=N.layersWithOutsidePointerEventsDisabled.size>0,D=L>=v,b=$b(O=>{const V=O.target,Q=[...N.branches].some(J=>J.contains(V));!D||Q||(d?.(O),p?.(O),O.defaultPrevented||h?.())},w),z=Wb(O=>{const V=O.target;[...N.branches].some(J=>J.contains(V))||(m?.(O),p?.(O),O.defaultPrevented||h?.())},w);return Qb(O=>{L===N.layers.size-1&&(c?.(O),!O.defaultPrevented&&h&&(O.preventDefault(),h()))},w),j.useEffect(()=>{if(_)return u&&(N.layersWithOutsidePointerEventsDisabled.size===0&&(op=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),N.layersWithOutsidePointerEventsDisabled.add(_)),N.layers.add(_),up(),()=>{u&&N.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=op)}},[_,w,u,N]),j.useEffect(()=>()=>{_&&(N.layers.delete(_),N.layersWithOutsidePointerEventsDisabled.delete(_),up())},[_,N]),j.useEffect(()=>{const O=()=>T({});return document.addEventListener(Eu,O),()=>document.removeEventListener(Eu,O)},[]),n.jsx(ka.div,{...g,ref:M,style:{pointerEvents:X?D?"auto":"none":void 0,...s.style},onFocusCapture:dl(s.onFocusCapture,z.onFocusCapture),onBlurCapture:dl(s.onBlurCapture,z.onBlurCapture),onPointerDownCapture:dl(s.onPointerDownCapture,b.onPointerDownCapture)})});ix.displayName=Zb;var Jb="DismissableLayerBranch",Ib=j.forwardRef((s,o)=>{const u=j.useContext(rx),c=j.useRef(null),d=Gl(o,c);return j.useEffect(()=>{const m=c.current;if(m)return u.branches.add(m),()=>{u.branches.delete(m)}},[u.branches]),n.jsx(ka.div,{...s,ref:d})});Ib.displayName=Jb;function $b(s,o=globalThis?.document){const u=Gs(s),c=j.useRef(!1),d=j.useRef(()=>{});return j.useEffect(()=>{const m=h=>{if(h.target&&!c.current){let g=function(){cx(Fb,u,N,{discrete:!0})};const N={originalEvent:h};h.pointerType==="touch"?(o.removeEventListener("click",d.current),d.current=g,o.addEventListener("click",d.current,{once:!0})):g()}else o.removeEventListener("click",d.current);c.current=!1},p=window.setTimeout(()=>{o.addEventListener("pointerdown",m)},0);return()=>{window.clearTimeout(p),o.removeEventListener("pointerdown",m),o.removeEventListener("click",d.current)}},[o,u]),{onPointerDownCapture:()=>c.current=!0}}function Wb(s,o=globalThis?.document){const u=Gs(s),c=j.useRef(!1);return j.useEffect(()=>{const d=m=>{m.target&&!c.current&&cx(Kb,u,{originalEvent:m},{discrete:!1})};return o.addEventListener("focusin",d),()=>o.removeEventListener("focusin",d)},[o,u]),{onFocusCapture:()=>c.current=!0,onBlurCapture:()=>c.current=!1}}function up(){const s=new CustomEvent(Eu);document.dispatchEvent(s)}function cx(s,o,u,{discrete:c}){const d=u.originalEvent.target,m=new CustomEvent(s,{bubbles:!1,cancelable:!0,detail:u});o&&d.addEventListener(s,o,{once:!0}),c?Gb(d,m):d.dispatchEvent(m)}var du="focusScope.autoFocusOnMount",fu="focusScope.autoFocusOnUnmount",dp={bubbles:!1,cancelable:!0},Pb="FocusScope",ox=j.forwardRef((s,o)=>{const{loop:u=!1,trapped:c=!1,onMountAutoFocus:d,onUnmountAutoFocus:m,...p}=s,[h,g]=j.useState(null),N=Gs(d),_=Gs(m),y=j.useRef(null),w=Gl(o,C=>g(C)),T=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(c){let C=function(X){if(T.paused||!h)return;const D=X.target;h.contains(D)?y.current=D:ul(y.current,{select:!0})},A=function(X){if(T.paused||!h)return;const D=X.relatedTarget;D!==null&&(h.contains(D)||ul(y.current,{select:!0}))},v=function(X){if(document.activeElement===document.body)for(const b of X)b.removedNodes.length>0&&ul(h)};document.addEventListener("focusin",C),document.addEventListener("focusout",A);const L=new MutationObserver(v);return h&&L.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",A),L.disconnect()}}},[c,h,T.paused]),j.useEffect(()=>{if(h){mp.add(T);const C=document.activeElement;if(!h.contains(C)){const v=new CustomEvent(du,dp);h.addEventListener(du,N),h.dispatchEvent(v),v.defaultPrevented||(ey(sy(ux(h)),{select:!0}),document.activeElement===C&&ul(h))}return()=>{h.removeEventListener(du,N),setTimeout(()=>{const v=new CustomEvent(fu,dp);h.addEventListener(fu,_),h.dispatchEvent(v),v.defaultPrevented||ul(C??document.body,{select:!0}),h.removeEventListener(fu,_),mp.remove(T)},0)}}},[h,N,_,T]);const M=j.useCallback(C=>{if(!u&&!c||T.paused)return;const A=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,v=document.activeElement;if(A&&v){const L=C.currentTarget,[X,D]=ty(L);X&&D?!C.shiftKey&&v===D?(C.preventDefault(),u&&ul(X,{select:!0})):C.shiftKey&&v===X&&(C.preventDefault(),u&&ul(D,{select:!0})):v===L&&C.preventDefault()}},[u,c,T.paused]);return n.jsx(ka.div,{tabIndex:-1,...p,ref:w,onKeyDown:M})});ox.displayName=Pb;function ey(s,{select:o=!1}={}){const u=document.activeElement;for(const c of s)if(ul(c,{select:o}),document.activeElement!==u)return}function ty(s){const o=ux(s),u=fp(o,s),c=fp(o.reverse(),s);return[u,c]}function ux(s){const o=[],u=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:c=>{const d=c.tagName==="INPUT"&&c.type==="hidden";return c.disabled||c.hidden||d?NodeFilter.FILTER_SKIP:c.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;u.nextNode();)o.push(u.currentNode);return o}function fp(s,o){for(const u of s)if(!ay(u,{upTo:o}))return u}function ay(s,{upTo:o}){if(getComputedStyle(s).visibility==="hidden")return!0;for(;s;){if(o!==void 0&&s===o)return!1;if(getComputedStyle(s).display==="none")return!0;s=s.parentElement}return!1}function ly(s){return s instanceof HTMLInputElement&&"select"in s}function ul(s,{select:o=!1}={}){if(s&&s.focus){const u=document.activeElement;s.focus({preventScroll:!0}),s!==u&&ly(s)&&o&&s.select()}}var mp=ny();function ny(){let s=[];return{add(o){const u=s[0];o!==u&&u?.pause(),s=hp(s,o),s.unshift(o)},remove(o){s=hp(s,o),s[0]?.resume()}}}function hp(s,o){const u=[...s],c=u.indexOf(o);return c!==-1&&u.splice(c,1),u}function sy(s){return s.filter(o=>o.tagName!=="A")}var ry="Portal",dx=j.forwardRef((s,o)=>{const{container:u,...c}=s,[d,m]=j.useState(!1);Vs(()=>m(!0),[]);const p=u||d&&globalThis?.document?.body;return p?dv.createPortal(n.jsx(ka.div,{...c,ref:o}),p):null});dx.displayName=ry;function iy(s,o){return j.useReducer((u,c)=>o[u][c]??u,s)}var Hi=s=>{const{present:o,children:u}=s,c=cy(o),d=typeof u=="function"?u({present:c.isPresent}):j.Children.only(u),m=Gl(c.ref,oy(d));return typeof u=="function"||c.isPresent?j.cloneElement(d,{ref:m}):null};Hi.displayName="Presence";function cy(s){const[o,u]=j.useState(),c=j.useRef(null),d=j.useRef(s),m=j.useRef("none"),p=s?"mounted":"unmounted",[h,g]=iy(p,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const N=di(c.current);m.current=h==="mounted"?N:"none"},[h]),Vs(()=>{const N=c.current,_=d.current;if(_!==s){const w=m.current,T=di(N);s?g("MOUNT"):T==="none"||N?.display==="none"?g("UNMOUNT"):g(_&&w!==T?"ANIMATION_OUT":"UNMOUNT"),d.current=s}},[s,g]),Vs(()=>{if(o){let N;const _=o.ownerDocument.defaultView??window,y=T=>{const C=di(c.current).includes(CSS.escape(T.animationName));if(T.target===o&&C&&(g("ANIMATION_END"),!d.current)){const A=o.style.animationFillMode;o.style.animationFillMode="forwards",N=_.setTimeout(()=>{o.style.animationFillMode==="forwards"&&(o.style.animationFillMode=A)})}},w=T=>{T.target===o&&(m.current=di(c.current))};return o.addEventListener("animationstart",w),o.addEventListener("animationcancel",y),o.addEventListener("animationend",y),()=>{_.clearTimeout(N),o.removeEventListener("animationstart",w),o.removeEventListener("animationcancel",y),o.removeEventListener("animationend",y)}}else g("ANIMATION_END")},[o,g]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:j.useCallback(N=>{c.current=N?getComputedStyle(N):null,u(N)},[])}}function di(s){return s?.animationName||"none"}function oy(s){let o=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,u=o&&"isReactWarning"in o&&o.isReactWarning;return u?s.ref:(o=Object.getOwnPropertyDescriptor(s,"ref")?.get,u=o&&"isReactWarning"in o&&o.isReactWarning,u?s.props.ref:s.props.ref||s.ref)}var mu=0;function uy(){j.useEffect(()=>{const s=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",s[0]??pp()),document.body.insertAdjacentElement("beforeend",s[1]??pp()),mu++,()=>{mu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(o=>o.remove()),mu--}},[])}function pp(){const s=document.createElement("span");return s.setAttribute("data-radix-focus-guard",""),s.tabIndex=0,s.style.outline="none",s.style.opacity="0",s.style.position="fixed",s.style.pointerEvents="none",s}var ha=function(){return ha=Object.assign||function(o){for(var u,c=1,d=arguments.length;c<d;c++){u=arguments[c];for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(o[m]=u[m])}return o},ha.apply(this,arguments)};function fx(s,o){var u={};for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&o.indexOf(c)<0&&(u[c]=s[c]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,c=Object.getOwnPropertySymbols(s);d<c.length;d++)o.indexOf(c[d])<0&&Object.prototype.propertyIsEnumerable.call(s,c[d])&&(u[c[d]]=s[c[d]]);return u}function dy(s,o,u){if(u||arguments.length===2)for(var c=0,d=o.length,m;c<d;c++)(m||!(c in o))&&(m||(m=Array.prototype.slice.call(o,0,c)),m[c]=o[c]);return s.concat(m||Array.prototype.slice.call(o))}var vi="right-scroll-bar-position",bi="width-before-scroll-bar",fy="with-scroll-bars-hidden",my="--removed-body-scroll-bar-size";function hu(s,o){return typeof s=="function"?s(o):s&&(s.current=o),s}function hy(s,o){var u=j.useState(function(){return{value:s,callback:o,facade:{get current(){return u.value},set current(c){var d=u.value;d!==c&&(u.value=c,u.callback(c,d))}}}})[0];return u.callback=o,u.facade}var py=typeof window<"u"?j.useLayoutEffect:j.useEffect,xp=new WeakMap;function xy(s,o){var u=hy(null,function(c){return s.forEach(function(d){return hu(d,c)})});return py(function(){var c=xp.get(u);if(c){var d=new Set(c),m=new Set(s),p=u.current;d.forEach(function(h){m.has(h)||hu(h,null)}),m.forEach(function(h){d.has(h)||hu(h,p)})}xp.set(u,s)},[s]),u}function gy(s){return s}function vy(s,o){o===void 0&&(o=gy);var u=[],c=!1,d={read:function(){if(c)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return u.length?u[u.length-1]:s},useMedium:function(m){var p=o(m,c);return u.push(p),function(){u=u.filter(function(h){return h!==p})}},assignSyncMedium:function(m){for(c=!0;u.length;){var p=u;u=[],p.forEach(m)}u={push:function(h){return m(h)},filter:function(){return u}}},assignMedium:function(m){c=!0;var p=[];if(u.length){var h=u;u=[],h.forEach(m),p=u}var g=function(){var _=p;p=[],_.forEach(m)},N=function(){return Promise.resolve().then(g)};N(),u={push:function(_){p.push(_),N()},filter:function(_){return p=p.filter(_),u}}}};return d}function by(s){s===void 0&&(s={});var o=vy(null);return o.options=ha({async:!0,ssr:!1},s),o}var mx=function(s){var o=s.sideCar,u=fx(s,["sideCar"]);if(!o)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var c=o.read();if(!c)throw new Error("Sidecar medium not found");return j.createElement(c,ha({},u))};mx.isSideCarExport=!0;function yy(s,o){return s.useMedium(o),mx}var hx=by(),pu=function(){},qi=j.forwardRef(function(s,o){var u=j.useRef(null),c=j.useState({onScrollCapture:pu,onWheelCapture:pu,onTouchMoveCapture:pu}),d=c[0],m=c[1],p=s.forwardProps,h=s.children,g=s.className,N=s.removeScrollBar,_=s.enabled,y=s.shards,w=s.sideCar,T=s.noRelative,M=s.noIsolation,C=s.inert,A=s.allowPinchZoom,v=s.as,L=v===void 0?"div":v,X=s.gapMode,D=fx(s,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=w,z=xy([u,o]),O=ha(ha({},D),d);return j.createElement(j.Fragment,null,_&&j.createElement(b,{sideCar:hx,removeScrollBar:N,shards:y,noRelative:T,noIsolation:M,inert:C,setCallbacks:m,allowPinchZoom:!!A,lockRef:u,gapMode:X}),p?j.cloneElement(j.Children.only(h),ha(ha({},O),{ref:z})):j.createElement(L,ha({},O,{className:g,ref:z}),h))});qi.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qi.classNames={fullWidth:bi,zeroRight:vi};var Ny=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jy(){if(!document)return null;var s=document.createElement("style");s.type="text/css";var o=Ny();return o&&s.setAttribute("nonce",o),s}function wy(s,o){s.styleSheet?s.styleSheet.cssText=o:s.appendChild(document.createTextNode(o))}function _y(s){var o=document.head||document.getElementsByTagName("head")[0];o.appendChild(s)}var Sy=function(){var s=0,o=null;return{add:function(u){s==0&&(o=jy())&&(wy(o,u),_y(o)),s++},remove:function(){s--,!s&&o&&(o.parentNode&&o.parentNode.removeChild(o),o=null)}}},Cy=function(){var s=Sy();return function(o,u){j.useEffect(function(){return s.add(o),function(){s.remove()}},[o&&u])}},px=function(){var s=Cy(),o=function(u){var c=u.styles,d=u.dynamic;return s(c,d),null};return o},Ey={left:0,top:0,right:0,gap:0},xu=function(s){return parseInt(s||"",10)||0},Ty=function(s){var o=window.getComputedStyle(document.body),u=o[s==="padding"?"paddingLeft":"marginLeft"],c=o[s==="padding"?"paddingTop":"marginTop"],d=o[s==="padding"?"paddingRight":"marginRight"];return[xu(u),xu(c),xu(d)]},Ay=function(s){if(s===void 0&&(s="margin"),typeof window>"u")return Ey;var o=Ty(s),u=document.documentElement.clientWidth,c=window.innerWidth;return{left:o[0],top:o[1],right:o[2],gap:Math.max(0,c-u+o[2]-o[0])}},Dy=px(),Bn="data-scroll-locked",Ry=function(s,o,u,c){var d=s.left,m=s.top,p=s.right,h=s.gap;return u===void 0&&(u="margin"),`
  .`.concat(fy,` {
   overflow: hidden `).concat(c,`;
   padding-right: `).concat(h,"px ").concat(c,`;
  }
  body[`).concat(Bn,`] {
    overflow: hidden `).concat(c,`;
    overscroll-behavior: contain;
    `).concat([o&&"position: relative ".concat(c,";"),u==="margin"&&`
    padding-left: `.concat(d,`px;
    padding-top: `).concat(m,`px;
    padding-right: `).concat(p,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(c,`;
    `),u==="padding"&&"padding-right: ".concat(h,"px ").concat(c,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vi,` {
    right: `).concat(h,"px ").concat(c,`;
  }
  
  .`).concat(bi,` {
    margin-right: `).concat(h,"px ").concat(c,`;
  }
  
  .`).concat(vi," .").concat(vi,` {
    right: 0 `).concat(c,`;
  }
  
  .`).concat(bi," .").concat(bi,` {
    margin-right: 0 `).concat(c,`;
  }
  
  body[`).concat(Bn,`] {
    `).concat(my,": ").concat(h,`px;
  }
`)},gp=function(){var s=parseInt(document.body.getAttribute(Bn)||"0",10);return isFinite(s)?s:0},My=function(){j.useEffect(function(){return document.body.setAttribute(Bn,(gp()+1).toString()),function(){var s=gp()-1;s<=0?document.body.removeAttribute(Bn):document.body.setAttribute(Bn,s.toString())}},[])},Oy=function(s){var o=s.noRelative,u=s.noImportant,c=s.gapMode,d=c===void 0?"margin":c;My();var m=j.useMemo(function(){return Ay(d)},[d]);return j.createElement(Dy,{styles:Ry(m,!o,d,u?"":"!important")})},Tu=!1;if(typeof window<"u")try{var fi=Object.defineProperty({},"passive",{get:function(){return Tu=!0,!0}});window.addEventListener("test",fi,fi),window.removeEventListener("test",fi,fi)}catch{Tu=!1}var zn=Tu?{passive:!1}:!1,zy=function(s){return s.tagName==="TEXTAREA"},xx=function(s,o){if(!(s instanceof Element))return!1;var u=window.getComputedStyle(s);return u[o]!=="hidden"&&!(u.overflowY===u.overflowX&&!zy(s)&&u[o]==="visible")},Ly=function(s){return xx(s,"overflowY")},Uy=function(s){return xx(s,"overflowX")},vp=function(s,o){var u=o.ownerDocument,c=o;do{typeof ShadowRoot<"u"&&c instanceof ShadowRoot&&(c=c.host);var d=gx(s,c);if(d){var m=vx(s,c),p=m[1],h=m[2];if(p>h)return!0}c=c.parentNode}while(c&&c!==u.body);return!1},By=function(s){var o=s.scrollTop,u=s.scrollHeight,c=s.clientHeight;return[o,u,c]},ky=function(s){var o=s.scrollLeft,u=s.scrollWidth,c=s.clientWidth;return[o,u,c]},gx=function(s,o){return s==="v"?Ly(o):Uy(o)},vx=function(s,o){return s==="v"?By(o):ky(o)},Hy=function(s,o){return s==="h"&&o==="rtl"?-1:1},qy=function(s,o,u,c,d){var m=Hy(s,window.getComputedStyle(o).direction),p=m*c,h=u.target,g=o.contains(h),N=!1,_=p>0,y=0,w=0;do{if(!h)break;var T=vx(s,h),M=T[0],C=T[1],A=T[2],v=C-A-m*M;(M||v)&&gx(s,h)&&(y+=v,w+=M);var L=h.parentNode;h=L&&L.nodeType===Node.DOCUMENT_FRAGMENT_NODE?L.host:L}while(!g&&h!==document.body||g&&(o.contains(h)||o===h));return(_&&Math.abs(y)<1||!_&&Math.abs(w)<1)&&(N=!0),N},mi=function(s){return"changedTouches"in s?[s.changedTouches[0].clientX,s.changedTouches[0].clientY]:[0,0]},bp=function(s){return[s.deltaX,s.deltaY]},yp=function(s){return s&&"current"in s?s.current:s},Yy=function(s,o){return s[0]===o[0]&&s[1]===o[1]},Xy=function(s){return`
  .block-interactivity-`.concat(s,` {pointer-events: none;}
  .allow-interactivity-`).concat(s,` {pointer-events: all;}
`)},Vy=0,Ln=[];function Gy(s){var o=j.useRef([]),u=j.useRef([0,0]),c=j.useRef(),d=j.useState(Vy++)[0],m=j.useState(px)[0],p=j.useRef(s);j.useEffect(function(){p.current=s},[s]),j.useEffect(function(){if(s.inert){document.body.classList.add("block-interactivity-".concat(d));var C=dy([s.lockRef.current],(s.shards||[]).map(yp),!0).filter(Boolean);return C.forEach(function(A){return A.classList.add("allow-interactivity-".concat(d))}),function(){document.body.classList.remove("block-interactivity-".concat(d)),C.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(d))})}}},[s.inert,s.lockRef.current,s.shards]);var h=j.useCallback(function(C,A){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!p.current.allowPinchZoom;var v=mi(C),L=u.current,X="deltaX"in C?C.deltaX:L[0]-v[0],D="deltaY"in C?C.deltaY:L[1]-v[1],b,z=C.target,O=Math.abs(X)>Math.abs(D)?"h":"v";if("touches"in C&&O==="h"&&z.type==="range")return!1;var V=window.getSelection(),Q=V&&V.anchorNode,J=Q?Q===z||Q.contains(z):!1;if(J)return!1;var re=vp(O,z);if(!re)return!0;if(re?b=O:(b=O==="v"?"h":"v",re=vp(O,z)),!re)return!1;if(!c.current&&"changedTouches"in C&&(X||D)&&(c.current=b),!b)return!0;var xe=c.current||b;return qy(xe,A,C,xe==="h"?X:D)},[]),g=j.useCallback(function(C){var A=C;if(!(!Ln.length||Ln[Ln.length-1]!==m)){var v="deltaY"in A?bp(A):mi(A),L=o.current.filter(function(b){return b.name===A.type&&(b.target===A.target||A.target===b.shadowParent)&&Yy(b.delta,v)})[0];if(L&&L.should){A.cancelable&&A.preventDefault();return}if(!L){var X=(p.current.shards||[]).map(yp).filter(Boolean).filter(function(b){return b.contains(A.target)}),D=X.length>0?h(A,X[0]):!p.current.noIsolation;D&&A.cancelable&&A.preventDefault()}}},[]),N=j.useCallback(function(C,A,v,L){var X={name:C,delta:A,target:v,should:L,shadowParent:Qy(v)};o.current.push(X),setTimeout(function(){o.current=o.current.filter(function(D){return D!==X})},1)},[]),_=j.useCallback(function(C){u.current=mi(C),c.current=void 0},[]),y=j.useCallback(function(C){N(C.type,bp(C),C.target,h(C,s.lockRef.current))},[]),w=j.useCallback(function(C){N(C.type,mi(C),C.target,h(C,s.lockRef.current))},[]);j.useEffect(function(){return Ln.push(m),s.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:w}),document.addEventListener("wheel",g,zn),document.addEventListener("touchmove",g,zn),document.addEventListener("touchstart",_,zn),function(){Ln=Ln.filter(function(C){return C!==m}),document.removeEventListener("wheel",g,zn),document.removeEventListener("touchmove",g,zn),document.removeEventListener("touchstart",_,zn)}},[]);var T=s.removeScrollBar,M=s.inert;return j.createElement(j.Fragment,null,M?j.createElement(m,{styles:Xy(d)}):null,T?j.createElement(Oy,{noRelative:s.noRelative,gapMode:s.gapMode}):null)}function Qy(s){for(var o=null;s!==null;)s instanceof ShadowRoot&&(o=s.host,s=s.host),s=s.parentNode;return o}const Zy=yy(hx,Gy);var bx=j.forwardRef(function(s,o){return j.createElement(qi,ha({},s,{ref:o,sideCar:Zy}))});bx.classNames=qi.classNames;var Fy=function(s){if(typeof document>"u")return null;var o=Array.isArray(s)?s[0]:s;return o.ownerDocument.body},Un=new WeakMap,hi=new WeakMap,pi={},gu=0,yx=function(s){return s&&(s.host||yx(s.parentNode))},Ky=function(s,o){return o.map(function(u){if(s.contains(u))return u;var c=yx(u);return c&&s.contains(c)?c:(console.error("aria-hidden",u,"in not contained inside",s,". Doing nothing"),null)}).filter(function(u){return!!u})},Jy=function(s,o,u,c){var d=Ky(o,Array.isArray(s)?s:[s]);pi[u]||(pi[u]=new WeakMap);var m=pi[u],p=[],h=new Set,g=new Set(d),N=function(y){!y||h.has(y)||(h.add(y),N(y.parentNode))};d.forEach(N);var _=function(y){!y||g.has(y)||Array.prototype.forEach.call(y.children,function(w){if(h.has(w))_(w);else try{var T=w.getAttribute(c),M=T!==null&&T!=="false",C=(Un.get(w)||0)+1,A=(m.get(w)||0)+1;Un.set(w,C),m.set(w,A),p.push(w),C===1&&M&&hi.set(w,!0),A===1&&w.setAttribute(u,"true"),M||w.setAttribute(c,"true")}catch(v){console.error("aria-hidden: cannot operate on ",w,v)}})};return _(o),h.clear(),gu++,function(){p.forEach(function(y){var w=Un.get(y)-1,T=m.get(y)-1;Un.set(y,w),m.set(y,T),w||(hi.has(y)||y.removeAttribute(c),hi.delete(y)),T||y.removeAttribute(u)}),gu--,gu||(Un=new WeakMap,Un=new WeakMap,hi=new WeakMap,pi={})}},Iy=function(s,o,u){u===void 0&&(u="data-aria-hidden");var c=Array.from(Array.isArray(s)?s:[s]),d=Fy(s);return d?(c.push.apply(c,Array.from(d.querySelectorAll("[aria-live], script"))),Jy(c,d,u,"aria-hidden")):function(){return null}},Yi="Dialog",[Nx]=Db(Yi),[$y,aa]=Nx(Yi),jx=s=>{const{__scopeDialog:o,children:u,open:c,defaultOpen:d,onOpenChange:m,modal:p=!0}=s,h=j.useRef(null),g=j.useRef(null),[N,_]=Lb({prop:c,defaultProp:d??!1,onChange:m,caller:Yi});return n.jsx($y,{scope:o,triggerRef:h,contentRef:g,contentId:uu(),titleId:uu(),descriptionId:uu(),open:N,onOpenChange:_,onOpenToggle:j.useCallback(()=>_(y=>!y),[_]),modal:p,children:u})};jx.displayName=Yi;var wx="DialogTrigger",Wy=j.forwardRef((s,o)=>{const{__scopeDialog:u,...c}=s,d=aa(wx,u),m=Gl(o,d.triggerRef);return n.jsx(ka.button,{type:"button","aria-haspopup":"dialog","aria-expanded":d.open,"aria-controls":d.contentId,"data-state":Zu(d.open),...c,ref:m,onClick:dl(s.onClick,d.onOpenToggle)})});Wy.displayName=wx;var Gu="DialogPortal",[Py,_x]=Nx(Gu,{forceMount:void 0}),Sx=s=>{const{__scopeDialog:o,forceMount:u,children:c,container:d}=s,m=aa(Gu,o);return n.jsx(Py,{scope:o,forceMount:u,children:j.Children.map(c,p=>n.jsx(Hi,{present:u||m.open,children:n.jsx(dx,{asChild:!0,container:d,children:p})}))})};Sx.displayName=Gu;var wi="DialogOverlay",Cx=j.forwardRef((s,o)=>{const u=_x(wi,s.__scopeDialog),{forceMount:c=u.forceMount,...d}=s,m=aa(wi,s.__scopeDialog);return m.modal?n.jsx(Hi,{present:c||m.open,children:n.jsx(tN,{...d,ref:o})}):null});Cx.displayName=wi;var eN=sx("DialogOverlay.RemoveScroll"),tN=j.forwardRef((s,o)=>{const{__scopeDialog:u,...c}=s,d=aa(wi,u);return n.jsx(bx,{as:eN,allowPinchZoom:!0,shards:[d.contentRef],children:n.jsx(ka.div,{"data-state":Zu(d.open),...c,ref:o,style:{pointerEvents:"auto",...c.style}})})}),Xl="DialogContent",Ex=j.forwardRef((s,o)=>{const u=_x(Xl,s.__scopeDialog),{forceMount:c=u.forceMount,...d}=s,m=aa(Xl,s.__scopeDialog);return n.jsx(Hi,{present:c||m.open,children:m.modal?n.jsx(aN,{...d,ref:o}):n.jsx(lN,{...d,ref:o})})});Ex.displayName=Xl;var aN=j.forwardRef((s,o)=>{const u=aa(Xl,s.__scopeDialog),c=j.useRef(null),d=Gl(o,u.contentRef,c);return j.useEffect(()=>{const m=c.current;if(m)return Iy(m)},[]),n.jsx(Tx,{...s,ref:d,trapFocus:u.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dl(s.onCloseAutoFocus,m=>{m.preventDefault(),u.triggerRef.current?.focus()}),onPointerDownOutside:dl(s.onPointerDownOutside,m=>{const p=m.detail.originalEvent,h=p.button===0&&p.ctrlKey===!0;(p.button===2||h)&&m.preventDefault()}),onFocusOutside:dl(s.onFocusOutside,m=>m.preventDefault())})}),lN=j.forwardRef((s,o)=>{const u=aa(Xl,s.__scopeDialog),c=j.useRef(!1),d=j.useRef(!1);return n.jsx(Tx,{...s,ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:m=>{s.onCloseAutoFocus?.(m),m.defaultPrevented||(c.current||u.triggerRef.current?.focus(),m.preventDefault()),c.current=!1,d.current=!1},onInteractOutside:m=>{s.onInteractOutside?.(m),m.defaultPrevented||(c.current=!0,m.detail.originalEvent.type==="pointerdown"&&(d.current=!0));const p=m.target;u.triggerRef.current?.contains(p)&&m.preventDefault(),m.detail.originalEvent.type==="focusin"&&d.current&&m.preventDefault()}})}),Tx=j.forwardRef((s,o)=>{const{__scopeDialog:u,trapFocus:c,onOpenAutoFocus:d,onCloseAutoFocus:m,...p}=s,h=aa(Xl,u),g=j.useRef(null),N=Gl(o,g);return uy(),n.jsxs(n.Fragment,{children:[n.jsx(ox,{asChild:!0,loop:!0,trapped:c,onMountAutoFocus:d,onUnmountAutoFocus:m,children:n.jsx(ix,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":Zu(h.open),...p,ref:N,onDismiss:()=>h.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(rN,{titleId:h.titleId}),n.jsx(cN,{contentRef:g,descriptionId:h.descriptionId})]})]})}),Qu="DialogTitle",Ax=j.forwardRef((s,o)=>{const{__scopeDialog:u,...c}=s,d=aa(Qu,u);return n.jsx(ka.h2,{id:d.titleId,...c,ref:o})});Ax.displayName=Qu;var Dx="DialogDescription",nN=j.forwardRef((s,o)=>{const{__scopeDialog:u,...c}=s,d=aa(Dx,u);return n.jsx(ka.p,{id:d.descriptionId,...c,ref:o})});nN.displayName=Dx;var Rx="DialogClose",sN=j.forwardRef((s,o)=>{const{__scopeDialog:u,...c}=s,d=aa(Rx,u);return n.jsx(ka.button,{type:"button",...c,ref:o,onClick:dl(s.onClick,()=>d.onOpenChange(!1))})});sN.displayName=Rx;function Zu(s){return s?"open":"closed"}var Mx="DialogTitleWarning",[Pj,Ox]=Ab(Mx,{contentName:Xl,titleName:Qu,docsSlug:"dialog"}),rN=({titleId:s})=>{const o=Ox(Mx),u=`\`${o.contentName}\` requires a \`${o.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${o.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${o.docsSlug}`;return j.useEffect(()=>{s&&(document.getElementById(s)||console.error(u))},[u,s]),null},iN="DialogDescriptionWarning",cN=({contentRef:s,descriptionId:o})=>{const c=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ox(iN).contentName}}.`;return j.useEffect(()=>{const d=s.current?.getAttribute("aria-describedby");o&&d&&(document.getElementById(o)||console.warn(c))},[c,s,o]),null},oN=jx,uN=Sx,dN=Cx,fN=Ex,mN=Ax;function hN(s){if(typeof document>"u")return;let o=document.head||document.getElementsByTagName("head")[0],u=document.createElement("style");u.type="text/css",o.appendChild(u),u.styleSheet?u.styleSheet.cssText=s:u.appendChild(document.createTextNode(s))}const zx=P.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Fs=()=>{const s=P.useContext(zx);if(!s)throw new Error("useDrawerContext must be used within a Drawer.Root");return s};hN(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function pN(){const s=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(s)&&/Mobile/.test(s)||/FxiOS/.test(s))}function xN(){return Fu(/^Mac/)}function gN(){return Fu(/^iPhone/)}function Np(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function vN(){return Fu(/^iPad/)||xN()&&navigator.maxTouchPoints>1}function Lx(){return gN()||vN()}function Fu(s){return typeof window<"u"&&window.navigator!=null?s.test(window.navigator.platform):void 0}const bN=24,yN=typeof window<"u"?j.useLayoutEffect:j.useEffect;function jp(...s){return(...o)=>{for(let u of s)typeof u=="function"&&u(...o)}}const vu=typeof document<"u"&&window.visualViewport;function wp(s){let o=window.getComputedStyle(s);return/(auto|scroll)/.test(o.overflow+o.overflowX+o.overflowY)}function Ux(s){for(wp(s)&&(s=s.parentElement);s&&!wp(s);)s=s.parentElement;return s||document.scrollingElement||document.documentElement}const NN=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let xi=0,bu;function jN(s={}){let{isDisabled:o}=s;yN(()=>{if(!o)return xi++,xi===1&&Lx()&&(bu=wN()),()=>{xi--,xi===0&&bu?.()}},[o])}function wN(){let s,o=0,u=y=>{s=Ux(y.target),!(s===document.documentElement&&s===document.body)&&(o=y.changedTouches[0].pageY)},c=y=>{if(!s||s===document.documentElement||s===document.body){y.preventDefault();return}let w=y.changedTouches[0].pageY,T=s.scrollTop,M=s.scrollHeight-s.clientHeight;M!==0&&((T<=0&&w>o||T>=M&&w<o)&&y.preventDefault(),o=w)},d=y=>{let w=y.target;Au(w)&&w!==document.activeElement&&(y.preventDefault(),w.style.transform="translateY(-2000px)",w.focus(),requestAnimationFrame(()=>{w.style.transform=""}))},m=y=>{let w=y.target;Au(w)&&(w.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{w.style.transform="",vu&&(vu.height<window.innerHeight?requestAnimationFrame(()=>{_p(w)}):vu.addEventListener("resize",()=>_p(w),{once:!0}))}))},p=()=>{window.scrollTo(0,0)},h=window.pageXOffset,g=window.pageYOffset,N=jp(_N(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let _=jp(Hs(document,"touchstart",u,{passive:!1,capture:!0}),Hs(document,"touchmove",c,{passive:!1,capture:!0}),Hs(document,"touchend",d,{passive:!1,capture:!0}),Hs(document,"focus",m,!0),Hs(window,"scroll",p));return()=>{N(),_(),window.scrollTo(h,g)}}function _N(s,o,u){let c=s.style[o];return s.style[o]=u,()=>{s.style[o]=c}}function Hs(s,o,u,c){return s.addEventListener(o,u,c),()=>{s.removeEventListener(o,u,c)}}function _p(s){let o=document.scrollingElement||document.documentElement;for(;s&&s!==o;){let u=Ux(s);if(u!==document.documentElement&&u!==document.body&&u!==s){let c=u.getBoundingClientRect().top,d=s.getBoundingClientRect().top,m=s.getBoundingClientRect().bottom;const p=u.getBoundingClientRect().bottom+bN;m>p&&(u.scrollTop+=d-c)}s=u.parentElement}}function Au(s){return s instanceof HTMLInputElement&&!NN.has(s.type)||s instanceof HTMLTextAreaElement||s instanceof HTMLElement&&s.isContentEditable}function SN(s,o){typeof s=="function"?s(o):s!=null&&(s.current=o)}function CN(...s){return o=>s.forEach(u=>SN(u,o))}function Bx(...s){return j.useCallback(CN(...s),s)}const kx=new WeakMap;function st(s,o,u=!1){if(!s||!(s instanceof HTMLElement))return;let c={};Object.entries(o).forEach(([d,m])=>{if(d.startsWith("--")){s.style.setProperty(d,m);return}c[d]=s.style[d],s.style[d]=m}),!u&&kx.set(s,c)}function EN(s,o){if(!s||!(s instanceof HTMLElement))return;let u=kx.get(s);u&&(s.style[o]=u[o])}const tt=s=>{switch(s){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return s}};function gi(s,o){if(!s)return null;const u=window.getComputedStyle(s),c=u.transform||u.webkitTransform||u.mozTransform;let d=c.match(/^matrix3d\((.+)\)$/);return d?parseFloat(d[1].split(", ")[tt(o)?13:12]):(d=c.match(/^matrix\((.+)\)$/),d?parseFloat(d[1].split(", ")[tt(o)?5:4]):null)}function TN(s){return 8*(Math.log(s+1)-2)}function yu(s,o){if(!s)return()=>{};const u=s.style.cssText;return Object.assign(s.style,o),()=>{s.style.cssText=u}}function AN(...s){return(...o)=>{for(const u of s)typeof u=="function"&&u(...o)}}const Ge={DURATION:.5,EASE:[.32,.72,0,1]},Hx=.4,DN=.25,RN=100,qx=8,Bl=16,Du=26,Nu="vaul-dragging";function Yx(s){const o=P.useRef(s);return P.useEffect(()=>{o.current=s}),P.useMemo(()=>(...u)=>o.current==null?void 0:o.current.call(o,...u),[])}function MN({defaultProp:s,onChange:o}){const u=P.useState(s),[c]=u,d=P.useRef(c),m=Yx(o);return P.useEffect(()=>{d.current!==c&&(m(c),d.current=c)},[c,d,m]),u}function Xx({prop:s,defaultProp:o,onChange:u=()=>{}}){const[c,d]=MN({defaultProp:o,onChange:u}),m=s!==void 0,p=m?s:c,h=Yx(u),g=P.useCallback(N=>{if(m){const y=typeof N=="function"?N(s):N;y!==s&&h(y)}else d(N)},[m,s,d,h]);return[p,g]}function ON({activeSnapPointProp:s,setActiveSnapPointProp:o,snapPoints:u,drawerRef:c,overlayRef:d,fadeFromIndex:m,onSnapPointChange:p,direction:h="bottom",container:g,snapToSequentialPoint:N}){const[_,y]=Xx({prop:s,defaultProp:u?.[0],onChange:o}),[w,T]=P.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);P.useEffect(()=>{function O(){T({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]);const M=P.useMemo(()=>_===u?.[u.length-1]||null,[u,_]),C=P.useMemo(()=>{var O;return(O=u?.findIndex(V=>V===_))!=null?O:null},[u,_]),A=u&&u.length>0&&(m||m===0)&&!Number.isNaN(m)&&u[m]===_||!u,v=P.useMemo(()=>{const O=g?{width:g.getBoundingClientRect().width,height:g.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var V;return(V=u?.map(Q=>{const J=typeof Q=="string";let re=0;if(J&&(re=parseInt(Q,10)),tt(h)){const te=J?re:w?Q*O.height:0;return w?h==="bottom"?O.height-te:-O.height+te:te}const xe=J?re:w?Q*O.width:0;return w?h==="right"?O.width-xe:-O.width+xe:xe}))!=null?V:[]},[u,w,g]),L=P.useMemo(()=>C!==null?v?.[C]:null,[v,C]),X=P.useCallback(O=>{var V;const Q=(V=v?.findIndex(J=>J===O))!=null?V:null;p(Q),st(c.current,{transition:`transform ${Ge.DURATION}s cubic-bezier(${Ge.EASE.join(",")})`,transform:tt(h)?`translate3d(0, ${O}px, 0)`:`translate3d(${O}px, 0, 0)`}),v&&Q!==v.length-1&&m!==void 0&&Q!==m&&Q<m?st(d.current,{transition:`opacity ${Ge.DURATION}s cubic-bezier(${Ge.EASE.join(",")})`,opacity:"0"}):st(d.current,{transition:`opacity ${Ge.DURATION}s cubic-bezier(${Ge.EASE.join(",")})`,opacity:"1"}),y(u?.[Math.max(Q,0)])},[c.current,u,v,m,d,y]);P.useEffect(()=>{if(_||s){var O;const V=(O=u?.findIndex(Q=>Q===s||Q===_))!=null?O:-1;v&&V!==-1&&typeof v[V]=="number"&&X(v[V])}},[_,s,u,v,X]);function D({draggedDistance:O,closeDrawer:V,velocity:Q,dismissible:J}){if(m===void 0)return;const re=h==="bottom"||h==="right"?(L??0)-O:(L??0)+O,xe=C===m-1,te=C===0,ae=O>0;if(xe&&st(d.current,{transition:`opacity ${Ge.DURATION}s cubic-bezier(${Ge.EASE.join(",")})`}),!N&&Q>2&&!ae){J?V():X(v[0]);return}if(!N&&Q>2&&ae&&v&&u){X(v[u.length-1]);return}const Ce=v?.reduce((H,W)=>typeof H!="number"||typeof W!="number"?H:Math.abs(W-re)<Math.abs(H-re)?W:H),Y=tt(h)?window.innerHeight:window.innerWidth;if(Q>Hx&&Math.abs(O)<Y*.4){const H=ae?1:-1;if(H>0&&M&&u){X(v[u.length-1]);return}if(te&&H<0&&J&&V(),C===null)return;X(v[C+H]);return}X(Ce)}function b({draggedDistance:O}){if(L===null)return;const V=h==="bottom"||h==="right"?L-O:L+O;(h==="bottom"||h==="right")&&V<v[v.length-1]||(h==="top"||h==="left")&&V>v[v.length-1]||st(c.current,{transform:tt(h)?`translate3d(0, ${V}px, 0)`:`translate3d(${V}px, 0, 0)`})}function z(O,V){if(!u||typeof C!="number"||!v||m===void 0)return null;const Q=C===m-1;if(C>=m&&V)return 0;if(Q&&!V)return 1;if(!A&&!Q)return null;const re=Q?C+1:C-1,xe=Q?v[re]-v[re-1]:v[re+1]-v[re],te=O/Math.abs(xe);return Q?1-te:te}return{isLastSnapPoint:M,activeSnapPoint:_,shouldFade:A,getPercentageDragged:z,setActiveSnapPoint:y,activeSnapPointIndex:C,onRelease:D,onDrag:b,snapPointsOffset:v}}const zN=()=>()=>{};function LN(){const{direction:s,isOpen:o,shouldScaleBackground:u,setBackgroundColorOnScale:c,noBodyStyles:d}=Fs(),m=P.useRef(null),p=j.useMemo(()=>document.body.style.backgroundColor,[]);function h(){return(window.innerWidth-Du)/window.innerWidth}P.useEffect(()=>{if(o&&u){m.current&&clearTimeout(m.current);const g=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!g)return;AN(c&&!d?yu(document.body,{background:"black"}):zN,yu(g,{transformOrigin:tt(s)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Ge.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Ge.EASE.join(",")})`}));const N=yu(g,{borderRadius:`${qx}px`,overflow:"hidden",...tt(s)?{transform:`scale(${h()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${h()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{N(),m.current=window.setTimeout(()=>{p?document.body.style.background=p:document.body.style.removeProperty("background")},Ge.DURATION*1e3)}}},[o,u,p])}let qs=null;function UN({isOpen:s,modal:o,nested:u,hasBeenOpened:c,preventScrollRestoration:d,noBodyStyles:m}){const[p,h]=P.useState(()=>typeof window<"u"?window.location.href:""),g=P.useRef(0),N=P.useCallback(()=>{if(Np()&&qs===null&&s&&!m){qs={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:y,innerHeight:w}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-g.current}px`,left:`${-y}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const T=w-window.innerHeight;T&&g.current>=w&&(document.body.style.top=`${-(g.current+T)}px`)}),300)}},[s]),_=P.useCallback(()=>{if(Np()&&qs!==null&&!m){const y=-parseInt(document.body.style.top,10),w=-parseInt(document.body.style.left,10);Object.assign(document.body.style,qs),window.requestAnimationFrame(()=>{if(d&&p!==window.location.href){h(window.location.href);return}window.scrollTo(w,y)}),qs=null}},[p]);return P.useEffect(()=>{function y(){g.current=window.scrollY}return y(),window.addEventListener("scroll",y),()=>{window.removeEventListener("scroll",y)}},[]),P.useEffect(()=>{if(o)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||_()}},[o,_]),P.useEffect(()=>{u||!c||(s?(!window.matchMedia("(display-mode: standalone)").matches&&N(),o||window.setTimeout(()=>{_()},500)):_())},[s,c,p,o,u,N,_]),{restorePositionSetting:_}}function BN({open:s,onOpenChange:o,children:u,onDrag:c,onRelease:d,snapPoints:m,shouldScaleBackground:p=!1,setBackgroundColorOnScale:h=!0,closeThreshold:g=DN,scrollLockTimeout:N=RN,dismissible:_=!0,handleOnly:y=!1,fadeFromIndex:w=m&&m.length-1,activeSnapPoint:T,setActiveSnapPoint:M,fixed:C,modal:A=!0,onClose:v,nested:L,noBodyStyles:X=!1,direction:D="bottom",defaultOpen:b=!1,disablePreventScroll:z=!0,snapToSequentialPoint:O=!1,preventScrollRestoration:V=!1,repositionInputs:Q=!0,onAnimationEnd:J,container:re,autoFocus:xe=!1}){var te,ae;const[Ce=!1,Y]=Xx({defaultProp:b,prop:s,onChange:de=>{o?.(de),!de&&!L&&$s(),setTimeout(()=>{J?.(de)},Ge.DURATION*1e3),de&&!A&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),de||(document.body.style.pointerEvents="auto")}}),[H,W]=P.useState(!1),[ue,Ne]=P.useState(!1),[Qe,Re]=P.useState(!1),ge=P.useRef(null),Ve=P.useRef(null),bt=P.useRef(null),kt=P.useRef(null),la=P.useRef(null),na=P.useRef(!1),sa=P.useRef(null),xl=P.useRef(0),$t=P.useRef(!1),Ql=P.useRef(!b),Xn=P.useRef(0),fe=P.useRef(null),Zl=P.useRef(((te=fe.current)==null?void 0:te.getBoundingClientRect().height)||0),Fl=P.useRef(((ae=fe.current)==null?void 0:ae.getBoundingClientRect().width)||0),Vn=P.useRef(0),Ks=P.useCallback(de=>{m&&de===gl.length-1&&(Ve.current=new Date)},[]),{activeSnapPoint:Gn,activeSnapPointIndex:ra,setActiveSnapPoint:Kl,onRelease:Xi,snapPointsOffset:gl,onDrag:pt,shouldFade:Js,getPercentageDragged:Is}=ON({snapPoints:m,activeSnapPointProp:T,setActiveSnapPointProp:M,drawerRef:fe,fadeFromIndex:w,overlayRef:ge,onSnapPointChange:Ks,direction:D,container:re,snapToSequentialPoint:O});jN({isDisabled:!Ce||ue||!A||Qe||!H||!Q||!z});const{restorePositionSetting:$s}=UN({isOpen:Ce,modal:A,nested:L??!1,hasBeenOpened:H,preventScrollRestoration:V,noBodyStyles:X});function ga(){return(window.innerWidth-Du)/window.innerWidth}function Vi(de){var Se,Ae;!_&&!m||fe.current&&!fe.current.contains(de.target)||(Zl.current=((Se=fe.current)==null?void 0:Se.getBoundingClientRect().height)||0,Fl.current=((Ae=fe.current)==null?void 0:Ae.getBoundingClientRect().width)||0,Ne(!0),bt.current=new Date,Lx()&&window.addEventListener("touchend",()=>na.current=!1,{once:!0}),de.target.setPointerCapture(de.pointerId),xl.current=tt(D)?de.pageY:de.pageX)}function Qn(de,Se){var Ae;let ve=de;const Me=(Ae=window.getSelection())==null?void 0:Ae.toString(),lt=fe.current?gi(fe.current,D):null,Ke=new Date;if(ve.tagName==="SELECT"||ve.hasAttribute("data-vaul-no-drag")||ve.closest("[data-vaul-no-drag]"))return!1;if(D==="right"||D==="left")return!0;if(Ve.current&&Ke.getTime()-Ve.current.getTime()<500)return!1;if(lt!==null&&(D==="bottom"?lt>0:lt<0))return!0;if(Me&&Me.length>0)return!1;if(la.current&&Ke.getTime()-la.current.getTime()<N&&lt===0||Se)return la.current=Ke,!1;for(;ve;){if(ve.scrollHeight>ve.clientHeight){if(ve.scrollTop!==0)return la.current=new Date,!1;if(ve.getAttribute("role")==="dialog")return!0}ve=ve.parentNode}return!0}function Gi(de){if(fe.current&&ue){const Se=D==="bottom"||D==="right"?1:-1,Ae=(xl.current-(tt(D)?de.pageY:de.pageX))*Se,ve=Ae>0,Me=m&&!_&&!ve;if(Me&&ra===0)return;const lt=Math.abs(Ae),Ke=document.querySelector("[data-vaul-drawer-wrapper]"),ca=D==="bottom"||D==="top"?Zl.current:Fl.current;let yt=lt/ca;const Wt=Is(lt,ve);if(Wt!==null&&(yt=Wt),Me&&yt>=1||!na.current&&!Qn(de.target,ve))return;if(fe.current.classList.add(Nu),na.current=!0,st(fe.current,{transition:"none"}),st(ge.current,{transition:"none"}),m&&pt({draggedDistance:Ae}),ve&&!m){const Ht=TN(Ae),bl=Math.min(Ht*-1,0)*Se;st(fe.current,{transform:tt(D)?`translate3d(0, ${bl}px, 0)`:`translate3d(${bl}px, 0, 0)`});return}const Nt=1-yt;if((Js||w&&ra===w-1)&&(c?.(de,yt),st(ge.current,{opacity:`${Nt}`,transition:"none"},!0)),Ke&&ge.current&&p){const Ht=Math.min(ga()+yt*(1-ga()),1),bl=8-yt*8,Zn=Math.max(0,14-yt*14);st(Ke,{borderRadius:`${bl}px`,transform:tt(D)?`scale(${Ht}) translate3d(0, ${Zn}px, 0)`:`scale(${Ht}) translate3d(${Zn}px, 0, 0)`,transition:"none"},!0)}if(!m){const Ht=lt*Se;st(fe.current,{transform:tt(D)?`translate3d(0, ${Ht}px, 0)`:`translate3d(${Ht}px, 0, 0)`})}}}P.useEffect(()=>{window.requestAnimationFrame(()=>{Ql.current=!0})},[]),P.useEffect(()=>{var de;function Se(){if(!fe.current||!Q)return;const Ae=document.activeElement;if(Au(Ae)||$t.current){var ve;const Me=((ve=window.visualViewport)==null?void 0:ve.height)||0,lt=window.innerHeight;let Ke=lt-Me;const ca=fe.current.getBoundingClientRect().height||0,yt=ca>lt*.8;Vn.current||(Vn.current=ca);const Wt=fe.current.getBoundingClientRect().top;if(Math.abs(Xn.current-Ke)>60&&($t.current=!$t.current),m&&m.length>0&&gl&&ra){const Nt=gl[ra]||0;Ke+=Nt}if(Xn.current=Ke,ca>Me||$t.current){const Nt=fe.current.getBoundingClientRect().height;let Ht=Nt;Nt>Me&&(Ht=Me-(yt?Wt:Du)),C?fe.current.style.height=`${Nt-Math.max(Ke,0)}px`:fe.current.style.height=`${Math.max(Ht,Me-Wt)}px`}else pN()||(fe.current.style.height=`${Vn.current}px`);m&&m.length>0&&!$t.current?fe.current.style.bottom="0px":fe.current.style.bottom=`${Math.max(Ke,0)}px`}}return(de=window.visualViewport)==null||de.addEventListener("resize",Se),()=>{var Ae;return(Ae=window.visualViewport)==null?void 0:Ae.removeEventListener("resize",Se)}},[ra,m,gl]);function vl(de){xt(),v?.(),de||Y(!1),setTimeout(()=>{m&&Kl(m[0])},Ge.DURATION*1e3)}function Ha(){if(!fe.current)return;const de=document.querySelector("[data-vaul-drawer-wrapper]"),Se=gi(fe.current,D);st(fe.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Ge.DURATION}s cubic-bezier(${Ge.EASE.join(",")})`}),st(ge.current,{transition:`opacity ${Ge.DURATION}s cubic-bezier(${Ge.EASE.join(",")})`,opacity:"1"}),p&&Se&&Se>0&&Ce&&st(de,{borderRadius:`${qx}px`,overflow:"hidden",...tt(D)?{transform:`scale(${ga()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${ga()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Ge.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Ge.EASE.join(",")})`},!0)}function xt(){!ue||!fe.current||(fe.current.classList.remove(Nu),na.current=!1,Ne(!1),kt.current=new Date)}function ia(de){if(!ue||!fe.current)return;fe.current.classList.remove(Nu),na.current=!1,Ne(!1),kt.current=new Date;const Se=gi(fe.current,D);if(!de||!Qn(de.target,!1)||!Se||Number.isNaN(Se)||bt.current===null)return;const Ae=kt.current.getTime()-bt.current.getTime(),ve=xl.current-(tt(D)?de.pageY:de.pageX),Me=Math.abs(ve)/Ae;if(Me>.05&&(Re(!0),setTimeout(()=>{Re(!1)},200)),m){Xi({draggedDistance:ve*(D==="bottom"||D==="right"?1:-1),closeDrawer:vl,velocity:Me,dismissible:_}),d?.(de,!0);return}if(D==="bottom"||D==="right"?ve>0:ve<0){Ha(),d?.(de,!0);return}if(Me>Hx){vl(),d?.(de,!1);return}var lt;const Ke=Math.min((lt=fe.current.getBoundingClientRect().height)!=null?lt:0,window.innerHeight);var ca;const yt=Math.min((ca=fe.current.getBoundingClientRect().width)!=null?ca:0,window.innerWidth),Wt=D==="left"||D==="right";if(Math.abs(Se)>=(Wt?yt:Ke)*g){vl(),d?.(de,!1);return}d?.(de,!0),Ha()}P.useEffect(()=>(Ce&&(st(document.documentElement,{scrollBehavior:"auto"}),Ve.current=new Date),()=>{EN(document.documentElement,"scrollBehavior")}),[Ce]);function gt(de){const Se=de?(window.innerWidth-Bl)/window.innerWidth:1,Ae=de?-Bl:0;sa.current&&window.clearTimeout(sa.current),st(fe.current,{transition:`transform ${Ge.DURATION}s cubic-bezier(${Ge.EASE.join(",")})`,transform:tt(D)?`scale(${Se}) translate3d(0, ${Ae}px, 0)`:`scale(${Se}) translate3d(${Ae}px, 0, 0)`}),!de&&fe.current&&(sa.current=setTimeout(()=>{const ve=gi(fe.current,D);st(fe.current,{transition:"none",transform:tt(D)?`translate3d(0, ${ve}px, 0)`:`translate3d(${ve}px, 0, 0)`})},500))}function Qi(de,Se){if(Se<0)return;const Ae=(window.innerWidth-Bl)/window.innerWidth,ve=Ae+Se*(1-Ae),Me=-Bl+Se*Bl;st(fe.current,{transform:tt(D)?`scale(${ve}) translate3d(0, ${Me}px, 0)`:`scale(${ve}) translate3d(${Me}px, 0, 0)`,transition:"none"})}function Zi(de,Se){const Ae=tt(D)?window.innerHeight:window.innerWidth,ve=Se?(Ae-Bl)/Ae:1,Me=Se?-Bl:0;Se&&st(fe.current,{transition:`transform ${Ge.DURATION}s cubic-bezier(${Ge.EASE.join(",")})`,transform:tt(D)?`scale(${ve}) translate3d(0, ${Me}px, 0)`:`scale(${ve}) translate3d(${Me}px, 0, 0)`})}return P.useEffect(()=>{A||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[A]),P.createElement(oN,{defaultOpen:b,onOpenChange:de=>{!_&&!de||(de?W(!0):vl(!0),Y(de))},open:Ce},P.createElement(zx.Provider,{value:{activeSnapPoint:Gn,snapPoints:m,setActiveSnapPoint:Kl,drawerRef:fe,overlayRef:ge,onOpenChange:o,onPress:Vi,onRelease:ia,onDrag:Gi,dismissible:_,shouldAnimate:Ql,handleOnly:y,isOpen:Ce,isDragging:ue,shouldFade:Js,closeDrawer:vl,onNestedDrag:Qi,onNestedOpenChange:gt,onNestedRelease:Zi,keyboardIsOpen:$t,modal:A,snapPointsOffset:gl,activeSnapPointIndex:ra,direction:D,shouldScaleBackground:p,setBackgroundColorOnScale:h,noBodyStyles:X,container:re,autoFocus:xe}},u))}const Vx=P.forwardRef(function({...s},o){const{overlayRef:u,snapPoints:c,onRelease:d,shouldFade:m,isOpen:p,modal:h,shouldAnimate:g}=Fs(),N=Bx(o,u),_=c&&c.length>0;if(!h)return null;const y=P.useCallback(w=>d(w),[d]);return P.createElement(dN,{onMouseUp:y,ref:N,"data-vaul-overlay":"","data-vaul-snap-points":p&&_?"true":"false","data-vaul-snap-points-overlay":p&&m?"true":"false","data-vaul-animate":g?.current?"true":"false",...s})});Vx.displayName="Drawer.Overlay";const Gx=P.forwardRef(function({onPointerDownOutside:s,style:o,onOpenAutoFocus:u,...c},d){const{drawerRef:m,onPress:p,onRelease:h,onDrag:g,keyboardIsOpen:N,snapPointsOffset:_,activeSnapPointIndex:y,modal:w,isOpen:T,direction:M,snapPoints:C,container:A,handleOnly:v,shouldAnimate:L,autoFocus:X}=Fs(),[D,b]=P.useState(!1),z=Bx(d,m),O=P.useRef(null),V=P.useRef(null),Q=P.useRef(!1),J=C&&C.length>0;LN();const re=(te,ae,Ce=0)=>{if(Q.current)return!0;const Y=Math.abs(te.y),H=Math.abs(te.x),W=H>Y,ue=["bottom","right"].includes(ae)?1:-1;if(ae==="left"||ae==="right"){if(!(te.x*ue<0)&&H>=0&&H<=Ce)return W}else if(!(te.y*ue<0)&&Y>=0&&Y<=Ce)return!W;return Q.current=!0,!0};P.useEffect(()=>{J&&window.requestAnimationFrame(()=>{b(!0)})},[]);function xe(te){O.current=null,Q.current=!1,h(te)}return P.createElement(fN,{"data-vaul-drawer-direction":M,"data-vaul-drawer":"","data-vaul-delayed-snap-points":D?"true":"false","data-vaul-snap-points":T&&J?"true":"false","data-vaul-custom-container":A?"true":"false","data-vaul-animate":L?.current?"true":"false",...c,ref:z,style:_&&_.length>0?{"--snap-point-height":`${_[y??0]}px`,...o}:o,onPointerDown:te=>{v||(c.onPointerDown==null||c.onPointerDown.call(c,te),O.current={x:te.pageX,y:te.pageY},p(te))},onOpenAutoFocus:te=>{u?.(te),X||te.preventDefault()},onPointerDownOutside:te=>{if(s?.(te),!w||te.defaultPrevented){te.preventDefault();return}N.current&&(N.current=!1)},onFocusOutside:te=>{if(!w){te.preventDefault();return}},onPointerMove:te=>{if(V.current=te,v||(c.onPointerMove==null||c.onPointerMove.call(c,te),!O.current))return;const ae=te.pageY-O.current.y,Ce=te.pageX-O.current.x,Y=te.pointerType==="touch"?10:2;re({x:Ce,y:ae},M,Y)?g(te):(Math.abs(Ce)>Y||Math.abs(ae)>Y)&&(O.current=null)},onPointerUp:te=>{c.onPointerUp==null||c.onPointerUp.call(c,te),O.current=null,Q.current=!1,h(te)},onPointerOut:te=>{c.onPointerOut==null||c.onPointerOut.call(c,te),xe(V.current)},onContextMenu:te=>{c.onContextMenu==null||c.onContextMenu.call(c,te),V.current&&xe(V.current)}})});Gx.displayName="Drawer.Content";const kN=250,HN=120,qN=P.forwardRef(function({preventCycle:s=!1,children:o,...u},c){const{closeDrawer:d,isDragging:m,snapPoints:p,activeSnapPoint:h,setActiveSnapPoint:g,dismissible:N,handleOnly:_,isOpen:y,onPress:w,onDrag:T}=Fs(),M=P.useRef(null),C=P.useRef(!1);function A(){if(C.current){X();return}window.setTimeout(()=>{v()},HN)}function v(){if(m||s||C.current){X();return}if(X(),!p||p.length===0){N||d();return}if(h===p[p.length-1]&&N){d();return}const b=p.findIndex(O=>O===h);if(b===-1)return;const z=p[b+1];g(z)}function L(){M.current=window.setTimeout(()=>{C.current=!0},kN)}function X(){M.current&&window.clearTimeout(M.current),C.current=!1}return P.createElement("div",{onClick:A,onPointerCancel:X,onPointerDown:D=>{_&&w(D),L()},onPointerMove:D=>{_&&T(D)},ref:c,"data-vaul-drawer-visible":y?"true":"false","data-vaul-handle":"","aria-hidden":"true",...u},P.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},o))});qN.displayName="Drawer.Handle";function YN(s){const o=Fs(),{container:u=o.container,...c}=s;return P.createElement(uN,{container:u,...c})}const Ys={Root:BN,Content:Gx,Overlay:Vx,Portal:YN,Title:mN},XN=(s,o)=>{j.useEffect(()=>{if(s){window.history.pushState({modalOpen:!0},"",window.location.href);const u=c=>{c.preventDefault(),o()};return window.addEventListener("popstate",u),()=>{window.removeEventListener("popstate",u)}}},[s,o])},It=({isOpen:s,onClose:o,title:u,children:c,footer:d,maxWidth:m="lg",variant:p="center"})=>{if(XN(s,o),p==="drawer")return n.jsx(Ys.Root,{open:s,onOpenChange:N=>!N&&o(),children:n.jsxs(Ys.Portal,{children:[n.jsx(Ys.Overlay,{className:"fixed inset-0 bg-black/40 backdrop-blur-[2px] z-50"}),n.jsxs(Ys.Content,{className:"bg-card flex flex-col rounded-t-[20px] h-[85vh] mt-24 fixed bottom-0 left-0 right-0 z-50 focus:outline-none ring-0",children:[n.jsxs("div",{className:"p-4 bg-card rounded-t-[20px] flex-shrink-0",children:[n.jsx("div",{className:"mx-auto w-12 h-1.5 flex-shrink-0 rounded-full bg-muted-foreground/20 mb-4"}),n.jsx(Ys.Title,{className:"font-bold text-center text-lg",children:u})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:c}),d&&n.jsx("div",{className:"p-4 border-t border-border bg-card pb-safe-bottom",children:d})]})]})});const h=p==="fullscreen",g={sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"};return n.jsx(xa,{show:s,as:j.Fragment,children:n.jsxs(Ai,{onClose:o,className:"relative z-50",children:[n.jsx(fl,{as:j.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:n.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-[2px]"})}),n.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:n.jsx("div",{className:K("flex min-h-full items-center justify-center p-0 text-center",!h&&"sm:p-4"),children:n.jsx(fl,{as:j.Fragment,enter:"ease-out duration-300",enterFrom:h?"translate-y-full opacity-100":"opacity-0 scale-95 translate-y-4",enterTo:h?"translate-y-0 opacity-100":"opacity-100 scale-100 translate-y-0",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100 translate-y-0",leaveTo:h?"translate-y-full opacity-100":"opacity-0 scale-95 translate-y-4",children:n.jsxs(Di,{className:K("w-full transform bg-card text-left align-middle shadow-xl transition-all flex flex-col",h?"h-[100dvh] rounded-none":`rounded-t-2xl sm:rounded-2xl ${g[m]} max-h-[90vh]`),children:[n.jsxs("div",{className:K("shrink-0 flex items-center justify-between px-5 py-4 border-b border-border",h&&"pt-safe-top"),children:[n.jsx(zu,{as:"h2",className:"text-lg font-bold tracking-tight text-foreground line-clamp-1",children:u}),n.jsx("button",{onClick:o,className:"p-2 rounded-full text-muted-foreground hover:bg-muted hover:text-foreground transition-colors",children:n.jsx(Hn,{className:"w-5 h-5"})})]}),n.jsx("div",{className:K("flex-1 overflow-y-auto p-5 sm:p-6 overscroll-contain",h&&"pb-safe-bottom"),children:n.jsx("div",{className:K("space-y-4",d?"pb-20 sm:pb-0":""),children:c})}),d&&n.jsx("div",{className:K("shrink-0 px-5 py-4 border-t border-border z-20 bg-card",h&&"pb-safe-bottom"),children:d})]})})})})]})})},VN=({data:s,onChange:o,errors:u})=>n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[n.jsx(Qp,{className:"w-5 h-5 text-primary"}),n.jsx("h2",{children:" (.)"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(ne,{label:" (W)",placeholder:"0.00",value:s.width_m,onChange:c=>o("width_m",c.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-primary bg-primary/10",error:u.width_m}),n.jsx(ne,{label:" (H)",placeholder:"0.00",value:s.height_m,onChange:c=>o("height_m",c.target.value),isDimension:!0,className:"text-lg font-bold text-primary bg-primary/10",error:u.height_m})]})]}),Vl=({label:s,placeholder:o,value:u,onChange:c,onSelect:d,options:m,className:p,inputMode:h,prefix:g,id:N,error:_,warning:y})=>{const w=j.useId(),T=N||w,[M,C]=j.useState(""),A=j.useMemo(()=>{if(M==="")return m;const v=M.toLowerCase();return m.filter(L=>L.label.toLowerCase().includes(v)||L.value.toLowerCase().includes(v))},[m,M]);return n.jsxs("div",{className:"space-y-1.5 w-full",children:[s&&n.jsx("label",{htmlFor:T,className:"text-[15px] font-medium text-slate-700 ml-1",children:s}),n.jsx(fv,{value:u,onChange:v=>{v&&c(v)},children:n.jsxs("div",{className:"relative",children:[g&&n.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none z-10",children:g}),n.jsxs("div",{className:"relative w-full cursor-default overflow-hidden rounded-xl border border-slate-200 bg-white text-left focus-within:ring-2 focus-within:ring-indigo-500 focus-within:border-transparent transition-all shadow-sm",children:[n.jsx(mv,{id:T,className:K("w-full border-none py-2 pl-3 pr-10 text-sm leading-5 text-foreground focus:ring-0 placeholder:text-muted-foreground bg-transparent",g&&"pl-10",p),displayValue:v=>v,onChange:v=>{C(v.target.value),c(v.target.value)},placeholder:o,inputMode:h,autoComplete:"off"}),n.jsx(hv,{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:n.jsx(pv,{className:"h-5 w-5 text-slate-400","aria-hidden":"true"})})]}),n.jsx(xa,{as:j.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:()=>C(""),children:n.jsx(xv,{className:"absolute z-50 mt-1 max-h-60 w-full overflow-auto rounded-md bg-popover py-1 text-base shadow-lg ring-1 ring-border focus:outline-none sm:text-sm",children:A.length===0&&M!==""?n.jsxs("div",{className:"relative cursor-default select-none px-4 py-2 text-muted-foreground",children:[' "',M,'"']}):A.map(v=>n.jsx(gv,{className:({active:L})=>K("relative cursor-default select-none py-2 pl-10 pr-4",L?"bg-primary/10 text-primary":"text-popover-foreground"),value:v.value,onClick:()=>d?.(v),children:({selected:L,active:X})=>n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:K("block truncate",L?"font-medium":"font-normal"),children:v.label}),v.desc&&n.jsx("span",{className:K("text-xs",X?"text-primary/70":"text-muted-foreground"),children:v.desc})]}),L?n.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-primary",children:n.jsx(qn,{className:"h-4 w-4","aria-hidden":"true"})}):null]})},v.value+v.label))})})]})}),_?n.jsxs("div",{className:"flex items-center gap-1.5 px-1 animate-fade-in",children:[n.jsx(Mu,{className:"w-3.5 h-3.5 text-red-500"}),n.jsx("span",{className:"text-xs font-medium text-red-500",children:_})]}):y?n.jsxs("div",{className:"flex items-center gap-1.5 px-1 animate-fade-in",children:[n.jsx(Ua,{className:"w-3.5 h-3.5 text-amber-500"}),n.jsx("span",{className:"text-xs font-medium text-amber-600",children:y})]}):null]})},Sp=s=>{const{favorites:o}=se();return o[s]||[]},Cp=({status:s,masterPrice:o,onSync:u})=>s==="synced"||s==="empty"||s==="no_master"?null:n.jsxs("div",{className:"absolute -top-6 right-0 flex items-center gap-2 animate-fade-in z-10",children:[n.jsxs("span",{className:"text-[10px] font-bold text-amber-600 bg-amber-50 px-2 py-0.5 rounded-full border border-amber-100 flex items-center gap-1",children:[n.jsx(Ua,{className:"w-3 h-3"}),": ",He(o)]}),n.jsxs("button",{type:"button",onClick:u,className:"text-[10px] flex items-center gap-1 text-primary hover:underline hover:text-primary/80 transition-colors",children:[n.jsx(Uu,{className:"w-3 h-3"})," "]})]}),GN=({data:s,onChange:o,onNumberChange:u,warnings:c})=>{const{updateFavorite:d,addFavorite:m}=se(),p=at(b=>b.addToast),h=Sp(me.CURTAIN_MAIN),g=Sp(me.CURTAIN_SHEER),[N,_]=j.useState(null),y=(b,z)=>{const O=z?g:h;if(!b)return{status:"none",masterItem:null,masterPrice:0};const V=O.find(J=>J.code===b),Q=V?.default_price_per_m||0;return{status:"found",masterItem:V,masterPrice:Q}},w=(b,z)=>{const O=$(b);return O===0?"empty":z===0?"no_master":Math.abs(O-z)<.01?"synced":"mismatch"},T=j.useMemo(()=>y(s.code,!1),[s.code,h]),M=j.useMemo(()=>y(s.sheer_code,!0),[s.sheer_code,g]),C=w(s.price_per_m_raw,T.masterPrice),A=w(s.sheer_price_per_m,M.masterPrice),v=(b=!1)=>{const{masterItem:z}=b?M:T;z&&(u(b?"sheer_price_per_m":"price_per_m_raw",z.default_price_per_m.toString()),p("success",` ${z.code} `))},L=(b,z,O)=>{if(!b){p("error","");return}const V=$(z);if(V<=0){p("error"," 0");return}const J=(O===me.CURTAIN_SHEER?g:h).find(re=>re.code===b);try{J?(d(O,J.id,{default_price_per_m:V}),p("success",` ${b}  ${He(V)} `)):(m(O,{code:b,default_price_per_m:V,note:""}),p("success",` ${b} `)),_(O),setTimeout(()=>_(null),2e3)}catch(re){console.error(re),p("error","")}},X=(b,z=!1)=>{const O=typeof b=="string"?b:b.value;o(z?"sheer_code":"code",O);const J=(z?g:h).find(xe=>xe.code===O),re=z?"sheer_price_per_m":"price_per_m_raw";J&&J.default_price_per_m>0&&u(re,J.default_price_per_m.toString())},D=b=>b.map(z=>({label:z.code,value:z.code,desc:z.note,data:z}));return n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold border-b border-border/50 pb-2 mb-2",children:[n.jsx(Lu,{className:"w-5 h-5 text-indigo-500"}),n.jsx("h2",{children:" ()"})]}),n.jsx(Vl,{label:" (Fabric Code)",placeholder:"...",value:s.code||"",onChange:b=>X(b,!1),options:D(h),warning:c.code,className:"w-full"}),n.jsxs("div",{className:"flex gap-2 items-end relative",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Cp,{status:C,masterPrice:T.masterPrice,onSync:()=>v(!1)}),n.jsx(ne,{label:" (/.)",placeholder:"0.00",value:s.price_per_m_raw||"",onChange:b=>u("price_per_m_raw",b.target.value),type:"number",inputMode:"decimal",className:K("w-full text-lg font-bold transition-all",C==="mismatch"?"text-amber-600 bg-amber-50 border-amber-200 focus:ring-amber-500":"text-primary bg-primary/5 border-transparent")})]}),s.code&&$(s.price_per_m_raw)>0&&n.jsx(oe,{type:"button",variant:"outline",className:K("h-[50px] w-[50px] p-0 shrink-0 border-dashed transition-all",C==="mismatch"?"border-amber-400 text-amber-500 hover:bg-amber-50":"border-border text-muted-foreground hover:text-amber-500"),onClick:()=>L(s.code,s.price_per_m_raw,me.CURTAIN_MAIN),title:"",children:N===me.CURTAIN_MAIN?n.jsx(qn,{className:"w-6 h-6 text-green-600 animate-in zoom-in"}):n.jsx(ql,{className:K("w-6 h-6",C==="mismatch"&&"fill-amber-100 animate-pulse")})})]})]}),(s.layer_mode===Ni.SHEER||s.layer_mode===Ni.DOUBLE)&&n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-dashed border-border shadow-sm space-y-4 animate-fade-in relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-teal-500/10 rounded-full blur-xl -translate-y-1/2 translate-x-1/2"}),n.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold border-b border-border/50 pb-2 mb-2",children:[n.jsx(vv,{className:"w-5 h-5 text-teal-500"}),n.jsx("h2",{children:""})]}),n.jsx(Vl,{label:"",placeholder:"...",value:s.sheer_code||"",onChange:b=>X(b,!0),options:D(g),warning:c.sheer_code,className:"w-full"}),n.jsxs("div",{className:"flex gap-2 items-end relative",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Cp,{status:A,masterPrice:M.masterPrice,onSync:()=>v(!0)}),n.jsx(ne,{label:" (/.)",placeholder:"0.00",value:s.sheer_price_per_m||"",onChange:b=>u("sheer_price_per_m",b.target.value),type:"number",inputMode:"decimal",className:K("w-full text-lg font-bold transition-all",A==="mismatch"?"text-amber-600 bg-amber-50 border-amber-200 focus:ring-amber-500":"text-teal-600 bg-teal-50/50 border-transparent")})]}),s.sheer_code&&$(s.sheer_price_per_m)>0&&n.jsx(oe,{type:"button",variant:"outline",className:K("h-[50px] w-[50px] p-0 shrink-0 border-dashed transition-all",A==="mismatch"?"border-amber-400 text-amber-500 hover:bg-amber-50":"border-border text-muted-foreground hover:text-teal-500"),onClick:()=>L(s.sheer_code,s.sheer_price_per_m,me.CURTAIN_SHEER),children:N===me.CURTAIN_SHEER?n.jsx(qn,{className:"w-6 h-6 text-green-600 animate-in zoom-in"}):n.jsx(ql,{className:K("w-6 h-6",A==="mismatch"&&"fill-amber-100 animate-pulse")})})]})]})]})},Qx=P.forwardRef(({className:s,label:o,valueLabel:u,placeholder:c="...",hasError:d,id:m,...p},h)=>{const g=j.useId(),N=m||g;return n.jsxs("div",{className:"space-y-1.5 w-full",children:[o&&n.jsx("label",{htmlFor:N,className:"text-[15px] font-medium text-foreground ml-1",children:o}),n.jsxs("button",{ref:h,id:N,type:"button",className:K("flex h-12 w-full items-center justify-between rounded-xl border px-4 py-2 text-[16px] transition-all shadow-sm active:scale-[0.99]","bg-background","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:border-transparent",d?"border-destructive focus-visible:ring-destructive":"border-input",u?"text-foreground":"text-muted-foreground",s),...p,children:[n.jsx("span",{className:"truncate",children:u||c}),n.jsx(bv,{className:"h-4 w-4 shrink-0 text-muted-foreground opacity-50"})]})]})});Qx.displayName="SelectButton";const QN=({isOpen:s,onClose:o,title:u,options:c,value:d,onSelect:m})=>{const{trigger:p}=ml(),h=g=>{g!==d&&(p("selection"),m(g)),setTimeout(()=>{o()},150)};return n.jsx(xa,{show:s,as:j.Fragment,children:n.jsxs(Ai,{onClose:o,className:"relative z-[60]",children:[n.jsx(fl,{as:j.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:n.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-[2px]","aria-hidden":"true"})}),n.jsx("div",{className:"fixed inset-0 flex items-end justify-center pointer-events-none",children:n.jsx(fl,{as:j.Fragment,enter:"transform transition ease-ios duration-300",enterFrom:"translate-y-full",enterTo:"translate-y-0",leave:"transform transition ease-ios duration-200",leaveFrom:"translate-y-0",leaveTo:"translate-y-full",children:n.jsxs(Di,{className:"fixed bottom-0 left-0 right-0 z-[60] bg-popover rounded-t-3xl shadow-xl max-h-[85vh] overflow-hidden flex flex-col pb-safe-area ring-1 ring-border",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-border flex items-center justify-between bg-muted/30",children:[n.jsx(zu,{className:"text-lg font-bold text-foreground",children:u}),n.jsx("button",{onClick:o,className:"p-2 -mr-2 text-muted-foreground hover:bg-muted rounded-full transition-colors",children:n.jsx(Hn,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"overflow-y-auto p-4 space-y-2",children:c.map(g=>{const N=g.value===d,_=g.icon;return n.jsxs("button",{onClick:()=>h(g.value),className:K("w-full flex items-center p-4 rounded-xl border transition-all duration-200 text-left",N?"border-primary bg-primary/10 shadow-sm":"border-border bg-card hover:bg-accent hover:border-accent-foreground/20"),children:[_&&n.jsx("div",{className:K("w-10 h-10 rounded-full flex items-center justify-center mr-4 transition-colors",N?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:n.jsx(_,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:K("font-semibold text-[15px]",N?"text-primary":"text-foreground"),children:g.label}),g.description&&n.jsx("div",{className:"text-xs text-muted-foreground mt-0.5 font-normal",children:g.description})]}),N&&n.jsx("div",{className:"ml-3 text-primary",children:n.jsx(qn,{className:"w-5 h-5"})})]},String(g.value))})})]})})})]})})},ju=({value:s,label:o,icon:u,currentValue:c,onChange:d})=>{const m=c===s;return n.jsxs("button",{type:"button",onClick:()=>d(s),className:K("relative flex flex-col items-center justify-center h-20 rounded-xl border-2 transition-all active:scale-95",m?"border-primary bg-primary/10 text-primary shadow-md":"border-border bg-card text-muted-foreground hover:bg-muted/30"),children:[n.jsx(u,{className:K("w-8 h-8 mb-1",m?"text-primary":"text-slate-400"),strokeWidth:1.5}),n.jsx("span",{className:"text-[11px] font-medium",children:o}),m&&n.jsx("div",{className:"absolute top-1 right-1 bg-primary text-white rounded-full p-0.5",children:n.jsx(qn,{className:"w-2 h-2"})})]})},ZN=({data:s,onChange:o,warnings:u})=>{const[c,d]=j.useState(null),m=()=>Ih.find(h=>h.value===s.style)?.label||s.style,p=Su[s.style]||{hasRail:!0};return n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold pb-2 border-b border-border/50",children:[n.jsx(Yp,{className:"w-5 h-5 text-primary"}),n.jsx("h2",{children:" & "})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground ml-1",children:" (Style)"}),n.jsx(Qx,{valueLabel:m(),onClick:()=>d("style"),className:"w-full h-14 text-lg font-medium"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground ml-1",children:" (Opening)"}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsx(ju,{value:"",label:"",icon:Ri,currentValue:s.opening_style,onChange:h=>o("opening_style",h)}),n.jsx(ju,{value:"",label:"",icon:Bu,currentValue:s.opening_style,onChange:h=>o("opening_style",h)}),n.jsx(ju,{value:"",label:"",icon:Mi,currentValue:s.opening_style,onChange:h=>o("opening_style",h)})]})]}),p.hasRail&&n.jsx("div",{className:"animate-fade-in pt-2",children:n.jsx(ne,{prefix:n.jsx(yv,{className:"w-4 h-4 text-muted-foreground"}),label:" / ",placeholder:"...",value:s.rail_color||"",onChange:h=>o("rail_color",h.target.value),warning:u.rail_color,className:"h-12"})}),n.jsx(QN,{isOpen:c==="style",onClose:()=>d(null),title:"",options:Ih,value:s.style,onSelect:h=>o("style",h)})]})},Bt=({className:s,checked:o,onCheckedChange:u,disabled:c,ref:d,...m})=>n.jsxs("label",{className:K("group inline-flex items-center relative cursor-pointer tap-highlight-transparent",c&&"cursor-not-allowed opacity-50",s),children:[n.jsx("input",{ref:d,type:"checkbox",className:"sr-only",checked:o,onChange:p=>u(p.target.checked),disabled:c,...m}),n.jsx("div",{className:K("w-[51px] h-[31px] rounded-full transition-colors duration-300 ease-in-out border",o?"bg-primary border-primary":"bg-input border-border")}),n.jsx("div",{className:K("absolute left-[2px] top-[2px] w-[27px] h-[27px] bg-background rounded-full shadow-sm transition-transform duration-300 ease-in-out",o?"translate-x-[20px]":"translate-x-0")})]}),FN=({data:s,onChange:o,onNumberChange:u})=>{const c=j.useMemo(()=>ht.calculatePrice({...s,type:I.CURTAIN,id:"temp"}),[s]);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-center py-2",children:[n.jsx("div",{className:"text-sm text-emerald-400 font-medium mb-1",children:" (Net Price)"}),n.jsx("div",{className:"text-4xl font-bold font-mono text-emerald-300 tracking-tight",children:He(c)}),n.jsx("div",{className:"text-xs text-slate-400 mt-2",children:"(  )"})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Bt,{checked:s.enable_set_price||!1,onCheckedChange:d=>o("enable_set_price",d),className:"data-[state=checked]:bg-emerald-500"}),n.jsx("span",{className:"text-sm text-slate-300",children:" (Manual Override)"})]}),s.enable_set_price&&n.jsx("div",{className:"w-36 animate-fade-in",children:n.jsx("input",{type:"text",inputMode:"decimal",value:s.set_price_override||"",onChange:d=>u("set_price_override",d.target.value),placeholder:"0.00",className:"w-full bg-slate-800 text-white border border-slate-600 rounded-lg px-3 py-2 text-right font-mono text-sm focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 transition-all"})})]})]})},KN=s=>{if(s===""||s===void 0||s===0)return"";const o=Number(s);return isNaN(o)?"":o.toLocaleString("en-US")},JN=s=>s.replace(/,/g,""),pl=(s,o)=>{const[u,c]=j.useState(s),[d,m]=j.useState({}),[p,h]=j.useState({}),g=j.useMemo(()=>JSON.stringify(u)!==JSON.stringify(s),[u,s]),N=j.useCallback((M,C)=>{c(A=>({...A,[M]:C})),o&&o[M]&&(m(A=>({...A,[M]:void 0})),h(A=>({...A,[M]:void 0})))},[o]),_=j.useCallback((M,C)=>{const A=JN(C);/^\d*\.?\d*$/.test(A)&&(c(v=>({...v,[M]:A})),o&&o[M]&&(m(v=>({...v,[M]:void 0})),h(v=>({...v,[M]:void 0}))))},[o]),y=j.useCallback(()=>{if(!o)return{isValid:!0,hasWarnings:!1};const M={},C={};let A=!0,v=!1;return Object.keys(o).forEach(L=>{const X=o[L];if(X){const D=X(u[L],u);D&&(D.level==="error"?(M[L]=D.message,A=!1):D.level==="warning"&&(C[L]=D.message,v=!0))}}),m(M),h(C),{isValid:A,hasWarnings:v}},[u,o]),w=j.useCallback(M=>{const C=u[M];return typeof C=="string"||typeof C=="number"?KN(C):""},[u]),T=j.useCallback(()=>{c(s),m({}),h({})},[s]);return{formData:u,errors:d,warnings:p,isDirty:g,handleChange:N,handleNumberChange:_,getFormattedNumber:w,setFormData:c,validate:y,resetForm:T}},IN={width_m:"",height_m:"",style:"",opening_style:"",layer_mode:Ni.MAIN,fabric_variant:"",code:"",price_per_m_raw:"",sheer_code:"",sheer_price_per_m:"",rail_color:"",bracket_color:"",notes:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},Ep=s=>({level:"error",message:s}),Tp=s=>({level:"warning",message:s}),$N={width_m:s=>$(s)<=0?Ep(""):null,height_m:s=>$(s)<=0?Ep(""):null,code:(s,o)=>o.layer_mode===Ni.SHEER||s?null:Tp(""),rail_color:(s,o)=>(Su[o.style]||Su.).hasRail&&!s?Tp(""):null},WN=(s,o)=>{const{addToast:u}=at(),c=pl({...IN,...s},$N);return{...c,handleSubmit:m=>{m.preventDefault();const{isValid:p,hasWarnings:h}=c.validate();p?(o(c.formData),h&&u("warning"," ()")):u("error"," () ")}}},PN=({initialData:s,onSubmit:o,onCancel:u})=>{const{formData:c,errors:d,warnings:m,handleChange:p,handleNumberChange:h,handleSubmit:g}=WN(s,o);return n.jsxs("form",{onSubmit:g,className:"space-y-6",children:[n.jsx(VN,{data:c,onChange:h,errors:d}),n.jsx(GN,{data:c,onChange:p,onNumberChange:h,warnings:m}),n.jsx(ZN,{data:c,onChange:p,warnings:m}),n.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),n.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold border-b border-border pb-3",children:[n.jsx(Zp,{className:"w-5 h-5"}),n.jsx("h3",{children:""})]}),n.jsx(FN,{data:c,onChange:p,onNumberChange:h})]}),n.jsxs("div",{className:"space-y-4 pt-2",children:[n.jsx(ne,{label:"",value:c.notes||"",onChange:N=>p("notes",N.target.value),className:"bg-muted/30"}),n.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-border",children:[n.jsx(oe,{variant:"ghost",type:"button",onClick:u,className:"h-12 px-6 text-muted-foreground",children:""}),n.jsx(oe,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-brand-curtain/20 bg-brand-curtain text-white hover:bg-brand-curtain/90",children:""})]})]})]})},Ap={widths:[""],height_m:"",price_per_roll:"",install_cost_per_roll:"",wallpaper_code:"",notes:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},Dp=s=>({level:"error",message:s}),ej=s=>({level:"warning",message:s}),tj={height_m:s=>$(s)<=0?Dp(""):null,wallpaper_code:s=>s?null:ej(""),widths:s=>Array.isArray(s)&&s.some(o=>$(o)>0)?null:Dp(" 1 ")},aj=({initialData:s,onSubmit:o,onCancel:u})=>{const{formData:c,errors:d,warnings:m,handleChange:p,handleNumberChange:h,validate:g}=pl({...Ap,...s},tj),{addFavorite:N,favorites:_,updateFavorite:y,openModal:w}=se(),{addToast:T}=at(),{confirm:M}=hl(),C=(V,Q)=>{const J=[...c.widths];J[V]=Q,p("widths",J)},A=()=>{p("widths",[...c.widths,""])},v=V=>{const Q=c.widths.filter((J,re)=>re!==V);p("widths",Q.length?Q:[""])},L=j.useMemo(()=>{const V={...Ap,...c,type:I.WALLPAPER,id:"preview"};return ht.calculateDetailedPrice(V)},[c]),X=j.useMemo(()=>(_[me.WALLPAPER]||[]).map(V=>({label:V.code,value:V.code,desc:`${V.default_price_per_m}`,data:V})),[_]),D=V=>{p("wallpaper_code",V);const Q=X.find(J=>J.value.toLowerCase()===V.toLowerCase());Q&&Q.data?.default_price_per_m&&h("price_per_roll",String(Q.data.default_price_per_m))},b=async()=>{const V=c.wallpaper_code,Q=$(c.price_per_roll);if(!V||Q<=0)return T("warning","");const J=(_[me.WALLPAPER]||[]).find(re=>re.code===V);J?J.default_price_per_m!==Q?await M({title:"",description:` ${J.default_price_per_m} ->  ${Q}. ?`,confirmLabel:"",cancelLabel:""})&&(y(me.WALLPAPER,J.id,{default_price_per_m:Q}),T("success",` ${V} `)):T("info",""):(N(me.WALLPAPER,{code:V,default_price_per_m:Q}),T("success",` ${V} `))},z=V=>V?(_[me.WALLPAPER]||[]).some(Q=>Q.code===V):!1,O=V=>{V.preventDefault();const{isValid:Q,hasWarnings:J}=g();Q?(o(c),J&&T("warning"," ()")):T("error","")};return n.jsxs("form",{onSubmit:O,className:"space-y-6",children:[n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[n.jsx(Qp,{className:"w-5 h-5 text-orange-500"}),n.jsx("h2",{children:""})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground ml-1",children:" (.)"}),c.widths.map((V,Q)=>n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{placeholder:` ${Q+1}`,value:V,onChange:J=>C(Q,J.target.value),isDimension:!0,className:K(d.widths&&"border-red-300 bg-red-50")}),c.widths.length>1&&n.jsx("button",{type:"button",onClick:()=>v(Q),className:"p-3 text-muted-foreground hover:text-red-500 hover:bg-red-50 rounded-xl transition-colors",children:n.jsx(Qs,{className:"w-5 h-5"})})]},Q)),n.jsxs("button",{type:"button",onClick:A,className:"text-sm text-indigo-600 font-medium flex items-center gap-1 px-1 hover:underline",children:[n.jsx(kn,{className:"w-4 h-4"})," "]})]}),n.jsx(ne,{label:" ()",placeholder:"0.00",value:c.height_m,onChange:V=>h("height_m",V.target.value),isDimension:!0,error:d.height_m})]})]}),n.jsx("div",{className:"space-y-4",children:n.jsx("div",{className:"bg-muted/50 p-4 rounded-xl border border-border space-y-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("label",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[n.jsx(ku,{className:"w-4 h-4 text-muted-foreground"})," "]}),n.jsxs(oe,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 gap-1 text-muted-foreground hover:text-orange-500",onClick:()=>w("favoriteManager",{initialTab:me.WALLPAPER}),children:[n.jsx(Oi,{className:"w-3.5 h-3.5"}),n.jsx("span",{className:"text-xs",children:""})]})]}),n.jsx(Vl,{placeholder:"...",value:c.wallpaper_code||"",onChange:D,options:X,warning:m.wallpaper_code}),n.jsxs("div",{className:"relative",children:[n.jsx(ne,{placeholder:" (/)",inputMode:"decimal",value:c.price_per_roll||"",onChange:V=>h("price_per_roll",V.target.value),prefix:n.jsx(Ba,{className:"w-4 h-4 text-muted-foreground"})}),c.wallpaper_code&&$(c.price_per_roll)>0&&n.jsx("button",{type:"button",onClick:b,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 z-10 hover:scale-110 transition-transform",children:n.jsx(ql,{className:K("w-5 h-5 transition-colors",z(c.wallpaper_code)?"fill-amber-400 text-amber-400":"text-muted-foreground hover:text-amber-400")})})]}),n.jsx(ne,{label:" (/)",placeholder:"0",inputMode:"decimal",value:c.install_cost_per_roll||"",onChange:V=>h("install_cost_per_roll",V.target.value),prefix:n.jsx(Nv,{className:"w-4 h-4 text-muted-foreground"})})]})})}),n.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 text-foreground relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-500/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex justify-between border-b border-border pb-2",children:[n.jsx("span",{className:"text-muted-foreground",children:" ():"}),n.jsxs("span",{className:"font-mono text-foreground text-lg font-bold",children:[L.breakdown?.rolls||0," "]})]}),n.jsxs("div",{className:"flex justify-between items-end pt-2 border-t border-border mt-2",children:[n.jsx("span",{className:"text-muted-foreground pb-1",children:""}),n.jsx("span",{className:"text-2xl font-bold font-mono text-orange-400",children:He(L.total)})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Bt,{checked:c.enable_set_price||!1,onCheckedChange:V=>p("enable_set_price",V),className:"data-[state=checked]:bg-orange-500"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),c.enable_set_price&&n.jsx("div",{className:"w-32",children:n.jsx("input",{type:"text",inputMode:"decimal",value:c.set_price_override||"",onChange:V=>h("set_price_override",V.target.value),className:"w-full bg-background text-foreground border border-border rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:border-orange-500"})})]})]})]}),n.jsxs("div",{className:"pt-2 space-y-4",children:[n.jsx(ne,{label:"",value:c.notes||"",onChange:V=>p("notes",V.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),n.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2",children:[n.jsx(oe,{variant:"ghost",type:"button",onClick:u,className:"h-12 px-6 text-muted-foreground",children:""}),n.jsx(oe,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-orange-500/20 bg-primary text-primary-foreground",children:""})]})]})]})},Rp={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"Blackout",adjustment_side:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},lj={width_m:s=>$(s)<=0?{level:"error",message:""}:null,height_m:s=>$(s)<=0?{level:"error",message:""}:null,price_sqyd:(s,o)=>!o.enable_set_price&&$(s)<=0?{level:"warning",message:""}:null},nj=({initialData:s,onSubmit:o,onCancel:u})=>{const{formData:c,errors:d,warnings:m,handleChange:p,handleNumberChange:h,validate:g}=pl({...Rp,...s},lj),{addFavorite:N,favorites:_,updateFavorite:y,openModal:w}=se(),{addToast:T}=at(),{confirm:M}=hl(),C=j.useMemo(()=>{const b={...Rp,...c,type:I.ROLLER_BLIND,id:"preview"};return ht.calculateDetailedPrice(b)},[c]),A=j.useMemo(()=>(_[me.ROLLER_BLIND]||[]).map(b=>({label:b.code,value:b.code,desc:`${b.default_price_per_m}`,data:b})),[_]),v=b=>{p("code",b);const z=A.find(O=>O.value.toLowerCase()===b.toLowerCase());z&&z.data?.default_price_per_m&&h("price_sqyd",String(z.data.default_price_per_m))},L=async()=>{const b=c.code,z=$(c.price_sqyd);if(!b||z<=0)return T("warning","");const O=(_[me.ROLLER_BLIND]||[]).find(V=>V.code===b);O?O.default_price_per_m!==z&&await M({title:"",description:` ${O.default_price_per_m} ->  ${z}. ?`,confirmLabel:"",cancelLabel:""})&&y(me.ROLLER_BLIND,O.id,{default_price_per_m:z}):(N(me.ROLLER_BLIND,{code:b,default_price_per_m:z}),T("success",` ${b} `))},X=b=>!!b&&(_[me.ROLLER_BLIND]||[]).some(z=>z.code===b),D=b=>{b.preventDefault();const{isValid:z,hasWarnings:O}=g();z?(o(c),O&&T("warning"," ()")):T("error","")};return n.jsxs("form",{onSubmit:D,className:"space-y-6",children:[n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[n.jsx(Fp,{className:"w-5 h-5 text-teal-500"}),n.jsx("h2",{children:" (.)"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(ne,{label:" (W)",placeholder:"0.00",value:c.width_m,onChange:b=>h("width_m",b.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-teal-600 dark:text-teal-400 bg-teal-500/10",error:d.width_m}),n.jsx(ne,{label:" (H)",placeholder:"0.00",value:c.height_m,onChange:b=>h("height_m",b.target.value),isDimension:!0,className:"text-lg font-bold text-teal-600 dark:text-teal-400 bg-teal-500/10",error:d.height_m})]})]}),n.jsxs("div",{className:"bg-muted/50 p-4 rounded-xl border border-border space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("label",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[n.jsx(Ba,{className:"w-4 h-4 text-muted-foreground"})," /"]}),n.jsxs(oe,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 gap-1 text-muted-foreground hover:text-teal-600",onClick:()=>w("favoriteManager",{initialTab:me.ROLLER_BLIND}),children:[n.jsx(Oi,{className:"w-3.5 h-3.5"}),n.jsx("span",{className:"text-xs",children:""})]})]}),n.jsx(Vl,{placeholder:"/...",value:c.code||"",onChange:v,options:A}),n.jsxs("div",{className:"relative",children:[n.jsx(ne,{placeholder:" (/..)",inputMode:"decimal",value:c.price_sqyd||"",onChange:b=>h("price_sqyd",b.target.value),warning:m.price_sqyd}),c.code&&$(c.price_sqyd)>0&&n.jsx("button",{type:"button",onClick:L,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 z-10 hover:scale-110 transition-transform",children:n.jsx(ql,{className:K("w-5 h-5 transition-colors",X(c.code)?"fill-amber-400 text-amber-400":"text-muted-foreground hover:text-amber-400")})})]})]}),n.jsxs("div",{className:"space-y-2 pt-2 border-t border-border",children:[n.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),n.jsx("div",{className:"grid grid-cols-3 gap-2 bg-muted/50 p-1 rounded-xl",children:["Blackout","Sunscreen","Dimout"].map(b=>n.jsx("button",{type:"button",onClick:()=>p("fabric_variant",b),className:K("flex items-center justify-center py-2 rounded-lg text-xs font-medium transition-all",c.fabric_variant===b?"bg-teal-600 text-white shadow-md":"text-muted-foreground hover:bg-background/50"),children:b},b))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:["",""].map(b=>n.jsxs("button",{type:"button",onClick:()=>p("adjustment_side",b),className:K("flex items-center justify-center gap-2 py-3 rounded-xl border transition-all",c.adjustment_side===b?"border-teal-500 bg-teal-500/10 text-teal-600 dark:text-teal-400":"border-border text-muted-foreground hover:bg-muted"),children:[b===""?n.jsx(Ri,{className:"w-4 h-4"}):n.jsx(Mi,{className:"w-4 h-4"}),b]},b))})]})]}),n.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 text-foreground relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-teal-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[n.jsx("span",{children:" (..):"}),n.jsx("span",{className:"text-foreground font-mono",children:C.breakdown?.areaSqyd?.toFixed(2)||"0.00"})]}),n.jsxs("div",{className:"flex justify-between items-end pt-2 border-t border-border mt-2",children:[n.jsx("span",{className:"text-muted-foreground pb-1",children:""}),n.jsx("span",{className:"text-2xl font-bold font-mono text-teal-600 dark:text-teal-400",children:He(C.total)})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Bt,{checked:c.enable_set_price||!1,onCheckedChange:b=>p("enable_set_price",b),className:"data-[state=checked]:bg-teal-500"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),c.enable_set_price&&n.jsx("div",{className:"w-32",children:n.jsx("input",{type:"text",inputMode:"decimal",value:c.set_price_override||"",onChange:b=>h("set_price_override",b.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"})})]})]})]}),n.jsxs("div",{className:"pt-2 space-y-4",children:[n.jsx(ne,{label:"",value:c.notes||"",onChange:b=>p("notes",b.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),n.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[n.jsx(oe,{variant:"ghost",type:"button",onClick:u,className:"h-12 px-6 text-muted-foreground",children:""}),n.jsx(oe,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-teal-500/20 bg-teal-600 hover:bg-teal-700 text-white",children:""})]})]})]})},Mp={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"",adjustment_side:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},sj={width_m:s=>$(s)<=0?{level:"error",message:""}:null,height_m:s=>$(s)<=0?{level:"error",message:""}:null,price_sqyd:(s,o)=>!o.enable_set_price&&$(s)<=0?{level:"warning",message:""}:null},rj=({initialData:s,onSubmit:o,onCancel:u,itemType:c=I.WOODEN_BLIND})=>{const{formData:d,errors:m,handleChange:p,handleNumberChange:h,validate:g}=pl({...Mp,...s},sj),{favorites:N}=se(),{addToast:_}=at(),y=c===I.ROLLER_BLIND?me.ROLLER_BLIND:c===I.ALUMINUM_BLIND?me.ALUMINUM_BLIND:me.WOODEN_BLIND,w=j.useMemo(()=>{const A={...Mp,...d,type:c,id:"preview"};return ht.calculateDetailedPrice(A)},[d,c]),T=j.useMemo(()=>(N[y]||[]).map(A=>({label:A.code,value:A.code,desc:`${A.default_price_per_m}`,data:A})),[N,y]),M=A=>{p("code",A);const v=T.find(L=>L.value.toLowerCase()===A.toLowerCase());v&&v.data?.default_price_per_m&&h("price_sqyd",String(v.data.default_price_per_m))},C=A=>{A.preventDefault();const{isValid:v,hasWarnings:L}=g();v?(o(d),L&&_("warning"," ()")):_("error","")};return n.jsxs("form",{onSubmit:C,className:"space-y-6 pb-20 sm:pb-0",children:[n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[n.jsx(Hu,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"}),n.jsx("h2",{children:" (.)"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(ne,{label:" (W)",placeholder:"0.00",value:d.width_m,onChange:A=>h("width_m",A.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-amber-600 dark:text-amber-400 bg-amber-500/10",error:m.width_m}),n.jsx(ne,{label:" (H)",placeholder:"0.00",value:d.height_m,onChange:A=>h("height_m",A.target.value),isDimension:!0,className:"text-lg font-bold text-amber-600 dark:text-amber-400 bg-amber-500/10",error:m.height_m})]})]}),n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[n.jsx("div",{className:"grid grid-cols-2 gap-2 bg-muted/50 p-1 rounded-xl",children:["",""].map(A=>n.jsx("button",{type:"button",onClick:()=>p("fabric_variant",A),className:K("flex items-center justify-center py-2 rounded-lg text-xs font-medium transition-all",d.fabric_variant===A?"bg-amber-600 text-white shadow-md":"text-muted-foreground hover:bg-background/50"),children:A},A))}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(Vl,{label:"//",options:T,value:d.code||"",onChange:M,className:"bg-muted/50",placeholder:" BW-01"}),n.jsx(ne,{label:" (/..)",value:d.price_sqyd||"",onChange:A=>h("price_sqyd",A.target.value),className:"bg-muted/50",inputMode:"decimal",placeholder:"0.00"})]}),n.jsxs("div",{className:"pt-2",children:[n.jsx("label",{className:"text-sm font-bold text-foreground mb-2 block",children:" (Side)"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:["",""].map(A=>n.jsxs("button",{type:"button",onClick:()=>p("adjustment_side",A),className:K("flex items-center justify-center gap-2 py-3 rounded-xl border transition-all",d.adjustment_side===A?"border-amber-500 bg-amber-500/10 text-amber-600 dark:text-amber-400":"border-border text-muted-foreground hover:bg-muted"),children:[A===""?n.jsx(Ri,{className:"w-4 h-4"}):n.jsx(Mi,{className:"w-4 h-4"}),A]},A))})]})]}),n.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-amber-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),n.jsxs("div",{className:"flex items-center gap-2 text-amber-600 dark:text-amber-400 font-bold border-b border-border pb-3",children:[n.jsx(Ba,{className:"w-5 h-5"}),n.jsx("h3",{children:""})]}),n.jsxs("div",{className:"flex justify-between items-baseline",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:""}),n.jsx("span",{className:"text-2xl font-bold font-mono text-amber-600 dark:text-amber-400",children:He(w.total)})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Bt,{checked:d.enable_set_price||!1,onCheckedChange:A=>p("enable_set_price",A),className:"data-[state=checked]:bg-amber-500"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),d.enable_set_price&&n.jsx("div",{className:"w-32",children:n.jsx("input",{type:"text",inputMode:"decimal",value:d.set_price_override||"",onChange:A=>h("set_price_override",A.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"})})]})]}),n.jsxs("div",{className:"pt-2 space-y-4",children:[n.jsx(ne,{label:"",value:d.notes||"",onChange:A=>p("notes",A.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),n.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[n.jsx(oe,{variant:"ghost",type:"button",onClick:u,className:"h-12 px-6 text-muted-foreground",children:""}),n.jsx(oe,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-amber-500/20 bg-amber-600 hover:bg-amber-700 text-white",children:""})]})]})]})},Op={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"Dimout",adjustment_side:"",opening_style:pa.SIDE,is_suspended:!1,enable_set_price:!1,set_price_override:0},ij={width_m:s=>$(s)<=0?{level:"error",message:""}:null,height_m:s=>$(s)<=0?{level:"error",message:""}:null,price_sqyd:(s,o)=>!o.enable_set_price&&$(s)<=0?{level:"warning",message:""}:null},cj=({initialData:s,onSubmit:o,onCancel:u})=>{const{formData:c,errors:d,warnings:m,handleChange:p,handleNumberChange:h,validate:g}=pl({...Op,...s},ij),{addFavorite:N,favorites:_,updateFavorite:y,openModal:w}=se(),{addToast:T}=at(),{confirm:M}=hl(),C=j.useMemo(()=>{const b={...Op,...c,type:I.VERTICAL_BLIND,id:"preview"};return ht.calculateDetailedPrice(b)},[c]),A=j.useMemo(()=>(_[me.VERTICAL_BLIND]||[]).map(b=>({label:b.code,value:b.code,desc:`${b.default_price_per_m}`,data:b})),[_]),v=b=>{p("code",b);const z=A.find(O=>O.value.toLowerCase()===b.toLowerCase());z&&z.data?.default_price_per_m&&h("price_sqyd",String(z.data.default_price_per_m))},L=async()=>{const b=c.code,z=$(c.price_sqyd);if(!b||z<=0)return T("warning","");const O=(_[me.VERTICAL_BLIND]||[]).find(V=>V.code===b);O&&O.default_price_per_m!==z?await M({title:"?",description:` ${O.default_price_per_m}  ${z}?`})&&y(me.VERTICAL_BLIND,O.id,{default_price_per_m:z}):O||(N(me.VERTICAL_BLIND,{code:b,default_price_per_m:z}),T("success",""))},X=b=>!!b&&(_[me.VERTICAL_BLIND]||[]).some(z=>z.code===b),D=b=>{b.preventDefault(),g().isValid?o(c):T("error","")};return n.jsxs("form",{onSubmit:D,className:"space-y-6 pb-20 sm:pb-0",children:[n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[n.jsx(Kp,{className:"w-5 h-5 text-cyan-500"}),n.jsx("h2",{children:" (.)"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(ne,{label:" (W)",value:c.width_m,onChange:b=>h("width_m",b.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-cyan-600 dark:text-cyan-400 bg-cyan-500/10",error:d.width_m}),n.jsx(ne,{label:" (H)",value:c.height_m,onChange:b=>h("height_m",b.target.value),isDimension:!0,className:"text-lg font-bold text-cyan-600 dark:text-cyan-400 bg-cyan-500/10",error:d.height_m})]})]}),n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("label",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[n.jsx(Ba,{className:"w-4 h-4 text-muted-foreground"}),"/"]}),n.jsxs(oe,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 gap-1 text-muted-foreground hover:text-cyan-600",onClick:()=>w("favoriteManager",{initialTab:me.VERTICAL_BLIND}),children:[n.jsx(Oi,{className:"w-3.5 h-3.5"}),n.jsx("span",{className:"text-xs",children:""})]})]}),n.jsx(Vl,{placeholder:"/...",value:c.code||"",onChange:v,options:A}),n.jsxs("div",{className:"relative",children:[n.jsx(ne,{placeholder:" (/..)",inputMode:"decimal",value:c.price_sqyd||"",onChange:b=>h("price_sqyd",b.target.value),warning:m.price_sqyd}),c.code&&$(c.price_sqyd)>0&&n.jsx("button",{type:"button",onClick:L,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 z-10 hover:scale-110 transition-transform",children:n.jsx(ql,{className:K("w-5 h-5",X(c.code)?"fill-amber-400 text-amber-400":"text-muted-foreground")})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-border",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("button",{type:"button",onClick:()=>p("opening_style",pa.SIDE),className:K("flex items-center gap-2 px-3 py-2 rounded-lg text-xs border transition-all",c.opening_style===pa.SIDE?"bg-cyan-500/10 border-cyan-500/50 text-cyan-600 dark:text-cyan-400":"border-transparent text-muted-foreground hover:bg-muted"),children:[n.jsx(Jp,{className:"w-3 h-3"}),""]}),n.jsxs("button",{type:"button",onClick:()=>p("opening_style",pa.CENTER),className:K("flex items-center gap-2 px-3 py-2 rounded-lg text-xs border transition-all",c.opening_style===pa.CENTER?"bg-cyan-500/10 border-cyan-500/50 text-cyan-600 dark:text-cyan-400":"border-transparent text-muted-foreground hover:bg-muted"),children:[n.jsx(Bu,{className:"w-3 h-3"}),""]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("button",{type:"button",onClick:()=>p("adjustment_side",""),className:K("flex items-center gap-2 px-3 py-2 rounded-lg text-xs border transition-all",c.adjustment_side===""?"bg-cyan-500/10 border-cyan-500/50 text-cyan-600 dark:text-cyan-400":"border-transparent text-muted-foreground hover:bg-muted"),children:[n.jsx(Mi,{className:"w-3 h-3"}),""]}),n.jsxs("button",{type:"button",onClick:()=>p("adjustment_side",""),className:K("flex items-center gap-2 px-3 py-2 rounded-lg text-xs border transition-all",c.adjustment_side===""?"bg-cyan-500/10 border-cyan-500/50 text-cyan-600 dark:text-cyan-400":"border-transparent text-muted-foreground hover:bg-muted"),children:[n.jsx(Ri,{className:"w-3 h-3"}),""]})]})]})]})]}),n.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-cyan-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),n.jsxs("div",{className:"flex items-center gap-2 text-cyan-600 dark:text-cyan-400 font-bold border-b border-border pb-3",children:[n.jsx(Ba,{className:"w-5 h-5"}),n.jsx("h3",{children:""})]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[n.jsx("span",{children:" (..):"}),n.jsx("span",{className:"text-foreground font-mono",children:C.breakdown?.areaSqyd?.toFixed(2)||"0.00"})]}),n.jsxs("div",{className:"flex justify-between items-end pt-2 border-t border-border mt-2",children:[n.jsx("span",{className:"text-muted-foreground pb-1",children:""}),n.jsx("span",{className:"text-2xl font-bold font-mono text-cyan-600 dark:text-cyan-400",children:He(C.total)})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Bt,{checked:c.enable_set_price||!1,onCheckedChange:b=>p("enable_set_price",b),className:"data-[state=checked]:bg-cyan-500"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),c.enable_set_price&&n.jsx("div",{className:"w-32",children:n.jsx("input",{type:"text",inputMode:"decimal",value:c.set_price_override||"",onChange:b=>h("set_price_override",b.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500"})})]})]})]}),n.jsxs("div",{className:"pt-2 space-y-4",children:[n.jsx(ne,{label:"",value:c.notes||"",onChange:b=>p("notes",b.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),n.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[n.jsx(oe,{variant:"ghost",type:"button",onClick:u,className:"h-12 px-6 text-muted-foreground",children:""}),n.jsx(oe,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-cyan-500/20 bg-cyan-600 hover:bg-cyan-700 text-white",children:""})]})]})]})},zp={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"PVC ",opening_style:pa.SIDE,is_suspended:!1,enable_set_price:!1,set_price_override:0},oj={width_m:s=>$(s)<=0?{level:"error",message:""}:null,height_m:s=>$(s)<=0?{level:"error",message:""}:null,price_sqyd:(s,o)=>!o.enable_set_price&&$(s)<=0?{level:"warning",message:""}:null},uj=({initialData:s,onSubmit:o,onCancel:u})=>{const{formData:c,errors:d,warnings:m,handleChange:p,handleNumberChange:h,validate:g}=pl({...zp,...s},oj),{addFavorite:N,favorites:_,updateFavorite:y,openModal:w}=se(),{addToast:T}=at(),{confirm:M}=hl(),C=j.useMemo(()=>{const b={...zp,...c,type:I.PARTITION,id:"preview"};return ht.calculateDetailedPrice(b)},[c]),A=j.useMemo(()=>(_[me.PARTITION]||[]).map(b=>({label:b.code,value:b.code,desc:`${b.default_price_per_m}`,data:b})),[_]),v=b=>{p("code",b);const z=A.find(O=>O.value.toLowerCase()===b.toLowerCase());z&&z.data?.default_price_per_m&&h("price_sqyd",String(z.data.default_price_per_m))},L=async()=>{const b=c.code,z=$(c.price_sqyd);if(!b||z<=0)return T("warning","");const O=(_[me.PARTITION]||[]).find(V=>V.code===b);O&&O.default_price_per_m!==z?await M({title:"?",description:` ${O.default_price_per_m} -> ${z}?`})&&y(me.PARTITION,O.id,{default_price_per_m:z}):O||(N(me.PARTITION,{code:b,default_price_per_m:z}),T("success",""))},X=b=>!!b&&(_[me.PARTITION]||[]).some(z=>z.code===b),D=b=>{b.preventDefault(),g().isValid?o(c):T("error","")};return n.jsxs("form",{onSubmit:D,className:"space-y-6",children:[n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[n.jsx(qu,{className:"w-5 h-5 text-emerald-500"}),n.jsx("h2",{children:" (.)"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(ne,{label:" (W)",placeholder:"0.00",value:c.width_m,onChange:b=>h("width_m",b.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-500/10",error:d.width_m}),n.jsx(ne,{label:" (H)",placeholder:"0.00",value:c.height_m,onChange:b=>h("height_m",b.target.value),isDimension:!0,className:"text-lg font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-500/10",error:d.height_m})]})]}),n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("label",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[n.jsx(Ba,{className:"w-4 h-4 text-muted-foreground"}),"/"]}),n.jsxs(oe,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 gap-1 text-muted-foreground hover:text-emerald-600",onClick:()=>w("favoriteManager",{initialTab:me.PARTITION}),children:[n.jsx(Oi,{className:"w-3.5 h-3.5"}),n.jsx("span",{className:"text-xs",children:""})]})]}),n.jsx(Vl,{placeholder:" ( PVC )...",value:c.code||"",onChange:v,options:A}),n.jsxs("div",{className:"relative",children:[n.jsx(ne,{placeholder:" (/..)",inputMode:"decimal",value:c.price_sqyd||"",onChange:b=>h("price_sqyd",b.target.value),warning:m.price_sqyd,className:"bg-muted/50"}),c.code&&$(c.price_sqyd)>0&&n.jsx("button",{type:"button",onClick:L,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 z-10 hover:scale-110 transition-transform",children:n.jsx(ql,{className:K("w-5 h-5",X(c.code)?"fill-amber-400 text-amber-400":"text-muted-foreground")})})]})]}),n.jsxs("div",{className:"space-y-2 pt-2 border-t border-border",children:[n.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),n.jsx("div",{className:"flex gap-2",children:[{l:"",v:pa.SIDE,i:Jp},{l:"",v:pa.CENTER,i:Bu}].map(b=>n.jsxs("button",{type:"button",onClick:()=>p("opening_style",b.v),className:K("flex-1 flex items-center justify-center gap-2 py-2 rounded-lg text-sm border transition-all",c.opening_style===b.v?"bg-emerald-500/10 border-emerald-500/50 text-emerald-600 dark:text-emerald-400 font-medium":"bg-background border-border text-muted-foreground hover:bg-muted"),children:[n.jsx(b.i,{className:"w-4 h-4"}),b.l]},b.v))})]})]}),n.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),n.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 dark:text-emerald-400 font-bold border-b border-border pb-3",children:[n.jsx(Ba,{className:"w-5 h-5"}),n.jsx("h3",{children:""})]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[n.jsx("span",{children:" (..):"}),n.jsx("span",{className:"text-foreground font-mono",children:C.breakdown?.areaSqyd?.toFixed(2)||"0.00"})]}),n.jsxs("div",{className:"flex justify-between items-end pt-2 border-t border-border mt-2",children:[n.jsx("span",{className:"text-muted-foreground pb-1",children:""}),n.jsx("span",{className:"text-2xl font-bold font-mono text-emerald-600 dark:text-emerald-400",children:He(C.total)})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Bt,{checked:c.enable_set_price||!1,onCheckedChange:b=>p("enable_set_price",b),className:"data-[state=checked]:bg-emerald-500"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),c.enable_set_price&&n.jsx("div",{className:"w-32",children:n.jsx("input",{type:"text",inputMode:"decimal",value:c.set_price_override||"",onChange:b=>h("set_price_override",b.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"})})]})]}),n.jsxs("div",{className:"pt-2 space-y-4",children:[n.jsx(ne,{label:"",value:c.notes||"",onChange:b=>p("notes",b.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),n.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[n.jsx(oe,{variant:"ghost",type:"button",onClick:u,className:"h-12 px-6 text-muted-foreground",children:""}),n.jsx(oe,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-emerald-500/20 bg-emerald-600 hover:bg-emerald-700 text-white",children:""})]})]})]})},Lp={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"",opening_style:pa.SIDE,is_suspended:!1,enable_set_price:!1,set_price_override:0},dj={width_m:s=>$(s)<=0?{level:"error",message:""}:null,height_m:s=>$(s)<=0?{level:"error",message:""}:null,price_sqyd:(s,o)=>!o.enable_set_price&&$(s)<=0?{level:"warning",message:""}:null},fj=({initialData:s,onSubmit:o,onCancel:u})=>{const{formData:c,errors:d,handleChange:m,handleNumberChange:p,validate:h}=pl({...Lp,...s},dj),{addToast:g}=at(),N=j.useMemo(()=>{const y={...Lp,...c,type:I.PLEATED_SCREEN,id:"preview"};return ht.calculateDetailedPrice(y)},[c]),_=y=>{y.preventDefault(),h().isValid?o(c):g("error","")};return n.jsxs("form",{onSubmit:_,className:"space-y-6 pb-20 sm:pb-0",children:[n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[n.jsx(qu,{className:"w-5 h-5 text-pink-500"}),n.jsx("h2",{children:" (.)"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(ne,{label:" (W)",value:c.width_m,onChange:y=>p("width_m",y.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-pink-600 dark:text-pink-400 bg-pink-500/10",error:d.width_m}),n.jsx(ne,{label:" (H)",value:c.height_m,onChange:y=>p("height_m",y.target.value),isDimension:!0,className:"text-lg font-bold text-pink-600 dark:text-pink-400 bg-pink-500/10",error:d.height_m})]})]}),n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(ne,{label:"",value:c.code||"",onChange:y=>m("code",y.target.value),className:"bg-muted/50",placeholder:"..."}),n.jsx(ne,{label:" (/..)",value:c.price_sqyd||"",onChange:y=>p("price_sqyd",y.target.value),className:"bg-muted/50",inputMode:"decimal"})]}),n.jsxs("div",{className:"pt-2",children:[n.jsx("label",{className:"text-sm font-bold text-foreground mb-2 block",children:""}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.values(pa).map(y=>n.jsx("button",{type:"button",onClick:()=>m("opening_style",y),className:K("py-2 px-3 rounded-lg text-xs font-medium border transition-all",c.opening_style===y?"bg-pink-500/10 border-pink-500/50 text-pink-600 dark:text-pink-400":"bg-background border-border text-muted-foreground hover:bg-muted"),children:y},y))})]})]}),n.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-pink-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),n.jsxs("div",{className:"flex items-center gap-2 text-pink-600 dark:text-pink-400 font-bold border-b border-border pb-3",children:[n.jsx(Ba,{className:"w-5 h-5"}),n.jsx("h3",{children:""})]}),n.jsxs("div",{className:"flex justify-between items-baseline",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:""}),n.jsx("span",{className:"text-2xl font-bold font-mono text-pink-600 dark:text-pink-400",children:He(N.total)})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Bt,{checked:c.enable_set_price||!1,onCheckedChange:y=>m("enable_set_price",y),className:"data-[state=checked]:bg-pink-500"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),c.enable_set_price&&n.jsx("div",{className:"w-32",children:n.jsx("input",{type:"text",inputMode:"decimal",value:c.set_price_override||"",onChange:y=>p("set_price_override",y.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-pink-500"})})]})]}),n.jsxs("div",{className:"pt-2 space-y-4",children:[n.jsx(ne,{label:"",value:c.notes||"",onChange:y=>m("notes",y.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),n.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[n.jsx(oe,{variant:"ghost",type:"button",onClick:u,className:"h-12 px-6 text-muted-foreground",children:""}),n.jsx(oe,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-pink-500/20 bg-pink-600 hover:bg-pink-700 text-white",children:""})]})]})]})},mj={quantity:1,price_per_item:0,description:"",notes:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},hj={description:s=>s?null:{level:"error",message:""},price_per_item:s=>$(s)<=0?{level:"error",message:""}:null},pj=({initialData:s,onSubmit:o,onCancel:u})=>{const{formData:c,errors:d,isDirty:m,validate:p,handleChange:h,handleNumberChange:g,getFormattedNumber:N}=pl({...mj,...s},hj),_=j.useMemo(()=>{const w={...c,type:I.REMOVAL,id:"preview"};return ht.calculateDetailedPrice(w)},[c]),y=w=>{if(w.preventDefault(),p().isValid){const T={...c,quantity:$(c.quantity),price_per_item:$(c.price_per_item),set_price_override:$(c.set_price_override)};o(T)}};return n.jsxs("form",{onSubmit:y,className:"space-y-6 pb-20 sm:pb-0",children:[n.jsxs("section",{className:"space-y-4 bg-card p-5 rounded-2xl border border-border shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold mb-2",children:[n.jsx(Ip,{className:"w-5 h-5 text-destructive"}),n.jsx("h2",{children:""})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ne,{label:" / ",placeholder:" , ...",value:c.description,onChange:w=>h("description",w.target.value),autoFocus:!0,className:"bg-muted/50",error:d.description}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"text-sm font-bold text-foreground mb-1.5 block",children:""}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("button",{type:"button",onClick:()=>g("quantity",String(Math.max(1,$(c.quantity)-1))),className:"w-10 h-10 rounded-l-xl bg-muted text-muted-foreground hover:bg-accent flex items-center justify-center border-y border-l border-input",children:"-"}),n.jsx("input",{type:"number",value:c.quantity,onChange:w=>g("quantity",w.target.value),className:"w-full h-10 text-center border-y border-input bg-background text-foreground font-bold"}),n.jsx("button",{type:"button",onClick:()=>g("quantity",String($(c.quantity)+1)),className:"w-10 h-10 rounded-r-xl bg-muted text-muted-foreground hover:bg-accent flex items-center justify-center border-y border-r border-input",children:"+"})]})]}),n.jsx(ne,{label:"",placeholder:"0.00",value:c.price_per_item,onChange:w=>g("price_per_item",w.target.value),inputMode:"decimal",className:"bg-muted/50",error:d.price_per_item})]})]})]}),n.jsxs("section",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-destructive/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),n.jsxs("div",{className:"flex items-center gap-2 text-destructive font-bold border-b border-border pb-3",children:[n.jsx($p,{className:"w-5 h-5"}),n.jsx("h3",{children:""})]}),n.jsxs("div",{className:"flex justify-between items-baseline",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:""}),n.jsx("span",{className:"text-3xl font-bold font-mono text-destructive",children:He(_.total)})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Bt,{checked:c.enable_set_price||!1,onCheckedChange:w=>h("enable_set_price",w),className:"data-[state=checked]:bg-primary"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:" (Override)"})]}),c.enable_set_price&&n.jsx("div",{className:"w-32",children:n.jsx("input",{type:"text",inputMode:"decimal",value:N("set_price_override"),onChange:w=>g("set_price_override",w.target.value),placeholder:"",className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-primary transition-colors"})})]})]}),n.jsxs("div",{className:"pt-2",children:[n.jsx(ne,{label:"",value:c.notes,onChange:w=>h("notes",w.target.value),className:"bg-muted/50 border-transparent focus:bg-background transition-colors"}),n.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-border mt-4",children:[n.jsx(oe,{variant:"ghost",type:"button",onClick:u,className:"text-muted-foreground",children:""}),n.jsx(oe,{type:"submit",className:"min-w-[120px] bg-destructive hover:bg-destructive/90 text-destructive-foreground",disabled:!m&&!s?.description,children:""})]})]})]})},ma=s=>({container:`bg-[hsl(var(${s})_/_0.05)] dark:bg-[hsl(var(${s})_/_0.1)] border-[hsl(var(${s})_/_0.2)]`,iconWrapper:`bg-white dark:bg-[hsl(var(${s})_/_0.15)] text-[hsl(var(${s}))] shadow-sm`,title:"text-foreground font-semibold",icon:`text-[hsl(var(${s}))]`,hover:`hover:border-[hsl(var(${s})_/_0.5)] hover:bg-[hsl(var(${s})_/_0.08)] dark:hover:bg-[hsl(var(${s})_/_0.15)]`,badge:`bg-[hsl(var(${s})_/_0.1)] text-[hsl(var(${s}))]`,text:`text-[hsl(var(${s}))]`,bgSoft:`bg-[hsl(var(${s})_/_0.1)]`,border:`border-[hsl(var(${s}))]`,ring:`focus:ring-[hsl(var(${s}))]`}),xj={[I.CURTAIN]:ma("--brand-curtain"),[I.WALLPAPER]:ma("--brand-wallpaper"),[I.ROLLER_BLIND]:ma("--brand-roller"),[I.WOODEN_BLIND]:ma("--brand-wood"),[I.VERTICAL_BLIND]:ma("--brand-vertical"),[I.ALUMINUM_BLIND]:ma("--brand-alum"),[I.PARTITION]:ma("--brand-partition"),[I.PLEATED_SCREEN]:ma("--brand-screen"),[I.REMOVAL]:ma("--brand-removal")},gj=s=>xj[s]||ma("--foreground"),vj=[{id:I.CURTAIN,icon:jv},{id:I.WOODEN_BLIND,icon:Hu},{id:I.ROLLER_BLIND,icon:Fp},{id:I.VERTICAL_BLIND,icon:Kp},{id:I.PARTITION,icon:qu},{id:I.PLEATED_SCREEN,icon:wv},{id:I.WALLPAPER,icon:ku},{id:I.REMOVAL,icon:Wp}],bj=({isOpen:s,onClose:o,roomId:u,itemId:c,itemType:d=I.CURTAIN,initialData:m,mode:p="add",onSubmit:h})=>{const{trigger:g}=ml(),N=v=>v==="set"?I.CURTAIN:v,[_,y]=j.useState(N(d)),[w,T]=j.useState(!0);j.useEffect(()=>{if(s){if(p==="add")T(!0),y(N(d));else if(p==="edit"&&m){T(!1);const v=m.type||d;y(N(v))}}},[s,p,d]);const M=v=>{g("selection"),y(v),T(!1)},C=(v,L=!0)=>{const X={...v,type:_,...u&&{roomId:u},...c&&{id:c}};h?h(X,L):o()},A=w?"":p==="add"?"":"";return n.jsx(It,{isOpen:s,onClose:o,title:A,variant:"fullscreen",children:w?n.jsx("div",{className:"pb-safe-area",children:n.jsx("div",{className:"grid grid-cols-2 gap-3 p-1",children:vj.map(v=>{const L=Yl[v.id]?.name||v.id,X=gj(v.id);return n.jsxs("button",{onClick:()=>M(v.id),className:K("group relative flex flex-col items-start p-4 rounded-2xl border bg-card text-card-foreground transition-all duration-300 ease-out",X.container,X.hover),children:[n.jsx("div",{className:K("w-10 h-10 rounded-xl flex items-center justify-center mb-3 transition-colors duration-300",X.iconWrapper),children:n.jsx(v.icon,{className:"w-5 h-5 transition-colors",strokeWidth:2})}),n.jsx("span",{className:K("text-[14px] font-bold",X.title),children:L}),n.jsx("div",{className:K("absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none","bg-gradient-to-tr from-white/0 via-white/0 to-white/5 dark:to-white/5")})]},v.id)})})}):n.jsxs("div",{className:"relative",children:[p==="add"&&n.jsxs("button",{onClick:()=>T(!0),className:K("absolute -top-[52px] right-0 z-10","flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold transition-all","bg-secondary text-secondary-foreground hover:bg-secondary/80 active:scale-95","dark:bg-secondary/50 dark:hover:bg-secondary/70"),children:[n.jsx(Xp,{className:"w-3.5 h-3.5"})," "]}),n.jsxs("div",{className:"animate-fade-in",children:[_===I.CURTAIN&&n.jsx(PN,{initialData:m,onSubmit:C,onCancel:o}),_===I.WALLPAPER&&n.jsx(aj,{initialData:m,onSubmit:C,onCancel:o}),_===I.ROLLER_BLIND&&n.jsx(nj,{initialData:m,onSubmit:C,onCancel:o}),(_===I.WOODEN_BLIND||_===I.ALUMINUM_BLIND)&&n.jsx(rj,{itemType:_,initialData:m,onSubmit:C,onCancel:o}),_===I.VERTICAL_BLIND&&n.jsx(cj,{initialData:m,onSubmit:C,onCancel:o}),_===I.PARTITION&&n.jsx(uj,{initialData:m,onSubmit:C,onCancel:o}),_===I.PLEATED_SCREEN&&n.jsx(fj,{initialData:m,onSubmit:C,onCancel:o}),_===I.REMOVAL&&n.jsx(pj,{initialData:m,onSubmit:C,onCancel:o})]})]})})},yj=({isOpen:s,onClose:o})=>{const u=se(m=>m.customer),c=se(m=>m.setCustomer),d=(m,p)=>{c({[m]:p})};return n.jsx(It,{isOpen:s,onClose:o,title:" (Customer Info)",children:n.jsxs("div",{className:"space-y-6 pb-safe-area",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(ne,{prefix:n.jsx(_v,{className:"w-4 h-4 text-muted-foreground"}),label:" /  (Name)",placeholder:"...",value:u.name,onChange:m=>d("name",m.target.value),autoFocus:!0}),n.jsx(ne,{prefix:n.jsx(Sv,{className:"w-4 h-4 text-muted-foreground"}),label:" (Phone)",placeholder:"08X-XXX-XXXX",value:u.phone,onChange:m=>d("phone",m.target.value),inputMode:"tel"}),n.jsx(ne,{prefix:n.jsx(zi,{className:"w-4 h-4 text-muted-foreground"}),label:" (Tax ID)",placeholder:"...",value:u.taxId||"",onChange:m=>d("taxId",m.target.value)}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-base font-medium text-foreground ml-1 flex items-center gap-2",children:[n.jsx(Cv,{className:"w-4 h-4"}),"  (Billing Address)"]}),n.jsx("textarea",{className:"w-full p-3 rounded-xl border border-input bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-ring min-h-[80px] resize-none text-[16px] placeholder:text-muted-foreground",placeholder:", , /...",value:u.address,onChange:m=>d("address",m.target.value)})]})]}),n.jsx("hr",{className:"border-border"}),n.jsxs("div",{className:"space-y-4 bg-muted/30 p-4 rounded-2xl border border-border",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h3",{className:"font-semibold text-foreground flex items-center gap-2",children:[n.jsx(Pp,{className:"w-4 h-4"}),"  (Site Location)"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-xs text-muted-foreground cursor-pointer",htmlFor:"show-site",children:""}),n.jsx(Bt,{id:"show-site",checked:u.showInstallationAddress!==!1,onCheckedChange:m=>d("showInstallationAddress",m)})]})]}),n.jsxs("div",{className:"flex items-center justify-between py-1",children:[n.jsx("span",{className:"text-base text-foreground/80",children:""}),n.jsx(Bt,{checked:u.useSameAddress!==!1,onCheckedChange:m=>d("useSameAddress",m)})]}),u.useSameAddress===!1&&n.jsx("div",{className:"animate-fade-in",children:n.jsx("textarea",{className:"w-full p-3 rounded-xl border border-input bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-ring min-h-[80px] resize-none text-[16px] placeholder:text-muted-foreground",placeholder:"...",value:u.installationAddress||"",onChange:m=>d("installationAddress",m.target.value)})}),u.useSameAddress!==!1&&n.jsx("div",{className:"p-3 border border-dashed border-border rounded-xl text-center text-muted-foreground text-xs",children:""})]}),n.jsx("div",{className:"pt-2 flex justify-end",children:n.jsx(oe,{onClick:o,className:"w-full sm:w-auto bg-primary text-primary-foreground min-w-[120px]",children:""})})]})})};var Zx=Wv();const kl=s=>s.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2}),Nj=()=>{const s=new Date,o=s.getFullYear().toString().slice(-2),u=(s.getMonth()+1).toString().padStart(2,"0"),c=Math.floor(Math.random()*1e3).toString().padStart(4,"0");return`QT-${o}${u}-${c}`},jj=s=>{const o=[];return s.forEach(u=>{if(u.is_suspended)return;const c=ht.calculatePrice(u),{id:d,...m}=u,p=JSON.stringify(m),h=o.find(g=>{const{id:N,..._}=g.item;return JSON.stringify(_)===p});h?(h.count+=1,h.totalPrice+=c):o.push({item:u,count:1,unitPrice:c,totalPrice:c})}),o},wj=P.forwardRef(({docType:s},o)=>{const{shopConfig:u,customer:c,rooms:d}=se(v=>v),{grandTotal:m,discountAmount:p,vatAmount:h,finalTotal:g}=ki(),N=s==="delivery",_=!N,[y]=j.useState(Nj),w={quotation:" (QUOTATION)",delivery:" /  (DELIVERY NOTE)",receipt:" (RECEIPT)"},T=`
      @page { size: A4; margin: 10mm 15mm; }
      @media print {
        body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
        html, body { height: auto !important; overflow: visible !important; }
        #root { display: block !important; }
        thead { display: table-header-group; }
        tfoot { display: table-footer-group; }
        tr { break-inside: avoid; page-break-inside: avoid; }
        .room-header { break-after: avoid; page-break-after: avoid; }
        .no-print { display: none !important; }
      }
    `,M=c.showInstallationAddress!==!1,C=c.useSameAddress!==!1,A=C?"()":c.installationAddress||"-";return n.jsxs("div",{ref:o,className:"bg-white text-slate-900 font-sans leading-normal text-[12px]",children:[n.jsx("style",{children:T}),n.jsxs("div",{className:"w-[210mm] min-h-[297mm] px-[10mm] py-[10mm] mx-auto flex flex-col bg-white",children:[n.jsxs("header",{className:"flex justify-between items-start border-b-2 border-slate-800 pb-4 mb-4",children:[n.jsxs("div",{className:"flex gap-4 items-start",children:[u.logoUrl?n.jsx("img",{src:u.logoUrl,alt:"Logo",className:"w-[80px] h-[80px] object-contain border border-slate-100 rounded"}):n.jsx("div",{className:"w-[80px] h-[80px] bg-slate-100 flex items-center justify-center text-slate-300 font-bold rounded",children:"LOGO"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-slate-900",children:u.name||""}),n.jsx("div",{className:"text-slate-600 whitespace-pre-line mt-1 leading-tight",children:u.address}),n.jsxs("div",{className:"text-slate-600 mt-2",children:[n.jsx("span",{className:"font-bold",children:":"})," ",u.phone,u.taxId&&n.jsxs("span",{className:"ml-3",children:[n.jsx("span",{className:"font-bold",children:":"})," ",u.taxId]})]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:K("inline-block px-4 py-1.5 text-sm font-bold rounded border mb-3",N?"bg-slate-100 border-slate-300":"bg-slate-900 text-white border-slate-900"),children:w[s]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-end items-center gap-2",children:[n.jsx("span",{className:"font-bold text-slate-500",children:":"}),n.jsx("span",{className:"font-mono font-bold text-base",children:y})]}),n.jsxs("div",{className:"flex justify-end items-center gap-2",children:[n.jsx("span",{className:"font-bold text-slate-500",children:":"}),n.jsx("div",{className:"w-[100px] border-b border-slate-400 h-5"})]})]})]})]}),n.jsxs("section",{className:"mb-5 border border-slate-300 rounded-xl flex overflow-hidden bg-white",children:[n.jsxs("div",{className:K("p-4",M?"flex-[1.2]":"flex-1"),children:[n.jsx("div",{className:"flex items-center gap-2 mb-3",children:n.jsx("h3",{className:"font-bold text-slate-900 text-xs uppercase tracking-wider bg-slate-100 px-2 py-0.5 rounded",children:" (Customer)"})}),n.jsxs("div",{className:"space-y-1.5 text-sm",children:[n.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2",children:[n.jsx("span",{className:"text-slate-500 font-medium",children:":"}),n.jsx("span",{className:"font-bold text-slate-900 text-[13px]",children:c.name||"-"})]}),n.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2",children:[n.jsx("span",{className:"text-slate-500 font-medium",children:":"}),n.jsx("span",{className:"text-slate-800 leading-snug",children:c.address||"-"})]}),n.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2",children:[n.jsx("span",{className:"text-slate-500 font-medium",children:":"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("span",{className:"font-mono text-slate-800",children:c.phone||"-"}),c.taxId&&n.jsxs("span",{className:"text-slate-600",children:[n.jsx("span",{className:"font-medium text-slate-500 mr-1",children:"Tax ID:"}),c.taxId]})]})]})]})]}),M&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-px bg-slate-200 my-3"}),n.jsxs("div",{className:"flex-1 p-4 bg-slate-50/30",children:[n.jsx("div",{className:"flex items-center gap-2 mb-3",children:n.jsx("h3",{className:"font-bold text-slate-900 text-xs uppercase tracking-wider bg-slate-100 px-2 py-0.5 rounded",children:" (Site Location)"})}),n.jsx("div",{className:K("text-sm leading-relaxed",C?"text-slate-400 italic":"text-slate-700"),children:A})]})]})]}),n.jsx("div",{className:"flex-1",children:n.jsxs("table",{className:"w-full border border-slate-300 border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-slate-100 text-slate-900 text-xs border-b border-slate-300",children:[n.jsx("th",{className:"py-2 w-[45px] text-center font-bold border-r border-slate-300",children:""}),n.jsx("th",{className:"py-2 px-2 text-left font-bold border-r border-slate-300",children:" (Description)"}),n.jsx("th",{className:"py-2 px-2 w-[60px] text-center font-bold border-r border-slate-300",children:""}),_?n.jsxs(n.Fragment,{children:[n.jsx("th",{className:"py-2 px-2 w-[110px] text-right font-bold border-r border-slate-300",children:"/"}),n.jsx("th",{className:"py-2 pr-2 w-[120px] text-right font-bold",children:""})]}):n.jsx("th",{className:"py-2 px-2 w-[150px] text-center font-bold",children:""})]})}),d.map((v,L)=>{if(v.items.length===0)return null;const X=jj(v.items);return n.jsxs("tbody",{className:"border-b border-slate-300 last:border-0",children:[n.jsxs("tr",{className:"bg-slate-50/80 room-header border-b border-slate-300",children:[n.jsx("td",{className:"py-1.5 px-1 text-center font-bold text-slate-600 border-r border-slate-300 bg-slate-100",children:L+1}),n.jsxs("td",{colSpan:_?4:3,className:"py-1.5 px-2 font-bold text-slate-900",children:[" ",v.name]})]}),X.map((D,b)=>{const{item:z,count:O,unitPrice:V,totalPrice:Q}=D,J=Yl[z.type];let re=J?J.name:"",xe="",te="";return Li(z)?(re="",xe=`${z.style||"-"} (${z.fabric_variant||"-"}) ${z.code?`: ${z.code}`:""}`,te=`${mt(z.width_m)}  ${mt(z.height_m)} .`):Ui(z)?(re="",xe=z.wallpaper_code?`Code: ${z.wallpaper_code}`:"",te="-"):ax(z)?(re="/",xe=z.description||"",te="-"):Bi(z)&&(xe=z.code?`: ${z.code}`:"",te=`${mt(z.width_m)}  ${mt(z.height_m)} .`),n.jsxs("tr",{className:"border-b border-slate-200 text-xs even:bg-slate-50 hover:bg-slate-100/50",children:[n.jsxs("td",{className:"py-2.5 px-1 text-center text-slate-500 align-top border-r border-slate-300",children:[L+1,".",b+1]}),n.jsxs("td",{className:"py-2.5 px-2 align-top border-r border-slate-300",children:[n.jsx("div",{className:"font-bold text-slate-800 text-[13px]",children:re}),n.jsx("div",{className:"text-slate-600",children:xe}),te!=="-"&&n.jsx("div",{className:"text-slate-500 font-mono mt-0.5 text-[11px]",children:te}),z.notes&&n.jsxs("div",{className:"text-[10px] text-red-500 mt-0.5",children:["* ",z.notes]})]}),n.jsx("td",{className:"py-2.5 px-2 text-center align-top font-mono text-slate-900 border-r border-slate-300 font-bold text-[13px]",children:O}),_?n.jsxs(n.Fragment,{children:[n.jsx("td",{className:"py-2.5 px-2 text-right align-top font-mono text-slate-700 border-r border-slate-300 text-[13px]",children:kl(V)}),n.jsx("td",{className:"py-2.5 pr-2 text-right align-top font-mono font-bold text-slate-900 text-[13px]",children:kl(Q)})]}):n.jsx("td",{className:"py-2.5 px-2 text-center align-top text-slate-400",children:"-"})]},b)})]},v.id)})]})}),n.jsxs("div",{className:"mt-6 break-inside-avoid page-break-inside-avoid",children:[n.jsxs("div",{className:"flex items-start border-t-2 border-slate-800 pt-4 gap-6",children:[n.jsxs("div",{className:"flex-1",children:[_&&n.jsxs("div",{className:"bg-slate-100 p-2 rounded mb-3 text-center border border-slate-200",children:[n.jsx("span",{className:"text-[10px] text-slate-500 block uppercase tracking-wider mb-1",children:""}),n.jsx("span",{className:"font-bold text-slate-800 text-sm",children:yb(g)})]}),n.jsxs("div",{className:"text-[10px] text-slate-600 space-y-1",children:[n.jsx("div",{className:"font-bold text-slate-800 text-xs",children:" / :"}),n.jsxs("ul",{className:"list-disc list-inside pl-1",children:[u.pdf?.priceValidity&&n.jsxs("li",{children:[" ",u.pdf.priceValidity]}),u.pdf?.paymentTerms&&n.jsx("li",{children:u.pdf.paymentTerms}),u.pdf?.notes?.map((v,L)=>v.trim()&&n.jsx("li",{children:v},L))]}),u.bankAccount?.isEnabled!==!1&&u.bankAccount?.accountNumber&&n.jsxs("div",{className:"mt-2 p-2 border border-slate-300 rounded bg-white inline-block min-w-[250px]",children:[n.jsx("div",{className:"font-bold text-slate-900 mb-1 border-b border-slate-200 pb-1",children:""}),n.jsxs("div",{className:"grid grid-cols-[60px_1fr] gap-1",children:[n.jsx("span",{className:"text-slate-500",children:":"}),n.jsx("span",{children:u.bankAccount.bankName}),n.jsx("span",{className:"text-slate-500",children:":"}),n.jsx("span",{children:u.bankAccount.accountName}),n.jsx("span",{className:"text-slate-500",children:":"}),n.jsx("span",{className:"font-mono font-bold text-slate-900 text-[13px]",children:u.bankAccount.accountNumber}),u.bankAccount.branch&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-slate-500",children:":"}),n.jsx("span",{children:u.bankAccount.branch})]})]})]})]})]}),_&&n.jsxs("div",{className:"w-[260px] text-sm",children:[n.jsxs("div",{className:"space-y-1 border-b border-slate-300 pb-2 mb-2",children:[n.jsxs("div",{className:"flex justify-between text-slate-600",children:[n.jsx("span",{children:""}),n.jsx("span",{className:"font-mono font-medium text-[13px]",children:kl(m)})]}),p>0&&n.jsxs("div",{className:"flex justify-between text-green-700",children:[n.jsx("span",{children:""}),n.jsxs("span",{className:"font-mono font-medium text-[13px]",children:["-",kl(p)]})]}),u.baseVatRate>0&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between text-slate-600 text-xs",children:[n.jsx("span",{children:""}),n.jsx("span",{className:"font-mono",children:kl(m-p)})]}),n.jsxs("div",{className:"flex justify-between text-slate-600",children:[n.jsxs("span",{children:["VAT ",u.baseVatRate,"%"]}),n.jsx("span",{className:"font-mono",children:kl(h)})]})]})]}),n.jsxs("div",{className:"flex justify-between items-center bg-slate-900 text-white p-3 rounded shadow-sm",children:[n.jsx("span",{className:"font-bold",children:""}),n.jsx("span",{className:"font-bold text-xl font-mono",children:kl(g)})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-8 mt-10",children:[n.jsxs("div",{className:"border border-slate-300 rounded-xl p-4 flex flex-col items-center justify-between min-h-[180px]",children:[n.jsx("div",{className:"text-xs font-bold text-slate-900 uppercase tracking-wide",children:" / "}),n.jsxs("div",{className:"w-full flex flex-col items-center mt-auto",children:[n.jsx("div",{className:"border-b border-slate-900 w-[160px] h-8 mb-6"}),n.jsxs("div",{className:"flex gap-1 text-slate-500 text-[11px]",children:["(",n.jsx("div",{className:"w-[140px] text-center relative top-[2px]",children:".................................................."}),")"]})]}),n.jsxs("div",{className:"flex items-center justify-center gap-2 text-[11px] text-slate-500 mt-4",children:[n.jsx("span",{children:":"}),n.jsx("div",{className:"w-8 border-b border-slate-400 h-4"}),n.jsx("span",{children:"/"}),n.jsx("div",{className:"w-8 border-b border-slate-400 h-4"}),n.jsx("span",{children:"/"}),n.jsx("div",{className:"w-10 border-b border-slate-400 h-4"})]})]}),n.jsxs("div",{className:"border border-slate-300 rounded-xl p-4 flex flex-col items-center justify-between min-h-[180px]",children:[n.jsx("div",{className:"text-xs font-bold text-slate-900 uppercase tracking-wide",children:" / "}),n.jsxs("div",{className:"w-full flex flex-col items-center mt-auto",children:[n.jsx("div",{className:"border-b border-slate-900 w-[160px] h-8 mb-6"}),n.jsxs("div",{className:"flex gap-1 text-slate-500 text-[11px]",children:["(",n.jsx("div",{className:"w-[140px] text-center relative top-[2px]",children:".................................................."}),")"]})]}),n.jsxs("div",{className:"flex items-center justify-center gap-2 text-[11px] text-slate-500 mt-4",children:[n.jsx("span",{children:":"}),n.jsx("div",{className:"w-8 border-b border-slate-400 h-4"}),n.jsx("span",{children:"/"}),n.jsx("div",{className:"w-8 border-b border-slate-400 h-4"}),n.jsx("span",{children:"/"}),n.jsx("div",{className:"w-10 border-b border-slate-400 h-4"})]})]})]})]})]})]})}),_j=({isOpen:s,onClose:o})=>{const u=j.useRef(null),[c,d]=j.useState("quotation"),[m,p]=j.useState(!1),h=Zx.useReactToPrint({contentRef:u,documentTitle:`Marnthara_${c}_${new Date().toISOString().split("T")[0]}`,onBeforeGetContent:()=>new Promise(N=>{p(!0),setTimeout(N,300)}),onAfterPrint:()=>{p(!1)}}),g=[{id:"quotation",label:"1. ",icon:zi},{id:"delivery",label:"2. ",icon:Pp},{id:"receipt",label:"3. ",icon:Ev}];return n.jsx(xa,{show:s,as:P.Fragment,children:n.jsxs(Ai,{onClose:o,className:"relative z-50",children:[n.jsx(fl,{as:P.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:n.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm"})}),n.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 sm:p-6",children:n.jsx(fl,{as:P.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95 translate-y-4",enterTo:"opacity-100 scale-100 translate-y-0",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100 translate-y-0",leaveTo:"opacity-0 scale-95 translate-y-4",children:n.jsxs(Di,{className:"w-full max-w-6xl h-[90vh] bg-slate-100 rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[n.jsxs("div",{className:"bg-white border-b border-slate-200 p-4 flex flex-col sm:flex-row items-center justify-between gap-4 shrink-0 z-10",children:[n.jsx("div",{className:"flex p-1 bg-slate-100 rounded-xl w-full sm:w-auto overflow-x-auto",children:g.map(N=>{const _=N.icon,y=c===N.id;return n.jsxs("button",{onClick:()=>d(N.id),className:K("flex-1 sm:flex-none flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-all whitespace-nowrap",y?"bg-white text-slate-900 shadow-sm font-semibold":"text-slate-500 hover:text-slate-700"),children:[n.jsx(_,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:N.label})]},N.id)})}),n.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[n.jsx(oe,{variant:"ghost",onClick:o,className:"flex-1 sm:flex-none",children:""}),n.jsxs(oe,{onClick:()=>h(),className:"flex-1 sm:flex-none bg-slate-900 text-white hover:bg-slate-800 shadow-lg",children:[n.jsx(Tv,{className:"w-4 h-4 mr-2"})," "]})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-500/10 p-4 sm:p-8 flex justify-center items-start",children:n.jsx("div",{className:K("shadow-2xl origin-top transition-all duration-300 bg-white",m?"scale-100":"scale-[0.6] sm:scale-[0.75] lg:scale-[0.85]"),children:n.jsx(wj,{ref:u,docType:c})})})]})})})]})})},Sj=({isOpen:s,onClose:o})=>{const u=se(v=>v.shopConfig),c=se(v=>v.updateShopConfig),d=se(v=>v.factoryReset),{confirm:m}=hl(),p=at(v=>v.addToast),[h,g]=j.useState(u),[N,_]=j.useState("general"),y=()=>{c(h),p("success",""),o()},w=async()=>{await m({title:"?",description:"   ",confirmLabel:"",variant:"destructive"})&&(d(),p("success",""),o())},T=(v,L)=>{g(X=>({...X,[v]:L}))},M=(v,L)=>{g(X=>({...X,pdf:{...X.pdf,[v]:L}}))},C=v=>{const L=v.split(`
`);g(X=>({...X,pdf:{...X.pdf,notes:L}}))},A=(v,L)=>{g(X=>({...X,bankAccount:{...X.bankAccount,[v]:L}}))};return n.jsxs(It,{isOpen:s,onClose:o,title:" (Shop Settings)",variant:"drawer",children:[n.jsxs("div",{className:"flex p-1 bg-muted rounded-xl mb-6",children:[n.jsxs("button",{onClick:()=>_("general"),className:K("flex-1 py-2 text-sm font-medium rounded-lg transition-all flex items-center justify-center gap-2",N==="general"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"),children:[n.jsx(Av,{className:"w-4 h-4"})," "]}),n.jsxs("button",{onClick:()=>_("payment"),className:K("flex-1 py-2 text-sm font-medium rounded-lg transition-all flex items-center justify-center gap-2",N==="payment"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"),children:[n.jsx(Dv,{className:"w-4 h-4"})," "]})]}),n.jsx("div",{className:"space-y-4 pb-safe-area",children:N==="general"?n.jsxs("div",{className:"space-y-6 animate-fade-in",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(ne,{label:"",value:h.name,onChange:v=>T("name",v.target.value)}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(ne,{label:"",value:h.phone,onChange:v=>T("phone",v.target.value)}),n.jsx(ne,{label:"",value:h.taxId,onChange:v=>T("taxId",v.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-1 block",children:""}),n.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl text-[16px] focus:outline-none focus:ring-2 focus:ring-slate-900 resize-none h-20",value:h.address,onChange:v=>T("address",v.target.value)})]}),n.jsx(ne,{label:"Logo URL",placeholder:"https://...",value:h.logoUrl,onChange:v=>T("logoUrl",v.target.value)})]}),n.jsxs("div",{className:"pt-4 border-t border-border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(zi,{className:"w-5 h-5 text-info"}),n.jsx("h3",{className:"font-bold text-foreground",children:" (Document Footer)"})]}),n.jsxs("div",{className:"space-y-4 bg-muted/30 p-4 rounded-2xl border border-border",children:[n.jsx(ne,{label:"1. ",placeholder:" 30 ",value:h.pdf?.priceValidity||"",onChange:v=>M("priceValidity",v.target.value)}),n.jsx(ne,{label:"2. ",placeholder:"  50%...",value:h.pdf?.paymentTerms||"",onChange:v=>M("paymentTerms",v.target.value)}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-1 block",children:"3.  ()"}),n.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl text-[16px] focus:outline-none focus:ring-2 focus:ring-slate-900 resize-none h-24",placeholder:" ...",value:h.pdf?.notes?.join(`
`)||"",onChange:v=>C(v.target.value)})]})]})]})]}):n.jsxs("div",{className:"space-y-5 animate-fade-in",children:[n.jsxs("div",{className:"flex items-center justify-between bg-muted/30 p-4 rounded-xl border border-border",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-bold text-foreground",children:""}),n.jsx("span",{className:"text-xs text-muted-foreground",children:""})]}),n.jsx(Bt,{checked:h.bankAccount?.isEnabled!==!1,onCheckedChange:v=>A("isEnabled",v)})]}),n.jsxs("div",{className:K("space-y-4 transition-opacity",h.bankAccount?.isEnabled===!1&&"opacity-50 pointer-events-none"),children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(ne,{label:"",placeholder:" , SCB",value:h.bankAccount?.bankName||"",onChange:v=>A("bankName",v.target.value)}),n.jsx(ne,{label:" ()",value:h.bankAccount?.branch||"",onChange:v=>A("branch",v.target.value)})]}),n.jsx(ne,{label:"",placeholder:"...",value:h.bankAccount?.accountName||"",onChange:v=>A("accountName",v.target.value)}),n.jsx(ne,{label:"",placeholder:"XXX-X-XXXXX-X",className:"font-mono",value:h.bankAccount?.accountNumber||"",onChange:v=>A("accountNumber",v.target.value)})]})]})}),n.jsxs("div",{className:"flex justify-between mt-4 pt-4 border-t border-border",children:[n.jsxs(oe,{variant:"ghost",onClick:w,className:"text-destructive hover:bg-destructive/10 hover:text-destructive",children:[n.jsx(Ua,{className:"w-4 h-4 mr-2"}),""]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(oe,{variant:"ghost",onClick:o,children:""}),n.jsxs(oe,{onClick:y,className:"bg-primary text-primary-foreground w-32",children:[n.jsx(Zs,{className:"w-4 h-4 mr-2"})," "]})]})]})]})},Cj=[],Ej=s=>{const o=se(h=>h.favorites[s]||Cj),u=se(h=>h.fabricCosts),c=se(h=>h.addFavorite),d=se(h=>h.updateFavorite),m=se(h=>h.removeFavorite);return{items:j.useMemo(()=>o.map(h=>({...h,cost_per_yard:u[h.code]||0})),[o,u]),addItem:h=>c(s,h),updateItem:(h,g)=>d(s,h,g),removeItem:h=>m(s,h)}},Up=768,Fx=()=>{const[s,o]=j.useState(()=>typeof window>"u"?!1:window.innerWidth<Up);return j.useEffect(()=>{const u=()=>{o(window.innerWidth<Up)};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),s},Tj=({item:s,onClick:o})=>n.jsxs("button",{onClick:o,className:"w-full text-left bg-card p-4 rounded-xl border border-border shadow-sm active:scale-[0.98] transition-all flex justify-between items-center group relative overflow-hidden","aria-label":` ${s.code}`,children:[n.jsxs("div",{className:"flex-1 min-w-0 pr-4 flex flex-col gap-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-mono font-bold text-base text-foreground truncate",children:s.code}),s.note&&n.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded text-muted-foreground truncate max-w-[120px]",children:s.note})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex items-center gap-1",children:n.jsx("span",{className:"text-base font-bold text-emerald-600 dark:text-emerald-400",children:He(s.default_price_per_m)})}),$(s.cost_per_yard)>0&&n.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground/70",children:["( ",He(s.cost_per_yard),")"]})]})]}),n.jsx("div",{className:"flex flex-col items-end justify-center h-full text-muted-foreground/30 group-hover:text-primary transition-colors",children:n.jsx(_i,{className:"w-5 h-5"})})]}),Bp=({data:s,setData:o,onSave:u,onCancel:c,isEdit:d})=>{const m=Fx();return n.jsxs("div",{className:K("bg-card border border-border rounded-xl shadow-lg animate-in zoom-in-95 duration-200",m?"p-4":"p-6"),children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[n.jsx(Ou,{className:"w-4 h-4 text-primary"}),d?"":""]}),m&&n.jsx("button",{onClick:c,className:"p-1 rounded-full hover:bg-muted","aria-label":"",children:n.jsx(Hn,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(ne,{label:" (Code)",value:s.code,onChange:p=>o({...s,code:p.target.value}),className:"font-mono text-lg font-bold",autoFocus:!d,placeholder:": C1001"}),n.jsxs("div",{className:K("grid gap-3",m?"grid-cols-1":"grid-cols-2"),children:[n.jsx(ne,{label:" (Default Price)",type:"number",value:s.price,onChange:p=>o({...s,price:p.target.value}),className:"text-emerald-600 font-bold",placeholder:"0.00"}),n.jsx(ne,{label:" (Cost)",type:"number",value:s.cost_per_yard,onChange:p=>o({...s,cost_per_yard:p.target.value}),placeholder:"0.00",className:"text-rose-600"})]}),n.jsx(ne,{label:" (Note)",value:s.note,onChange:p=>o({...s,note:p.target.value}),placeholder:" ()"}),n.jsxs("div",{className:K("flex gap-2 pt-4",m?"flex-col":"flex-row"),children:[n.jsx(oe,{variant:"ghost",className:m?"w-full":"flex-1",onClick:c,children:""}),n.jsxs(oe,{className:m?"w-full":"flex-1",onClick:u,children:[n.jsx(Zs,{className:"w-4 h-4 mr-2"})," "]})]})]})]})},Aj=({isOpen:s,onClose:o})=>{const{favorites:u,addFavorite:c,updateFavorite:d,importFavorites:m,updateUnifiedCost:p}=se(),h=at(ae=>ae.addToast),g=Fx(),[N,_]=j.useState(me.CURTAIN_MAIN),[y,w]=j.useState(""),[T,M]=j.useState(null),[C,A]=j.useState(!1),[v,L]=j.useState({code:"",price:"",cost_per_yard:"",note:""}),X=j.useRef(null);j.useEffect(()=>{s||(w(""),M(null),A(!1),L({code:"",price:"",cost_per_yard:"",note:""}))},[s]);const{items:D}=Ej(N),b=(D||[]).filter(ae=>ae.code.toLowerCase().includes(y.toLowerCase())||ae.note?.toLowerCase().includes(y.toLowerCase())),z=ae=>{M(ae.id),A(!1),L({code:ae.code,price:ae.default_price_per_m.toString(),cost_per_yard:ae.cost_per_yard?.toString()||"",note:ae.note||""}),g&&X.current&&(X.current.scrollTop=0)},O=()=>{A(!0),M(null),L({code:"",price:"",cost_per_yard:"",note:""}),X.current&&(X.current.scrollTop=0)},V=()=>{if(!v.code.trim())return h("error","");const ae={code:v.code.trim(),default_price_per_m:$(v.price),cost_per_yard:$(v.cost_per_yard),note:v.note.trim()};C?(c(N,ae),h("success",""),A(!1),L({code:"",price:"",cost_per_yard:"",note:""})):T&&(d(N,T,ae),$(v.cost_per_yard)>0&&p(v.code.trim(),$(v.cost_per_yard)),h("success",""),M(null))},Q=j.useRef(null),J=()=>{try{const ae=JSON.stringify({favorites:u},null,2),Ce=new Blob([ae],{type:"application/json"}),Y=URL.createObjectURL(Ce),H=document.createElement("a");H.href=Y,H.download=`marnthara_inventory_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(Y),h("success","")}catch{h("error","")}},re=()=>Q.current?.click(),xe=ae=>{const Ce=ae.target.files?.[0];if(!Ce)return;if(Ce.size>5*1024*1024){h("error"," ( 5MB)"),ae.target.value="";return}const Y=new FileReader;Y.onload=H=>{try{const W=H.target?.result;m(W)?h("success",""):h("error","")}catch{h("error","")}},Y.onerror=()=>{h("error","")},Y.readAsText(Ce),ae.target.value=""},te=[{id:me.CURTAIN_MAIN,label:" ()"},{id:me.CURTAIN_SHEER,label:""},{id:me.WALLPAPER,label:""}];return n.jsx(It,{isOpen:s,onClose:o,title:"",variant:"fullscreen",children:n.jsxs("div",{className:K("flex flex-col h-full",g?"p-0":"p-1"),children:[n.jsxs("div",{className:K("bg-background border-b border-border space-y-3 z-10 shadow-sm sticky top-0",g?"p-4":"p-6 pb-4"),children:[n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 scrollbar-hide",children:te.map(ae=>n.jsx("button",{onClick:()=>{_(ae.id),A(!1),M(null)},className:K("px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition-all border",N===ae.id?"bg-primary text-primary-foreground border-primary shadow-sm":"bg-muted text-muted-foreground border-transparent hover:bg-muted/80"),children:ae.label},ae.id))}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Hl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx("input",{type:"text",placeholder:" / ...",value:y,onChange:ae=>w(ae.target.value),className:"w-full h-10 pl-9 pr-4 rounded-lg bg-muted/50 border-none focus:ring-2 focus:ring-primary/20 text-sm","aria-label":""})]}),n.jsxs(Si,{as:"div",className:"relative",children:[n.jsx(Ci,{className:"h-10 w-10 flex items-center justify-center rounded-lg border border-border hover:bg-muted","aria-label":"",children:n.jsx(Ei,{className:"w-5 h-5 text-muted-foreground"})}),n.jsx(xa,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:n.jsxs(Ti,{className:"absolute right-0 mt-2 w-48 bg-popover rounded-xl shadow-xl border border-border focus:outline-none z-50 p-1",children:[n.jsx(At,{children:({active:ae})=>n.jsxs("button",{onClick:O,className:K("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",ae?"bg-muted":""),children:[n.jsx(kn,{className:"w-4 h-4"})," "]})}),n.jsx("div",{className:"h-px bg-border my-1"}),n.jsx(At,{children:({active:ae})=>n.jsxs("button",{onClick:J,className:K("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",ae?"bg-muted":""),children:[n.jsx(Rv,{className:"w-4 h-4"}),"  (Backup)"]})}),n.jsx(At,{children:({active:ae})=>n.jsxs("button",{onClick:re,className:K("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",ae?"bg-muted":""),children:[n.jsx(Xs,{className:"w-4 h-4"}),"  (Restore)"]})})]})})]}),n.jsx("input",{type:"file",ref:Q,className:"hidden",accept:".json",onChange:xe,"aria-label":""})]})]}),n.jsxs("div",{ref:X,className:K("flex-1 overflow-y-auto bg-muted/10",g?"p-4 space-y-3":"p-6 space-y-4"),children:[C&&n.jsx(Bp,{data:v,setData:L,onSave:V,onCancel:()=>A(!1),isEdit:!1}),b.length===0&&!C?n.jsxs("div",{className:"flex flex-col items-center justify-center h-full min-h-[300px] text-muted-foreground",children:[n.jsx(Hl,{className:"w-12 h-12 mb-4 opacity-50"}),n.jsx("p",{className:"text-lg font-medium",children:""}),n.jsx("p",{className:"text-sm text-center mt-1",children:y?"":" +"}),!y&&n.jsxs(oe,{variant:"outline",className:"mt-4",onClick:O,children:[n.jsx(kn,{className:"w-4 h-4 mr-2"})," "]})]}):b.map(ae=>n.jsx(P.Fragment,{children:T===ae.id?n.jsx(Bp,{data:v,setData:L,onSave:V,onCancel:()=>M(null),isEdit:!0,hasCost:$(ae.cost_per_yard)>0}):n.jsx(Tj,{item:ae,onClick:()=>z(ae)})},ae.id)),n.jsx("div",{className:g?"h-20":"h-10"})]})]})})},Dj=({isOpen:s,onClose:o})=>{const u=se(v=>v.discount),c=se(v=>v.setDiscount),d=se(v=>v.shopConfig),m=se(v=>v.updateShopConfig),{grandTotal:p}=ki(),{trigger:h}=ml(),[g,N]=j.useState(u.is_enabled??u.value>0),[_,y]=j.useState(u.type),[w,T]=j.useState(u.value===0?"":u.value.toString()),M=()=>{h("selection");const v=$(w);if(v>0&&p>0)if(_==="amount"){const L=v/p*100;T(L.toFixed(2))}else{const L=v*p/100;T(L.toFixed(0))}y(L=>L==="amount"?"percent":"amount")},C=()=>{h("success"),c({type:_,value:$(w),is_enabled:g}),o()},A=(()=>{const v=$(w);let L=0;g&&v>0&&(L=_==="percent"?p*v/100:v);const X=Math.max(0,p-L),D=d.baseVatRate>0?X*d.baseVatRate/100:0;return{discountAmt:L,afterDiscount:X,vatAmt:D,netTotal:X+D}})();return n.jsx(It,{isOpen:s,onClose:o,title:" &  (Discount & Tax)",variant:"drawer",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:K("relative overflow-hidden rounded-2xl border transition-all duration-300",g?"bg-success/10 border-success/30":"bg-muted/40 border-border"),children:n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:K("p-2 rounded-lg",g?"bg-success/20 text-success":"bg-muted text-muted-foreground"),children:n.jsx(Zp,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:K("font-semibold text-sm",g?"text-success-foreground":"text-foreground"),children:""}),n.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Apply Discount"})]})]}),n.jsx(Bt,{checked:g,onCheckedChange:v=>{h("light"),N(v)}})]}),n.jsxs("div",{className:K("transition-all duration-300 grid grid-cols-[1fr_auto] gap-2",g?"opacity-100 translate-y-0":"opacity-30 pointer-events-none translate-y-2"),children:[n.jsxs("div",{className:"relative",children:[n.jsx(ne,{type:"number",inputMode:"decimal",placeholder:"0.00",value:w,onChange:v=>T(v.target.value),className:"pr-12 text-lg font-mono font-bold text-success border-success/30 focus:border-success"}),n.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs font-bold text-success/70 pointer-events-none",children:_==="percent"?"%":"THB"})]}),n.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 rounded-xl bg-card border border-success/30 shadow-sm text-success hover:bg-success/10 active:scale-95 transition-all",children:[_==="percent"?n.jsx(Xh,{className:"w-4 h-4"}):n.jsx(Mv,{className:"w-4 h-4"}),n.jsx(Ov,{className:"w-3 h-3 opacity-50"})]})]})]})}),n.jsx("div",{className:"rounded-2xl border border-border bg-card p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-info/10 text-info",children:n.jsx(Xh,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-sm text-foreground",children:" (VAT 7%)"}),n.jsx("div",{className:"text-[10px] text-muted-foreground",children:""})]})]}),n.jsx(Bt,{checked:d.baseVatRate>0,onCheckedChange:v=>{h("light"),m({baseVatRate:v?7:0})}})]})}),n.jsxs("div",{className:"bg-primary text-primary-foreground/80 rounded-2xl p-5 space-y-3 shadow-xl shadow-primary/10",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:""}),n.jsx("span",{className:"font-mono text-primary-foreground",children:He(p)})]}),g&&A.discountAmt>0&&n.jsxs("div",{className:"flex justify-between text-sm text-success animate-fade-in font-medium",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Ru,{className:"w-3 h-3"}),"  (",_==="percent"?`${w}%`:"",")"]}),n.jsxs("span",{className:"font-mono font-bold",children:["-",He(A.discountAmt)]})]}),A.vatAmt>0&&n.jsxs("div",{className:"flex justify-between text-sm text-info animate-fade-in font-medium",children:[n.jsx("span",{children:"VAT 7%"}),n.jsxs("span",{className:"font-mono font-bold",children:["+",He(A.vatAmt)]})]}),n.jsx("div",{className:"h-px bg-primary-foreground/10 my-2"}),n.jsxs("div",{className:"flex justify-between items-end",children:[n.jsx("span",{className:"text-primary-foreground font-medium",children:" (Net Total)"}),n.jsx("span",{className:"text-2xl font-bold text-primary-foreground tracking-tight font-mono",children:He(A.netTotal)})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(oe,{variant:"ghost",onClick:o,className:"h-12",children:""}),n.jsx(oe,{onClick:C,className:"h-12 bg-primary text-primary-foreground shadow-xl shadow-primary/20 hover:bg-primary/90",children:""})]})]})})},Rj=({isOpen:s,onClose:o,roomId:u})=>{const c=se(v=>v.rooms.find(L=>L.id===u)),d=se(v=>v.updateRoomDefaults),m=c?.room_defaults||{},[p,h]=j.useState(String(m.width_m||"")),[g,N]=j.useState(String(m.height_m||"")),[_,y]=j.useState(String(m.default_fabric_price||"")),[w,T]=j.useState(String(m.default_wallpaper_price||"")),[M,C]=j.useState(String(m.default_blind_price||"")),A=()=>{u&&d(u,{width_m:p,height_m:g,default_fabric_price:_,default_wallpaper_price:w,default_blind_price:M}),o()};return n.jsx(It,{isOpen:s,onClose:o,title:"",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(ne,{label:" (.)",value:p,onChange:v=>h(v.target.value)}),n.jsx(ne,{label:" (.)",value:g,onChange:v=>N(v.target.value)}),n.jsxs("div",{className:"pt-2 border-t border-slate-100",children:[n.jsx("h4",{className:"text-sm font-medium text-slate-900 mb-2",children:" (Defaults)"}),n.jsx(ne,{label:" (/.)",value:_,onChange:v=>y(v.target.value)}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[n.jsx(ne,{label:" (/)",value:w,onChange:v=>T(v.target.value)}),n.jsx(ne,{label:" (/..)",value:M,onChange:v=>C(v.target.value)})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx(oe,{variant:"ghost",onClick:o,children:""}),n.jsxs(oe,{onClick:A,className:"gap-2",children:[n.jsx(Zs,{className:"w-4"})," "]})]})]})})},Mj=({isOpen:s,onClose:o})=>{const{resetProject:u,factoryReset:c,importFavorites:d,importSecrets:m}=se(),p=at(b=>b.addToast),{confirm:h}=hl(),[g,N]=j.useState(""),[_,y]=j.useState(!1),[w,T]=j.useState(""),[M,C]=j.useState("favorites"),A=()=>{try{const b=se.getState(),z={customer:b.customer,rooms:b.rooms,shopConfig:b.shopConfig,discount:b.discount,favorites:b.favorites,production:{laborCosts:b.laborCosts,accessoryCosts:b.accessoryCosts,fabricCosts:b.fabricCosts},version:"1.0.0",exportDate:new Date().toISOString()},O=new Blob([JSON.stringify(z,null,2)],{type:"application/json"}),V=URL.createObjectURL(O),Q=document.createElement("a");Q.href=V;const J=new Date,re=J.toISOString().slice(0,10)+"-"+J.getHours().toString().padStart(2,"0")+J.getMinutes().toString().padStart(2,"0");Q.download=`mtr-backup-${re}.json`,document.body.appendChild(Q),Q.click(),document.body.removeChild(Q),p("success","Backup ")}catch(b){console.error(b),p("error"," Backup")}},v=b=>{const z=b.target.files?.[0];if(!z)return;const O=new FileReader;O.onload=V=>{try{const Q=JSON.parse(V.target?.result);se.setState(Q),Q.production&&se.setState(J=>({...J,laborCosts:Q.production.laborCosts||J.laborCosts,accessoryCosts:Q.production.accessoryCosts||J.accessoryCosts,fabricCosts:Q.production.fabricCosts||J.fabricCosts})),p("success",""),o()}catch{p("error"," ")}},O.readAsText(z)},L=()=>{if(!w.trim()){p("warning"," JSON");return}try{let b=!1;M==="favorites"?(b=d(w),b&&(p("success",""),T(""))):(b=m(w),b&&(p("success",""),T(""))),b?o():p("error"," JSON ")}catch(b){console.error("Import error:",b),p("error","")}},X=async()=>{await h({title:"?",description:'  ""  "" ',confirmLabel:"",variant:"default"})&&(u(),p("success",""),o())},D=async()=>{if(g!=="RESET")return;await h({title:" (Factory Reset)?",description:" , ,  ! ?",confirmLabel:"",variant:"destructive"})&&(c(),p("success",""),o())};return n.jsx(It,{isOpen:s,onClose:o,title:" (Data Management)",maxWidth:"lg",children:n.jsxs("div",{className:"space-y-6 pb-safe-area",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h3",{className:"text-sm font-bold text-muted-foreground uppercase tracking-wider flex items-center gap-2",children:[n.jsx(zv,{className:"w-4 h-4"})," "]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs(oe,{variant:"outline",onClick:A,className:"h-auto py-4 flex flex-col gap-2 border-border hover:bg-primary/5 hover:border-primary/20 hover:text-primary",children:[n.jsx("div",{className:"p-2 bg-primary/10 text-primary rounded-full",children:n.jsx(ex,{className:"w-5 h-5"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-bold text-foreground",children:"Backup"}),n.jsx("div",{className:"text-xs text-muted-foreground font-normal",children:" .json"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsxs(oe,{variant:"outline",onClick:()=>document.getElementById("data-importer")?.click(),className:"w-full h-full py-4 flex flex-col gap-2 border-border hover:bg-success/5 hover:border-success/20 hover:text-success",children:[n.jsx("div",{className:"p-2 bg-success/10 text-success rounded-full",children:n.jsx(Xs,{className:"w-5 h-5"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-bold text-foreground",children:"Restore"}),n.jsx("div",{className:"text-xs text-muted-foreground font-normal",children:" .json"})]})]}),n.jsx("input",{type:"file",id:"data-importer",className:"hidden",accept:".json,application/json",onChange:v})]})]})]}),n.jsx("div",{className:"h-px bg-border my-2"}),n.jsxs("div",{className:"bg-warning/5 border border-warning/20 rounded-2xl p-5 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Xs,{className:"w-5 h-5 text-warning"}),n.jsx("h4",{className:"font-bold text-foreground",children:" (JSON)"})]}),n.jsxs("div",{className:"flex border-b border-warning/20",children:[n.jsx("button",{className:K("flex-1 py-2 text-sm font-medium border-b-2 transition-colors",M==="favorites"?"border-warning text-warning":"border-transparent text-muted-foreground hover:text-foreground"),onClick:()=>C("favorites"),children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(ql,{className:"w-4 h-4"})," (Favorites)"]})}),n.jsx("button",{className:K("flex-1 py-2 text-sm font-medium border-b-2 transition-colors",M==="cost"?"border-warning text-warning":"border-transparent text-muted-foreground hover:text-foreground"),onClick:()=>C("cost"),children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx($p,{className:"w-4 h-4"})," (Cost)"]})})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:M==="favorites"?" JSON  (Favorites) ":" JSON  (Labor, Accessory, Fabric)"}),n.jsx("textarea",{className:`w-full h-32 p-3 text-sm font-mono border border-warning/20 rounded-lg 
                       focus:outline-none focus:ring-2 focus:ring-warning focus:border-transparent
                       bg-background resize-none text-foreground`,placeholder:` JSON ${M==="favorites"?"":""} ...`,value:w,onChange:b=>T(b.target.value)}),n.jsxs(oe,{onClick:L,className:`w-full bg-warning hover:bg-warning/90 text-white 
                     shadow-lg shadow-warning/20`,disabled:!w.trim(),children:[n.jsx(Xs,{className:"w-4 h-4 mr-2"})," ",M==="favorites"?"":""]})]}),n.jsx("div",{className:"h-px bg-border my-2"}),n.jsx("div",{className:"bg-info/10 border border-info/20 rounded-2xl p-5 space-y-3",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-3 bg-card rounded-xl shadow-sm border border-info/20",children:n.jsx(Lv,{className:"w-6 h-6 text-info"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-bold text-foreground",children:" (New Project)"}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1 leading-relaxed",children:[" ",n.jsx("br",{}),n.jsx("span",{className:"text-info font-medium text-xs bg-info/20 px-1.5 py-0.5 rounded",children:""})," ",""]}),n.jsx(oe,{onClick:X,className:"mt-4 bg-info hover:bg-info/90 text-white shadow-lg shadow-info/20 w-full sm:w-auto",children:""})]})]})}),n.jsx("div",{className:"pt-4",children:_?n.jsxs("div",{className:"border border-destructive/30 bg-destructive/5 rounded-2xl p-5 animate-fade-in",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3 text-destructive font-bold",children:[n.jsx(Qs,{className:"w-5 h-5"})," (Danger Zone)"]}),n.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[" ",n.jsx("strong",{children:'"Factory Reset"'}),"   ()"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase",children:' "RESET" '}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:g,onChange:b=>N(b.target.value),placeholder:"RESET",className:"flex-1 px-4 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-destructive font-mono uppercase placeholder:text-muted-foreground"}),n.jsxs(oe,{disabled:g!=="RESET",variant:"destructive",onClick:D,className:"whitespace-nowrap",children:[n.jsx(Uu,{className:"w-4 h-4 mr-2"})," "]})]})]})]}):n.jsxs("button",{onClick:()=>y(!0),className:"w-full py-3 text-xs font-medium text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded-lg transition-all border border-dashed border-border hover:border-destructive/30 flex items-center justify-center gap-2",children:[n.jsx(Ua,{className:"w-3 h-3"})," ()"]})})]})})},Oj=s=>{const{width:o=0,height:u=0}=s,m=o>0&&u>0?Math.min(80/o,80/u):1,p=o*m||50,h=u*m||50,g=(100-p)/2,N=(90-h)/2;return{x:g,y:N,w:p,h}},zj=(s,o)=>{const u=s.style==="";let c="";if(u){const p=o.h/4;for(let h=0;h<4;h++)c+=`<rect x="${o.x}" y="${o.y+h*p}" width="${o.w}" height="${p-1}" fill="#e2e8f0" stroke="#94a3b8" stroke-width="0.5" />`}else{c=`<rect x="${o.x}" y="${o.y}" width="${o.w}" height="${o.h}" fill="#f1f5f9" stroke="#cbd5e1" rx="2" />`;for(let m=1;m<4;m++)c+=`<path d="M${o.x+o.w/4*m} ${o.y} L${o.x+o.w/4*m} ${o.y+o.h}" stroke="#e2e8f0" stroke-width="1" />`}return`<rect x="${o.x-2}" y="${o.y-2}" width="${o.w+4}" height="2" fill="#64748b" />`+c},Lj=(s,o)=>{const u=`<pattern id="p-${s.wallpaper_code}" width="4" height="4" patternUnits="userSpaceOnUse">
      <path d="M0 4L4 0M-1 1L1 -1M3 5L5 3" stroke="#cbd5e1" stroke-width="0.5"/>
  </pattern>`,c=`<rect x="${o.x}" y="${o.y}" width="${o.w}" height="${o.h}" fill="url(#p-${s.wallpaper_code})" stroke="#94a3b8" />`;return`<defs>${u}</defs>${c}`},Uj=(s,o)=>{const c=o.h/8;let d="";for(let p=0;p<8;p++)d+=`<line x1="${o.x}" y1="${o.y+p*c}" x2="${o.x+o.w}" y2="${o.y+p*c}" stroke="#cbd5e1" stroke-width="1" />`;return`<rect x="${o.x}" y="${o.y}" width="${o.w}" height="${o.h}" fill="none" stroke="#94a3b8" stroke-width="1" />`+d},Bj=s=>{if(s.type===I.REMOVAL||s.is_suspended)return'<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="20" fill="#f1f5f9"/><path d="M40 60 L60 40 M40 40 L60 60" stroke="#cbd5e1" stroke-width="2"/></svg>';let o=0,u=0;"width_m"in s&&"height_m"in s?(o=$(s.width_m),u=$(s.height_m)):s.type===I.WALLPAPER&&(o=3,u=2.6);const c=Oj({width:o,height:u});let d="";return s.type===I.CURTAIN?d=zj(s,c):s.type===I.WALLPAPER?d=Lj(s,c):d=Uj(s,c),`<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">${d}</svg>`},kj=P.forwardRef((s,o)=>{const{shopConfig:u,rooms:c}=se(p=>p),d=new Date().toLocaleDateString("th-TH",{dateStyle:"long"}),m=p=>({__html:Bj(p)});return n.jsxs("div",{ref:o,className:"w-[210mm] min-h-[297mm] bg-white p-[15mm] mx-auto text-slate-900 relative flex flex-col font-sans",children:[n.jsxs("div",{className:"flex justify-between items-end border-b-2 border-slate-800 pb-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:u.name||"Marnthara"}),n.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[": ",d]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-xl font-bold",children:"LOOKBOOK"}),n.jsx("div",{className:"text-sm text-slate-500",children:""})]})]}),n.jsx("div",{className:"grid grid-cols-2 gap-6 content-start",children:c.map(p=>p.items.length===0?null:p.items.map((h,g)=>{if(h.is_suspended)return null;let N=Yl[h.type]?.name||"",_="";const y=[];if(h.type===I.CURTAIN){const w=h;N=`${w.style||""} (${w.fabric_variant})`,w.code&&y.push(`: ${w.code}`),w.sheer_code&&y.push(`: ${w.sheer_code}`),w.bracket_color&&y.push(`: ${w.bracket_color}`),_=`${mt(w.width_m)} x ${mt(w.height_m)} .`}else if(h.type===I.WALLPAPER){const w=h;N="",w.wallpaper_code&&y.push(`: ${w.wallpaper_code}`),_=`${w.widths.length}  ( ${mt(w.height_m)} .)`}else if([I.WOODEN_BLIND,I.ROLLER_BLIND,I.VERTICAL_BLIND,I.ALUMINUM_BLIND,I.PARTITION,I.PLEATED_SCREEN].includes(h.type)){const w=h;w.code&&y.push(`: ${w.code}`),_=`${mt(w.width_m)} x ${mt(w.height_m)} .`,h.type===I.WOODEN_BLIND?N=`${w.fabric_variant||""}`:h.type===I.ROLLER_BLIND?N=` (${w.fabric_variant||""})`:h.type===I.PARTITION?N=` (${w.opening_style||""})`:h.type===I.PLEATED_SCREEN&&(N=` (${w.opening_style||""})`),w.adjustment_side&&y.push(w.adjustment_side)}else h.type===I.REMOVAL&&(N=h.description||"");return n.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden flex bg-white break-inside-avoid",children:[n.jsx("div",{className:"w-1/2 bg-slate-50 flex items-center justify-center p-2 min-h-[140px]",dangerouslySetInnerHTML:m(h)}),n.jsxs("div",{className:"w-1/2 p-3 flex flex-col relative",children:[n.jsxs("div",{className:"inline-block self-start px-2 py-0.5 bg-slate-100 text-[10px] font-bold text-slate-500 rounded mb-1",children:[" ",p.name]}),n.jsx("div",{className:"font-bold text-sm text-slate-900 leading-tight mb-1",children:N}),n.jsx("div",{className:"text-sm font-mono font-bold text-slate-800 border-b border-dashed border-slate-300 pb-1 mb-2",children:_}),n.jsx("ul",{className:"text-xs text-slate-600 space-y-1",children:y.map((w,T)=>n.jsxs("li",{className:"truncate",children:[" ",w]},T))}),h.notes&&n.jsxs("div",{className:"mt-auto pt-1 text-[10px] text-orange-600 line-clamp-2",children:[" ",h.notes]})]})]},`${p.id}-${h.id}-${g}`)}))}),n.jsx("div",{className:"mt-auto pt-8 text-center text-[10px] text-slate-400",children:" Marnthara QOL   1/1"})]})}),Hj=({isOpen:s,onClose:o})=>{const u=se(h=>h.rooms),c=j.useRef(null),[d,m]=j.useState(!1),p=Zx.useReactToPrint({contentRef:c,documentTitle:`QC_Lookbook_${new Date().toISOString().split("T")[0]}`,onBeforeGetContent:()=>(m(!0),Promise.resolve()),onAfterPrint:()=>m(!1)});return n.jsxs(It,{isOpen:s,onClose:o,title:"Lookbook /  (Preview)",maxWidth:"2xl",children:[n.jsx("div",{className:"space-y-6 pb-safe-area",children:u.map(h=>n.jsxs("div",{className:"bg-muted/20 rounded-2xl p-4 border border-border",children:[n.jsxs("h3",{className:"font-bold text-foreground mb-3 flex items-center gap-2",children:[" ",h.name]}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:h.items.filter(g=>!g.is_suspended).map(g=>n.jsxs("div",{className:"bg-card p-3 rounded-xl border border-border shadow-sm flex flex-col",children:[n.jsx("div",{className:"aspect-[4/3] bg-muted/30 rounded-lg mb-2 flex items-center justify-center overflow-hidden relative",children:n.jsx("div",{className:"text-xs text-muted-foreground",children:"Preview"})}),n.jsxs("div",{className:"mt-auto",children:[n.jsxs("div",{className:"flex justify-between items-start mb-1",children:[n.jsx("span",{className:"font-semibold text-sm text-card-foreground",children:Yl[g.type]?.name}),"width_m"in g&&n.jsxs("div",{className:"bg-primary text-primary-foreground text-xs font-mono px-1.5 py-0.5 rounded",children:[mt(g.width_m),"  ",mt(g.height_m)]})]}),n.jsxs("div",{className:"text-xs text-muted-foreground space-y-1 mt-auto",children:["fabric_variant"in g&&n.jsxs("div",{children:[" /: ",g.fabric_variant]}),"code"in g&&g.code&&n.jsxs("div",{children:[" : ",n.jsx("span",{className:"font-mono font-bold",children:g.code})]}),"adjustment_side"in g&&n.jsxs("div",{children:[" : ",g.adjustment_side]}),g.notes&&n.jsxs("div",{className:"text-warning mt-1",children:[" ",g.notes]})]})]})]},g.id))})]},h.id))}),n.jsxs("div",{className:"flex justify-end pt-4 border-t border-border",children:[n.jsx(oe,{onClick:o,children:""}),n.jsx(oe,{onClick:()=>p(),disabled:d,className:"ml-2 bg-primary text-primary-foreground",children:d?"...":" Lookbook"})]}),n.jsx("div",{style:{display:"none"},children:n.jsx("div",{ref:c,children:n.jsx(kj,{})})})]})},qj=({isOpen:s,onClose:o})=>{const u=se(g=>g.rooms),{openModal:c}=se(),{finalTotal:d}=ki(),m=u.map(g=>({...g,items:g.items.filter(N=>!N.is_suspended),total:g.items.filter(N=>!N.is_suspended).reduce((N,_)=>N+ht.calculatePrice(_),0)})).filter(g=>g.items.length>0),p=m.reduce((g,N)=>g+N.items.length,0),h=g=>g.type==="curtain"&&"width_m"in g?`${mt(g.width_m)}${mt(g.height_m)} | ${g.style}`:"width_m"in g&&"height_m"in g?`${mt(g.width_m)}${mt(g.height_m)}`:"";return n.jsxs(It,{isOpen:s,onClose:o,title:" (Project Overview)",maxWidth:"md",children:[n.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl p-6 mb-6 shadow-lg relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full blur-2xl"}),n.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[n.jsx("span",{className:"text-slate-300 text-sm font-medium mb-1",children:""}),n.jsx("span",{className:"text-4xl font-bold font-mono tracking-tight",children:He(d)}),n.jsxs("div",{className:"flex gap-4 mt-4 text-xs text-slate-400",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(wu,{className:"w-3 h-3"})," ",m.length," "]}),n.jsx("div",{className:"w-px h-3 bg-slate-700"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(yi,{className:"w-3 h-3"})," ",p," "]})]})]})]}),n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"font-bold text-slate-700",children:[" (",p,")"]}),n.jsxs(oe,{size:"sm",onClick:()=>c("costDashboard"),className:"bg-slate-900 text-white shadow-lg shadow-indigo-500/20",children:[n.jsx(Yu,{className:"w-4 h-4 mr-2"})," & "]})]}),n.jsxs("div",{className:"space-y-4 pb-safe-area",children:[n.jsxs("div",{className:"bg-muted/30 p-4 rounded-2xl border border-border flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wider",children:""}),n.jsx("div",{className:"text-3xl font-bold text-foreground font-mono tracking-tight mt-1",children:He(d)})]}),n.jsxs("div",{className:"text-right text-xs text-muted-foreground",children:[n.jsxs("div",{children:[p," "]}),n.jsxs("div",{children:[m.length," "]})]})]}),m.map(g=>n.jsxs("div",{className:"border border-border rounded-xl overflow-hidden",children:[n.jsxs("div",{className:"bg-muted/50 px-4 py-2 border-b border-border flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wu,{className:"w-4 h-4 text-slate-400"}),n.jsx("span",{className:"font-bold text-foreground",children:g.name})]}),n.jsx("span",{className:"font-mono font-bold text-muted-foreground text-sm",children:He(g.total)})]}),n.jsx("div",{className:"divide-y divide-slate-100 dark:divide-border/50 bg-white dark:bg-card",children:g.items.map((N,_)=>n.jsxs("div",{className:"px-4 py-2 flex justify-between items-baseline hover:bg-muted/30 transition-colors",children:[n.jsx("div",{className:"flex-1 min-w-0 pr-4",children:n.jsxs("div",{className:"flex items-baseline gap-2",children:[n.jsxs("span",{className:"text-[10px] font-bold text-muted-foreground min-w-[20px]",children:["#",_+1]}),n.jsx("span",{className:"text-sm font-medium text-foreground truncate",children:Yl[N.type]?.name}),n.jsxs("span",{className:"text-xs text-muted-foreground truncate font-mono",children:["(",h(N),")"]})]})}),n.jsx("div",{className:"text-sm text-muted-foreground font-mono shrink-0",children:He(ht.calculatePrice(N))})]},N.id))})]},g.id)),m.length===0&&n.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:""})]}),n.jsx("div",{className:"flex justify-end pt-4 border-t border-slate-100",children:n.jsx(oe,{onClick:o,className:"w-full sm:w-auto min-w-[120px]",children:""})})]})},Yj={document:{light:"bg-primary/5 text-primary border-primary/10 hover:bg-primary/10 hover:border-primary/20 shadow-sm",dark:"bg-primary/10 text-primary-foreground border-primary/20 hover:bg-primary/20",iconLight:"bg-primary/10 text-primary",iconDark:"bg-primary/20 text-primary-foreground"},creative:{light:"bg-secondary text-secondary-foreground border-border hover:bg-secondary/80 shadow-sm",dark:"bg-secondary/50 text-secondary-foreground border-border hover:bg-secondary/70",iconLight:"bg-background text-foreground",iconDark:"bg-background text-foreground"},system:{light:"bg-muted text-foreground border-border hover:bg-muted/80",dark:"bg-muted/50 text-muted-foreground border-border hover:bg-muted/70",iconLight:"bg-background text-muted-foreground",iconDark:"bg-background text-muted-foreground"}},Xj=({isOpen:s,onClose:o,onOpenPdf:u,onOpenLookbook:c,onOpenCustomer:d,onOpenShopSettings:m,onOpenDiscount:p,onOpenData:h,onOpenFavorites:g,onOpenProductionSettings:N,onOpenCostDashboard:_})=>{const{theme:y,toggleTheme:w}=lx(),{trigger:T}=ml(),M=[{title:" & ",items:[{icon:zi,label:" (PDF)",description:" / ",onClick:u,theme:"document"},{icon:Hv,label:"Lookbook",description:"",onClick:c,theme:"creative"}]},{title:"",items:[{icon:qv,label:"",description:"  ",onClick:d,theme:"system"},{icon:yi,label:" (Catalog)",description:"",onClick:g,theme:"system"},{icon:Yv,label:" (Backup)",description:"Export / Import ",onClick:h,theme:"system"}]},{title:"",items:[{icon:Xv,label:"",description:"  ",onClick:m,theme:"system"},{icon:Vv,label:" (Admin)",description:"  ",onClick:N,theme:"system"},{icon:Yu,label:"Cost Dashboard",description:"",onClick:_,theme:"system"},{icon:Ba,label:" & VAT",description:"",onClick:p,theme:"system"}]}],C=({icon:A,label:v,description:L,onClick:X,themeConfig:D,currentTheme:b})=>{const z=Yj[D],O=b==="dark"?z.dark:z.light,V=b==="dark"?z.iconDark:z.iconLight;return n.jsxs("button",{onClick:()=>{T("selection"),X()},className:K("group w-full flex items-center gap-4 p-3 rounded-2xl border transition-all duration-200 active:scale-[0.98] text-left",O),children:[n.jsx("div",{className:K("w-10 h-10 rounded-xl flex items-center justify-center shrink-0 transition-colors",V),children:n.jsx(A,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-semibold text-sm",children:v}),n.jsx("div",{className:"text-xs opacity-70 truncate",children:L})]}),n.jsx(_i,{className:"w-4 h-4 opacity-30 group-hover:opacity-100 transition-opacity"})]})};return n.jsx(It,{isOpen:s,onClose:o,title:" (Main Menu)",variant:"drawer",children:n.jsxs("div",{className:"space-y-6 pb-safe-area",children:[n.jsx("div",{className:"relative overflow-hidden rounded-2xl bg-primary p-0.5 shadow-lg",children:n.jsxs("button",{onClick:()=>{T("medium"),w()},className:"relative w-full flex items-center justify-between bg-black/20 backdrop-blur-xl p-4 rounded-[14px] text-white hover:bg-black/30 transition-all",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:n.jsx(Uv,{className:"w-5 h-5 text-warning"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-bold text-sm",children:"Appearance"}),n.jsx("div",{className:"text-xs text-white/70",children:y==="dark"?"Dark Mode (Active)":"Light Mode (Active)"})]})]}),n.jsx("div",{className:K("w-10 h-10 rounded-full flex items-center justify-center transition-all duration-500",y==="dark"?"bg-slate-800 text-slate-200 rotate-0":"bg-white text-warning rotate-180"),children:y==="dark"?n.jsx(Bv,{className:"w-4 h-4",strokeWidth:2.5}):n.jsx(kv,{className:"w-4 h-4",strokeWidth:2.5,fill:"currentColor"})})]})}),n.jsx("div",{className:"space-y-6",children:M.map(A=>n.jsxs("div",{className:"space-y-3 animate-fade-in",children:[n.jsx("h3",{className:"text-[11px] font-bold uppercase tracking-widest text-muted-foreground px-2",children:A.title}),n.jsx("div",{className:"grid gap-3",children:A.items.map(v=>n.jsx(C,{icon:v.icon,label:v.label,description:v.description,onClick:v.onClick,themeConfig:v.theme,currentTheme:y},v.label))})]},A.title))}),n.jsx("div",{className:"text-center pt-4",children:n.jsx("p",{className:"text-[10px] text-muted-foreground font-mono",children:"Marnthara Smart Quotation v6.6.4 (Stable)"})})]})})},Vj=[{id:"labor",label:" (Labor)",icon:Ip},{id:"accessories",label:" (Accessory)",icon:Wp},{id:"fabrics",label:" (Fabric)",icon:Lu}],kp={rail_wave:" ()",rail_pleated:" ( M)",rail_eyelet:" ()",rail_roman:" ()",rail_rod:" ()",rail_louis:"/ ",eyelet_ring:"",tape_wave:"/",install_point:" ()",install_min:" ()",transport_base:"/"},Gj=({isOpen:s,onClose:o})=>{const{laborCosts:u,accessoryCosts:c,fabricCosts:d,favorites:m,updateLaborCost:p,updateAccessoryCost:h,updateFabricCost:g,removeAccessoryCost:N,removeFabricCost:_,exportSecrets:y,importSecrets:w}=se(),T=at(H=>H.addToast),[M,C]=j.useState("labor"),[A,v]=j.useState(""),[L,X]=j.useState(!0),[D,b]=j.useState(null),[z,O]=j.useState({code:"",cost:"",unit:"",note:"",priceRef:""}),[V,Q]=j.useState(!1),J=j.useRef(null),re=j.useMemo(()=>{let H=[];if(M==="labor"?H=Object.entries(u).map(([W,ue])=>({key:W,name:W,cost:ue.rate,unit:ue.unit,note:` ${ue.min_price}`,priceRef:0})):M==="accessories"?H=Object.entries(c).map(([W,ue])=>({key:W,name:kp[W]||W,cost:ue,note:kp[W]?W:"",priceRef:0})):H=Object.entries(d).map(([W,ue])=>{let Ne=0,Qe="";return Object.values(m).flat().forEach(Re=>{Re.code===W&&(Ne=Re.default_price_per_m,Qe=Re.note||"")}),{key:W,name:W,cost:ue,note:Qe,priceRef:Ne}}),A){const W=A.toLowerCase();H=H.filter(ue=>ue.key.toLowerCase().includes(W)||ue.name.toLowerCase().includes(W))}return H.sort((W,ue)=>W.name.localeCompare(ue.name))},[M,u,c,d,A,m]),xe=H=>{L||(b(H.key),O({code:H.key,cost:H.cost.toString(),unit:H.unit||"",note:H.note||"",priceRef:H.priceRef?H.priceRef.toString():""}),Q(!1))},te=()=>{const H=parseFloat(z.cost);if(!z.code||isNaN(H)){T("error"," ");return}M==="labor"?p(z.code,{rate:H,unit:z.unit||"meter",min_price:0}):M==="accessories"?(D&&z.code!==D&&N(D),h(z.code,H)):(D&&z.code!==D&&_(D),g(z.code,H)),b(null),Q(!1),T("success","")},ae=H=>{confirm(` "${H}"?`)&&(M==="accessories"?(N(H),T("success","")):M==="fabrics"?(_(H),T("success","")):T("warning","  ( 0 )"),b(null))},Ce=H=>{const W=H.target.files?.[0];if(W){const ue=new FileReader;ue.onload=Ne=>{const Qe=Ne.target?.result;w(Qe)?T("success",""):T("error","")},ue.readAsText(W)}H.target.value=""},Y=H=>n.jsx("div",{className:"p-3 rounded-lg border transition-all bg-card border-primary shadow-md ring-1 ring-primary/20 animate-in fade-in zoom-in-95 duration-200 mb-2",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1.5 w-full",children:[n.jsx("label",{className:"text-[15px] font-medium text-foreground ml-1",children:M==="labor"?"":" / "}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{className:"flex h-12 w-full rounded-xl border px-4 py-2 text-[16px] focus:outline-none focus:ring-2 focus:ring-ring bg-background text-foreground border-input focus:border-primary pr-10",value:z.code,onChange:W=>O({...z,code:W.target.value}),placeholder:M==="labor"?" ":"",autoFocus:!H}),z.code&&n.jsx("button",{type:"button",onClick:()=>O({...z,code:""}),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1.5 text-muted-foreground hover:text-foreground",children:n.jsx(Hn,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"space-y-1.5 w-full",children:[n.jsx("label",{className:"text-[15px] font-medium text-foreground ml-1",children:M==="labor"?" (Unit)":"Note"}),n.jsx("input",{className:"flex h-12 w-full rounded-xl border px-4 py-2 text-[16px] focus:outline-none bg-background text-foreground border-input focus:border-primary disabled:opacity-70 disabled:bg-muted/30",value:M==="labor"?z.unit:z.note,onChange:W=>M==="labor"?O({...z,unit:W.target.value}):null,disabled:M!=="labor",placeholder:M==="labor"?"meter":"-"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 p-3 bg-muted/30 rounded-lg",children:[n.jsxs("div",{className:"space-y-1.5 w-full",children:[n.jsxs("label",{className:"text-[15px] font-medium text-foreground ml-1",children:[" (Cost) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",className:"flex h-12 w-full rounded-xl border px-4 py-2 text-[16px] focus:outline-none focus:ring-2 focus:ring-ring bg-background border-input focus:border-primary text-amber-600 font-mono font-bold",value:z.cost,onChange:W=>O({...z,cost:W.target.value}),autoFocus:H}),n.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground text-xs",children:""})]})]}),n.jsxs("div",{className:"space-y-1.5 w-full",children:[n.jsx("label",{className:"text-[15px] font-medium text-foreground ml-1",children:" (Ref)"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{className:"flex h-12 w-full rounded-xl border px-4 py-2 text-[16px] bg-background disabled:bg-muted/30 disabled:opacity-70 border-input text-emerald-600 font-bold",value:z.priceRef?He(parseFloat(z.priceRef)):"-",disabled:!0}),n.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground text-xs",children:""})]})]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-border/50",children:[H?n.jsxs("button",{onClick:()=>ae(D),className:"inline-flex items-center justify-center h-8 px-3 text-xs rounded-lg text-red-500 hover:bg-red-50 border border-transparent transition-colors",children:[n.jsx(Qs,{className:"w-4 h-4 mr-1"})," "]}):n.jsx("div",{}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>{b(null),Q(!1)},className:"inline-flex items-center justify-center h-8 px-3 text-xs rounded-lg hover:bg-accent text-muted-foreground hover:text-foreground transition-colors",children:[n.jsx(Hn,{className:"w-4 h-4 mr-1"})," "]}),n.jsxs("button",{onClick:te,className:"inline-flex items-center justify-center h-8 px-3 text-xs rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm transition-colors",children:[n.jsx(Zs,{className:"w-4 h-4 mr-1"})," "]})]})]})]})});return n.jsxs(It,{isOpen:s,onClose:o,title:" (Vault)",maxWidth:"2xl",children:[n.jsx("input",{type:"file",ref:J,accept:".json,.key,.txt",className:"hidden",onChange:Ce}),n.jsxs("div",{className:"space-y-4 pb-safe-area h-[600px] flex flex-col",children:[n.jsxs("div",{className:"flex gap-2 items-center bg-card p-1.5 rounded-xl border border-border shadow-sm",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Hl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx("input",{type:"text",placeholder:"...",value:A,onChange:H=>v(H.target.value),className:"w-full pl-9 h-10 bg-muted/50 rounded-lg text-sm border-transparent focus:border-primary focus:ring-0"})]}),n.jsx(oe,{variant:L?"outline":"destructive",size:"icon",onClick:()=>{X(!L),b(null),Q(!1)},className:"w-10 h-10 shrink-0",title:L?"":"",children:L?n.jsx(Gv,{className:"w-4 h-4"}):n.jsx(Qv,{className:"w-4 h-4"})}),!L&&n.jsxs(oe,{onClick:()=>{Q(!0),b(null),O({code:"",cost:"",unit:"",note:"",priceRef:""})},className:"h-10 shrink-0 bg-primary text-primary-foreground shadow-sm px-3 flex items-center gap-1",children:[n.jsx(kn,{className:"w-5 h-5"}),n.jsx("span",{className:"hidden sm:inline font-medium",children:""})]}),n.jsxs(Si,{as:"div",className:"relative",children:[n.jsx(Ci,{as:oe,variant:"ghost",size:"icon",className:"w-10 h-10",children:n.jsx(Ei,{className:"w-5 h-5"})}),n.jsx(xa,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:n.jsxs(Ti,{className:"absolute right-0 mt-2 w-48 bg-popover border border-border rounded-xl shadow-lg z-50 p-1 focus:outline-none",children:[n.jsx(At,{children:({active:H})=>n.jsxs("button",{onClick:()=>J.current?.click(),className:K("flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm",H&&"bg-accent"),children:[n.jsx(Xs,{className:"w-4 h-4"}),"  (.json/.key)"]})}),n.jsx(At,{children:({active:H})=>n.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(y()),T("success","")},className:K("flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm",H&&"bg-accent"),children:[n.jsx(ex,{className:"w-4 h-4"}),"  (Copy)"]})})]})})]})]}),n.jsx("div",{className:"flex p-1 bg-muted rounded-xl shrink-0",children:Vj.map(H=>n.jsxs("button",{onClick:()=>{C(H.id),b(null),Q(!1)},className:K("flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium rounded-lg transition-all",M===H.id?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[n.jsx(H.icon,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:H.label})]},H.id))}),n.jsxs("div",{className:"flex-1 overflow-y-auto space-y-2 pr-1 border border-t-0 border-border rounded-b-lg p-1 bg-background",children:[V&&Y(!1),re.length===0&&!V&&n.jsxs("div",{className:"text-center py-10 text-muted-foreground opacity-60",children:[n.jsx(Hl,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:""})]}),re.map(H=>D===H.key?n.jsx("div",{children:Y(!0)},H.key):n.jsx("div",{className:"p-3 rounded-lg border transition-all bg-card border-border hover:border-primary/30 group",children:n.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[n.jsxs("div",{className:"col-span-7 sm:col-span-8 min-w-0",children:[n.jsx("div",{className:"font-bold text-sm truncate text-foreground",children:H.name}),n.jsx("div",{className:"text-[11px] text-muted-foreground truncate font-mono",children:M==="labor"?H.unit:H.note||H.key})]}),n.jsxs("div",{className:"col-span-3 sm:col-span-3 text-right flex flex-col justify-center min-w-0",children:[n.jsx("div",{className:"font-mono text-sm font-bold text-amber-600 dark:text-amber-500 leading-tight",children:He(H.cost)}),$(H.priceRef)>0&&n.jsx("div",{className:"text-[10px] text-emerald-600/70 dark:text-emerald-400/60 leading-tight",children:He(H.priceRef||0)})]}),n.jsx("div",{className:"col-span-2 sm:col-span-1 flex justify-end",children:!L&&n.jsx("button",{onClick:()=>xe(H),className:"p-2 rounded-lg bg-muted hover:bg-primary/10 text-muted-foreground hover:text-primary transition-colors flex items-center justify-center w-8 h-8",title:"",children:n.jsx(Ou,{className:"w-4 h-4"})})})]})},H.key))]})]})]})},Qj={analyze:s=>{const o=se.getState(),{fabricCosts:u,laborCosts:c,accessoryCosts:d}=o,m=ht.calculatePrice(s);let p=0,h=0,g=0,N=0,_=0;const y=0;let w=0,T="";if(Li(s)){if(T="",s.code){const D=u[s.code]||0,b=ji(s.style,$(s.width_m));h=b*D,w+=b}if(s.sheer_code&&(s.layer_mode==="double"||s.layer_mode==="sheer")){const D=u[s.sheer_code]||0;g=ji(s.style,$(s.width_m))*D}const v=$(s.width_m),L=d.rail_standard||120;_=v*L;const X=c[s.style]?.rate||60;N=v*X,p=h+g+N+_+y}else if(Ui(s)){T="";const v=s.wallpaper_code;if(v){const X=u[v]||0,D=s.widths.reduce((z,O)=>z+$(O),0),b=Math.ceil(D/Cu.ROLL_WIDTH_M);h=b*X,w=b}N=$(s.install_cost_per_roll)*w,p=h+N}else if(Bi(s)){if(T="..",s.code){const v=u[s.code]||0,X=$(s.width_m)*$(s.height_m)*1.2;h=X*v,w=X}p=h}const M=m-p;let C=0;m>0&&(C=M/m*100);let A="profit";return M<0?A="loss":C<20&&(A="warning"),{totalCost:p,sellingPrice:m,profitAmount:M,marginPercent:C,status:A,fabricCost:h,sheerCost:g,laborCost:N,railCost:_,accCost:y,usedQuantity:Number(w.toFixed(2)),unit:T}}},Zj=({isOpen:s,onClose:o})=>{const u=se(D=>D.rooms),c=se(D=>D.fabricCosts),d=se(D=>D.favorites),m=se(D=>D.updateUnifiedCost),[p,h]=j.useState({}),[g,N]=j.useState(!1),[_,y]=j.useState(""),w=j.useCallback(()=>{const D={};return u.forEach(b=>{b.is_suspended||b.items.forEach(z=>{if(z.is_suspended)return;let O="",V="curtain";if(Li(z)?(O=z.code||z.sheer_code||"No Code",V="curtain"):Ui(z)?(O=z.wallpaper_code||"No Code",V="wallpaper"):Bi(z)&&(O=z.code||"No Code",V="blind"),O==="No Code")return;const Q=Qj.analyze(z);D[O]||(D[O]={code:O,totalQty:0,unit:Q.unit,usageCount:0,itemIds:[],type:V,avgCost:0,avgPrice:0,totalRevenue:0,totalCost:0,profit:0,margin:0,status:"profit"});const J=D[O];J.totalQty+=Q.usedQuantity,J.usageCount+=1,J.itemIds.push(z.id),J.totalRevenue+=Q.sellingPrice;const re=p[O]!==void 0?p[O]:c[O]||0;J.totalCost+=re*Q.usedQuantity+(Q.laborCost||0)+(Q.accCost||0)+(Q.railCost||0),J.avgCost=re})}),Object.values(D).map(b=>(b.profit=b.totalRevenue-b.totalCost,b.margin=b.totalRevenue>0?b.profit/b.totalRevenue*100:0,b.profit<0?b.status="loss":b.margin<20?b.status="warning":b.status="profit",b)).sort(b=>b.status==="loss"?-1:1)},[u,c,p]),T=j.useMemo(()=>s?w():[],[s,w]),M=(D,b)=>{const z=$(b);h(O=>({...O,[D]:z})),N(!0)},C=()=>{Object.entries(p).forEach(([D,b])=>{m(D,b)}),h({}),N(!1)},A=()=>{h({}),N(!1)},v=j.useMemo(()=>T.filter(D=>D.code.toLowerCase().includes(_.toLowerCase())),[T,_]),L=j.useMemo(()=>T.reduce((D,b)=>({revenue:D.revenue+b.totalRevenue,cost:D.cost+b.totalCost,profit:D.profit+b.profit}),{revenue:0,cost:0,profit:0}),[T]),X=L.revenue>0?L.profit/L.revenue*100:0;return n.jsx(It,{isOpen:s,onClose:o,title:" (Cost Intelligence)",maxWidth:"2xl",children:n.jsxs("div",{className:"flex flex-col h-[80vh] bg-muted/10 -m-5 sm:-m-6",children:[n.jsxs("div",{className:"bg-card border-b border-border p-4 shadow-sm z-10",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{className:"p-3 bg-success/10 rounded-xl border border-success/20 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-success font-bold uppercase",children:" (Net Profit)"}),n.jsx("div",{className:"text-2xl font-bold text-success font-mono",children:He(L.profit)})]}),n.jsx("div",{className:"h-10 w-10 bg-success/20 rounded-full flex items-center justify-center",children:n.jsx(Yu,{className:"w-6 h-6 text-success"})})]}),n.jsxs("div",{className:"p-3 bg-muted/50 rounded-xl border border-border flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-muted-foreground font-bold uppercase",children:"Margin "}),n.jsxs("div",{className:K("text-2xl font-bold font-mono",X<20?"text-warning":"text-foreground"),children:[X.toFixed(1),"%"]})]}),n.jsx("div",{className:"h-10 w-10 bg-muted rounded-full flex items-center justify-center",children:n.jsx(Zv,{className:"w-6 h-6 text-muted-foreground"})})]})]}),n.jsxs("div",{className:"flex gap-2 items-center",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Hl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx("input",{type:"text",placeholder:"/...",value:_,onChange:D=>y(D.target.value),className:"w-full pl-9 pr-4 py-2 bg-muted/50 border border-transparent focus:border-primary rounded-lg text-sm focus:ring-2 focus:ring-primary/20 outline-none text-foreground placeholder:text-muted-foreground transition-all"})]}),g&&n.jsxs("div",{className:"flex gap-2 animate-fade-in",children:[n.jsxs(oe,{size:"sm",variant:"ghost",onClick:A,className:"text-muted-foreground hover:text-foreground",children:[n.jsx(Uu,{className:"w-4 h-4 mr-1"})," "]}),n.jsxs(oe,{size:"sm",onClick:C,className:"bg-success hover:bg-success/90 text-white shadow-lg shadow-success/20",children:[n.jsx(Zs,{className:"w-4 h-4 mr-1"})," "]})]})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:v.length===0?n.jsxs("div",{className:"text-center py-10 text-muted-foreground",children:[n.jsx(Hl,{className:"w-10 h-10 mx-auto mb-2 opacity-20"}),n.jsx("p",{children:""})]}):v.map(D=>{const b=p[D.code]!==void 0,z=D.avgCost>0,O=D.type==="curtain"?me.CURTAIN_MAIN:D.type==="wallpaper"?me.WALLPAPER:"",V=O&&d[O]?.some(Q=>Q.code===D.code);return n.jsxs("div",{className:K("bg-card rounded-xl border p-3 shadow-sm transition-all",D.status==="loss"?"border-red-200 shadow-red-100":"border-border hover:border-success/30"),children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:K("h-10 w-10 rounded-lg flex items-center justify-center text-white shadow-sm",D.type==="curtain"?"bg-brand-curtain":D.type==="wallpaper"?"bg-brand-wallpaper":"bg-brand-blind"),children:D.type==="curtain"?n.jsx(Lu,{className:"w-5 h-5"}):D.type==="wallpaper"?n.jsx(ku,{className:"w-5 h-5"}):n.jsx(Hu,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsxs("div",{className:"font-bold text-card-foreground text-base flex items-center gap-2",children:[D.code,V&&n.jsx("span",{className:"text-[10px] bg-warning/20 text-warning px-1.5 py-0.5 rounded-full",children:"Fav"})]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[" ",D.totalQty.toFixed(2)," ",D.unit," ( ",D.usageCount," ",")"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:K("font-bold font-mono text-lg",D.profit<0?"text-destructive":"text-success"),children:[D.profit>0?"+":"",He(D.profit)]}),n.jsx("div",{className:"text-[10px] text-muted-foreground",children:""})]})]}),n.jsxs("div",{className:"bg-muted/30 rounded-lg p-2 mt-2 flex items-center justify-between border border-border",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[!z&&n.jsx(Ua,{className:"w-3 h-3 text-warning animate-pulse"}),n.jsxs("span",{children:["/",D.unit,":"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"relative",children:n.jsx("input",{type:"number",value:b?p[D.code]:D.avgCost||"",onChange:Q=>M(D.code,Q.target.value),placeholder:"0.00",className:K("w-24 text-right font-bold text-lg bg-transparent border-b-2 focus:outline-none rounded px-1 transition-all","text-foreground placeholder:text-muted-foreground/50",b?"border-warning text-warning":"border-transparent hover:border-border focus:border-primary")})}),n.jsx("div",{className:K("text-[10px] mt-1 font-medium",D.margin<0?"text-destructive":D.margin<20?"text-warning":"text-success"),children:z?`Margin ${D.margin.toFixed(1)}%`:""})]})]})]},D.code)})}),g&&n.jsxs("div",{className:"flex items-center gap-2 text-warning-foreground text-xs bg-warning/10 p-3 rounded-lg border border-warning/20 animate-fade-in shadow-sm mx-4 mb-4",children:[n.jsx(Ua,{className:"w-4 h-4 shrink-0 text-warning"}),n.jsxs("span",{children:["  ",n.jsx("strong",{children:'""'})," ",""]})]})]})})},Fj=()=>{const{activeModal:s,modalProps:o,closeModal:u,openModal:c,addItem:d,updateItem:m}=se(),p=at(L=>L.addToast),h=L=>s===L,g=L=>{const{roomId:X,mode:D,itemId:b}=o;X&&(D==="edit"&&b?(m(X,b,L),p("success","")):(d(X,L),p("success","")),u())},N=()=>c("pdf"),_=()=>c("lookbook"),y=()=>c("customer"),w=()=>c("shopSettings"),T=()=>c("discount"),M=()=>c("data"),C=()=>c("favoriteManager"),A=()=>c("productionSettings"),v=()=>c("costDashboard");return s?n.jsxs(n.Fragment,{children:[n.jsx(bj,{isOpen:h("item"),onClose:u,roomId:o.roomId,itemId:o.itemId,itemType:o.itemType,initialData:o.initialData,mode:o.mode,onSubmit:g}),n.jsx(yj,{isOpen:h("customer"),onClose:u}),n.jsx(_j,{isOpen:h("pdf"),onClose:u}),n.jsx(Sj,{isOpen:h("shopSettings"),onClose:u}),n.jsx(Aj,{isOpen:h("favoriteManager"),onClose:u}),n.jsx(Dj,{isOpen:h("discount"),onClose:u},h("discount")?"discount-open":"discount-closed"),n.jsx(Mj,{isOpen:h("data"),onClose:u}),n.jsx(Hj,{isOpen:h("lookbook"),onClose:u}),n.jsx(qj,{isOpen:h("projectOverview"),onClose:u}),n.jsx(Rj,{isOpen:h("roomDefaults"),onClose:u,roomId:o.roomId},o.roomId||"defaults"),n.jsx(Gj,{isOpen:h("productionSettings"),onClose:u}),n.jsx(Zj,{isOpen:h("costDashboard"),onClose:u}),n.jsx(Xj,{isOpen:h("mainMenu"),onClose:u,onOpenPdf:N,onOpenLookbook:_,onOpenCustomer:y,onOpenShopSettings:w,onOpenDiscount:T,onOpenData:M,onOpenFavorites:C,onOpenProductionSettings:A,onOpenCostDashboard:v})]}):null};function Kj(){const s=se(T=>T.rooms),o=se(T=>T.openModal),u=se(T=>T.favorites),c=se(T=>T.fabricCosts),d=se(T=>T.batchUpdateFabricCosts),m=lx(T=>T.theme);j.useEffect(()=>{document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(m)},[m]);const p=j.useRef(!1);j.useEffect(()=>{if(p.current)return;const T={};let M=!1;Object.values(u).flat().forEach(C=>{C.cost_per_yard&&C.cost_per_yard>0&&(c[C.code]||(T[C.code]=C.cost_per_yard,M=!0))}),M&&(console.log(" System: Migrating legacy costs to vault...",T),d(T)),p.current=!0},[u,c,d]);const h=()=>o("mainMenu"),g=()=>o("discount"),N=()=>o("projectOverview"),_=T=>{o("item",{mode:"add",roomId:T,itemType:I.CURTAIN})},y=(T,M)=>{o("item",{mode:"edit",roomId:T,itemId:M.id,itemType:M.type,initialData:M})},w=T=>{o("roomDefaults",{roomId:T})};return n.jsxs(n.Fragment,{children:[n.jsx(jb,{onOpenMainMenu:h,onOpenDiscount:g,onOpenOverview:N,children:s.length>0?n.jsx(Sb,{rooms:s,onAddItem:_,onEditItem:y,onOpenDefaults:w}):n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center space-y-4 animate-fade-in",children:[n.jsx("div",{className:"w-20 h-20 bg-muted rounded-full flex items-center justify-center mb-2",children:n.jsx("span",{className:"text-4xl",children:""})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-foreground",children:""}),n.jsx("p",{className:"text-muted-foreground",children:" + "})]})]})}),n.jsx(Fj,{}),n.jsx(Eb,{}),n.jsx(Tb,{})]})}const Kx=()=>{document.documentElement.style.setProperty("--app-height",`${window.innerHeight}px`)};window.addEventListener("resize",Kx);Kx();sb.createRoot(document.getElementById("root")).render(n.jsx(j.StrictMode,{children:n.jsx(Kj,{})}));
