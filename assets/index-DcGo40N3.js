import{r as Q,C as Si,L as I0,S as rl,P as $s,H as uo,M as P0,l as wi,f as Ci,E as Ai,K as Gt,y as Ti,g as ut,a as ep,b as oh,c as xo,d as uh,T as Ws,X as Fs,e as po,h as oa,i as ji,j as bo,k as dh,m as tp,n as fh,o as ap,I as lp,p as Wl,q as Ei,O as Ba,z as Mi,Q as go,s as mh,t as sp,u as np,B as ip,v as cp,U as rp,w as op,x as vo,A as ol,D as up,F as yo,R as cl,G as dp,J as Di,N as jo,V as zi,W as fp,Y as hh,Z as No,_ as Oi,$ as ua,a0 as mp,a1 as xh,a2 as _o,a3 as ph,a4 as bh,a5 as So,a6 as gh,a7 as vh,a8 as hp,a9 as xp,aa as yh,ab as pp,ac as bp,ad as Ri,ae as gp,af as jh,ag as vp,ah as yp,ai as jp,aj as Np,ak as Is,al as _p,am as Ks,an as Mm,ao as Sp,ap as wp,aq as Cp,ar as Nh,as as Ap,at as wo,au as Tp,av as Ep,aw as Mp,ax as Dp,ay as zp,az as Op,aA as Rp,aB as Lp,aC as Up,aD as Bp,aE as Hp}from"./vendor-ui-BLtMPGoG.js";import{r as qp,a as kp}from"./vendor-react-OvXVS5lI.js";import{c as Co,t as Yp,a as Xp,b as Qp}from"./vendor-utils-4mUFsAbv.js";import{r as Gp}from"./vendor-print-BoE_OzAc.js";(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))r(m);new MutationObserver(m=>{for(const h of m)if(h.type==="childList")for(const b of h.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&r(b)}).observe(document,{childList:!0,subtree:!0});function d(m){const h={};return m.integrity&&(h.integrity=m.integrity),m.referrerPolicy&&(h.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?h.credentials="include":m.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(m){if(m.ep)return;m.ep=!0;const h=d(m);fetch(m.href,h)}})();var so={exports:{}},Vs={};var Dm;function Vp(){if(Dm)return Vs;Dm=1;var c=Symbol.for("react.transitional.element"),u=Symbol.for("react.fragment");function d(r,m,h){var b=null;if(h!==void 0&&(b=""+h),m.key!==void 0&&(b=""+m.key),"key"in m){h={};for(var x in m)x!=="key"&&(h[x]=m[x])}else h=m;return m=h.ref,{$$typeof:c,type:r,key:b,ref:m!==void 0?m:null,props:h}}return Vs.Fragment=u,Vs.jsx=d,Vs.jsxs=d,Vs}var zm;function Zp(){return zm||(zm=1,so.exports=Vp()),so.exports}var s=Zp(),no={exports:{}},Zs={},io={exports:{}},co={};var Om;function Jp(){return Om||(Om=1,(function(c){function u(U,L){var I=U.length;U.push(L);e:for(;0<I;){var oe=I-1>>>1,ye=U[oe];if(0<m(ye,L))U[oe]=L,U[I]=ye,I=oe;else break e}}function d(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var L=U[0],I=U.pop();if(I!==L){U[0]=I;e:for(var oe=0,ye=U.length,He=ye>>>1;oe<He;){var Ae=2*(oe+1)-1,je=U[Ae],Ve=Ae+1,Bt=U[Ve];if(0>m(je,I))Ve<ye&&0>m(Bt,je)?(U[oe]=Bt,U[Ve]=I,oe=Ve):(U[oe]=je,U[Ae]=I,oe=Ae);else if(Ve<ye&&0>m(Bt,I))U[oe]=Bt,U[Ve]=I,oe=Ve;else break e}}return L}function m(U,L){var I=U.sortIndex-L.sortIndex;return I!==0?I:U.id-L.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;c.unstable_now=function(){return h.now()}}else{var b=Date,x=b.now();c.unstable_now=function(){return b.now()-x}}var g=[],C=[],M=1,S=null,_=3,D=!1,R=!1,H=!1,z=!1,y=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function Y(U){for(var L=d(C);L!==null;){if(L.callback===null)r(C);else if(L.startTime<=U)r(C),L.sortIndex=L.expirationTime,u(g,L);else break;L=d(C)}}function p(U){if(H=!1,Y(U),!R)if(d(g)!==null)R=!0,E||(E=!0,ze());else{var L=d(C);L!==null&&et(p,L.startTime-U)}}var E=!1,Z=-1,K=5,W=-1;function $(){return z?!0:!(c.unstable_now()-W<K)}function me(){if(z=!1,E){var U=c.unstable_now();W=U;var L=!0;try{e:{R=!1,H&&(H=!1,k(Z),Z=-1),D=!0;var I=_;try{t:{for(Y(U),S=d(g);S!==null&&!(S.expirationTime>U&&$());){var oe=S.callback;if(typeof oe=="function"){S.callback=null,_=S.priorityLevel;var ye=oe(S.expirationTime<=U);if(U=c.unstable_now(),typeof ye=="function"){S.callback=ye,Y(U),L=!0;break t}S===d(g)&&r(g),Y(U)}else r(g);S=d(g)}if(S!==null)L=!0;else{var He=d(C);He!==null&&et(p,He.startTime-U),L=!1}}break e}finally{S=null,_=I,D=!1}L=void 0}}finally{L?ze():E=!1}}}var ze;if(typeof F=="function")ze=function(){F(me)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Nt=se.port2;se.port1.onmessage=me,ze=function(){Nt.postMessage(null)}}else ze=function(){y(me,0)};function et(U,L){Z=y(function(){U(c.unstable_now())},L)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(U){U.callback=null},c.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<U?Math.floor(1e3/U):5},c.unstable_getCurrentPriorityLevel=function(){return _},c.unstable_next=function(U){switch(_){case 1:case 2:case 3:var L=3;break;default:L=_}var I=_;_=L;try{return U()}finally{_=I}},c.unstable_requestPaint=function(){z=!0},c.unstable_runWithPriority=function(U,L){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var I=_;_=U;try{return L()}finally{_=I}},c.unstable_scheduleCallback=function(U,L,I){var oe=c.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?oe+I:oe):I=oe,U){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=I+ye,U={id:M++,callback:L,priorityLevel:U,startTime:I,expirationTime:ye,sortIndex:-1},I>oe?(U.sortIndex=I,u(C,U),d(g)===null&&U===d(C)&&(H?(k(Z),Z=-1):H=!0,et(p,I-oe))):(U.sortIndex=ye,u(g,U),R||D||(R=!0,E||(E=!0,ze()))),U},c.unstable_shouldYield=$,c.unstable_wrapCallback=function(U){var L=_;return function(){var I=_;_=L;try{return U.apply(this,arguments)}finally{_=I}}}})(co)),co}var Rm;function Kp(){return Rm||(Rm=1,io.exports=Jp()),io.exports}var Lm;function Fp(){if(Lm)return Zs;Lm=1;var c=Kp(),u=qp(),d=kp();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function b(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(h(e)!==e)throw Error(r(188))}function C(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,l=t;;){var n=a.return;if(n===null)break;var i=n.alternate;if(i===null){if(l=n.return,l!==null){a=l;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===a)return g(n),e;if(i===l)return g(n),t;i=i.sibling}throw Error(r(188))}if(a.return!==l.return)a=n,l=i;else{for(var o=!1,f=n.child;f;){if(f===a){o=!0,a=n,l=i;break}if(f===l){o=!0,l=n,a=i;break}f=f.sibling}if(!o){for(f=i.child;f;){if(f===a){o=!0,a=i,l=n;break}if(f===l){o=!0,l=i,a=n;break}f=f.sibling}if(!o)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function M(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=M(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,_=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),F=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),me=Symbol.iterator;function ze(e){return e===null||typeof e!="object"?null:(e=me&&e[me]||e["@@iterator"],typeof e=="function"?e:null)}var se=Symbol.for("react.client.reference");function Nt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case y:return"Profiler";case z:return"StrictMode";case p:return"Suspense";case E:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case F:return e.displayName||"Context";case k:return(e._context.displayName||"Context")+".Consumer";case Y:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return t=e.displayName||null,t!==null?t:Nt(e.type)||"Memo";case K:t=e._payload,e=e._init;try{return Nt(e(t))}catch{}}return null}var et=Array.isArray,U=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},oe=[],ye=-1;function He(e){return{current:e}}function Ae(e){0>ye||(e.current=oe[ye],oe[ye]=null,ye--)}function je(e,t){ye++,oe[ye]=e.current,e.current=t}var Ve=He(null),Bt=He(null),da=He(null),Ps=He(null);function en(e,t){switch(je(da,t),je(Bt,e),je(Ve,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Pf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Pf(t),e=em(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ae(Ve),je(Ve,e)}function fl(){Ae(Ve),Ae(Bt),Ae(da)}function qi(e){e.memoizedState!==null&&je(Ps,e);var t=Ve.current,a=em(t,e.type);t!==a&&(je(Bt,e),je(Ve,a))}function tn(e){Bt.current===e&&(Ae(Ve),Ae(Bt)),Ps.current===e&&(Ae(Ps),Ys._currentValue=I)}var ki,To;function Ya(e){if(ki===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ki=t&&t[1]||"",To=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ki+e+To}var Yi=!1;function Xi(e,t){if(!e||Yi)return"";Yi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(O){var T=O}Reflect.construct(e,[],X)}else{try{X.call()}catch(O){T=O}e.call(X.prototype)}}else{try{throw Error()}catch(O){T=O}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(O){if(O&&T&&typeof O.stack=="string")return[O.stack,T.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=l.DetermineComponentFrameRoot(),o=i[0],f=i[1];if(o&&f){var v=o.split(`
`),A=f.split(`
`);for(n=l=0;l<v.length&&!v[l].includes("DetermineComponentFrameRoot");)l++;for(;n<A.length&&!A[n].includes("DetermineComponentFrameRoot");)n++;if(l===v.length||n===A.length)for(l=v.length-1,n=A.length-1;1<=l&&0<=n&&v[l]!==A[n];)n--;for(;1<=l&&0<=n;l--,n--)if(v[l]!==A[n]){if(l!==1||n!==1)do if(l--,n--,0>n||v[l]!==A[n]){var B=`
`+v[l].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=l&&0<=n);break}}}finally{Yi=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ya(a):""}function Eh(e,t){switch(e.tag){case 26:case 27:case 5:return Ya(e.type);case 16:return Ya("Lazy");case 13:return e.child!==t&&t!==null?Ya("Suspense Fallback"):Ya("Suspense");case 19:return Ya("SuspenseList");case 0:case 15:return Xi(e.type,!1);case 11:return Xi(e.type.render,!1);case 1:return Xi(e.type,!0);case 31:return Ya("Activity");default:return""}}function Eo(e){try{var t="",a=null;do t+=Eh(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Qi=Object.prototype.hasOwnProperty,Gi=c.unstable_scheduleCallback,Vi=c.unstable_cancelCallback,Mh=c.unstable_shouldYield,Dh=c.unstable_requestPaint,dt=c.unstable_now,zh=c.unstable_getCurrentPriorityLevel,Mo=c.unstable_ImmediatePriority,Do=c.unstable_UserBlockingPriority,an=c.unstable_NormalPriority,Oh=c.unstable_LowPriority,zo=c.unstable_IdlePriority,Rh=c.log,Lh=c.unstable_setDisableYieldValue,Pl=null,ft=null;function fa(e){if(typeof Rh=="function"&&Lh(e),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(Pl,e)}catch{}}var mt=Math.clz32?Math.clz32:Hh,Uh=Math.log,Bh=Math.LN2;function Hh(e){return e>>>=0,e===0?32:31-(Uh(e)/Bh|0)|0}var ln=256,sn=262144,nn=4194304;function Xa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function cn(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var f=l&134217727;return f!==0?(l=f&~i,l!==0?n=Xa(l):(o&=f,o!==0?n=Xa(o):a||(a=f&~e,a!==0&&(n=Xa(a))))):(f=l&~i,f!==0?n=Xa(f):o!==0?n=Xa(o):a||(a=l&~e,a!==0&&(n=Xa(a)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:n}function es(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function qh(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oo(){var e=nn;return nn<<=1,(nn&62914560)===0&&(nn=4194304),e}function Zi(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function ts(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function kh(e,t,a,l,n,i){var o=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var f=e.entanglements,v=e.expirationTimes,A=e.hiddenUpdates;for(a=o&~a;0<a;){var B=31-mt(a),X=1<<B;f[B]=0,v[B]=-1;var T=A[B];if(T!==null)for(A[B]=null,B=0;B<T.length;B++){var O=T[B];O!==null&&(O.lane&=-536870913)}a&=~X}l!==0&&Ro(e,l,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function Ro(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-mt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Lo(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-mt(a),n=1<<l;n&t|e[l]&t&&(e[l]|=t),a&=~n}}function Uo(e,t){var a=t&-t;return a=(a&42)!==0?1:Ji(a),(a&(e.suspendedLanes|t))!==0?0:a}function Ji(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ki(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Bo(){var e=L.p;return e!==0?e:(e=window.event,e===void 0?32:_m(e.type))}function Ho(e,t){var a=L.p;try{return L.p=e,t()}finally{L.p=a}}var ma=Math.random().toString(36).slice(2),Ke="__reactFiber$"+ma,lt="__reactProps$"+ma,ml="__reactContainer$"+ma,Fi="__reactEvents$"+ma,Yh="__reactListeners$"+ma,Xh="__reactHandles$"+ma,qo="__reactResources$"+ma,as="__reactMarker$"+ma;function $i(e){delete e[Ke],delete e[lt],delete e[Fi],delete e[Yh],delete e[Xh]}function hl(e){var t=e[Ke];if(t)return t;for(var a=e.parentNode;a;){if(t=a[ml]||a[Ke]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=cm(e);e!==null;){if(a=e[Ke])return a;e=cm(e)}return t}e=a,a=e.parentNode}return null}function xl(e){if(e=e[Ke]||e[ml]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ls(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function pl(e){var t=e[qo];return t||(t=e[qo]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ze(e){e[as]=!0}var ko=new Set,Yo={};function Qa(e,t){bl(e,t),bl(e+"Capture",t)}function bl(e,t){for(Yo[e]=t,e=0;e<t.length;e++)ko.add(t[e])}var Qh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xo={},Qo={};function Gh(e){return Qi.call(Qo,e)?!0:Qi.call(Xo,e)?!1:Qh.test(e)?Qo[e]=!0:(Xo[e]=!0,!1)}function rn(e,t,a){if(Gh(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function on(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Vt(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function _t(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Go(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Vh(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var n=l.get,i=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wi(e){if(!e._valueTracker){var t=Go(e)?"checked":"value";e._valueTracker=Vh(e,t,""+e[t])}}function Vo(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Go(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function un(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Zh=/[\n"\\]/g;function St(e){return e.replace(Zh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ii(e,t,a,l,n,i,o,f){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+_t(t)):e.value!==""+_t(t)&&(e.value=""+_t(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?Pi(e,o,_t(t)):a!=null?Pi(e,o,_t(a)):l!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.name=""+_t(f):e.removeAttribute("name")}function Zo(e,t,a,l,n,i,o,f){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Wi(e);return}a=a!=null?""+_t(a):"",t=t!=null?""+_t(t):a,f||t===e.value||(e.value=t),e.defaultValue=t}l=l??n,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=f?e.checked:!!l,e.defaultChecked=!!l,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),Wi(e)}function Pi(e,t,a){t==="number"&&un(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function gl(e,t,a,l){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&l&&(e[a].defaultSelected=!0)}else{for(a=""+_t(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,l&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Jo(e,t,a){if(t!=null&&(t=""+_t(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+_t(a):""}function Ko(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(r(92));if(et(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=_t(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Wi(e)}function vl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Jh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||Jh.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function $o(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var n in t)l=t[n],t.hasOwnProperty(n)&&a[n]!==l&&Fo(e,n,l)}else for(var i in t)t.hasOwnProperty(i)&&Fo(e,i,t[i])}function ec(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dn(e){return Fh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Zt(){}var tc=null;function ac(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yl=null,jl=null;function Wo(e){var t=xl(e);if(t&&(e=t.stateNode)){var a=e[lt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ii(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+St(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var n=l[lt]||null;if(!n)throw Error(r(90));Ii(l,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Vo(l)}break e;case"textarea":Jo(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&gl(e,!!a.multiple,t,!1)}}}var lc=!1;function Io(e,t,a){if(lc)return e(t,a);lc=!0;try{var l=e(t);return l}finally{if(lc=!1,(yl!==null||jl!==null)&&(In(),yl&&(t=yl,e=jl,jl=yl=null,Wo(t),e)))for(t=0;t<e.length;t++)Wo(e[t])}}function ss(e,t){var a=e.stateNode;if(a===null)return null;var l=a[lt]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sc=!1;if(Jt)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){sc=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{sc=!1}var ha=null,nc=null,fn=null;function Po(){if(fn)return fn;var e,t=nc,a=t.length,l,n="value"in ha?ha.value:ha.textContent,i=n.length;for(e=0;e<a&&t[e]===n[e];e++);var o=a-e;for(l=1;l<=o&&t[a-l]===n[i-l];l++);return fn=n.slice(e,1<l?1-l:void 0)}function mn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hn(){return!0}function eu(){return!1}function st(e){function t(a,l,n,i,o){this._reactName=a,this._targetInst=n,this.type=l,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(a=e[f],this[f]=a?a(i):i[f]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?hn:eu,this.isPropagationStopped=eu,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hn)},persist:function(){},isPersistent:hn}),t}var Ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xn=st(Ga),is=S({},Ga,{view:0,detail:0}),$h=st(is),ic,cc,cs,pn=S({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cs&&(cs&&e.type==="mousemove"?(ic=e.screenX-cs.screenX,cc=e.screenY-cs.screenY):cc=ic=0,cs=e),ic)},movementY:function(e){return"movementY"in e?e.movementY:cc}}),tu=st(pn),Wh=S({},pn,{dataTransfer:0}),Ih=st(Wh),Ph=S({},is,{relatedTarget:0}),rc=st(Ph),ex=S({},Ga,{animationName:0,elapsedTime:0,pseudoElement:0}),tx=st(ex),ax=S({},Ga,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lx=st(ax),sx=S({},Ga,{data:0}),au=st(sx),nx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ix={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cx[e])?!!t[e]:!1}function oc(){return rx}var ox=S({},is,{key:function(e){if(e.key){var t=nx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ix[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oc,charCode:function(e){return e.type==="keypress"?mn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ux=st(ox),dx=S({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lu=st(dx),fx=S({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oc}),mx=st(fx),hx=S({},Ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),xx=st(hx),px=S({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bx=st(px),gx=S({},Ga,{newState:0,oldState:0}),vx=st(gx),yx=[9,13,27,32],uc=Jt&&"CompositionEvent"in window,rs=null;Jt&&"documentMode"in document&&(rs=document.documentMode);var jx=Jt&&"TextEvent"in window&&!rs,su=Jt&&(!uc||rs&&8<rs&&11>=rs),nu=" ",iu=!1;function cu(e,t){switch(e){case"keyup":return yx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ru(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nl=!1;function Nx(e,t){switch(e){case"compositionend":return ru(t);case"keypress":return t.which!==32?null:(iu=!0,nu);case"textInput":return e=t.data,e===nu&&iu?null:e;default:return null}}function _x(e,t){if(Nl)return e==="compositionend"||!uc&&cu(e,t)?(e=Po(),fn=nc=ha=null,Nl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return su&&t.locale!=="ko"?null:t.data;default:return null}}var Sx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ou(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Sx[e.type]:t==="textarea"}function uu(e,t,a,l){yl?jl?jl.push(l):jl=[l]:yl=l,t=ni(t,"onChange"),0<t.length&&(a=new xn("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var os=null,us=null;function wx(e){Jf(e,0)}function bn(e){var t=ls(e);if(Vo(t))return e}function du(e,t){if(e==="change")return t}var fu=!1;if(Jt){var dc;if(Jt){var fc="oninput"in document;if(!fc){var mu=document.createElement("div");mu.setAttribute("oninput","return;"),fc=typeof mu.oninput=="function"}dc=fc}else dc=!1;fu=dc&&(!document.documentMode||9<document.documentMode)}function hu(){os&&(os.detachEvent("onpropertychange",xu),us=os=null)}function xu(e){if(e.propertyName==="value"&&bn(us)){var t=[];uu(t,us,e,ac(e)),Io(wx,t)}}function Cx(e,t,a){e==="focusin"?(hu(),os=t,us=a,os.attachEvent("onpropertychange",xu)):e==="focusout"&&hu()}function Ax(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bn(us)}function Tx(e,t){if(e==="click")return bn(t)}function Ex(e,t){if(e==="input"||e==="change")return bn(t)}function Mx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ht=typeof Object.is=="function"?Object.is:Mx;function ds(e,t){if(ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var n=a[l];if(!Qi.call(t,n)||!ht(e[n],t[n]))return!1}return!0}function pu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bu(e,t){var a=pu(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=pu(a)}}function gu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=un(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=un(e.document)}return t}function mc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Dx=Jt&&"documentMode"in document&&11>=document.documentMode,_l=null,hc=null,fs=null,xc=!1;function yu(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xc||_l==null||_l!==un(l)||(l=_l,"selectionStart"in l&&mc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fs&&ds(fs,l)||(fs=l,l=ni(hc,"onSelect"),0<l.length&&(t=new xn("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=_l)))}function Va(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Sl={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionrun:Va("Transition","TransitionRun"),transitionstart:Va("Transition","TransitionStart"),transitioncancel:Va("Transition","TransitionCancel"),transitionend:Va("Transition","TransitionEnd")},pc={},ju={};Jt&&(ju=document.createElement("div").style,"AnimationEvent"in window||(delete Sl.animationend.animation,delete Sl.animationiteration.animation,delete Sl.animationstart.animation),"TransitionEvent"in window||delete Sl.transitionend.transition);function Za(e){if(pc[e])return pc[e];if(!Sl[e])return e;var t=Sl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in ju)return pc[e]=t[a];return e}var Nu=Za("animationend"),_u=Za("animationiteration"),Su=Za("animationstart"),zx=Za("transitionrun"),Ox=Za("transitionstart"),Rx=Za("transitioncancel"),wu=Za("transitionend"),Cu=new Map,bc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bc.push("scrollEnd");function Rt(e,t){Cu.set(e,t),Qa(t,[e])}var gn=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wt=[],wl=0,gc=0;function vn(){for(var e=wl,t=gc=wl=0;t<e;){var a=wt[t];wt[t++]=null;var l=wt[t];wt[t++]=null;var n=wt[t];wt[t++]=null;var i=wt[t];if(wt[t++]=null,l!==null&&n!==null){var o=l.pending;o===null?n.next=n:(n.next=o.next,o.next=n),l.pending=n}i!==0&&Au(a,n,i)}}function yn(e,t,a,l){wt[wl++]=e,wt[wl++]=t,wt[wl++]=a,wt[wl++]=l,gc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function vc(e,t,a,l){return yn(e,t,a,l),jn(e)}function Ja(e,t){return yn(e,null,null,t),jn(e)}function Au(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var n=!1,i=e.return;i!==null;)i.childLanes|=a,l=i.alternate,l!==null&&(l.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-mt(a),e=i.hiddenUpdates,l=e[n],l===null?e[n]=[t]:l.push(t),t.lane=a|536870912),i):null}function jn(e){if(50<Rs)throw Rs=0,Tr=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Cl={};function Lx(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,t,a,l){return new Lx(e,t,a,l)}function yc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kt(e,t){var a=e.alternate;return a===null?(a=xt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Tu(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Nn(e,t,a,l,n,i){var o=0;if(l=e,typeof e=="function")yc(e)&&(o=1);else if(typeof e=="string")o=k0(e,a,Ve.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case W:return e=xt(31,a,t,n),e.elementType=W,e.lanes=i,e;case H:return Ka(a.children,n,i,t);case z:o=8,n|=24;break;case y:return e=xt(12,a,t,n|2),e.elementType=y,e.lanes=i,e;case p:return e=xt(13,a,t,n),e.elementType=p,e.lanes=i,e;case E:return e=xt(19,a,t,n),e.elementType=E,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:o=10;break e;case k:o=9;break e;case Y:o=11;break e;case Z:o=14;break e;case K:o=16,l=null;break e}o=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=xt(o,a,t,n),t.elementType=e,t.type=l,t.lanes=i,t}function Ka(e,t,a,l){return e=xt(7,e,l,t),e.lanes=a,e}function jc(e,t,a){return e=xt(6,e,null,t),e.lanes=a,e}function Eu(e){var t=xt(18,null,null,0);return t.stateNode=e,t}function Nc(e,t,a){return t=xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Mu=new WeakMap;function Ct(e,t){if(typeof e=="object"&&e!==null){var a=Mu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Eo(t)},Mu.set(e,t),t)}return{value:e,source:t,stack:Eo(t)}}var Al=[],Tl=0,_n=null,ms=0,At=[],Tt=0,xa=null,Ht=1,qt="";function Ft(e,t){Al[Tl++]=ms,Al[Tl++]=_n,_n=e,ms=t}function Du(e,t,a){At[Tt++]=Ht,At[Tt++]=qt,At[Tt++]=xa,xa=e;var l=Ht;e=qt;var n=32-mt(l)-1;l&=~(1<<n),a+=1;var i=32-mt(t)+n;if(30<i){var o=n-n%5;i=(l&(1<<o)-1).toString(32),l>>=o,n-=o,Ht=1<<32-mt(t)+n|a<<n|l,qt=i+e}else Ht=1<<i|a<<n|l,qt=e}function _c(e){e.return!==null&&(Ft(e,1),Du(e,1,0))}function Sc(e){for(;e===_n;)_n=Al[--Tl],Al[Tl]=null,ms=Al[--Tl],Al[Tl]=null;for(;e===xa;)xa=At[--Tt],At[Tt]=null,qt=At[--Tt],At[Tt]=null,Ht=At[--Tt],At[Tt]=null}function zu(e,t){At[Tt++]=Ht,At[Tt++]=qt,At[Tt++]=xa,Ht=t.id,qt=t.overflow,xa=e}var Fe=null,Me=null,pe=!1,pa=null,Et=!1,wc=Error(r(519));function ba(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hs(Ct(t,e)),wc}function Ou(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[Ke]=e,t[lt]=l,a){case"dialog":fe("cancel",t),fe("close",t);break;case"iframe":case"object":case"embed":fe("load",t);break;case"video":case"audio":for(a=0;a<Us.length;a++)fe(Us[a],t);break;case"source":fe("error",t);break;case"img":case"image":case"link":fe("error",t),fe("load",t);break;case"details":fe("toggle",t);break;case"input":fe("invalid",t),Zo(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":fe("invalid",t);break;case"textarea":fe("invalid",t),Ko(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||Wf(t.textContent,a)?(l.popover!=null&&(fe("beforetoggle",t),fe("toggle",t)),l.onScroll!=null&&fe("scroll",t),l.onScrollEnd!=null&&fe("scrollend",t),l.onClick!=null&&(t.onclick=Zt),t=!0):t=!1,t||ba(e,!0)}function Ru(e){for(Fe=e.return;Fe;)switch(Fe.tag){case 5:case 31:case 13:Et=!1;return;case 27:case 3:Et=!0;return;default:Fe=Fe.return}}function El(e){if(e!==Fe)return!1;if(!pe)return Ru(e),pe=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Qr(e.type,e.memoizedProps)),a=!a),a&&Me&&ba(e),Ru(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Me=im(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Me=im(e)}else t===27?(t=Me,Da(e.type)?(e=Kr,Kr=null,Me=e):Me=t):Me=Fe?Dt(e.stateNode.nextSibling):null;return!0}function Fa(){Me=Fe=null,pe=!1}function Cc(){var e=pa;return e!==null&&(rt===null?rt=e:rt.push.apply(rt,e),pa=null),e}function hs(e){pa===null?pa=[e]:pa.push(e)}var Ac=He(null),$a=null,$t=null;function ga(e,t,a){je(Ac,t._currentValue),t._currentValue=a}function Wt(e){e._currentValue=Ac.current,Ae(Ac)}function Tc(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function Ec(e,t,a,l){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var o=n.child;i=i.firstContext;e:for(;i!==null;){var f=i;i=n;for(var v=0;v<t.length;v++)if(f.context===t[v]){i.lanes|=a,f=i.alternate,f!==null&&(f.lanes|=a),Tc(i.return,a,e),l||(o=null);break e}i=f.next}}else if(n.tag===18){if(o=n.return,o===null)throw Error(r(341));o.lanes|=a,i=o.alternate,i!==null&&(i.lanes|=a),Tc(o,a,e),o=null}else o=n.child;if(o!==null)o.return=n;else for(o=n;o!==null;){if(o===e){o=null;break}if(n=o.sibling,n!==null){n.return=o.return,o=n;break}o=o.return}n=o}}function Ml(e,t,a,l){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var o=n.alternate;if(o===null)throw Error(r(387));if(o=o.memoizedProps,o!==null){var f=n.type;ht(n.pendingProps.value,o.value)||(e!==null?e.push(f):e=[f])}}else if(n===Ps.current){if(o=n.alternate,o===null)throw Error(r(387));o.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Ys):e=[Ys])}n=n.return}e!==null&&Ec(t,e,a,l),t.flags|=262144}function Sn(e){for(e=e.firstContext;e!==null;){if(!ht(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Wa(e){$a=e,$t=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return Lu($a,e)}function wn(e,t){return $a===null&&Wa(e),Lu(e,t)}function Lu(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},$t===null){if(e===null)throw Error(r(308));$t=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else $t=$t.next=t;return a}var Ux=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Bx=c.unstable_scheduleCallback,Hx=c.unstable_NormalPriority,qe={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mc(){return{controller:new Ux,data:new Map,refCount:0}}function xs(e){e.refCount--,e.refCount===0&&Bx(Hx,function(){e.controller.abort()})}var ps=null,Dc=0,Dl=0,zl=null;function qx(e,t){if(ps===null){var a=ps=[];Dc=0,Dl=Rr(),zl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Dc++,t.then(Uu,Uu),t}function Uu(){if(--Dc===0&&ps!==null){zl!==null&&(zl.status="fulfilled");var e=ps;ps=null,Dl=0,zl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function kx(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(l.status="rejected",l.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),l}var Bu=U.S;U.S=function(e,t){jf=dt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&qx(e,t),Bu!==null&&Bu(e,t)};var Ia=He(null);function zc(){var e=Ia.current;return e!==null?e:Te.pooledCache}function Cn(e,t){t===null?je(Ia,Ia.current):je(Ia,t.pool)}function Hu(){var e=zc();return e===null?null:{parent:qe._currentValue,pool:e}}var Ol=Error(r(460)),Oc=Error(r(474)),An=Error(r(542)),Tn={then:function(){}};function qu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ku(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Zt,Zt),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Xu(e),e;default:if(typeof t.status=="string")t.then(Zt,Zt);else{if(e=Te,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=l}},function(l){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Xu(e),e}throw el=t,Ol}}function Pa(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(el=a,Ol):a}}var el=null;function Yu(){if(el===null)throw Error(r(459));var e=el;return el=null,e}function Xu(e){if(e===Ol||e===An)throw Error(r(483))}var Rl=null,bs=0;function En(e){var t=bs;return bs+=1,Rl===null&&(Rl=[]),ku(Rl,e,t)}function gs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Mn(e,t){throw t.$$typeof===_?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Qu(e){function t(N,j){if(e){var w=N.deletions;w===null?(N.deletions=[j],N.flags|=16):w.push(j)}}function a(N,j){if(!e)return null;for(;j!==null;)t(N,j),j=j.sibling;return null}function l(N){for(var j=new Map;N!==null;)N.key!==null?j.set(N.key,N):j.set(N.index,N),N=N.sibling;return j}function n(N,j){return N=Kt(N,j),N.index=0,N.sibling=null,N}function i(N,j,w){return N.index=w,e?(w=N.alternate,w!==null?(w=w.index,w<j?(N.flags|=67108866,j):w):(N.flags|=67108866,j)):(N.flags|=1048576,j)}function o(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function f(N,j,w,q){return j===null||j.tag!==6?(j=jc(w,N.mode,q),j.return=N,j):(j=n(j,w),j.return=N,j)}function v(N,j,w,q){var le=w.type;return le===H?B(N,j,w.props.children,q,w.key):j!==null&&(j.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===K&&Pa(le)===j.type)?(j=n(j,w.props),gs(j,w),j.return=N,j):(j=Nn(w.type,w.key,w.props,null,N.mode,q),gs(j,w),j.return=N,j)}function A(N,j,w,q){return j===null||j.tag!==4||j.stateNode.containerInfo!==w.containerInfo||j.stateNode.implementation!==w.implementation?(j=Nc(w,N.mode,q),j.return=N,j):(j=n(j,w.children||[]),j.return=N,j)}function B(N,j,w,q,le){return j===null||j.tag!==7?(j=Ka(w,N.mode,q,le),j.return=N,j):(j=n(j,w),j.return=N,j)}function X(N,j,w){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=jc(""+j,N.mode,w),j.return=N,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case D:return w=Nn(j.type,j.key,j.props,null,N.mode,w),gs(w,j),w.return=N,w;case R:return j=Nc(j,N.mode,w),j.return=N,j;case K:return j=Pa(j),X(N,j,w)}if(et(j)||ze(j))return j=Ka(j,N.mode,w,null),j.return=N,j;if(typeof j.then=="function")return X(N,En(j),w);if(j.$$typeof===F)return X(N,wn(N,j),w);Mn(N,j)}return null}function T(N,j,w,q){var le=j!==null?j.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return le!==null?null:f(N,j,""+w,q);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case D:return w.key===le?v(N,j,w,q):null;case R:return w.key===le?A(N,j,w,q):null;case K:return w=Pa(w),T(N,j,w,q)}if(et(w)||ze(w))return le!==null?null:B(N,j,w,q,null);if(typeof w.then=="function")return T(N,j,En(w),q);if(w.$$typeof===F)return T(N,j,wn(N,w),q);Mn(N,w)}return null}function O(N,j,w,q,le){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return N=N.get(w)||null,f(j,N,""+q,le);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case D:return N=N.get(q.key===null?w:q.key)||null,v(j,N,q,le);case R:return N=N.get(q.key===null?w:q.key)||null,A(j,N,q,le);case K:return q=Pa(q),O(N,j,w,q,le)}if(et(q)||ze(q))return N=N.get(w)||null,B(j,N,q,le,null);if(typeof q.then=="function")return O(N,j,w,En(q),le);if(q.$$typeof===F)return O(N,j,w,wn(j,q),le);Mn(j,q)}return null}function P(N,j,w,q){for(var le=null,be=null,ee=j,ue=j=0,xe=null;ee!==null&&ue<w.length;ue++){ee.index>ue?(xe=ee,ee=null):xe=ee.sibling;var ge=T(N,ee,w[ue],q);if(ge===null){ee===null&&(ee=xe);break}e&&ee&&ge.alternate===null&&t(N,ee),j=i(ge,j,ue),be===null?le=ge:be.sibling=ge,be=ge,ee=xe}if(ue===w.length)return a(N,ee),pe&&Ft(N,ue),le;if(ee===null){for(;ue<w.length;ue++)ee=X(N,w[ue],q),ee!==null&&(j=i(ee,j,ue),be===null?le=ee:be.sibling=ee,be=ee);return pe&&Ft(N,ue),le}for(ee=l(ee);ue<w.length;ue++)xe=O(ee,N,ue,w[ue],q),xe!==null&&(e&&xe.alternate!==null&&ee.delete(xe.key===null?ue:xe.key),j=i(xe,j,ue),be===null?le=xe:be.sibling=xe,be=xe);return e&&ee.forEach(function(Ua){return t(N,Ua)}),pe&&Ft(N,ue),le}function ne(N,j,w,q){if(w==null)throw Error(r(151));for(var le=null,be=null,ee=j,ue=j=0,xe=null,ge=w.next();ee!==null&&!ge.done;ue++,ge=w.next()){ee.index>ue?(xe=ee,ee=null):xe=ee.sibling;var Ua=T(N,ee,ge.value,q);if(Ua===null){ee===null&&(ee=xe);break}e&&ee&&Ua.alternate===null&&t(N,ee),j=i(Ua,j,ue),be===null?le=Ua:be.sibling=Ua,be=Ua,ee=xe}if(ge.done)return a(N,ee),pe&&Ft(N,ue),le;if(ee===null){for(;!ge.done;ue++,ge=w.next())ge=X(N,ge.value,q),ge!==null&&(j=i(ge,j,ue),be===null?le=ge:be.sibling=ge,be=ge);return pe&&Ft(N,ue),le}for(ee=l(ee);!ge.done;ue++,ge=w.next())ge=O(ee,N,ue,ge.value,q),ge!==null&&(e&&ge.alternate!==null&&ee.delete(ge.key===null?ue:ge.key),j=i(ge,j,ue),be===null?le=ge:be.sibling=ge,be=ge);return e&&ee.forEach(function(W0){return t(N,W0)}),pe&&Ft(N,ue),le}function Ce(N,j,w,q){if(typeof w=="object"&&w!==null&&w.type===H&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case D:e:{for(var le=w.key;j!==null;){if(j.key===le){if(le=w.type,le===H){if(j.tag===7){a(N,j.sibling),q=n(j,w.props.children),q.return=N,N=q;break e}}else if(j.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===K&&Pa(le)===j.type){a(N,j.sibling),q=n(j,w.props),gs(q,w),q.return=N,N=q;break e}a(N,j);break}else t(N,j);j=j.sibling}w.type===H?(q=Ka(w.props.children,N.mode,q,w.key),q.return=N,N=q):(q=Nn(w.type,w.key,w.props,null,N.mode,q),gs(q,w),q.return=N,N=q)}return o(N);case R:e:{for(le=w.key;j!==null;){if(j.key===le)if(j.tag===4&&j.stateNode.containerInfo===w.containerInfo&&j.stateNode.implementation===w.implementation){a(N,j.sibling),q=n(j,w.children||[]),q.return=N,N=q;break e}else{a(N,j);break}else t(N,j);j=j.sibling}q=Nc(w,N.mode,q),q.return=N,N=q}return o(N);case K:return w=Pa(w),Ce(N,j,w,q)}if(et(w))return P(N,j,w,q);if(ze(w)){if(le=ze(w),typeof le!="function")throw Error(r(150));return w=le.call(w),ne(N,j,w,q)}if(typeof w.then=="function")return Ce(N,j,En(w),q);if(w.$$typeof===F)return Ce(N,j,wn(N,w),q);Mn(N,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,j!==null&&j.tag===6?(a(N,j.sibling),q=n(j,w),q.return=N,N=q):(a(N,j),q=jc(w,N.mode,q),q.return=N,N=q),o(N)):a(N,j)}return function(N,j,w,q){try{bs=0;var le=Ce(N,j,w,q);return Rl=null,le}catch(ee){if(ee===Ol||ee===An)throw ee;var be=xt(29,ee,null,N.mode);return be.lanes=q,be.return=N,be}finally{}}}var tl=Qu(!0),Gu=Qu(!1),va=!1;function Rc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ya(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ja(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ve&2)!==0){var n=l.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),l.pending=t,t=jn(e),Au(e,null,a),t}return yn(e,l,t,a),jn(e)}function vs(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Lo(e,a)}}function Uc(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var n=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var o={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?n=i=o:i=i.next=o,a=a.next}while(a!==null);i===null?n=i=t:i=i.next=t}else n=i=t;a={baseState:l.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Bc=!1;function ys(){if(Bc){var e=zl;if(e!==null)throw e}}function js(e,t,a,l){Bc=!1;var n=e.updateQueue;va=!1;var i=n.firstBaseUpdate,o=n.lastBaseUpdate,f=n.shared.pending;if(f!==null){n.shared.pending=null;var v=f,A=v.next;v.next=null,o===null?i=A:o.next=A,o=v;var B=e.alternate;B!==null&&(B=B.updateQueue,f=B.lastBaseUpdate,f!==o&&(f===null?B.firstBaseUpdate=A:f.next=A,B.lastBaseUpdate=v))}if(i!==null){var X=n.baseState;o=0,B=A=v=null,f=i;do{var T=f.lane&-536870913,O=T!==f.lane;if(O?(he&T)===T:(l&T)===T){T!==0&&T===Dl&&(Bc=!0),B!==null&&(B=B.next={lane:0,tag:f.tag,payload:f.payload,callback:null,next:null});e:{var P=e,ne=f;T=t;var Ce=a;switch(ne.tag){case 1:if(P=ne.payload,typeof P=="function"){X=P.call(Ce,X,T);break e}X=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=ne.payload,T=typeof P=="function"?P.call(Ce,X,T):P,T==null)break e;X=S({},X,T);break e;case 2:va=!0}}T=f.callback,T!==null&&(e.flags|=64,O&&(e.flags|=8192),O=n.callbacks,O===null?n.callbacks=[T]:O.push(T))}else O={lane:T,tag:f.tag,payload:f.payload,callback:f.callback,next:null},B===null?(A=B=O,v=X):B=B.next=O,o|=T;if(f=f.next,f===null){if(f=n.shared.pending,f===null)break;O=f,f=O.next,O.next=null,n.lastBaseUpdate=O,n.shared.pending=null}}while(!0);B===null&&(v=X),n.baseState=v,n.firstBaseUpdate=A,n.lastBaseUpdate=B,i===null&&(n.shared.lanes=0),Ca|=o,e.lanes=o,e.memoizedState=X}}function Vu(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Zu(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Vu(a[e],t)}var Ll=He(null),Dn=He(0);function Ju(e,t){e=ia,je(Dn,e),je(Ll,t),ia=e|t.baseLanes}function Hc(){je(Dn,ia),je(Ll,Ll.current)}function qc(){ia=Dn.current,Ae(Ll),Ae(Dn)}var pt=He(null),Mt=null;function Na(e){var t=e.alternate;je(Ue,Ue.current&1),je(pt,e),Mt===null&&(t===null||Ll.current!==null||t.memoizedState!==null)&&(Mt=e)}function kc(e){je(Ue,Ue.current),je(pt,e),Mt===null&&(Mt=e)}function Ku(e){e.tag===22?(je(Ue,Ue.current),je(pt,e),Mt===null&&(Mt=e)):_a()}function _a(){je(Ue,Ue.current),je(pt,pt.current)}function bt(e){Ae(pt),Mt===e&&(Mt=null),Ae(Ue)}var Ue=He(0);function zn(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Zr(a)||Jr(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var It=0,re=null,Se=null,ke=null,On=!1,Ul=!1,al=!1,Rn=0,Ns=0,Bl=null,Yx=0;function Re(){throw Error(r(321))}function Yc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!ht(e[a],t[a]))return!1;return!0}function Xc(e,t,a,l,n,i){return It=i,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?Dd:lr,al=!1,i=a(l,n),al=!1,Ul&&(i=$u(t,a,l,n)),Fu(e),i}function Fu(e){U.H=ws;var t=Se!==null&&Se.next!==null;if(It=0,ke=Se=re=null,On=!1,Ns=0,Bl=null,t)throw Error(r(300));e===null||Ye||(e=e.dependencies,e!==null&&Sn(e)&&(Ye=!0))}function $u(e,t,a,l){re=e;var n=0;do{if(Ul&&(Bl=null),Ns=0,Ul=!1,25<=n)throw Error(r(301));if(n+=1,ke=Se=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}U.H=zd,i=t(a,l)}while(Ul);return i}function Xx(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?_s(t):t,e=e.useState()[0],(Se!==null?Se.memoizedState:null)!==e&&(re.flags|=1024),t}function Qc(){var e=Rn!==0;return Rn=0,e}function Gc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Vc(e){if(On){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}On=!1}It=0,ke=Se=re=null,Ul=!1,Ns=Rn=0,Bl=null}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?re.memoizedState=ke=e:ke=ke.next=e,ke}function Be(){if(Se===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=ke===null?re.memoizedState:ke.next;if(t!==null)ke=t,Se=e;else{if(e===null)throw re.alternate===null?Error(r(467)):Error(r(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},ke===null?re.memoizedState=ke=e:ke=ke.next=e}return ke}function Ln(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _s(e){var t=Ns;return Ns+=1,Bl===null&&(Bl=[]),e=ku(Bl,e,t),t=re,(ke===null?t.memoizedState:ke.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?Dd:lr),e}function Un(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return _s(e);if(e.$$typeof===F)return $e(e)}throw Error(r(438,String(e)))}function Zc(e){var t=null,a=re.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ln(),re.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=$;return t.index++,a}function Pt(e,t){return typeof t=="function"?t(e):t}function Bn(e){var t=Be();return Jc(t,Se,e)}function Jc(e,t,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var n=e.baseQueue,i=l.pending;if(i!==null){if(n!==null){var o=n.next;n.next=i.next,i.next=o}t.baseQueue=n=i,l.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var f=o=null,v=null,A=t,B=!1;do{var X=A.lane&-536870913;if(X!==A.lane?(he&X)===X:(It&X)===X){var T=A.revertLane;if(T===0)v!==null&&(v=v.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),X===Dl&&(B=!0);else if((It&T)===T){A=A.next,T===Dl&&(B=!0);continue}else X={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},v===null?(f=v=X,o=i):v=v.next=X,re.lanes|=T,Ca|=T;X=A.action,al&&a(i,X),i=A.hasEagerState?A.eagerState:a(i,X)}else T={lane:X,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},v===null?(f=v=T,o=i):v=v.next=T,re.lanes|=X,Ca|=X;A=A.next}while(A!==null&&A!==t);if(v===null?o=i:v.next=f,!ht(i,e.memoizedState)&&(Ye=!0,B&&(a=zl,a!==null)))throw a;e.memoizedState=i,e.baseState=o,e.baseQueue=v,l.lastRenderedState=i}return n===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Kc(e){var t=Be(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,n=a.pending,i=t.memoizedState;if(n!==null){a.pending=null;var o=n=n.next;do i=e(i,o.action),o=o.next;while(o!==n);ht(i,t.memoizedState)||(Ye=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,l]}function Wu(e,t,a){var l=re,n=Be(),i=pe;if(i){if(a===void 0)throw Error(r(407));a=a()}else a=t();var o=!ht((Se||n).memoizedState,a);if(o&&(n.memoizedState=a,Ye=!0),n=n.queue,Wc(ed.bind(null,l,n,e),[e]),n.getSnapshot!==t||o||ke!==null&&ke.memoizedState.tag&1){if(l.flags|=2048,Hl(9,{destroy:void 0},Pu.bind(null,l,n,a,t),null),Te===null)throw Error(r(349));i||(It&127)!==0||Iu(l,t,a)}return a}function Iu(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=re.updateQueue,t===null?(t=Ln(),re.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Pu(e,t,a,l){t.value=a,t.getSnapshot=l,td(t)&&ad(e)}function ed(e,t,a){return a(function(){td(t)&&ad(e)})}function td(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!ht(e,a)}catch{return!0}}function ad(e){var t=Ja(e,2);t!==null&&ot(t,e,2)}function Fc(e){var t=at();if(typeof e=="function"){var a=e;if(e=a(),al){fa(!0);try{a()}finally{fa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pt,lastRenderedState:e},t}function ld(e,t,a,l){return e.baseState=a,Jc(e,Se,typeof l=="function"?l:Pt)}function Qx(e,t,a,l,n){if(kn(e))throw Error(r(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};U.T!==null?a(!0):i.isTransition=!1,l(i),a=t.pending,a===null?(i.next=t.pending=i,sd(t,i)):(i.next=a.next,t.pending=a.next=i)}}function sd(e,t){var a=t.action,l=t.payload,n=e.state;if(t.isTransition){var i=U.T,o={};U.T=o;try{var f=a(n,l),v=U.S;v!==null&&v(o,f),nd(e,t,f)}catch(A){$c(e,t,A)}finally{i!==null&&o.types!==null&&(i.types=o.types),U.T=i}}else try{i=a(n,l),nd(e,t,i)}catch(A){$c(e,t,A)}}function nd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){id(e,t,l)},function(l){return $c(e,t,l)}):id(e,t,a)}function id(e,t,a){t.status="fulfilled",t.value=a,cd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,sd(e,a)))}function $c(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,cd(t),t=t.next;while(t!==l)}e.action=null}function cd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function rd(e,t){return t}function od(e,t){if(pe){var a=Te.formState;if(a!==null){e:{var l=re;if(pe){if(Me){t:{for(var n=Me,i=Et;n.nodeType!==8;){if(!i){n=null;break t}if(n=Dt(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){Me=Dt(n.nextSibling),l=n.data==="F!";break e}}ba(l)}l=!1}l&&(t=a[0])}}return a=at(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rd,lastRenderedState:t},a.queue=l,a=Td.bind(null,re,l),l.dispatch=a,l=Fc(!1),i=ar.bind(null,re,!1,l.queue),l=at(),n={state:t,dispatch:null,action:e,pending:null},l.queue=n,a=Qx.bind(null,re,n,i,a),n.dispatch=a,l.memoizedState=e,[t,a,!1]}function ud(e){var t=Be();return dd(t,Se,e)}function dd(e,t,a){if(t=Jc(e,t,rd)[0],e=Bn(Pt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=_s(t)}catch(o){throw o===Ol?An:o}else l=t;t=Be();var n=t.queue,i=n.dispatch;return a!==t.memoizedState&&(re.flags|=2048,Hl(9,{destroy:void 0},Gx.bind(null,n,a),null)),[l,i,e]}function Gx(e,t){e.action=t}function fd(e){var t=Be(),a=Se;if(a!==null)return dd(t,a,e);Be(),t=t.memoizedState,a=Be();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Hl(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=re.updateQueue,t===null&&(t=Ln(),re.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function md(){return Be().memoizedState}function Hn(e,t,a,l){var n=at();re.flags|=e,n.memoizedState=Hl(1|t,{destroy:void 0},a,l===void 0?null:l)}function qn(e,t,a,l){var n=Be();l=l===void 0?null:l;var i=n.memoizedState.inst;Se!==null&&l!==null&&Yc(l,Se.memoizedState.deps)?n.memoizedState=Hl(t,i,a,l):(re.flags|=e,n.memoizedState=Hl(1|t,i,a,l))}function hd(e,t){Hn(8390656,8,e,t)}function Wc(e,t){qn(2048,8,e,t)}function Vx(e){re.flags|=4;var t=re.updateQueue;if(t===null)t=Ln(),re.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function xd(e){var t=Be().memoizedState;return Vx({ref:t,nextImpl:e}),function(){if((ve&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function pd(e,t){return qn(4,2,e,t)}function bd(e,t){return qn(4,4,e,t)}function gd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vd(e,t,a){a=a!=null?a.concat([e]):null,qn(4,4,gd.bind(null,t,e),a)}function Ic(){}function yd(e,t){var a=Be();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&Yc(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function jd(e,t){var a=Be();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&Yc(t,l[1]))return l[0];if(l=e(),al){fa(!0);try{e()}finally{fa(!1)}}return a.memoizedState=[l,t],l}function Pc(e,t,a){return a===void 0||(It&1073741824)!==0&&(he&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=_f(),re.lanes|=e,Ca|=e,a)}function Nd(e,t,a,l){return ht(a,t)?a:Ll.current!==null?(e=Pc(e,a,l),ht(e,t)||(Ye=!0),e):(It&42)===0||(It&1073741824)!==0&&(he&261930)===0?(Ye=!0,e.memoizedState=a):(e=_f(),re.lanes|=e,Ca|=e,t)}function _d(e,t,a,l,n){var i=L.p;L.p=i!==0&&8>i?i:8;var o=U.T,f={};U.T=f,ar(e,!1,t,a);try{var v=n(),A=U.S;if(A!==null&&A(f,v),v!==null&&typeof v=="object"&&typeof v.then=="function"){var B=kx(v,l);Ss(e,t,B,yt(e))}else Ss(e,t,l,yt(e))}catch(X){Ss(e,t,{then:function(){},status:"rejected",reason:X},yt())}finally{L.p=i,o!==null&&f.types!==null&&(o.types=f.types),U.T=o}}function Zx(){}function er(e,t,a,l){if(e.tag!==5)throw Error(r(476));var n=Sd(e).queue;_d(e,n,t,I,a===null?Zx:function(){return wd(e),a(l)})}function Sd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pt,lastRenderedState:I},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pt,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function wd(e){var t=Sd(e);t.next===null&&(t=e.alternate.memoizedState),Ss(e,t.next.queue,{},yt())}function tr(){return $e(Ys)}function Cd(){return Be().memoizedState}function Ad(){return Be().memoizedState}function Jx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=yt();e=ya(a);var l=ja(t,e,a);l!==null&&(ot(l,t,a),vs(l,t,a)),t={cache:Mc()},e.payload=t;return}t=t.return}}function Kx(e,t,a){var l=yt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},kn(e)?Ed(t,a):(a=vc(e,t,a,l),a!==null&&(ot(a,e,l),Md(a,t,l)))}function Td(e,t,a){var l=yt();Ss(e,t,a,l)}function Ss(e,t,a,l){var n={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(kn(e))Ed(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,f=i(o,a);if(n.hasEagerState=!0,n.eagerState=f,ht(f,o))return yn(e,t,n,0),Te===null&&vn(),!1}catch{}finally{}if(a=vc(e,t,n,l),a!==null)return ot(a,e,l),Md(a,t,l),!0}return!1}function ar(e,t,a,l){if(l={lane:2,revertLane:Rr(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},kn(e)){if(t)throw Error(r(479))}else t=vc(e,a,l,2),t!==null&&ot(t,e,2)}function kn(e){var t=e.alternate;return e===re||t!==null&&t===re}function Ed(e,t){Ul=On=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Md(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Lo(e,a)}}var ws={readContext:$e,use:Un,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useLayoutEffect:Re,useInsertionEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useSyncExternalStore:Re,useId:Re,useHostTransitionStatus:Re,useFormState:Re,useActionState:Re,useOptimistic:Re,useMemoCache:Re,useCacheRefresh:Re};ws.useEffectEvent=Re;var Dd={readContext:$e,use:Un,useCallback:function(e,t){return at().memoizedState=[e,t===void 0?null:t],e},useContext:$e,useEffect:hd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Hn(4194308,4,gd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Hn(4194308,4,e,t)},useInsertionEffect:function(e,t){Hn(4,2,e,t)},useMemo:function(e,t){var a=at();t=t===void 0?null:t;var l=e();if(al){fa(!0);try{e()}finally{fa(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=at();if(a!==void 0){var n=a(t);if(al){fa(!0);try{a(t)}finally{fa(!1)}}}else n=t;return l.memoizedState=l.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=Kx.bind(null,re,e),[l.memoizedState,e]},useRef:function(e){var t=at();return e={current:e},t.memoizedState=e},useState:function(e){e=Fc(e);var t=e.queue,a=Td.bind(null,re,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Ic,useDeferredValue:function(e,t){var a=at();return Pc(a,e,t)},useTransition:function(){var e=Fc(!1);return e=_d.bind(null,re,e.queue,!0,!1),at().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=re,n=at();if(pe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Te===null)throw Error(r(349));(he&127)!==0||Iu(l,t,a)}n.memoizedState=a;var i={value:a,getSnapshot:t};return n.queue=i,hd(ed.bind(null,l,i,e),[e]),l.flags|=2048,Hl(9,{destroy:void 0},Pu.bind(null,l,i,a,t),null),a},useId:function(){var e=at(),t=Te.identifierPrefix;if(pe){var a=qt,l=Ht;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Rn++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Yx++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:tr,useFormState:od,useActionState:od,useOptimistic:function(e){var t=at();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=ar.bind(null,re,!0,a),a.dispatch=t,[e,t]},useMemoCache:Zc,useCacheRefresh:function(){return at().memoizedState=Jx.bind(null,re)},useEffectEvent:function(e){var t=at(),a={impl:e};return t.memoizedState=a,function(){if((ve&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},lr={readContext:$e,use:Un,useCallback:yd,useContext:$e,useEffect:Wc,useImperativeHandle:vd,useInsertionEffect:pd,useLayoutEffect:bd,useMemo:jd,useReducer:Bn,useRef:md,useState:function(){return Bn(Pt)},useDebugValue:Ic,useDeferredValue:function(e,t){var a=Be();return Nd(a,Se.memoizedState,e,t)},useTransition:function(){var e=Bn(Pt)[0],t=Be().memoizedState;return[typeof e=="boolean"?e:_s(e),t]},useSyncExternalStore:Wu,useId:Cd,useHostTransitionStatus:tr,useFormState:ud,useActionState:ud,useOptimistic:function(e,t){var a=Be();return ld(a,Se,e,t)},useMemoCache:Zc,useCacheRefresh:Ad};lr.useEffectEvent=xd;var zd={readContext:$e,use:Un,useCallback:yd,useContext:$e,useEffect:Wc,useImperativeHandle:vd,useInsertionEffect:pd,useLayoutEffect:bd,useMemo:jd,useReducer:Kc,useRef:md,useState:function(){return Kc(Pt)},useDebugValue:Ic,useDeferredValue:function(e,t){var a=Be();return Se===null?Pc(a,e,t):Nd(a,Se.memoizedState,e,t)},useTransition:function(){var e=Kc(Pt)[0],t=Be().memoizedState;return[typeof e=="boolean"?e:_s(e),t]},useSyncExternalStore:Wu,useId:Cd,useHostTransitionStatus:tr,useFormState:fd,useActionState:fd,useOptimistic:function(e,t){var a=Be();return Se!==null?ld(a,Se,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Zc,useCacheRefresh:Ad};zd.useEffectEvent=xd;function sr(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:S({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var nr={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=yt(),n=ya(l);n.payload=t,a!=null&&(n.callback=a),t=ja(e,n,l),t!==null&&(ot(t,e,l),vs(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=yt(),n=ya(l);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=ja(e,n,l),t!==null&&(ot(t,e,l),vs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=yt(),l=ya(a);l.tag=2,t!=null&&(l.callback=t),t=ja(e,l,a),t!==null&&(ot(t,e,a),vs(t,e,a))}};function Od(e,t,a,l,n,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,i,o):t.prototype&&t.prototype.isPureReactComponent?!ds(a,l)||!ds(n,i):!0}function Rd(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&nr.enqueueReplaceState(t,t.state,null)}function ll(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=S({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}function Ld(e){gn(e)}function Ud(e){console.error(e)}function Bd(e){gn(e)}function Yn(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Hd(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function ir(e,t,a){return a=ya(a),a.tag=3,a.payload={element:null},a.callback=function(){Yn(e,t)},a}function qd(e){return e=ya(e),e.tag=3,e}function kd(e,t,a,l){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var i=l.value;e.payload=function(){return n(i)},e.callback=function(){Hd(t,a,l)}}var o=a.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){Hd(t,a,l),typeof n!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var f=l.stack;this.componentDidCatch(l.value,{componentStack:f!==null?f:""})})}function Fx(e,t,a,l,n){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&Ml(t,a,n,!0),a=pt.current,a!==null){switch(a.tag){case 31:case 13:return Mt===null?Pn():a.alternate===null&&Le===0&&(Le=3),a.flags&=-257,a.flags|=65536,a.lanes=n,l===Tn?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Dr(e,l,n)),!1;case 22:return a.flags|=65536,l===Tn?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Dr(e,l,n)),!1}throw Error(r(435,a.tag))}return Dr(e,l,n),Pn(),!1}if(pe)return t=pt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,l!==wc&&(e=Error(r(422),{cause:l}),hs(Ct(e,a)))):(l!==wc&&(t=Error(r(423),{cause:l}),hs(Ct(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,l=Ct(l,a),n=ir(e.stateNode,l,n),Uc(e,n),Le!==4&&(Le=2)),!1;var i=Error(r(520),{cause:l});if(i=Ct(i,a),Os===null?Os=[i]:Os.push(i),Le!==4&&(Le=2),t===null)return!0;l=Ct(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=ir(a.stateNode,l,e),Uc(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Aa===null||!Aa.has(i))))return a.flags|=65536,n&=-n,a.lanes|=n,n=qd(n),kd(n,e,a,l),Uc(a,n),!1}a=a.return}while(a!==null);return!1}var cr=Error(r(461)),Ye=!1;function We(e,t,a,l){t.child=e===null?Gu(t,null,a,l):tl(t,e.child,a,l)}function Yd(e,t,a,l,n){a=a.render;var i=t.ref;if("ref"in l){var o={};for(var f in l)f!=="ref"&&(o[f]=l[f])}else o=l;return Wa(t),l=Xc(e,t,a,o,i,n),f=Qc(),e!==null&&!Ye?(Gc(e,t,n),ea(e,t,n)):(pe&&f&&_c(t),t.flags|=1,We(e,t,l,n),t.child)}function Xd(e,t,a,l,n){if(e===null){var i=a.type;return typeof i=="function"&&!yc(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,Qd(e,t,i,l,n)):(e=Nn(a.type,null,l,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!xr(e,n)){var o=i.memoizedProps;if(a=a.compare,a=a!==null?a:ds,a(o,l)&&e.ref===t.ref)return ea(e,t,n)}return t.flags|=1,e=Kt(i,l),e.ref=t.ref,e.return=t,t.child=e}function Qd(e,t,a,l,n){if(e!==null){var i=e.memoizedProps;if(ds(i,l)&&e.ref===t.ref)if(Ye=!1,t.pendingProps=l=i,xr(e,n))(e.flags&131072)!==0&&(Ye=!0);else return t.lanes=e.lanes,ea(e,t,n)}return rr(e,t,a,l,n)}function Gd(e,t,a,l){var n=l.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(l=t.child=e.child,n=0;l!==null;)n=n|l.lanes|l.childLanes,l=l.sibling;l=n&~i}else l=0,t.child=null;return Vd(e,t,i,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Cn(t,i!==null?i.cachePool:null),i!==null?Ju(t,i):Hc(),Ku(t);else return l=t.lanes=536870912,Vd(e,t,i!==null?i.baseLanes|a:a,a,l)}else i!==null?(Cn(t,i.cachePool),Ju(t,i),_a(),t.memoizedState=null):(e!==null&&Cn(t,null),Hc(),_a());return We(e,t,n,a),t.child}function Cs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Vd(e,t,a,l,n){var i=zc();return i=i===null?null:{parent:qe._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&Cn(t,null),Hc(),Ku(t),e!==null&&Ml(e,t,l,!0),t.childLanes=n,null}function Xn(e,t){return t=Gn({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Zd(e,t,a){return tl(t,e.child,null,a),e=Xn(t,t.pendingProps),e.flags|=2,bt(t),t.memoizedState=null,e}function $x(e,t,a){var l=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(pe){if(l.mode==="hidden")return e=Xn(t,l),t.lanes=536870912,Cs(null,e);if(kc(t),(e=Me)?(e=nm(e,Et),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xa!==null?{id:Ht,overflow:qt}:null,retryLane:536870912,hydrationErrors:null},a=Eu(e),a.return=t,t.child=a,Fe=t,Me=null)):e=null,e===null)throw ba(t);return t.lanes=536870912,null}return Xn(t,l)}var i=e.memoizedState;if(i!==null){var o=i.dehydrated;if(kc(t),n)if(t.flags&256)t.flags&=-257,t=Zd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Ye||Ml(e,t,a,!1),n=(a&e.childLanes)!==0,Ye||n){if(l=Te,l!==null&&(o=Uo(l,a),o!==0&&o!==i.retryLane))throw i.retryLane=o,Ja(e,o),ot(l,e,o),cr;Pn(),t=Zd(e,t,a)}else e=i.treeContext,Me=Dt(o.nextSibling),Fe=t,pe=!0,pa=null,Et=!1,e!==null&&zu(t,e),t=Xn(t,l),t.flags|=4096;return t}return e=Kt(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Qn(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function rr(e,t,a,l,n){return Wa(t),a=Xc(e,t,a,l,void 0,n),l=Qc(),e!==null&&!Ye?(Gc(e,t,n),ea(e,t,n)):(pe&&l&&_c(t),t.flags|=1,We(e,t,a,n),t.child)}function Jd(e,t,a,l,n,i){return Wa(t),t.updateQueue=null,a=$u(t,l,a,n),Fu(e),l=Qc(),e!==null&&!Ye?(Gc(e,t,i),ea(e,t,i)):(pe&&l&&_c(t),t.flags|=1,We(e,t,a,i),t.child)}function Kd(e,t,a,l,n){if(Wa(t),t.stateNode===null){var i=Cl,o=a.contextType;typeof o=="object"&&o!==null&&(i=$e(o)),i=new a(l,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=nr,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=l,i.state=t.memoizedState,i.refs={},Rc(t),o=a.contextType,i.context=typeof o=="object"&&o!==null?$e(o):Cl,i.state=t.memoizedState,o=a.getDerivedStateFromProps,typeof o=="function"&&(sr(t,a,o,l),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&nr.enqueueReplaceState(i,i.state,null),js(t,l,i,n),ys(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){i=t.stateNode;var f=t.memoizedProps,v=ll(a,f);i.props=v;var A=i.context,B=a.contextType;o=Cl,typeof B=="object"&&B!==null&&(o=$e(B));var X=a.getDerivedStateFromProps;B=typeof X=="function"||typeof i.getSnapshotBeforeUpdate=="function",f=t.pendingProps!==f,B||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(f||A!==o)&&Rd(t,i,l,o),va=!1;var T=t.memoizedState;i.state=T,js(t,l,i,n),ys(),A=t.memoizedState,f||T!==A||va?(typeof X=="function"&&(sr(t,a,X,l),A=t.memoizedState),(v=va||Od(t,a,v,l,T,A,o))?(B||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=A),i.props=l,i.state=A,i.context=o,l=v):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,Lc(e,t),o=t.memoizedProps,B=ll(a,o),i.props=B,X=t.pendingProps,T=i.context,A=a.contextType,v=Cl,typeof A=="object"&&A!==null&&(v=$e(A)),f=a.getDerivedStateFromProps,(A=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==X||T!==v)&&Rd(t,i,l,v),va=!1,T=t.memoizedState,i.state=T,js(t,l,i,n),ys();var O=t.memoizedState;o!==X||T!==O||va||e!==null&&e.dependencies!==null&&Sn(e.dependencies)?(typeof f=="function"&&(sr(t,a,f,l),O=t.memoizedState),(B=va||Od(t,a,B,l,T,O,v)||e!==null&&e.dependencies!==null&&Sn(e.dependencies))?(A||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,O,v),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,O,v)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=O),i.props=l,i.state=O,i.context=v,l=B):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),l=!1)}return i=l,Qn(e,t),l=(t.flags&128)!==0,i||l?(i=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&l?(t.child=tl(t,e.child,null,n),t.child=tl(t,null,a,n)):We(e,t,a,n),t.memoizedState=i.state,e=t.child):e=ea(e,t,n),e}function Fd(e,t,a,l){return Fa(),t.flags|=256,We(e,t,a,l),t.child}var or={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ur(e){return{baseLanes:e,cachePool:Hu()}}function dr(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=vt),e}function $d(e,t,a){var l=t.pendingProps,n=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(Ue.current&2)!==0),o&&(n=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(pe){if(n?Na(t):_a(),(e=Me)?(e=nm(e,Et),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xa!==null?{id:Ht,overflow:qt}:null,retryLane:536870912,hydrationErrors:null},a=Eu(e),a.return=t,t.child=a,Fe=t,Me=null)):e=null,e===null)throw ba(t);return Jr(e)?t.lanes=32:t.lanes=536870912,null}var f=l.children;return l=l.fallback,n?(_a(),n=t.mode,f=Gn({mode:"hidden",children:f},n),l=Ka(l,n,a,null),f.return=t,l.return=t,f.sibling=l,t.child=f,l=t.child,l.memoizedState=ur(a),l.childLanes=dr(e,o,a),t.memoizedState=or,Cs(null,l)):(Na(t),fr(t,f))}var v=e.memoizedState;if(v!==null&&(f=v.dehydrated,f!==null)){if(i)t.flags&256?(Na(t),t.flags&=-257,t=mr(e,t,a)):t.memoizedState!==null?(_a(),t.child=e.child,t.flags|=128,t=null):(_a(),f=l.fallback,n=t.mode,l=Gn({mode:"visible",children:l.children},n),f=Ka(f,n,a,null),f.flags|=2,l.return=t,f.return=t,l.sibling=f,t.child=l,tl(t,e.child,null,a),l=t.child,l.memoizedState=ur(a),l.childLanes=dr(e,o,a),t.memoizedState=or,t=Cs(null,l));else if(Na(t),Jr(f)){if(o=f.nextSibling&&f.nextSibling.dataset,o)var A=o.dgst;o=A,l=Error(r(419)),l.stack="",l.digest=o,hs({value:l,source:null,stack:null}),t=mr(e,t,a)}else if(Ye||Ml(e,t,a,!1),o=(a&e.childLanes)!==0,Ye||o){if(o=Te,o!==null&&(l=Uo(o,a),l!==0&&l!==v.retryLane))throw v.retryLane=l,Ja(e,l),ot(o,e,l),cr;Zr(f)||Pn(),t=mr(e,t,a)}else Zr(f)?(t.flags|=192,t.child=e.child,t=null):(e=v.treeContext,Me=Dt(f.nextSibling),Fe=t,pe=!0,pa=null,Et=!1,e!==null&&zu(t,e),t=fr(t,l.children),t.flags|=4096);return t}return n?(_a(),f=l.fallback,n=t.mode,v=e.child,A=v.sibling,l=Kt(v,{mode:"hidden",children:l.children}),l.subtreeFlags=v.subtreeFlags&65011712,A!==null?f=Kt(A,f):(f=Ka(f,n,a,null),f.flags|=2),f.return=t,l.return=t,l.sibling=f,t.child=l,Cs(null,l),l=t.child,f=e.child.memoizedState,f===null?f=ur(a):(n=f.cachePool,n!==null?(v=qe._currentValue,n=n.parent!==v?{parent:v,pool:v}:n):n=Hu(),f={baseLanes:f.baseLanes|a,cachePool:n}),l.memoizedState=f,l.childLanes=dr(e,o,a),t.memoizedState=or,Cs(e.child,l)):(Na(t),a=e.child,e=a.sibling,a=Kt(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=a,t.memoizedState=null,a)}function fr(e,t){return t=Gn({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Gn(e,t){return e=xt(22,e,null,t),e.lanes=0,e}function mr(e,t,a){return tl(t,e.child,null,a),e=fr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wd(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Tc(e.return,t,a)}function hr(e,t,a,l,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:n,treeForkCount:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=l,o.tail=a,o.tailMode=n,o.treeForkCount=i)}function Id(e,t,a){var l=t.pendingProps,n=l.revealOrder,i=l.tail;l=l.children;var o=Ue.current,f=(o&2)!==0;if(f?(o=o&1|2,t.flags|=128):o&=1,je(Ue,o),We(e,t,l,a),l=pe?ms:0,!f&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wd(e,a,t);else if(e.tag===19)Wd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&zn(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),hr(t,!1,n,a,i,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&zn(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}hr(t,!0,a,null,i,l);break;case"together":hr(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function ea(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ca|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Ml(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=Kt(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Kt(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function xr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Sn(e)))}function Wx(e,t,a){switch(t.tag){case 3:en(t,t.stateNode.containerInfo),ga(t,qe,e.memoizedState.cache),Fa();break;case 27:case 5:qi(t);break;case 4:en(t,t.stateNode.containerInfo);break;case 10:ga(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,kc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Na(t),t.flags|=128,null):(a&t.child.childLanes)!==0?$d(e,t,a):(Na(t),e=ea(e,t,a),e!==null?e.sibling:null);Na(t);break;case 19:var n=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(Ml(e,t,a,!1),l=(a&t.childLanes)!==0),n){if(l)return Id(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),je(Ue,Ue.current),l)break;return null;case 22:return t.lanes=0,Gd(e,t,a,t.pendingProps);case 24:ga(t,qe,e.memoizedState.cache)}return ea(e,t,a)}function Pd(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ye=!0;else{if(!xr(e,a)&&(t.flags&128)===0)return Ye=!1,Wx(e,t,a);Ye=(e.flags&131072)!==0}else Ye=!1,pe&&(t.flags&1048576)!==0&&Du(t,ms,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Pa(t.elementType),t.type=e,typeof e=="function")yc(e)?(l=ll(e,l),t.tag=1,t=Kd(null,t,e,l,a)):(t.tag=0,t=rr(null,t,e,l,a));else{if(e!=null){var n=e.$$typeof;if(n===Y){t.tag=11,t=Yd(null,t,e,l,a);break e}else if(n===Z){t.tag=14,t=Xd(null,t,e,l,a);break e}}throw t=Nt(e)||e,Error(r(306,t,""))}}return t;case 0:return rr(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,n=ll(l,t.pendingProps),Kd(e,t,l,n,a);case 3:e:{if(en(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var i=t.memoizedState;n=i.element,Lc(e,t),js(t,l,null,a);var o=t.memoizedState;if(l=o.cache,ga(t,qe,l),l!==i.cache&&Ec(t,[qe],a,!0),ys(),l=o.element,i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Fd(e,t,l,a);break e}else if(l!==n){n=Ct(Error(r(424)),t),hs(n),t=Fd(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Me=Dt(e.firstChild),Fe=t,pe=!0,pa=null,Et=!0,a=Gu(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Fa(),l===n){t=ea(e,t,a);break e}We(e,t,l,a)}t=t.child}return t;case 26:return Qn(e,t),e===null?(a=dm(t.type,null,t.pendingProps,null))?t.memoizedState=a:pe||(a=t.type,e=t.pendingProps,l=ii(da.current).createElement(a),l[Ke]=t,l[lt]=e,Ie(l,a,e),Ze(l),t.stateNode=l):t.memoizedState=dm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return qi(t),e===null&&pe&&(l=t.stateNode=rm(t.type,t.pendingProps,da.current),Fe=t,Et=!0,n=Me,Da(t.type)?(Kr=n,Me=Dt(l.firstChild)):Me=n),We(e,t,t.pendingProps.children,a),Qn(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&pe&&((n=l=Me)&&(l=A0(l,t.type,t.pendingProps,Et),l!==null?(t.stateNode=l,Fe=t,Me=Dt(l.firstChild),Et=!1,n=!0):n=!1),n||ba(t)),qi(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,l=i.children,Qr(n,i)?l=null:o!==null&&Qr(n,o)&&(t.flags|=32),t.memoizedState!==null&&(n=Xc(e,t,Xx,null,null,a),Ys._currentValue=n),Qn(e,t),We(e,t,l,a),t.child;case 6:return e===null&&pe&&((e=a=Me)&&(a=T0(a,t.pendingProps,Et),a!==null?(t.stateNode=a,Fe=t,Me=null,e=!0):e=!1),e||ba(t)),null;case 13:return $d(e,t,a);case 4:return en(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=tl(t,null,l,a):We(e,t,l,a),t.child;case 11:return Yd(e,t,t.type,t.pendingProps,a);case 7:return We(e,t,t.pendingProps,a),t.child;case 8:return We(e,t,t.pendingProps.children,a),t.child;case 12:return We(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,ga(t,t.type,l.value),We(e,t,l.children,a),t.child;case 9:return n=t.type._context,l=t.pendingProps.children,Wa(t),n=$e(n),l=l(n),t.flags|=1,We(e,t,l,a),t.child;case 14:return Xd(e,t,t.type,t.pendingProps,a);case 15:return Qd(e,t,t.type,t.pendingProps,a);case 19:return Id(e,t,a);case 31:return $x(e,t,a);case 22:return Gd(e,t,a,t.pendingProps);case 24:return Wa(t),l=$e(qe),e===null?(n=zc(),n===null&&(n=Te,i=Mc(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=a),n=i),t.memoizedState={parent:l,cache:n},Rc(t),ga(t,qe,n)):((e.lanes&a)!==0&&(Lc(e,t),js(t,null,null,a),ys()),n=e.memoizedState,i=t.memoizedState,n.parent!==l?(n={parent:l,cache:l},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),ga(t,qe,l)):(l=i.cache,ga(t,qe,l),l!==n.cache&&Ec(t,[qe],a,!0))),We(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function ta(e){e.flags|=4}function pr(e,t,a,l,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(Af())e.flags|=8192;else throw el=Tn,Oc}else e.flags&=-16777217}function ef(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!pm(t))if(Af())e.flags|=8192;else throw el=Tn,Oc}function Vn(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Oo():536870912,e.lanes|=t,Xl|=t)}function As(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags&65011712,l|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags,l|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function Ix(e,t,a){var l=t.pendingProps;switch(Sc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return De(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Wt(qe),fl(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(El(t)?ta(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Cc())),De(t),null;case 26:var n=t.type,i=t.memoizedState;return e===null?(ta(t),i!==null?(De(t),ef(t,i)):(De(t),pr(t,n,null,l,a))):i?i!==e.memoizedState?(ta(t),De(t),ef(t,i)):(De(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&ta(t),De(t),pr(t,n,e,l,a)),null;case 27:if(tn(t),a=da.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ta(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return De(t),null}e=Ve.current,El(t)?Ou(t):(e=rm(n,l,a),t.stateNode=e,ta(t))}return De(t),null;case 5:if(tn(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ta(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return De(t),null}if(i=Ve.current,El(t))Ou(t);else{var o=ii(da.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?o.createElement("select",{is:l.is}):o.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?o.createElement(n,{is:l.is}):o.createElement(n)}}i[Ke]=t,i[lt]=l;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(Ie(i,n,l),n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ta(t)}}return De(t),pr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ta(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=da.current,El(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,n=Fe,n!==null)switch(n.tag){case 27:case 5:l=n.memoizedProps}e[Ke]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Wf(e.nodeValue,a)),e||ba(t,!0)}else e=ii(e).createTextNode(l),e[Ke]=t,t.stateNode=e}return De(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=El(t),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Ke]=t}else Fa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;De(t),e=!1}else a=Cc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(bt(t),t):(bt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return De(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=El(t),l!==null&&l.dehydrated!==null){if(e===null){if(!n)throw Error(r(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));n[Ke]=t}else Fa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;De(t),n=!1}else n=Cc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(bt(t),t):(bt(t),null)}return bt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,n=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(n=l.alternate.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==n&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Vn(t,t.updateQueue),De(t),null);case 4:return fl(),e===null&&Hr(t.stateNode.containerInfo),De(t),null;case 10:return Wt(t.type),De(t),null;case 19:if(Ae(Ue),l=t.memoizedState,l===null)return De(t),null;if(n=(t.flags&128)!==0,i=l.rendering,i===null)if(n)As(l,!1);else{if(Le!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=zn(e),i!==null){for(t.flags|=128,As(l,!1),e=i.updateQueue,t.updateQueue=e,Vn(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Tu(a,e),a=a.sibling;return je(Ue,Ue.current&1|2),pe&&Ft(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&dt()>$n&&(t.flags|=128,n=!0,As(l,!1),t.lanes=4194304)}else{if(!n)if(e=zn(i),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Vn(t,e),As(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!pe)return De(t),null}else 2*dt()-l.renderingStartTime>$n&&a!==536870912&&(t.flags|=128,n=!0,As(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(e=l.last,e!==null?e.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=dt(),e.sibling=null,a=Ue.current,je(Ue,n?a&1|2:a&1),pe&&Ft(t,l.treeForkCount),e):(De(t),null);case 22:case 23:return bt(t),qc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),a=t.updateQueue,a!==null&&Vn(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&Ae(Ia),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Wt(qe),De(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Px(e,t){switch(Sc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wt(qe),fl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return tn(t),null;case 31:if(t.memoizedState!==null){if(bt(t),t.alternate===null)throw Error(r(340));Fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(bt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ae(Ue),null;case 4:return fl(),null;case 10:return Wt(t.type),null;case 22:case 23:return bt(t),qc(),e!==null&&Ae(Ia),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Wt(qe),null;case 25:return null;default:return null}}function tf(e,t){switch(Sc(t),t.tag){case 3:Wt(qe),fl();break;case 26:case 27:case 5:tn(t);break;case 4:fl();break;case 31:t.memoizedState!==null&&bt(t);break;case 13:bt(t);break;case 19:Ae(Ue);break;case 10:Wt(t.type);break;case 22:case 23:bt(t),qc(),e!==null&&Ae(Ia);break;case 24:Wt(qe)}}function Ts(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var n=l.next;a=n;do{if((a.tag&e)===e){l=void 0;var i=a.create,o=a.inst;l=i(),o.destroy=l}a=a.next}while(a!==n)}}catch(f){_e(t,t.return,f)}}function Sa(e,t,a){try{var l=t.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var i=n.next;l=i;do{if((l.tag&e)===e){var o=l.inst,f=o.destroy;if(f!==void 0){o.destroy=void 0,n=t;var v=a,A=f;try{A()}catch(B){_e(n,v,B)}}}l=l.next}while(l!==i)}}catch(B){_e(t,t.return,B)}}function af(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Zu(t,a)}catch(l){_e(e,e.return,l)}}}function lf(e,t,a){a.props=ll(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){_e(e,t,l)}}function Es(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(n){_e(e,t,n)}}function kt(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(n){_e(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){_e(e,t,n)}else a.current=null}function sf(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(n){_e(e,e.return,n)}}function br(e,t,a){try{var l=e.stateNode;j0(l,e.type,a,t),l[lt]=t}catch(n){_e(e,e.return,n)}}function nf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Da(e.type)||e.tag===4}function gr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Da(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vr(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Zt));else if(l!==4&&(l===27&&Da(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(vr(e,t,a),e=e.sibling;e!==null;)vr(e,t,a),e=e.sibling}function Zn(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&Da(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Zn(e,t,a),e=e.sibling;e!==null;)Zn(e,t,a),e=e.sibling}function cf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ie(t,l,a),t[Ke]=e,t[lt]=a}catch(i){_e(e,e.return,i)}}var aa=!1,Xe=!1,yr=!1,rf=typeof WeakSet=="function"?WeakSet:Set,Je=null;function e0(e,t){if(e=e.containerInfo,Yr=mi,e=vu(e),mc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var n=l.anchorOffset,i=l.focusNode;l=l.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var o=0,f=-1,v=-1,A=0,B=0,X=e,T=null;t:for(;;){for(var O;X!==a||n!==0&&X.nodeType!==3||(f=o+n),X!==i||l!==0&&X.nodeType!==3||(v=o+l),X.nodeType===3&&(o+=X.nodeValue.length),(O=X.firstChild)!==null;)T=X,X=O;for(;;){if(X===e)break t;if(T===a&&++A===n&&(f=o),T===i&&++B===l&&(v=o),(O=X.nextSibling)!==null)break;X=T,T=X.parentNode}X=O}a=f===-1||v===-1?null:{start:f,end:v}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xr={focusedElem:e,selectionRange:a},mi=!1,Je=t;Je!==null;)if(t=Je,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Je=e;else for(;Je!==null;){switch(t=Je,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)n=e[a],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,n=i.memoizedProps,i=i.memoizedState,l=a.stateNode;try{var P=ll(a.type,n);e=l.getSnapshotBeforeUpdate(P,i),l.__reactInternalSnapshotBeforeUpdate=e}catch(ne){_e(a,a.return,ne)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Vr(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Je=e;break}Je=t.return}}function of(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:sa(e,a),l&4&&Ts(5,a);break;case 1:if(sa(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(o){_e(a,a.return,o)}else{var n=ll(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){_e(a,a.return,o)}}l&64&&af(a),l&512&&Es(a,a.return);break;case 3:if(sa(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Zu(e,t)}catch(o){_e(a,a.return,o)}}break;case 27:t===null&&l&4&&cf(a);case 26:case 5:sa(e,a),t===null&&l&4&&sf(a),l&512&&Es(a,a.return);break;case 12:sa(e,a);break;case 31:sa(e,a),l&4&&ff(e,a);break;case 13:sa(e,a),l&4&&mf(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=o0.bind(null,a),E0(e,a))));break;case 22:if(l=a.memoizedState!==null||aa,!l){t=t!==null&&t.memoizedState!==null||Xe,n=aa;var i=Xe;aa=l,(Xe=t)&&!i?na(e,a,(a.subtreeFlags&8772)!==0):sa(e,a),aa=n,Xe=i}break;case 30:break;default:sa(e,a)}}function uf(e){var t=e.alternate;t!==null&&(e.alternate=null,uf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&$i(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Oe=null,nt=!1;function la(e,t,a){for(a=a.child;a!==null;)df(e,t,a),a=a.sibling}function df(e,t,a){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Pl,a)}catch{}switch(a.tag){case 26:Xe||kt(a,t),la(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Xe||kt(a,t);var l=Oe,n=nt;Da(a.type)&&(Oe=a.stateNode,nt=!1),la(e,t,a),Hs(a.stateNode),Oe=l,nt=n;break;case 5:Xe||kt(a,t);case 6:if(l=Oe,n=nt,Oe=null,la(e,t,a),Oe=l,nt=n,Oe!==null)if(nt)try{(Oe.nodeType===9?Oe.body:Oe.nodeName==="HTML"?Oe.ownerDocument.body:Oe).removeChild(a.stateNode)}catch(i){_e(a,t,i)}else try{Oe.removeChild(a.stateNode)}catch(i){_e(a,t,i)}break;case 18:Oe!==null&&(nt?(e=Oe,lm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),$l(e)):lm(Oe,a.stateNode));break;case 4:l=Oe,n=nt,Oe=a.stateNode.containerInfo,nt=!0,la(e,t,a),Oe=l,nt=n;break;case 0:case 11:case 14:case 15:Sa(2,a,t),Xe||Sa(4,a,t),la(e,t,a);break;case 1:Xe||(kt(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&lf(a,t,l)),la(e,t,a);break;case 21:la(e,t,a);break;case 22:Xe=(l=Xe)||a.memoizedState!==null,la(e,t,a),Xe=l;break;default:la(e,t,a)}}function ff(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{$l(e)}catch(a){_e(t,t.return,a)}}}function mf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$l(e)}catch(a){_e(t,t.return,a)}}function t0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new rf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new rf),t;default:throw Error(r(435,e.tag))}}function Jn(e,t){var a=t0(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var n=u0.bind(null,e,l);l.then(n,n)}})}function it(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var n=a[l],i=e,o=t,f=o;e:for(;f!==null;){switch(f.tag){case 27:if(Da(f.type)){Oe=f.stateNode,nt=!1;break e}break;case 5:Oe=f.stateNode,nt=!1;break e;case 3:case 4:Oe=f.stateNode.containerInfo,nt=!0;break e}f=f.return}if(Oe===null)throw Error(r(160));df(i,o,n),Oe=null,nt=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)hf(t,e),t=t.sibling}var Lt=null;function hf(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:it(t,e),ct(e),l&4&&(Sa(3,e,e.return),Ts(3,e),Sa(5,e,e.return));break;case 1:it(t,e),ct(e),l&512&&(Xe||a===null||kt(a,a.return)),l&64&&aa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var n=Lt;if(it(t,e),ct(e),l&512&&(Xe||a===null||kt(a,a.return)),l&4){var i=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(l){case"title":i=n.getElementsByTagName("title")[0],(!i||i[as]||i[Ke]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(l),n.head.insertBefore(i,n.querySelector("head > title"))),Ie(i,l,a),i[Ke]=e,Ze(i),l=i;break e;case"link":var o=hm("link","href",n).get(l+(a.href||""));if(o){for(var f=0;f<o.length;f++)if(i=o[f],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){o.splice(f,1);break t}}i=n.createElement(l),Ie(i,l,a),n.head.appendChild(i);break;case"meta":if(o=hm("meta","content",n).get(l+(a.content||""))){for(f=0;f<o.length;f++)if(i=o[f],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){o.splice(f,1);break t}}i=n.createElement(l),Ie(i,l,a),n.head.appendChild(i);break;default:throw Error(r(468,l))}i[Ke]=e,Ze(i),l=i}e.stateNode=l}else xm(n,e.type,e.stateNode);else e.stateNode=mm(n,l,e.memoizedProps);else i!==l?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,l===null?xm(n,e.type,e.stateNode):mm(n,l,e.memoizedProps)):l===null&&e.stateNode!==null&&br(e,e.memoizedProps,a.memoizedProps)}break;case 27:it(t,e),ct(e),l&512&&(Xe||a===null||kt(a,a.return)),a!==null&&l&4&&br(e,e.memoizedProps,a.memoizedProps);break;case 5:if(it(t,e),ct(e),l&512&&(Xe||a===null||kt(a,a.return)),e.flags&32){n=e.stateNode;try{vl(n,"")}catch(P){_e(e,e.return,P)}}l&4&&e.stateNode!=null&&(n=e.memoizedProps,br(e,n,a!==null?a.memoizedProps:n)),l&1024&&(yr=!0);break;case 6:if(it(t,e),ct(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(P){_e(e,e.return,P)}}break;case 3:if(oi=null,n=Lt,Lt=ci(t.containerInfo),it(t,e),Lt=n,ct(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{$l(t.containerInfo)}catch(P){_e(e,e.return,P)}yr&&(yr=!1,xf(e));break;case 4:l=Lt,Lt=ci(e.stateNode.containerInfo),it(t,e),ct(e),Lt=l;break;case 12:it(t,e),ct(e);break;case 31:it(t,e),ct(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Jn(e,l)));break;case 13:it(t,e),ct(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Fn=dt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Jn(e,l)));break;case 22:n=e.memoizedState!==null;var v=a!==null&&a.memoizedState!==null,A=aa,B=Xe;if(aa=A||n,Xe=B||v,it(t,e),Xe=B,aa=A,ct(e),l&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||v||aa||Xe||sl(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){v=a=t;try{if(i=v.stateNode,n)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{f=v.stateNode;var X=v.memoizedProps.style,T=X!=null&&X.hasOwnProperty("display")?X.display:null;f.style.display=T==null||typeof T=="boolean"?"":(""+T).trim()}}catch(P){_e(v,v.return,P)}}}else if(t.tag===6){if(a===null){v=t;try{v.stateNode.nodeValue=n?"":v.memoizedProps}catch(P){_e(v,v.return,P)}}}else if(t.tag===18){if(a===null){v=t;try{var O=v.stateNode;n?sm(O,!0):sm(v.stateNode,!1)}catch(P){_e(v,v.return,P)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Jn(e,a))));break;case 19:it(t,e),ct(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Jn(e,l)));break;case 30:break;case 21:break;default:it(t,e),ct(e)}}function ct(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(nf(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var n=a.stateNode,i=gr(e);Zn(e,i,n);break;case 5:var o=a.stateNode;a.flags&32&&(vl(o,""),a.flags&=-33);var f=gr(e);Zn(e,f,o);break;case 3:case 4:var v=a.stateNode.containerInfo,A=gr(e);vr(e,A,v);break;default:throw Error(r(161))}}catch(B){_e(e,e.return,B)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;xf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function sa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)of(e,t.alternate,t),t=t.sibling}function sl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Sa(4,t,t.return),sl(t);break;case 1:kt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&lf(t,t.return,a),sl(t);break;case 27:Hs(t.stateNode);case 26:case 5:kt(t,t.return),sl(t);break;case 22:t.memoizedState===null&&sl(t);break;case 30:sl(t);break;default:sl(t)}e=e.sibling}}function na(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,n=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:na(n,i,a),Ts(4,i);break;case 1:if(na(n,i,a),l=i,n=l.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(A){_e(l,l.return,A)}if(l=i,n=l.updateQueue,n!==null){var f=l.stateNode;try{var v=n.shared.hiddenCallbacks;if(v!==null)for(n.shared.hiddenCallbacks=null,n=0;n<v.length;n++)Vu(v[n],f)}catch(A){_e(l,l.return,A)}}a&&o&64&&af(i),Es(i,i.return);break;case 27:cf(i);case 26:case 5:na(n,i,a),a&&l===null&&o&4&&sf(i),Es(i,i.return);break;case 12:na(n,i,a);break;case 31:na(n,i,a),a&&o&4&&ff(n,i);break;case 13:na(n,i,a),a&&o&4&&mf(n,i);break;case 22:i.memoizedState===null&&na(n,i,a),Es(i,i.return);break;case 30:break;default:na(n,i,a)}t=t.sibling}}function jr(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&xs(a))}function Nr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&xs(e))}function Ut(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)pf(e,t,a,l),t=t.sibling}function pf(e,t,a,l){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Ut(e,t,a,l),n&2048&&Ts(9,t);break;case 1:Ut(e,t,a,l);break;case 3:Ut(e,t,a,l),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&xs(e)));break;case 12:if(n&2048){Ut(e,t,a,l),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,f=i.onPostCommit;typeof f=="function"&&f(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(v){_e(t,t.return,v)}}else Ut(e,t,a,l);break;case 31:Ut(e,t,a,l);break;case 13:Ut(e,t,a,l);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?Ut(e,t,a,l):Ms(e,t):i._visibility&2?Ut(e,t,a,l):(i._visibility|=2,ql(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),n&2048&&jr(o,t);break;case 24:Ut(e,t,a,l),n&2048&&Nr(t.alternate,t);break;default:Ut(e,t,a,l)}}function ql(e,t,a,l,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,o=t,f=a,v=l,A=o.flags;switch(o.tag){case 0:case 11:case 15:ql(i,o,f,v,n),Ts(8,o);break;case 23:break;case 22:var B=o.stateNode;o.memoizedState!==null?B._visibility&2?ql(i,o,f,v,n):Ms(i,o):(B._visibility|=2,ql(i,o,f,v,n)),n&&A&2048&&jr(o.alternate,o);break;case 24:ql(i,o,f,v,n),n&&A&2048&&Nr(o.alternate,o);break;default:ql(i,o,f,v,n)}t=t.sibling}}function Ms(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,n=l.flags;switch(l.tag){case 22:Ms(a,l),n&2048&&jr(l.alternate,l);break;case 24:Ms(a,l),n&2048&&Nr(l.alternate,l);break;default:Ms(a,l)}t=t.sibling}}var Ds=8192;function kl(e,t,a){if(e.subtreeFlags&Ds)for(e=e.child;e!==null;)bf(e,t,a),e=e.sibling}function bf(e,t,a){switch(e.tag){case 26:kl(e,t,a),e.flags&Ds&&e.memoizedState!==null&&Y0(a,Lt,e.memoizedState,e.memoizedProps);break;case 5:kl(e,t,a);break;case 3:case 4:var l=Lt;Lt=ci(e.stateNode.containerInfo),kl(e,t,a),Lt=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Ds,Ds=16777216,kl(e,t,a),Ds=l):kl(e,t,a));break;default:kl(e,t,a)}}function gf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function zs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Je=l,yf(l,e)}gf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vf(e),e=e.sibling}function vf(e){switch(e.tag){case 0:case 11:case 15:zs(e),e.flags&2048&&Sa(9,e,e.return);break;case 3:zs(e);break;case 12:zs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Kn(e)):zs(e);break;default:zs(e)}}function Kn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Je=l,yf(l,e)}gf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Sa(8,t,t.return),Kn(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Kn(t));break;default:Kn(t)}e=e.sibling}}function yf(e,t){for(;Je!==null;){var a=Je;switch(a.tag){case 0:case 11:case 15:Sa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xs(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Je=l;else e:for(a=e;Je!==null;){l=Je;var n=l.sibling,i=l.return;if(uf(l),l===a){Je=null;break e}if(n!==null){n.return=i,Je=n;break e}Je=i}}}var a0={getCacheForType:function(e){var t=$e(qe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return $e(qe).controller.signal}},l0=typeof WeakMap=="function"?WeakMap:Map,ve=0,Te=null,de=null,he=0,Ne=0,gt=null,wa=!1,Yl=!1,_r=!1,ia=0,Le=0,Ca=0,nl=0,Sr=0,vt=0,Xl=0,Os=null,rt=null,wr=!1,Fn=0,jf=0,$n=1/0,Wn=null,Aa=null,Ge=0,Ta=null,Ql=null,ca=0,Cr=0,Ar=null,Nf=null,Rs=0,Tr=null;function yt(){return(ve&2)!==0&&he!==0?he&-he:U.T!==null?Rr():Bo()}function _f(){if(vt===0)if((he&536870912)===0||pe){var e=sn;sn<<=1,(sn&3932160)===0&&(sn=262144),vt=e}else vt=536870912;return e=pt.current,e!==null&&(e.flags|=32),vt}function ot(e,t,a){(e===Te&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)&&(Gl(e,0),Ea(e,he,vt,!1)),ts(e,a),((ve&2)===0||e!==Te)&&(e===Te&&((ve&2)===0&&(nl|=a),Le===4&&Ea(e,he,vt,!1)),Yt(e))}function Sf(e,t,a){if((ve&6)!==0)throw Error(r(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||es(e,t),n=l?i0(e,t):Mr(e,t,!0),i=l;do{if(n===0){Yl&&!l&&Ea(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!s0(a)){n=Mr(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var f=e;n=Os;var v=f.current.memoizedState.isDehydrated;if(v&&(Gl(f,o).flags|=256),o=Mr(f,o,!1),o!==2){if(_r&&!v){f.errorRecoveryDisabledLanes|=i,nl|=i,n=4;break e}i=rt,rt=n,i!==null&&(rt===null?rt=i:rt.push.apply(rt,i))}n=o}if(i=!1,n!==2)continue}}if(n===1){Gl(e,0),Ea(e,t,0,!0);break}e:{switch(l=e,i=n,i){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Ea(l,t,vt,!wa);break e;case 2:rt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(n=Fn+300-dt(),10<n)){if(Ea(l,t,vt,!wa),cn(l,0,!0)!==0)break e;ca=t,l.timeoutHandle=tm(wf.bind(null,l,a,rt,Wn,wr,t,vt,nl,Xl,wa,i,"Throttled",-0,0),n);break e}wf(l,a,rt,Wn,wr,t,vt,nl,Xl,wa,i,null,-0,0)}}break}while(!0);Yt(e)}function wf(e,t,a,l,n,i,o,f,v,A,B,X,T,O){if(e.timeoutHandle=-1,X=t.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zt},bf(t,i,X);var P=(i&62914560)===i?Fn-dt():(i&4194048)===i?jf-dt():0;if(P=X0(X,P),P!==null){ca=i,e.cancelPendingCommit=P(Of.bind(null,e,t,i,a,l,n,o,f,v,B,X,null,T,O)),Ea(e,i,o,!A);return}}Of(e,t,i,a,l,n,o,f,v)}function s0(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var n=a[l],i=n.getSnapshot;n=n.value;try{if(!ht(i(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ea(e,t,a,l){t&=~Sr,t&=~nl,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var n=t;0<n;){var i=31-mt(n),o=1<<i;l[i]=-1,n&=~o}a!==0&&Ro(e,a,t)}function In(){return(ve&6)===0?(Ls(0),!1):!0}function Er(){if(de!==null){if(Ne===0)var e=de.return;else e=de,$t=$a=null,Vc(e),Rl=null,bs=0,e=de;for(;e!==null;)tf(e.alternate,e),e=e.return;de=null}}function Gl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,S0(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ca=0,Er(),Te=e,de=a=Kt(e.current,null),he=t,Ne=0,gt=null,wa=!1,Yl=es(e,t),_r=!1,Xl=vt=Sr=nl=Ca=Le=0,rt=Os=null,wr=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var n=31-mt(l),i=1<<n;t|=e[n],l&=~i}return ia=t,vn(),a}function Cf(e,t){re=null,U.H=ws,t===Ol||t===An?(t=Yu(),Ne=3):t===Oc?(t=Yu(),Ne=4):Ne=t===cr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,gt=t,de===null&&(Le=1,Yn(e,Ct(t,e.current)))}function Af(){var e=pt.current;return e===null?!0:(he&4194048)===he?Mt===null:(he&62914560)===he||(he&536870912)!==0?e===Mt:!1}function Tf(){var e=U.H;return U.H=ws,e===null?ws:e}function Ef(){var e=U.A;return U.A=a0,e}function Pn(){Le=4,wa||(he&4194048)!==he&&pt.current!==null||(Yl=!0),(Ca&134217727)===0&&(nl&134217727)===0||Te===null||Ea(Te,he,vt,!1)}function Mr(e,t,a){var l=ve;ve|=2;var n=Tf(),i=Ef();(Te!==e||he!==t)&&(Wn=null,Gl(e,t)),t=!1;var o=Le;e:do try{if(Ne!==0&&de!==null){var f=de,v=gt;switch(Ne){case 8:Er(),o=6;break e;case 3:case 2:case 9:case 6:pt.current===null&&(t=!0);var A=Ne;if(Ne=0,gt=null,Vl(e,f,v,A),a&&Yl){o=0;break e}break;default:A=Ne,Ne=0,gt=null,Vl(e,f,v,A)}}n0(),o=Le;break}catch(B){Cf(e,B)}while(!0);return t&&e.shellSuspendCounter++,$t=$a=null,ve=l,U.H=n,U.A=i,de===null&&(Te=null,he=0,vn()),o}function n0(){for(;de!==null;)Mf(de)}function i0(e,t){var a=ve;ve|=2;var l=Tf(),n=Ef();Te!==e||he!==t?(Wn=null,$n=dt()+500,Gl(e,t)):Yl=es(e,t);e:do try{if(Ne!==0&&de!==null){t=de;var i=gt;t:switch(Ne){case 1:Ne=0,gt=null,Vl(e,t,i,1);break;case 2:case 9:if(qu(i)){Ne=0,gt=null,Df(t);break}t=function(){Ne!==2&&Ne!==9||Te!==e||(Ne=7),Yt(e)},i.then(t,t);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:qu(i)?(Ne=0,gt=null,Df(t)):(Ne=0,gt=null,Vl(e,t,i,7));break;case 5:var o=null;switch(de.tag){case 26:o=de.memoizedState;case 5:case 27:var f=de;if(o?pm(o):f.stateNode.complete){Ne=0,gt=null;var v=f.sibling;if(v!==null)de=v;else{var A=f.return;A!==null?(de=A,ei(A)):de=null}break t}}Ne=0,gt=null,Vl(e,t,i,5);break;case 6:Ne=0,gt=null,Vl(e,t,i,6);break;case 8:Er(),Le=6;break e;default:throw Error(r(462))}}c0();break}catch(B){Cf(e,B)}while(!0);return $t=$a=null,U.H=l,U.A=n,ve=a,de!==null?0:(Te=null,he=0,vn(),Le)}function c0(){for(;de!==null&&!Mh();)Mf(de)}function Mf(e){var t=Pd(e.alternate,e,ia);e.memoizedProps=e.pendingProps,t===null?ei(e):de=t}function Df(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Jd(a,t,t.pendingProps,t.type,void 0,he);break;case 11:t=Jd(a,t,t.pendingProps,t.type.render,t.ref,he);break;case 5:Vc(t);default:tf(a,t),t=de=Tu(t,ia),t=Pd(a,t,ia)}e.memoizedProps=e.pendingProps,t===null?ei(e):de=t}function Vl(e,t,a,l){$t=$a=null,Vc(t),Rl=null,bs=0;var n=t.return;try{if(Fx(e,n,t,a,he)){Le=1,Yn(e,Ct(a,e.current)),de=null;return}}catch(i){if(n!==null)throw de=n,i;Le=1,Yn(e,Ct(a,e.current)),de=null;return}t.flags&32768?(pe||l===1?e=!0:Yl||(he&536870912)!==0?e=!1:(wa=e=!0,(l===2||l===9||l===3||l===6)&&(l=pt.current,l!==null&&l.tag===13&&(l.flags|=16384))),zf(t,e)):ei(t)}function ei(e){var t=e;do{if((t.flags&32768)!==0){zf(t,wa);return}e=t.return;var a=Ix(t.alternate,t,ia);if(a!==null){de=a;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);Le===0&&(Le=5)}function zf(e,t){do{var a=Px(e.alternate,e);if(a!==null){a.flags&=32767,de=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){de=e;return}de=e=a}while(e!==null);Le=6,de=null}function Of(e,t,a,l,n,i,o,f,v){e.cancelPendingCommit=null;do ti();while(Ge!==0);if((ve&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(i=t.lanes|t.childLanes,i|=gc,kh(e,a,i,o,f,v),e===Te&&(de=Te=null,he=0),Ql=t,Ta=e,ca=a,Cr=i,Ar=n,Nf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,d0(an,function(){return Hf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,n=L.p,L.p=2,o=ve,ve|=4;try{e0(e,t,a)}finally{ve=o,L.p=n,U.T=l}}Ge=1,Rf(),Lf(),Uf()}}function Rf(){if(Ge===1){Ge=0;var e=Ta,t=Ql,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var l=L.p;L.p=2;var n=ve;ve|=4;try{hf(t,e);var i=Xr,o=vu(e.containerInfo),f=i.focusedElem,v=i.selectionRange;if(o!==f&&f&&f.ownerDocument&&gu(f.ownerDocument.documentElement,f)){if(v!==null&&mc(f)){var A=v.start,B=v.end;if(B===void 0&&(B=A),"selectionStart"in f)f.selectionStart=A,f.selectionEnd=Math.min(B,f.value.length);else{var X=f.ownerDocument||document,T=X&&X.defaultView||window;if(T.getSelection){var O=T.getSelection(),P=f.textContent.length,ne=Math.min(v.start,P),Ce=v.end===void 0?ne:Math.min(v.end,P);!O.extend&&ne>Ce&&(o=Ce,Ce=ne,ne=o);var N=bu(f,ne),j=bu(f,Ce);if(N&&j&&(O.rangeCount!==1||O.anchorNode!==N.node||O.anchorOffset!==N.offset||O.focusNode!==j.node||O.focusOffset!==j.offset)){var w=X.createRange();w.setStart(N.node,N.offset),O.removeAllRanges(),ne>Ce?(O.addRange(w),O.extend(j.node,j.offset)):(w.setEnd(j.node,j.offset),O.addRange(w))}}}}for(X=[],O=f;O=O.parentNode;)O.nodeType===1&&X.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<X.length;f++){var q=X[f];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}mi=!!Yr,Xr=Yr=null}finally{ve=n,L.p=l,U.T=a}}e.current=t,Ge=2}}function Lf(){if(Ge===2){Ge=0;var e=Ta,t=Ql,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var l=L.p;L.p=2;var n=ve;ve|=4;try{of(e,t.alternate,t)}finally{ve=n,L.p=l,U.T=a}}Ge=3}}function Uf(){if(Ge===4||Ge===3){Ge=0,Dh();var e=Ta,t=Ql,a=ca,l=Nf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ge=5:(Ge=0,Ql=Ta=null,Bf(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(Aa=null),Ki(a),t=t.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Pl,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=U.T,n=L.p,L.p=2,U.T=null;try{for(var i=e.onRecoverableError,o=0;o<l.length;o++){var f=l[o];i(f.value,{componentStack:f.stack})}}finally{U.T=t,L.p=n}}(ca&3)!==0&&ti(),Yt(e),n=e.pendingLanes,(a&261930)!==0&&(n&42)!==0?e===Tr?Rs++:(Rs=0,Tr=e):Rs=0,Ls(0)}}function Bf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,xs(t)))}function ti(){return Rf(),Lf(),Uf(),Hf()}function Hf(){if(Ge!==5)return!1;var e=Ta,t=Cr;Cr=0;var a=Ki(ca),l=U.T,n=L.p;try{L.p=32>a?32:a,U.T=null,a=Ar,Ar=null;var i=Ta,o=ca;if(Ge=0,Ql=Ta=null,ca=0,(ve&6)!==0)throw Error(r(331));var f=ve;if(ve|=4,vf(i.current),pf(i,i.current,o,a),ve=f,Ls(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Pl,i)}catch{}return!0}finally{L.p=n,U.T=l,Bf(e,t)}}function qf(e,t,a){t=Ct(a,t),t=ir(e.stateNode,t,2),e=ja(e,t,2),e!==null&&(ts(e,2),Yt(e))}function _e(e,t,a){if(e.tag===3)qf(e,e,a);else for(;t!==null;){if(t.tag===3){qf(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Aa===null||!Aa.has(l))){e=Ct(a,e),a=qd(2),l=ja(t,a,2),l!==null&&(kd(a,l,t,e),ts(l,2),Yt(l));break}}t=t.return}}function Dr(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new l0;var n=new Set;l.set(t,n)}else n=l.get(t),n===void 0&&(n=new Set,l.set(t,n));n.has(a)||(_r=!0,n.add(a),e=r0.bind(null,e,t,a),t.then(e,e))}function r0(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Te===e&&(he&a)===a&&(Le===4||Le===3&&(he&62914560)===he&&300>dt()-Fn?(ve&2)===0&&Gl(e,0):Sr|=a,Xl===he&&(Xl=0)),Yt(e)}function kf(e,t){t===0&&(t=Oo()),e=Ja(e,t),e!==null&&(ts(e,t),Yt(e))}function o0(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),kf(e,a)}function u0(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),kf(e,a)}function d0(e,t){return Gi(e,t)}var ai=null,Zl=null,zr=!1,li=!1,Or=!1,Ma=0;function Yt(e){e!==Zl&&e.next===null&&(Zl===null?ai=Zl=e:Zl=Zl.next=e),li=!0,zr||(zr=!0,m0())}function Ls(e,t){if(!Or&&li){Or=!0;do for(var a=!1,l=ai;l!==null;){if(e!==0){var n=l.pendingLanes;if(n===0)var i=0;else{var o=l.suspendedLanes,f=l.pingedLanes;i=(1<<31-mt(42|e)+1)-1,i&=n&~(o&~f),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,Gf(l,i))}else i=he,i=cn(l,l===Te?i:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(i&3)===0||es(l,i)||(a=!0,Gf(l,i));l=l.next}while(a);Or=!1}}function f0(){Yf()}function Yf(){li=zr=!1;var e=0;Ma!==0&&_0()&&(e=Ma);for(var t=dt(),a=null,l=ai;l!==null;){var n=l.next,i=Xf(l,t);i===0?(l.next=null,a===null?ai=n:a.next=n,n===null&&(Zl=a)):(a=l,(e!==0||(i&3)!==0)&&(li=!0)),l=n}Ge!==0&&Ge!==5||Ls(e),Ma!==0&&(Ma=0)}function Xf(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-mt(i),f=1<<o,v=n[o];v===-1?((f&a)===0||(f&l)!==0)&&(n[o]=qh(f,t)):v<=t&&(e.expiredLanes|=f),i&=~f}if(t=Te,a=he,a=cn(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Vi(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||es(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&Vi(l),Ki(a)){case 2:case 8:a=Do;break;case 32:a=an;break;case 268435456:a=zo;break;default:a=an}return l=Qf.bind(null,e),a=Gi(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&Vi(l),e.callbackPriority=2,e.callbackNode=null,2}function Qf(e,t){if(Ge!==0&&Ge!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ti()&&e.callbackNode!==a)return null;var l=he;return l=cn(e,e===Te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Sf(e,l,t),Xf(e,dt()),e.callbackNode!=null&&e.callbackNode===a?Qf.bind(null,e):null)}function Gf(e,t){if(ti())return null;Sf(e,t,!0)}function m0(){w0(function(){(ve&6)!==0?Gi(Mo,f0):Yf()})}function Rr(){if(Ma===0){var e=Dl;e===0&&(e=ln,ln<<=1,(ln&261888)===0&&(ln=256)),Ma=e}return Ma}function Vf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:dn(""+e)}function Zf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function h0(e,t,a,l,n){if(t==="submit"&&a&&a.stateNode===n){var i=Vf((n[lt]||null).action),o=l.submitter;o&&(t=(t=o[lt]||null)?Vf(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var f=new xn("action","action",null,l,n);e.push({event:f,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ma!==0){var v=o?Zf(n,o):new FormData(n);er(a,{pending:!0,data:v,method:n.method,action:i},null,v)}}else typeof i=="function"&&(f.preventDefault(),v=o?Zf(n,o):new FormData(n),er(a,{pending:!0,data:v,method:n.method,action:i},i,v))},currentTarget:n}]})}}for(var Lr=0;Lr<bc.length;Lr++){var Ur=bc[Lr],x0=Ur.toLowerCase(),p0=Ur[0].toUpperCase()+Ur.slice(1);Rt(x0,"on"+p0)}Rt(Nu,"onAnimationEnd"),Rt(_u,"onAnimationIteration"),Rt(Su,"onAnimationStart"),Rt("dblclick","onDoubleClick"),Rt("focusin","onFocus"),Rt("focusout","onBlur"),Rt(zx,"onTransitionRun"),Rt(Ox,"onTransitionStart"),Rt(Rx,"onTransitionCancel"),Rt(wu,"onTransitionEnd"),bl("onMouseEnter",["mouseout","mouseover"]),bl("onMouseLeave",["mouseout","mouseover"]),bl("onPointerEnter",["pointerout","pointerover"]),bl("onPointerLeave",["pointerout","pointerover"]),Qa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Us));function Jf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],n=l.event;l=l.listeners;e:{var i=void 0;if(t)for(var o=l.length-1;0<=o;o--){var f=l[o],v=f.instance,A=f.currentTarget;if(f=f.listener,v!==i&&n.isPropagationStopped())break e;i=f,n.currentTarget=A;try{i(n)}catch(B){gn(B)}n.currentTarget=null,i=v}else for(o=0;o<l.length;o++){if(f=l[o],v=f.instance,A=f.currentTarget,f=f.listener,v!==i&&n.isPropagationStopped())break e;i=f,n.currentTarget=A;try{i(n)}catch(B){gn(B)}n.currentTarget=null,i=v}}}}function fe(e,t){var a=t[Fi];a===void 0&&(a=t[Fi]=new Set);var l=e+"__bubble";a.has(l)||(Kf(t,e,2,!1),a.add(l))}function Br(e,t,a){var l=0;t&&(l|=4),Kf(a,e,l,t)}var si="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[si]){e[si]=!0,ko.forEach(function(a){a!=="selectionchange"&&(b0.has(a)||Br(a,!1,e),Br(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[si]||(t[si]=!0,Br("selectionchange",!1,t))}}function Kf(e,t,a,l){switch(_m(t)){case 2:var n=V0;break;case 8:n=Z0;break;default:n=Pr}a=n.bind(null,t,a,e),n=void 0,!sc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),l?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function qr(e,t,a,l,n){var i=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var o=l.tag;if(o===3||o===4){var f=l.stateNode.containerInfo;if(f===n)break;if(o===4)for(o=l.return;o!==null;){var v=o.tag;if((v===3||v===4)&&o.stateNode.containerInfo===n)return;o=o.return}for(;f!==null;){if(o=hl(f),o===null)return;if(v=o.tag,v===5||v===6||v===26||v===27){l=i=o;continue e}f=f.parentNode}}l=l.return}Io(function(){var A=i,B=ac(a),X=[];e:{var T=Cu.get(e);if(T!==void 0){var O=xn,P=e;switch(e){case"keypress":if(mn(a)===0)break e;case"keydown":case"keyup":O=ux;break;case"focusin":P="focus",O=rc;break;case"focusout":P="blur",O=rc;break;case"beforeblur":case"afterblur":O=rc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=tu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=Ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=mx;break;case Nu:case _u:case Su:O=tx;break;case wu:O=xx;break;case"scroll":case"scrollend":O=$h;break;case"wheel":O=bx;break;case"copy":case"cut":case"paste":O=lx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=lu;break;case"toggle":case"beforetoggle":O=vx}var ne=(t&4)!==0,Ce=!ne&&(e==="scroll"||e==="scrollend"),N=ne?T!==null?T+"Capture":null:T;ne=[];for(var j=A,w;j!==null;){var q=j;if(w=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||w===null||N===null||(q=ss(j,N),q!=null&&ne.push(Bs(j,q,w))),Ce)break;j=j.return}0<ne.length&&(T=new O(T,P,null,a,B),X.push({event:T,listeners:ne}))}}if((t&7)===0){e:{if(T=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",T&&a!==tc&&(P=a.relatedTarget||a.fromElement)&&(hl(P)||P[ml]))break e;if((O||T)&&(T=B.window===B?B:(T=B.ownerDocument)?T.defaultView||T.parentWindow:window,O?(P=a.relatedTarget||a.toElement,O=A,P=P?hl(P):null,P!==null&&(Ce=h(P),ne=P.tag,P!==Ce||ne!==5&&ne!==27&&ne!==6)&&(P=null)):(O=null,P=A),O!==P)){if(ne=tu,q="onMouseLeave",N="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(ne=lu,q="onPointerLeave",N="onPointerEnter",j="pointer"),Ce=O==null?T:ls(O),w=P==null?T:ls(P),T=new ne(q,j+"leave",O,a,B),T.target=Ce,T.relatedTarget=w,q=null,hl(B)===A&&(ne=new ne(N,j+"enter",P,a,B),ne.target=w,ne.relatedTarget=Ce,q=ne),Ce=q,O&&P)t:{for(ne=g0,N=O,j=P,w=0,q=N;q;q=ne(q))w++;q=0;for(var le=j;le;le=ne(le))q++;for(;0<w-q;)N=ne(N),w--;for(;0<q-w;)j=ne(j),q--;for(;w--;){if(N===j||j!==null&&N===j.alternate){ne=N;break t}N=ne(N),j=ne(j)}ne=null}else ne=null;O!==null&&Ff(X,T,O,ne,!1),P!==null&&Ce!==null&&Ff(X,Ce,P,ne,!0)}}e:{if(T=A?ls(A):window,O=T.nodeName&&T.nodeName.toLowerCase(),O==="select"||O==="input"&&T.type==="file")var be=du;else if(ou(T))if(fu)be=Ex;else{be=Ax;var ee=Cx}else O=T.nodeName,!O||O.toLowerCase()!=="input"||T.type!=="checkbox"&&T.type!=="radio"?A&&ec(A.elementType)&&(be=du):be=Tx;if(be&&(be=be(e,A))){uu(X,be,a,B);break e}ee&&ee(e,T,A),e==="focusout"&&A&&T.type==="number"&&A.memoizedProps.value!=null&&Pi(T,"number",T.value)}switch(ee=A?ls(A):window,e){case"focusin":(ou(ee)||ee.contentEditable==="true")&&(_l=ee,hc=A,fs=null);break;case"focusout":fs=hc=_l=null;break;case"mousedown":xc=!0;break;case"contextmenu":case"mouseup":case"dragend":xc=!1,yu(X,a,B);break;case"selectionchange":if(Dx)break;case"keydown":case"keyup":yu(X,a,B)}var ue;if(uc)e:{switch(e){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Nl?cu(e,a)&&(xe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(su&&a.locale!=="ko"&&(Nl||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Nl&&(ue=Po()):(ha=B,nc="value"in ha?ha.value:ha.textContent,Nl=!0)),ee=ni(A,xe),0<ee.length&&(xe=new au(xe,e,null,a,B),X.push({event:xe,listeners:ee}),ue?xe.data=ue:(ue=ru(a),ue!==null&&(xe.data=ue)))),(ue=jx?Nx(e,a):_x(e,a))&&(xe=ni(A,"onBeforeInput"),0<xe.length&&(ee=new au("onBeforeInput","beforeinput",null,a,B),X.push({event:ee,listeners:xe}),ee.data=ue)),h0(X,e,A,a,B)}Jf(X,t)})}function Bs(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ni(e,t){for(var a=t+"Capture",l=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=ss(e,a),n!=null&&l.unshift(Bs(e,n,i)),n=ss(e,t),n!=null&&l.push(Bs(e,n,i))),e.tag===3)return l;e=e.return}return[]}function g0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ff(e,t,a,l,n){for(var i=t._reactName,o=[];a!==null&&a!==l;){var f=a,v=f.alternate,A=f.stateNode;if(f=f.tag,v!==null&&v===l)break;f!==5&&f!==26&&f!==27||A===null||(v=A,n?(A=ss(a,i),A!=null&&o.unshift(Bs(a,A,v))):n||(A=ss(a,i),A!=null&&o.push(Bs(a,A,v)))),a=a.return}o.length!==0&&e.push({event:t,listeners:o})}var v0=/\r\n?/g,y0=/\u0000|\uFFFD/g;function $f(e){return(typeof e=="string"?e:""+e).replace(v0,`
`).replace(y0,"")}function Wf(e,t){return t=$f(t),$f(e)===t}function we(e,t,a,l,n,i){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||vl(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&vl(e,""+l);break;case"className":on(e,"class",l);break;case"tabIndex":on(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":on(e,a,l);break;case"style":$o(e,l,i);break;case"data":if(t!=="object"){on(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=dn(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&we(e,t,"name",n.name,n,null),we(e,t,"formEncType",n.formEncType,n,null),we(e,t,"formMethod",n.formMethod,n,null),we(e,t,"formTarget",n.formTarget,n,null)):(we(e,t,"encType",n.encType,n,null),we(e,t,"method",n.method,n,null),we(e,t,"target",n.target,n,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=dn(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Zt);break;case"onScroll":l!=null&&fe("scroll",e);break;case"onScrollEnd":l!=null&&fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=dn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":fe("beforetoggle",e),fe("toggle",e),rn(e,"popover",l);break;case"xlinkActuate":Vt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":rn(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Kh.get(a)||a,rn(e,a,l))}}function kr(e,t,a,l,n,i){switch(a){case"style":$o(e,l,i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?vl(e,l):(typeof l=="number"||typeof l=="bigint")&&vl(e,""+l);break;case"onScroll":l!=null&&fe("scroll",e);break;case"onScrollEnd":l!=null&&fe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Zt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),i=e[lt]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof l=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,n);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):rn(e,a,l)}}}function Ie(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",e),fe("load",e);var l=!1,n=!1,i;for(i in a)if(a.hasOwnProperty(i)){var o=a[i];if(o!=null)switch(i){case"src":l=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:we(e,t,i,o,a,null)}}n&&we(e,t,"srcSet",a.srcSet,a,null),l&&we(e,t,"src",a.src,a,null);return;case"input":fe("invalid",e);var f=i=o=n=null,v=null,A=null;for(l in a)if(a.hasOwnProperty(l)){var B=a[l];if(B!=null)switch(l){case"name":n=B;break;case"type":o=B;break;case"checked":v=B;break;case"defaultChecked":A=B;break;case"value":i=B;break;case"defaultValue":f=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,t));break;default:we(e,t,l,B,a,null)}}Zo(e,i,f,v,A,o,n,!1);return;case"select":fe("invalid",e),l=o=i=null;for(n in a)if(a.hasOwnProperty(n)&&(f=a[n],f!=null))switch(n){case"value":i=f;break;case"defaultValue":o=f;break;case"multiple":l=f;default:we(e,t,n,f,a,null)}t=i,a=o,e.multiple=!!l,t!=null?gl(e,!!l,t,!1):a!=null&&gl(e,!!l,a,!0);return;case"textarea":fe("invalid",e),i=n=l=null;for(o in a)if(a.hasOwnProperty(o)&&(f=a[o],f!=null))switch(o){case"value":l=f;break;case"defaultValue":n=f;break;case"children":i=f;break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:we(e,t,o,f,a,null)}Ko(e,l,n,i);return;case"option":for(v in a)if(a.hasOwnProperty(v)&&(l=a[v],l!=null))switch(v){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:we(e,t,v,l,a,null)}return;case"dialog":fe("beforetoggle",e),fe("toggle",e),fe("cancel",e),fe("close",e);break;case"iframe":case"object":fe("load",e);break;case"video":case"audio":for(l=0;l<Us.length;l++)fe(Us[l],e);break;case"image":fe("error",e),fe("load",e);break;case"details":fe("toggle",e);break;case"embed":case"source":case"link":fe("error",e),fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in a)if(a.hasOwnProperty(A)&&(l=a[A],l!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:we(e,t,A,l,a,null)}return;default:if(ec(t)){for(B in a)a.hasOwnProperty(B)&&(l=a[B],l!==void 0&&kr(e,t,B,l,a,void 0));return}}for(f in a)a.hasOwnProperty(f)&&(l=a[f],l!=null&&we(e,t,f,l,a,null))}function j0(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,o=null,f=null,v=null,A=null,B=null;for(O in a){var X=a[O];if(a.hasOwnProperty(O)&&X!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":v=X;default:l.hasOwnProperty(O)||we(e,t,O,null,l,X)}}for(var T in l){var O=l[T];if(X=a[T],l.hasOwnProperty(T)&&(O!=null||X!=null))switch(T){case"type":i=O;break;case"name":n=O;break;case"checked":A=O;break;case"defaultChecked":B=O;break;case"value":o=O;break;case"defaultValue":f=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,t));break;default:O!==X&&we(e,t,T,O,l,X)}}Ii(e,o,f,v,A,B,i,n);return;case"select":O=o=f=T=null;for(i in a)if(v=a[i],a.hasOwnProperty(i)&&v!=null)switch(i){case"value":break;case"multiple":O=v;default:l.hasOwnProperty(i)||we(e,t,i,null,l,v)}for(n in l)if(i=l[n],v=a[n],l.hasOwnProperty(n)&&(i!=null||v!=null))switch(n){case"value":T=i;break;case"defaultValue":f=i;break;case"multiple":o=i;default:i!==v&&we(e,t,n,i,l,v)}t=f,a=o,l=O,T!=null?gl(e,!!a,T,!1):!!l!=!!a&&(t!=null?gl(e,!!a,t,!0):gl(e,!!a,a?[]:"",!1));return;case"textarea":O=T=null;for(f in a)if(n=a[f],a.hasOwnProperty(f)&&n!=null&&!l.hasOwnProperty(f))switch(f){case"value":break;case"children":break;default:we(e,t,f,null,l,n)}for(o in l)if(n=l[o],i=a[o],l.hasOwnProperty(o)&&(n!=null||i!=null))switch(o){case"value":T=n;break;case"defaultValue":O=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(r(91));break;default:n!==i&&we(e,t,o,n,l,i)}Jo(e,T,O);return;case"option":for(var P in a)if(T=a[P],a.hasOwnProperty(P)&&T!=null&&!l.hasOwnProperty(P))switch(P){case"selected":e.selected=!1;break;default:we(e,t,P,null,l,T)}for(v in l)if(T=l[v],O=a[v],l.hasOwnProperty(v)&&T!==O&&(T!=null||O!=null))switch(v){case"selected":e.selected=T&&typeof T!="function"&&typeof T!="symbol";break;default:we(e,t,v,T,l,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ne in a)T=a[ne],a.hasOwnProperty(ne)&&T!=null&&!l.hasOwnProperty(ne)&&we(e,t,ne,null,l,T);for(A in l)if(T=l[A],O=a[A],l.hasOwnProperty(A)&&T!==O&&(T!=null||O!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(137,t));break;default:we(e,t,A,T,l,O)}return;default:if(ec(t)){for(var Ce in a)T=a[Ce],a.hasOwnProperty(Ce)&&T!==void 0&&!l.hasOwnProperty(Ce)&&kr(e,t,Ce,void 0,l,T);for(B in l)T=l[B],O=a[B],!l.hasOwnProperty(B)||T===O||T===void 0&&O===void 0||kr(e,t,B,T,l,O);return}}for(var N in a)T=a[N],a.hasOwnProperty(N)&&T!=null&&!l.hasOwnProperty(N)&&we(e,t,N,null,l,T);for(X in l)T=l[X],O=a[X],!l.hasOwnProperty(X)||T===O||T==null&&O==null||we(e,t,X,T,l,O)}function If(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function N0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var n=a[l],i=n.transferSize,o=n.initiatorType,f=n.duration;if(i&&f&&If(o)){for(o=0,f=n.responseEnd,l+=1;l<a.length;l++){var v=a[l],A=v.startTime;if(A>f)break;var B=v.transferSize,X=v.initiatorType;B&&If(X)&&(v=v.responseEnd,o+=B*(v<f?1:(f-A)/(v-A)))}if(--l,t+=8*(i+o)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Yr=null,Xr=null;function ii(e){return e.nodeType===9?e:e.ownerDocument}function Pf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function em(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Qr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gr=null;function _0(){var e=window.event;return e&&e.type==="popstate"?e===Gr?!1:(Gr=e,!0):(Gr=null,!1)}var tm=typeof setTimeout=="function"?setTimeout:void 0,S0=typeof clearTimeout=="function"?clearTimeout:void 0,am=typeof Promise=="function"?Promise:void 0,w0=typeof queueMicrotask=="function"?queueMicrotask:typeof am<"u"?function(e){return am.resolve(null).then(e).catch(C0)}:tm;function C0(e){setTimeout(function(){throw e})}function Da(e){return e==="head"}function lm(e,t){var a=t,l=0;do{var n=a.nextSibling;if(e.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(n),$l(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Hs(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Hs(a);for(var i=a.firstChild;i;){var o=i.nextSibling,f=i.nodeName;i[as]||f==="SCRIPT"||f==="STYLE"||f==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=o}}else a==="body"&&Hs(e.ownerDocument.body);a=n}while(a);$l(t)}function sm(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Vr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vr(a),$i(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function A0(e,t,a,l){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[as])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Dt(e.nextSibling),e===null)break}return null}function T0(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Dt(e.nextSibling),e===null))return null;return e}function nm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Dt(e.nextSibling),e===null))return null;return e}function Zr(e){return e.data==="$?"||e.data==="$~"}function Jr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function E0(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Dt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Kr=null;function im(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Dt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function cm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function rm(e,t,a){switch(t=ii(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Hs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$i(e)}var zt=new Map,om=new Set;function ci(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ra=L.d;L.d={f:M0,r:D0,D:z0,C:O0,L:R0,m:L0,X:B0,S:U0,M:H0};function M0(){var e=ra.f(),t=In();return e||t}function D0(e){var t=xl(e);t!==null&&t.tag===5&&t.type==="form"?wd(t):ra.r(e)}var Jl=typeof document>"u"?null:document;function um(e,t,a){var l=Jl;if(l&&typeof t=="string"&&t){var n=St(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),om.has(n)||(om.add(n),e={rel:e,crossOrigin:a,href:t},l.querySelector(n)===null&&(t=l.createElement("link"),Ie(t,"link",e),Ze(t),l.head.appendChild(t)))}}function z0(e){ra.D(e),um("dns-prefetch",e,null)}function O0(e,t){ra.C(e,t),um("preconnect",e,t)}function R0(e,t,a){ra.L(e,t,a);var l=Jl;if(l&&e&&t){var n='link[rel="preload"][as="'+St(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+St(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+St(a.imageSizes)+'"]')):n+='[href="'+St(e)+'"]';var i=n;switch(t){case"style":i=Kl(e);break;case"script":i=Fl(e)}zt.has(i)||(e=S({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),zt.set(i,e),l.querySelector(n)!==null||t==="style"&&l.querySelector(qs(i))||t==="script"&&l.querySelector(ks(i))||(t=l.createElement("link"),Ie(t,"link",e),Ze(t),l.head.appendChild(t)))}}function L0(e,t){ra.m(e,t);var a=Jl;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+St(l)+'"][href="'+St(e)+'"]',i=n;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Fl(e)}if(!zt.has(i)&&(e=S({rel:"modulepreload",href:e},t),zt.set(i,e),a.querySelector(n)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ks(i)))return}l=a.createElement("link"),Ie(l,"link",e),Ze(l),a.head.appendChild(l)}}}function U0(e,t,a){ra.S(e,t,a);var l=Jl;if(l&&e){var n=pl(l).hoistableStyles,i=Kl(e);t=t||"default";var o=n.get(i);if(!o){var f={loading:0,preload:null};if(o=l.querySelector(qs(i)))f.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},a),(a=zt.get(i))&&Fr(e,a);var v=o=l.createElement("link");Ze(v),Ie(v,"link",e),v._p=new Promise(function(A,B){v.onload=A,v.onerror=B}),v.addEventListener("load",function(){f.loading|=1}),v.addEventListener("error",function(){f.loading|=2}),f.loading|=4,ri(o,t,l)}o={type:"stylesheet",instance:o,count:1,state:f},n.set(i,o)}}}function B0(e,t){ra.X(e,t);var a=Jl;if(a&&e){var l=pl(a).hoistableScripts,n=Fl(e),i=l.get(n);i||(i=a.querySelector(ks(n)),i||(e=S({src:e,async:!0},t),(t=zt.get(n))&&$r(e,t),i=a.createElement("script"),Ze(i),Ie(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function H0(e,t){ra.M(e,t);var a=Jl;if(a&&e){var l=pl(a).hoistableScripts,n=Fl(e),i=l.get(n);i||(i=a.querySelector(ks(n)),i||(e=S({src:e,async:!0,type:"module"},t),(t=zt.get(n))&&$r(e,t),i=a.createElement("script"),Ze(i),Ie(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function dm(e,t,a,l){var n=(n=da.current)?ci(n):null;if(!n)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Kl(a.href),a=pl(n).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Kl(a.href);var i=pl(n).hoistableStyles,o=i.get(e);if(o||(n=n.ownerDocument||n,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=n.querySelector(qs(e)))&&!i._p&&(o.instance=i,o.state.loading=5),zt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zt.set(e,a),i||q0(n,e,a,o.state))),t&&l===null)throw Error(r(528,""));return o}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Fl(a),a=pl(n).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Kl(e){return'href="'+St(e)+'"'}function qs(e){return'link[rel="stylesheet"]['+e+"]"}function fm(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function q0(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Ie(t,"link",a),Ze(t),e.head.appendChild(t))}function Fl(e){return'[src="'+St(e)+'"]'}function ks(e){return"script[async]"+e}function mm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+St(a.href)+'"]');if(l)return t.instance=l,Ze(l),l;var n=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ze(l),Ie(l,"style",n),ri(l,a.precedence,e),t.instance=l;case"stylesheet":n=Kl(a.href);var i=e.querySelector(qs(n));if(i)return t.state.loading|=4,t.instance=i,Ze(i),i;l=fm(a),(n=zt.get(n))&&Fr(l,n),i=(e.ownerDocument||e).createElement("link"),Ze(i);var o=i;return o._p=new Promise(function(f,v){o.onload=f,o.onerror=v}),Ie(i,"link",l),t.state.loading|=4,ri(i,a.precedence,e),t.instance=i;case"script":return i=Fl(a.src),(n=e.querySelector(ks(i)))?(t.instance=n,Ze(n),n):(l=a,(n=zt.get(i))&&(l=S({},a),$r(l,n)),e=e.ownerDocument||e,n=e.createElement("script"),Ze(n),Ie(n,"link",l),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,ri(l,a.precedence,e));return t.instance}function ri(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=l.length?l[l.length-1]:null,i=n,o=0;o<l.length;o++){var f=l[o];if(f.dataset.precedence===t)i=f;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Fr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function $r(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var oi=null;function hm(e,t,a){if(oi===null){var l=new Map,n=oi=new Map;n.set(a,l)}else n=oi,l=n.get(a),l||(l=new Map,n.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var i=a[n];if(!(i[as]||i[Ke]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var f=l.get(o);f?f.push(i):l.set(o,[i])}}return l}function xm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function k0(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function pm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Y0(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var n=Kl(l.href),i=t.querySelector(qs(n));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ui.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,Ze(i);return}i=t.ownerDocument||t,l=fm(l),(n=zt.get(n))&&Fr(l,n),i=i.createElement("link"),Ze(i);var o=i;o._p=new Promise(function(f,v){o.onload=f,o.onerror=v}),Ie(i,"link",l),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=ui.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Wr=0;function X0(e,t){return e.stylesheets&&e.count===0&&fi(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&fi(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Wr===0&&(Wr=62500*N0());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&fi(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Wr?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(n)}}:null}function ui(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var di=null;function fi(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,di=new Map,t.forEach(Q0,e),di=null,ui.call(e))}function Q0(e,t){if(!(t.state.loading&4)){var a=di.get(e);if(a)var l=a.get(null);else{a=new Map,di.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var o=n[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(a.set(o.dataset.precedence,o),l=o)}l&&a.set(null,l)}n=t.instance,o=n.getAttribute("data-precedence"),i=a.get(o)||l,i===l&&a.set(null,n),a.set(o,n),this.count++,l=ui.bind(this),n.addEventListener("load",l),n.addEventListener("error",l),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Ys={$$typeof:F,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function G0(e,t,a,l,n,i,o,f,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zi(0),this.hiddenUpdates=Zi(null),this.identifierPrefix=l,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function bm(e,t,a,l,n,i,o,f,v,A,B,X){return e=new G0(e,t,a,o,v,A,B,X,f),t=1,i===!0&&(t|=24),i=xt(3,null,null,t),e.current=i,i.stateNode=e,t=Mc(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:l,isDehydrated:a,cache:t},Rc(i),e}function gm(e){return e?(e=Cl,e):Cl}function vm(e,t,a,l,n,i){n=gm(n),l.context===null?l.context=n:l.pendingContext=n,l=ya(t),l.payload={element:a},i=i===void 0?null:i,i!==null&&(l.callback=i),a=ja(e,l,t),a!==null&&(ot(a,e,t),vs(a,e,t))}function ym(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Ir(e,t){ym(e,t),(e=e.alternate)&&ym(e,t)}function jm(e){if(e.tag===13||e.tag===31){var t=Ja(e,67108864);t!==null&&ot(t,e,67108864),Ir(e,67108864)}}function Nm(e){if(e.tag===13||e.tag===31){var t=yt();t=Ji(t);var a=Ja(e,t);a!==null&&ot(a,e,t),Ir(e,t)}}var mi=!0;function V0(e,t,a,l){var n=U.T;U.T=null;var i=L.p;try{L.p=2,Pr(e,t,a,l)}finally{L.p=i,U.T=n}}function Z0(e,t,a,l){var n=U.T;U.T=null;var i=L.p;try{L.p=8,Pr(e,t,a,l)}finally{L.p=i,U.T=n}}function Pr(e,t,a,l){if(mi){var n=eo(l);if(n===null)qr(e,t,l,hi,a),Sm(e,l);else if(K0(n,e,t,a,l))l.stopPropagation();else if(Sm(e,l),t&4&&-1<J0.indexOf(e)){for(;n!==null;){var i=xl(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=Xa(i.pendingLanes);if(o!==0){var f=i;for(f.pendingLanes|=2,f.entangledLanes|=2;o;){var v=1<<31-mt(o);f.entanglements[1]|=v,o&=~v}Yt(i),(ve&6)===0&&($n=dt()+500,Ls(0))}}break;case 31:case 13:f=Ja(i,2),f!==null&&ot(f,i,2),In(),Ir(i,2)}if(i=eo(l),i===null&&qr(e,t,l,hi,a),i===n)break;n=i}n!==null&&l.stopPropagation()}else qr(e,t,l,null,a)}}function eo(e){return e=ac(e),to(e)}var hi=null;function to(e){if(hi=null,e=hl(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=b(t),e!==null)return e;e=null}else if(a===31){if(e=x(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return hi=e,null}function _m(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zh()){case Mo:return 2;case Do:return 8;case an:case Oh:return 32;case zo:return 268435456;default:return 32}default:return 32}}var ao=!1,za=null,Oa=null,Ra=null,Xs=new Map,Qs=new Map,La=[],J0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sm(e,t){switch(e){case"focusin":case"focusout":za=null;break;case"dragenter":case"dragleave":Oa=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":Xs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qs.delete(t.pointerId)}}function Gs(e,t,a,l,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:i,targetContainers:[n]},t!==null&&(t=xl(t),t!==null&&jm(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function K0(e,t,a,l,n){switch(t){case"focusin":return za=Gs(za,e,t,a,l,n),!0;case"dragenter":return Oa=Gs(Oa,e,t,a,l,n),!0;case"mouseover":return Ra=Gs(Ra,e,t,a,l,n),!0;case"pointerover":var i=n.pointerId;return Xs.set(i,Gs(Xs.get(i)||null,e,t,a,l,n)),!0;case"gotpointercapture":return i=n.pointerId,Qs.set(i,Gs(Qs.get(i)||null,e,t,a,l,n)),!0}return!1}function wm(e){var t=hl(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=b(a),t!==null){e.blockedOn=t,Ho(e.priority,function(){Nm(a)});return}}else if(t===31){if(t=x(a),t!==null){e.blockedOn=t,Ho(e.priority,function(){Nm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=eo(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);tc=l,a.target.dispatchEvent(l),tc=null}else return t=xl(a),t!==null&&jm(t),e.blockedOn=a,!1;t.shift()}return!0}function Cm(e,t,a){xi(e)&&a.delete(t)}function F0(){ao=!1,za!==null&&xi(za)&&(za=null),Oa!==null&&xi(Oa)&&(Oa=null),Ra!==null&&xi(Ra)&&(Ra=null),Xs.forEach(Cm),Qs.forEach(Cm)}function pi(e,t){e.blockedOn===t&&(e.blockedOn=null,ao||(ao=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,F0)))}var bi=null;function Am(e){bi!==e&&(bi=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){bi===e&&(bi=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],n=e[t+2];if(typeof l!="function"){if(to(l||a)===null)continue;break}var i=xl(a);i!==null&&(e.splice(t,3),t-=3,er(i,{pending:!0,data:n,method:a.method,action:l},l,n))}}))}function $l(e){function t(v){return pi(v,e)}za!==null&&pi(za,e),Oa!==null&&pi(Oa,e),Ra!==null&&pi(Ra,e),Xs.forEach(t),Qs.forEach(t);for(var a=0;a<La.length;a++){var l=La[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<La.length&&(a=La[0],a.blockedOn===null);)wm(a),a.blockedOn===null&&La.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var n=a[l],i=a[l+1],o=n[lt]||null;if(typeof i=="function")o||Am(a);else if(o){var f=null;if(i&&i.hasAttribute("formAction")){if(n=i,o=i[lt]||null)f=o.formAction;else if(to(n)!==null)continue}else f=o.action;typeof f=="function"?a[l+1]=f:(a.splice(l,3),l-=3),Am(a)}}}function Tm(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(o){return n=o})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function lo(e){this._internalRoot=e}gi.prototype.render=lo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,l=yt();vm(a,l,e,t,null,null)},gi.prototype.unmount=lo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vm(e.current,2,null,e,null,null),In(),t[ml]=null}};function gi(e){this._internalRoot=e}gi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bo();e={blockedOn:null,target:e,priority:t};for(var a=0;a<La.length&&t!==0&&t<La[a].priority;a++);La.splice(a,0,e),a===0&&wm(e)}};var Em=u.version;if(Em!=="19.2.0")throw Error(r(527,Em,"19.2.0"));L.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=C(t),e=e!==null?M(e):null,e=e===null?null:e.stateNode,e};var $0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vi.isDisabled&&vi.supportsFiber)try{Pl=vi.inject($0),ft=vi}catch{}}return Zs.createRoot=function(e,t){if(!m(e))throw Error(r(299));var a=!1,l="",n=Ld,i=Ud,o=Bd;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=bm(e,1,!1,null,null,a,l,null,n,i,o,Tm),e[ml]=t.current,Hr(e),new lo(t)},Zs.hydrateRoot=function(e,t,a){if(!m(e))throw Error(r(299));var l=!1,n="",i=Ld,o=Ud,f=Bd,v=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(o=a.onCaughtError),a.onRecoverableError!==void 0&&(f=a.onRecoverableError),a.formState!==void 0&&(v=a.formState)),t=bm(e,1,!0,t,a??null,l,n,v,i,o,f,Tm),t.context=gm(null),a=t.current,l=yt(),l=Ji(l),n=ya(l),n.callback=null,ja(a,n,l),a=l,t.current.lanes=a,ts(t,a),Yt(t),e[ml]=t.current,Hr(e),new gi(t)},Zs.version="19.2.0",Zs}var Um;function $p(){if(Um)return no.exports;Um=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(u){console.error(u)}}return c(),no.exports=Fp(),no.exports}var Wp=$p();function Ao(c,u){let d;try{d=c()}catch{return}return{getItem:m=>{var h;const b=g=>g===null?null:JSON.parse(g,void 0),x=(h=d.getItem(m))!=null?h:null;return x instanceof Promise?x.then(b):b(x)},setItem:(m,h)=>d.setItem(m,JSON.stringify(h,void 0)),removeItem:m=>d.removeItem(m)}}const fo=c=>u=>{try{const d=c(u);return d instanceof Promise?d:{then(r){return fo(r)(d)},catch(r){return this}}}catch(d){return{then(r){return this},catch(r){return fo(r)(d)}}}},Ip=(c,u)=>(d,r,m)=>{let h={storage:Ao(()=>localStorage),partialize:H=>H,version:0,merge:(H,z)=>({...z,...H}),...u},b=!1;const x=new Set,g=new Set;let C=h.storage;if(!C)return c((...H)=>{console.warn(`[zustand persist middleware] Unable to update item '${h.name}', the given storage is currently unavailable.`),d(...H)},r,m);const M=()=>{const H=h.partialize({...r()});return C.setItem(h.name,{state:H,version:h.version})},S=m.setState;m.setState=(H,z)=>(S(H,z),M());const _=c((...H)=>(d(...H),M()),r,m);m.getInitialState=()=>_;let D;const R=()=>{var H,z;if(!C)return;b=!1,x.forEach(k=>{var F;return k((F=r())!=null?F:_)});const y=((z=h.onRehydrateStorage)==null?void 0:z.call(h,(H=r())!=null?H:_))||void 0;return fo(C.getItem.bind(C))(h.name).then(k=>{if(k)if(typeof k.version=="number"&&k.version!==h.version){if(h.migrate){const F=h.migrate(k.state,k.version);return F instanceof Promise?F.then(Y=>[!0,Y]):[!0,F]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,k.state];return[!1,void 0]}).then(k=>{var F;const[Y,p]=k;if(D=h.merge(p,(F=r())!=null?F:_),d(D,!0),Y)return M()}).then(()=>{y?.(D,void 0),D=r(),b=!0,g.forEach(k=>k(D))}).catch(k=>{y?.(void 0,k)})};return m.persist={setOptions:H=>{h={...h,...H},H.storage&&(C=H.storage)},clearStorage:()=>{C?.removeItem(h.name)},getOptions:()=>h,rehydrate:()=>R(),hasHydrated:()=>b,onHydrate:H=>(x.add(H),()=>{x.delete(H)}),onFinishHydration:H=>(g.add(H),()=>{g.delete(H)})},h.skipHydration||R(),D||_},_h=Ip,G={CURTAIN:"curtain",WALLPAPER:"wallpaper",WOODEN_BLIND:"wooden_blind",ROLLER_BLIND:"roller_blind",VERTICAL_BLIND:"vertical_blind",ALUMINUM_BLIND:"aluminum_blind",PARTITION:"partition",PLEATED_SCREEN:"pleated_screen",REMOVAL:"removal"},ce={CURTAIN_MAIN:"curtain_main",CURTAIN_SHEER:"curtain_sheer",WALLPAPER:G.WALLPAPER,WOODEN_BLIND:G.WOODEN_BLIND,ROLLER_BLIND:G.ROLLER_BLIND,VERTICAL_BLIND:G.VERTICAL_BLIND,ALUMINUM_BLIND:G.ALUMINUM_BLIND,PARTITION:G.PARTITION},Ni={MAIN:"main",SHEER:"sheer",DOUBLE:"double"},Qt={CENTER:"center",SIDE:"side"},Pp="marnthara.input.v6.4",Bm=1.19599,Hm=[{label:" (Wave)",value:""},{label:" (Pleated)",value:""},{label:" (Eyelet)",value:""},{label:" (Roman)",value:""},{label:"/ (Rod)",value:""},{label:" (Louis)",value:""}],mo={:{hasRail:!0,hasHook:!0,hasChain:!1,hasEyelet:!1},:{hasRail:!0,hasHook:!0,hasChain:!0,hasEyelet:!1},:{hasRail:!0,hasHook:!1,hasChain:!1,hasEyelet:!0},:{hasRail:!0,hasHook:!1,hasChain:!0,hasEyelet:!1},:{hasRail:!1,hasHook:!1,hasChain:!1,hasEyelet:!1},:{hasRail:!0,hasHook:!0,hasChain:!1,hasEyelet:!1}},ul={[G.CURTAIN]:{id:G.CURTAIN,name:"",unit:"",icon:"AlignLeft"},[G.WALLPAPER]:{id:G.WALLPAPER,name:"",unit:"",icon:"ScrollText"},[G.WOODEN_BLIND]:{id:G.WOODEN_BLIND,name:"",unit:"",icon:"Blinds"},[G.ROLLER_BLIND]:{id:G.ROLLER_BLIND,name:"",unit:"",icon:"Minimize2"},[G.VERTICAL_BLIND]:{id:G.VERTICAL_BLIND,name:"",unit:"",icon:"Columns"},[G.ALUMINUM_BLIND]:{id:G.ALUMINUM_BLIND,name:"",unit:"",icon:"Blinds"},[G.PARTITION]:{id:G.PARTITION,name:"",unit:"",icon:"Grid3X3"},[G.PLEATED_SCREEN]:{id:G.PLEATED_SCREEN,name:"",unit:"",icon:"Grid3X3"},[G.REMOVAL]:{id:G.REMOVAL,name:"/",unit:"",icon:"Scissors"}},eb={name:"Marnthara Smart Quotation",address:"123/45     10110",phone:"081-234-5678",taxId:"",logoUrl:"",baseVatRate:0,bankAccount:{bankName:"",accountName:".  ",accountNumber:"123-4-56789-0",branch:"",isEnabled:!0},pdf:{paymentTerms:" 50%  ",priceValidity:" 30 ",notes:[" ()"," 1  ()"]}},tb={style_surcharge:{:0,:0,:0,:0,:0,:500}},ho={ROLL_WIDTH_M:.53},ab=c=>({customer:{name:"",phone:"",address:"",taxId:"",installationAddress:"",useSameAddress:!0,showInstallationAddress:!0},setCustomer:u=>c(d=>({customer:{...d.customer,...u}}))}),Li=c=>c.type===G.CURTAIN,Ui=c=>c.type===G.WALLPAPER,Sh=c=>c.type===G.REMOVAL,Bi=c=>!Li(c)&&!Ui(c)&&!Sh(c),Js=()=>Math.random().toString(36).substring(2,9),lb=c=>({rooms:[],addRoom:u=>c(d=>({rooms:[...d.rooms,{id:Js(),name:u||` ${d.rooms.length+1}`,items:[],is_suspended:!1,room_defaults:{}}]})),updateRoom:(u,d)=>c(r=>({rooms:r.rooms.map(m=>m.id===u?{...m,...d}:m)})),removeRoom:u=>c(d=>({rooms:d.rooms.filter(r=>r.id!==u)})),duplicateRoom:u=>c(d=>{const r=d.rooms.find(h=>h.id===u);if(!r)return d;const m={...r,id:Js(),name:`${r.name} (Copy)`,items:r.items.map(h=>({...h,id:Js()}))};return{rooms:[...d.rooms,m]}}),toggleRoomSuspension:u=>c(d=>({rooms:d.rooms.map(r=>r.id===u?{...r,is_suspended:!r.is_suspended}:r)})),updateRoomDefaults:(u,d)=>c(r=>({rooms:r.rooms.map(m=>m.id===u?{...m,room_defaults:{...m.room_defaults,...d}}:m)})),addItem:(u,d)=>c(r=>({rooms:r.rooms.map(m=>m.id!==u?m:{...m,items:[...m.items,{...d,id:Js()}]})})),updateItem:(u,d,r)=>c(m=>({rooms:m.rooms.map(h=>h.id!==u?h:{...h,items:h.items.map(b=>b.id===d?{...b,...r}:b)})})),removeItem:(u,d)=>c(r=>({rooms:r.rooms.map(m=>m.id!==u?m:{...m,items:m.items.filter(h=>h.id!==d)})})),duplicateItem:(u,d)=>c(r=>({rooms:r.rooms.map(m=>{if(m.id!==u)return m;const h=m.items.findIndex(C=>C.id===d);if(h===-1)return m;const x={...m.items[h],id:Js()},g=[...m.items];return g.splice(h+1,0,x),{...m,items:g}})})),updatePriceByCode:(u,d,r)=>{let m=0;const h=String(r);return c(b=>({rooms:b.rooms.map(x=>({...x,items:x.items.map(g=>u===ce.CURTAIN_MAIN&&g.type===G.CURTAIN&&g.code===d?(m++,{...g,price_per_m_raw:h}):u===ce.CURTAIN_SHEER&&g.type===G.CURTAIN&&g.sheer_code===d?(m++,{...g,sheer_price_per_m:h}):u===ce.WALLPAPER&&g.type===G.WALLPAPER&&g.wallpaper_code===d?(m++,{...g,price_per_roll:r}):u===g.type&&Bi(g)&&g.code===d?(m++,{...g,price_sqyd:r}):g)}))})),m},resetProject:()=>c(()=>({rooms:[],customer:{name:"",phone:"",address:"",taxId:"",installationAddress:"",useSameAddress:!0,showInstallationAddress:!0},discount:{type:"amount",value:0}})),factoryReset:()=>{localStorage.removeItem("marnthara.input.v6.4"),window.location.reload()}}),sb=c=>({shopConfig:eb,discount:{type:"amount",value:0},setDiscount:u=>c({discount:u}),updateShopConfig:u=>c(d=>({shopConfig:{...d.shopConfig,...u}}))}),nb=()=>Math.random().toString(36).substring(2,9),ib=(c,u)=>({favorites:{},addFavorite:(d,r)=>{r.cost_per_yard&&r.cost_per_yard>0&&u().updateFabricCost(r.code,r.cost_per_yard);const m={...r};delete m.cost_per_yard,c(h=>({favorites:{...h.favorites,[d]:[...h.favorites[d]||[],{...m,id:nb()}]}}))},removeFavorite:(d,r)=>c(m=>({favorites:{...m.favorites,[d]:(m.favorites[d]||[]).filter(h=>h.id!==r)}})),updateFavorite:(d,r,m)=>{m.cost_per_yard&&m.cost_per_yard>0&&m.code&&(u().updateFabricCost(m.code,m.cost_per_yard),delete m.cost_per_yard),c(h=>({favorites:{...h.favorites,[d]:(h.favorites[d]||[]).map(b=>b.id===r?{...b,...m}:b)}}))},importFavorites:d=>{try{let r;const m=d.trim();try{r=JSON.parse(m)}catch{try{const x=decodeURIComponent(escape(atob(m)));r=JSON.parse(x)}catch{return!1}}const h=r.favorites?r.favorites:r;if(typeof h!="object"||h===null)return!1;const b={...h};return Object.values(b).forEach(x=>{Array.isArray(x)&&x.forEach(g=>{g.cost_per_yard&&g.cost_per_yard>0&&(u().updateFabricCost(g.code,g.cost_per_yard),delete g.cost_per_yard)})}),c(x=>({favorites:{...x.favorites,...b}})),!0}catch(r){return console.error(r),!1}}}),cb=c=>({activeModal:null,modalProps:{},modalStack:[],openModal:(u,d={})=>c(r=>r.activeModal&&r.activeModal!==u?{modalStack:[...r.modalStack,{type:r.activeModal,props:r.modalProps}],activeModal:u,modalProps:d}:{activeModal:u,modalProps:d}),closeModal:()=>c(u=>{if(u.modalStack.length>0){const d=u.modalStack[u.modalStack.length-1],r=u.modalStack.slice(0,-1);return{activeModal:d.type,modalProps:d.props,modalStack:r}}return{activeModal:null,modalProps:{}}}),closeAllModals:()=>c({activeModal:null,modalProps:{},modalStack:[]})}),qm={},km={},rb=(c,u)=>({laborCosts:qm,accessoryCosts:km,fabricCosts:{},updateLaborCost:(d,r)=>c(m=>({laborCosts:{...m.laborCosts,[d]:{...m.laborCosts[d]||{},...r}}})),updateAccessoryCost:(d,r)=>c(m=>({accessoryCosts:{...m.accessoryCosts,[d]:r}})),removeAccessoryCost:d=>c(r=>{const m={...r.accessoryCosts};return delete m[d],{accessoryCosts:m}}),updateFabricCost:(d,r)=>c(m=>({fabricCosts:{...m.fabricCosts,[d]:r}})),removeFabricCost:d=>c(r=>{const m={...r.fabricCosts};return delete m[d],{fabricCosts:m}}),updateUnifiedCost:(d,r)=>{u().updateFabricCost(d,r)},batchUpdateFabricCosts:d=>c(r=>({fabricCosts:{...r.fabricCosts,...d}})),resetProductionCosts:()=>c(()=>({laborCosts:qm,accessoryCosts:km,fabricCosts:{}})),exportSecrets:()=>{const{laborCosts:d,accessoryCosts:r,fabricCosts:m}=u();return JSON.stringify({laborCosts:d,accessoryCosts:r,fabricCosts:m},null,2)},importSecrets:d=>{try{const r=JSON.parse(d);return!r.laborCosts&&!r.accessoryCosts&&!r.fabricCosts?!1:(c(m=>({laborCosts:{...m.laborCosts,...r.laborCosts},accessoryCosts:{...m.accessoryCosts,...r.accessoryCosts},fabricCosts:{...m.fabricCosts,...r.fabricCosts}})),!0)}catch(r){return console.error("Import failed",r),!1}}}),ob=c=>{const u={...c};return delete u.activeModal,delete u.modalProps,delete u.modalStack,u},ae=Co()(Yp(_h((...c)=>({...ab(...c),...lb(...c),...sb(...c),...ib(...c),...cb(...c),...rb(...c)}),{name:Pp,storage:Ao(()=>localStorage),version:1,partialize:c=>ob(c)}),{limit:20,partialize:c=>{const{rooms:u,customer:d,shopConfig:r,discount:m,laborCosts:h,accessoryCosts:b,fabricCosts:x,favorites:g}=c;return{rooms:u,customer:d,shopConfig:r,discount:m,laborCosts:h,accessoryCosts:b,fabricCosts:x,favorites:g}}})),J=c=>{if(typeof c=="number")return Number.isFinite(c)?c:0;if(!c)return 0;const u=typeof c=="string"?c.replace(/,/g,""):String(c),d=parseFloat(u);return Number.isFinite(d)?d:0},Pe=c=>{const u=J(c);return u>0?u.toFixed(2):""},ub=c=>{const u=c.replace(/,/g,"").trim();if(u===""||u===".")return"";let d=parseFloat(u);return isNaN(d)?c:(Math.abs(d)>=10&&(d=d/100),d.toFixed(2))},db=(c,u=2,d=!1)=>Number.isFinite(c)?c.toLocaleString("th-TH",{minimumFractionDigits:d?2:0,maximumFractionDigits:u}):"0",Ee=c=>db(c,2,!0),fb=c=>{if(!c)return"";const u=["","","","","","","","","","",""],d=["","","","","","",""];c=parseFloat(c.toFixed(2));let r="";if(c===0)return"";const m=x=>{let g="";const C=String(x);for(let M=0;M<C.length;M++){const S=parseInt(C[M]),_=C.length-M-1;S!==0&&(_===1&&S===1?g+=d[_]:_===1&&S===2?g+=""+d[_]:_===0&&S===1&&C.length>1?g+="":g+=u[S]+d[_])}return g},h=Math.floor(c),b=Math.round((c-h)*100);return h>0&&(r+=m(h),r+=""),b>0?(r+=m(b),r+=""):r+="",r},_i=(c,u)=>{if(u<=0)return 0;let d=2.5;return c===""&&(d=1.5),u*d*1.1},mb=c=>tb.style_surcharge[c]||0,Ym={calculate:c=>{const u=J(c.width_m);if(u<=0)return{total:0,breakdown:{}};let d=0;c.price_per_m_raw&&J(c.price_per_m_raw)>0?d=u*J(c.price_per_m_raw):d=_i(c.style,u)*J(c.price_sqyd);let r=0;c.layer_mode!=="main"&&(c.sheer_price_per_m&&J(c.sheer_price_per_m)>0?r=u*J(c.sheer_price_per_m):c.sheer_price_sqyd&&(r=_i(c.style,u)*J(c.sheer_price_sqyd)));let m=0;if(c.use_rail&&c.rail_price_per_m){const x=c.layer_mode==="double"?2:1;m=u*J(c.rail_price_per_m)*x}const h=mb(c.style);let b=d+r+m+h;return c.enable_set_price&&J(c.set_price_override)>0&&(b=J(c.set_price_override)),b=Math.round(b*100)/100,{total:b,breakdown:{fabricPrice:d,sheerPrice:r,railPrice:m,accessoryPrice:h,fabricMeters:u}}},validate:c=>{const u=[];return J(c.width_m)<=0&&u.push(" 0"),J(c.height_m)<=0&&u.push(" 0"),c.style||u.push(""),u},getSpecs:c=>{const u=[`:  ${c.width_m} . x  ${c.height_m} .`,`: ${c.style}`];return c.fabric_variant&&u.push(`: ${c.fabric_variant}`),c.layer_mode==="double"?u.push(":  2  (+)"):c.layer_mode==="sheer"&&u.push(": "),c.use_rail&&u.push(""),u}},Xm={calculate:c=>{const u=c.widths.reduce((C,M)=>C+J(M),0),d=J(c.height_m);if(u<=0||d<=0)return{total:0,breakdown:{}};const r=Math.ceil(u/ho.ROLL_WIDTH_M),m=J(c.price_per_roll),h=J(c.install_cost_per_roll),b=r*m,x=r*h;let g=b+x;return c.enable_set_price&&J(c.set_price_override)>0&&(g=J(c.set_price_override)),g=Math.round(g*100)/100,{total:g,breakdown:{rolls:r,materialPrice:b,laborPrice:x,totalWidth:u}}},validate:c=>{const u=[];return c.widths.reduce((r,m)=>r+J(m),0)<=0&&u.push(" 1 "),J(c.height_m)<=0&&u.push(""),c.wallpaper_code||u.push(""),u},getSpecs:c=>{const u=c.widths.reduce((m,h)=>m+J(h),0),d=[`:  ${u.toFixed(2)} . x  ${c.height_m} .`];c.wallpaper_code&&d.push(`: ${c.wallpaper_code}`);const r=Math.ceil(u/ho.ROLL_WIDTH_M);return d.push(`: ${r}  ()`),d}},Qm={calculate:c=>{if(c.enable_set_price&&J(c.set_price_override)>0)return{total:J(c.set_price_override)};const u=J(c.quantity),d=J(c.price_per_item);if(u<=0||d<=0)return{total:0};const r=u*d;return{total:Math.round(r*100)/100}},validate:c=>{const u=[];return c.description||u.push(""),!c.enable_set_price&&J(c.price_per_item)<=0&&u.push(""),u},getSpecs:c=>{const u=[];c.description&&u.push(c.description);const d=J(c.quantity);return d>0&&u.push(`: ${d} /`),u}},Il=c=>{const{minAreaSqyd:u=1}=c;return{calculate:d=>{if(d.enable_set_price&&J(d.set_price_override)>0)return{total:J(d.set_price_override)};const r=J(d.width_m),m=J(d.height_m),h=J(d.price_sqyd);if(r<=0||m<=0)return{total:0,breakdown:{}};const b=r*m;let x=b*Bm;x<u&&(x=u);let g=x*h;return g=Math.round(g*100)/100,{total:g,breakdown:{areaSqm:b,areaSqyd:x,pricePerUnit:h}}},validate:d=>{const r=[];return J(d.width_m)<=0&&r.push(""),J(d.height_m)<=0&&r.push(""),!d.enable_set_price&&J(d.price_sqyd)<=0&&r.push(" .."),r},getSpecs:d=>{const r=[`: ${d.width_m} x ${d.height_m} .`];d.code&&r.push(`/: ${d.code}`),d.fabric_variant&&r.push(`: ${d.fabric_variant}`);const m=J(d.width_m),h=J(d.height_m);if(m>0&&h>0){const b=Math.max(m*h*Bm,u);r.push(`: ${b.toFixed(2)} ..`)}return r}}},Gm=Il({}),Vm=Il({}),Zm=Il({}),Jm=Il({}),Km=Il({}),Fm=Il({}),tt={calculatePrice:c=>tt.calculateDetailedPrice(c).total,calculateDetailedPrice:c=>{if(c.is_suspended)return{total:0};switch(c.type){case G.CURTAIN:return Ym.calculate(c);case G.WALLPAPER:return Xm.calculate(c);case G.WOODEN_BLIND:return Gm.calculate(c);case G.ROLLER_BLIND:return Vm.calculate(c);case G.VERTICAL_BLIND:return Zm.calculate(c);case G.ALUMINUM_BLIND:return Jm.calculate(c);case G.PARTITION:return Km.calculate(c);case G.PLEATED_SCREEN:return Fm.calculate(c);case G.REMOVAL:return Qm.calculate(c);default:return console.warn("[PricingEngine]  Unhandled item type:",c),{total:0}}},getItemSpecs:c=>{switch(c.type){case G.CURTAIN:return Ym.getSpecs(c);case G.WALLPAPER:return Xm.getSpecs(c);case G.WOODEN_BLIND:return Gm.getSpecs(c);case G.ROLLER_BLIND:return Vm.getSpecs(c);case G.VERTICAL_BLIND:return Zm.getSpecs(c);case G.ALUMINUM_BLIND:return Jm.getSpecs(c);case G.PARTITION:return Km.getSpecs(c);case G.PLEATED_SCREEN:return Fm.getSpecs(c);case G.REMOVAL:return Qm.getSpecs(c);default:return[]}}},Hi=()=>{const c=ae(m=>m.rooms),u=ae(m=>m.discount),d=ae(m=>m.shopConfig);return Q.useMemo(()=>{const m=c.map(S=>{if(S.is_suspended)return{roomId:S.id,total:0,itemCount:S.items.length,isSuspended:!0};const D=S.items.map(R=>tt.calculatePrice(R)).reduce((R,H)=>R+H,0);return{roomId:S.id,total:D,itemCount:S.items.length,isSuspended:!1}}),h=m.reduce((S,_)=>S+_.total,0);let b=h,x=0;u.is_enabled===!0&&u.value>0&&(u.type==="percent"?x=h*u.value/100:x=u.value,x>h&&(x=h),b=h-x);let C=0,M=b;return d.baseVatRate>0&&(C=b*d.baseVatRate/100,M=b+C),{grandTotal:Math.round(h*100)/100,discountAmount:Math.round(x*100)/100,afterDiscount:Math.round(b*100)/100,vatAmount:Math.round(C*100)/100,finalTotal:Math.round(M*100)/100,roomTotals:m}},[c,u,d])},Ha=()=>({trigger:Q.useCallback((u="selection")=>{if(!(typeof navigator>"u"||!navigator.vibrate))switch(u){case"light":navigator.vibrate(5);break;case"medium":navigator.vibrate(10);break;case"heavy":navigator.vibrate(15);break;case"selection":navigator.vibrate(3);break;case"success":navigator.vibrate([10,30,10]);break;case"warning":navigator.vibrate([30,50,10]);break;case"error":navigator.vibrate([50,100,50,100]);break;default:navigator.vibrate(10)}},[])});function V(...c){return Xp(Qp(c))}const hb=({children:c,onOpenMainMenu:u,onOpenDiscount:d,onOpenOverview:r})=>{const m=ae(R=>R.shopConfig),h=ae(R=>R.discount),b=ae(R=>R.addRoom),{finalTotal:x}=Hi(),{trigger:g}=Ha(),[C,M]=Q.useState(!1),S=h.is_enabled&&h.value>0,_=m.baseVatRate>0;Q.useEffect(()=>{const R=()=>M(window.scrollY>10);return window.addEventListener("scroll",R),()=>window.removeEventListener("scroll",R)},[]);const D=()=>{g("medium"),b(),setTimeout(()=>window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"}),100)};return s.jsxs("div",{className:"relative min-h-[100dvh] bg-background text-foreground",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 h-safe-top bg-background/80 backdrop-blur-md border-b border-transparent transition-all duration-300"}),s.jsx("header",{className:"fixed top-0 left-0 right-0 z-40 pt-safe-top transition-all duration-300",children:s.jsxs("div",{className:V("h-14 px-6 flex items-center justify-between transition-all duration-500","bg-background/80 backdrop-blur-md border-b border-border/50",C?"shadow-sm":""),children:[s.jsxs("button",{className:"flex flex-col items-start text-left group active:scale-95 transition-transform outline-none",onClick:()=>{g("light"),u?.()},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h1",{className:"text-lg font-bold tracking-tight text-foreground group-hover:text-primary transition-colors",children:m.name||"Marnthara"}),s.jsx(Si,{className:"w-3.5 h-3.5 text-muted-foreground/50 group-hover:text-primary/50 transition-colors"})]}),s.jsx("span",{className:"text-[10px] font-medium text-muted-foreground tracking-widest uppercase",children:"Quotation"})]}),s.jsxs("div",{className:"flex flex-col items-end cursor-pointer active:scale-95 transition-transform outline-none",onClick:()=>{g("selection"),d?.()},children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsxs("div",{className:"flex gap-0.5",children:[S&&s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-success shadow-[0_0_6px_rgba(var(--color-success),0.5)] animate-pulse"}),_&&s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-info shadow-[0_0_6px_rgba(var(--color-info),0.5)]"})]}),s.jsx("span",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-wider",children:"Net"})]}),s.jsx("div",{className:V("text-sm font-mono font-bold leading-none transition-colors",S||_?"text-primary":"text-foreground"),children:Ee(x)})]})]})}),s.jsx("main",{className:"pt-[calc(3.5rem+env(safe-area-inset-top))] pb-[calc(5rem+env(safe-area-inset-bottom))] px-4 sm:px-6 space-y-4 max-w-3xl mx-auto overflow-x-hidden",children:c}),s.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 w-full max-w-[320px] px-4 mb-safe-bottom",children:s.jsxs("div",{className:"flex items-center justify-between px-2 py-1.5 rounded-full bg-primary/90 backdrop-blur-xl shadow-2xl border border-primary-foreground/10 ring-1 ring-black/20",children:[s.jsx(yi,{icon:I0,onClick:r,label:"Overview"}),s.jsx(yi,{icon:rl,onClick:()=>g("light"),label:"Search"}),s.jsx("div",{className:"px-2",children:s.jsx("button",{onClick:D,className:"group relative w-10 h-10 rounded-full bg-primary shadow-lg shadow-primary/30 flex items-center justify-center transform transition-all duration-300 active:scale-90 hover:shadow-primary/50",children:s.jsx($s,{className:"w-5 h-5 text-white group-hover:rotate-90 transition-transform duration-300",strokeWidth:3})})}),s.jsx(yi,{icon:uo,onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),label:"Home"}),s.jsx(yi,{icon:P0,onClick:u,label:"Menu"})]})})]})},yi=({icon:c,onClick:u,label:d})=>{const{trigger:r}=Ha();return s.jsx("button",{onClick:()=>{r("light"),u?.()},className:"group flex flex-col items-center justify-center w-10 h-10 rounded-full hover:bg-primary-foreground/10 transition-colors active:scale-90 outline-none","aria-label":d,children:s.jsx(c,{className:"w-5 h-5 text-primary-foreground/60 group-hover:text-primary-foreground transition-colors",strokeWidth:2})})},Qe=Co(c=>({toasts:[],addToast:(u,d,r)=>{const m=Math.random().toString(36).substring(2,9);c(h=>({toasts:[...h.toasts,{id:m,type:u,title:d,message:r}]})),setTimeout(()=>{c(h=>({toasts:h.toasts.filter(b=>b.id!==m)}))},3e3)},removeToast:u=>c(d=>({toasts:d.toasts.filter(r=>r.id!==u)})),alertConfig:{isOpen:!1,title:"",description:"",variant:"default",confirmLabel:"",cancelLabel:"",onConfirm:()=>{},onCancel:()=>{}},openAlert:u=>c(d=>({alertConfig:{...d.alertConfig,...u,isOpen:!0}})),closeAlert:()=>c(u=>({alertConfig:{...u.alertConfig,isOpen:!1}}))})),qa=()=>{const c=Qe(d=>d.openAlert);return{confirm:d=>new Promise(r=>{c({...d,onConfirm:()=>r(!0),onCancel:()=>r(!1)})})}},xb=({item:c,index:u,roomId:d,onEdit:r})=>{const m=ae(y=>y.removeItem),h=ae(y=>y.duplicateItem),b=ae(y=>y.updateItem),{confirm:x}=qa(),g=Qe(y=>y.addToast),C=tt.calculatePrice(c),M=Q.useMemo(()=>{let y="";return c.type===G.CURTAIN&&"style"in c?y=`${c.style}`:(c.type,G.WALLPAPER,y=ul[c.type]?.name||""),y.replace(/\s*\(.*?\)\s*/g,"").trim()},[c]),S=Q.useMemo(()=>"width_m"in c&&"height_m"in c?`${Pe(c.width_m)}  ${Pe(c.height_m)}`:"quantity"in c?`${c.quantity}`:"",[c]),_=Q.useMemo(()=>"fabric_variant"in c&&c.fabric_variant?c.fabric_variant.replace(/\s*\(.*?\)\s*/g,"").trim():"",[c]),D=Q.useMemo(()=>C.toLocaleString("th-TH",{minimumFractionDigits:0,maximumFractionDigits:0}),[C]),R=(u+1).toString().padStart(2,"0"),H=async()=>{await x({title:"",description:"?",variant:"destructive",confirmLabel:""})&&(m(d,c.id),g("success",""))},z=()=>{b(d,c.id,{is_suspended:!c.is_suspended})};return s.jsxs("div",{className:V("relative flex items-start gap-3 py-4 px-3 border-b last:border-0 border-border transition-all cursor-pointer rounded-xl active:bg-accent","hover:bg-accent",c.is_suspended&&"opacity-60 grayscale bg-muted/50"),onClick:r,children:[s.jsx("div",{className:"pt-0.5",children:s.jsx("div",{className:V("flex h-8 w-8 items-center justify-center rounded-lg text-xs font-bold font-mono border",c.is_suspended?"bg-muted text-muted-foreground border-border":"bg-card text-foreground border-border shadow-sm"),children:R})}),s.jsxs("div",{className:"flex-1 min-w-0 flex flex-col gap-1",children:[s.jsxs("div",{className:"flex justify-between items-start gap-2",children:[s.jsx("span",{className:V("text-base font-bold text-foreground truncate leading-tight",c.is_suspended&&"line-through text-muted-foreground"),children:M}),s.jsx("span",{className:V("text-lg font-mono font-bold tracking-tight shrink-0 leading-tight",c.is_suspended?"text-muted-foreground":"text-foreground"),children:D})]}),s.jsxs("div",{className:"flex flex-col items-start gap-1 text-sm text-muted-foreground font-medium leading-snug",children:[_&&s.jsx("span",{className:"truncate w-full",children:_}),S&&s.jsx("span",{className:"font-mono text-foreground/80 bg-muted/50 px-2 py-0.5 rounded-md text-xs tracking-wide",children:S})]})]}),s.jsx("div",{className:"shrink-0 pl-1 pt-0.5",onClick:y=>y.stopPropagation(),children:s.jsxs(wi,{children:[s.jsx(Ci,{className:"flex h-8 w-8 items-center justify-center rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-100 active:bg-slate-200 transition-colors focus:outline-none","aria-label":"",children:s.jsx(Ai,{className:"w-5 h-5"})}),s.jsx(Gt,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:s.jsxs(Ti,{anchor:"bottom end",className:V("z-[999] w-44 origin-top-right rounded-xl p-1 shadow-xl ring-1 focus:outline-none","bg-popover ring-border border border-border"),children:[s.jsx("div",{className:"px-3 py-2 border-b border-border mb-1",children:s.jsx("p",{className:"text-[11px] font-bold text-muted-foreground uppercase tracking-wider truncate",children:M})}),s.jsx(ut,{children:({focus:y})=>s.jsxs("button",{onClick:()=>r(),className:V("flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-[13px] font-medium transition-colors",y?"bg-primary/10 text-primary":"text-foreground"),children:[s.jsx(ep,{className:"w-4 h-4"})," "]})}),s.jsx(ut,{children:({focus:y})=>s.jsxs("button",{onClick:()=>h(d,c.id),className:V("flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-[13px] font-medium transition-colors",y?"bg-primary/10 text-primary":"text-foreground"),children:[s.jsx(oh,{className:"w-4 h-4"})," "]})}),s.jsx("div",{className:"h-px bg-border my-1"}),s.jsx(ut,{children:({focus:y})=>s.jsxs("button",{onClick:z,className:V("flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-[13px] font-medium transition-colors",y?"bg-warning/10 text-warning":"text-foreground"),children:[c.is_suspended?s.jsx(xo,{className:"w-4 h-4 text-success"}):s.jsx(uh,{className:"w-4 h-4 text-warning"}),c.is_suspended?"":""]})}),s.jsx("div",{className:"h-px bg-border my-1"}),s.jsx(ut,{children:({focus:y})=>s.jsxs("button",{onClick:H,className:V("flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-[13px] font-medium text-red-600 transition-colors",y?"bg-destructive/10 text-destructive":"text-destructive"),children:[s.jsx(Ws,{className:"w-4 h-4"})," "]})})]})})]})})]})},te=({className:c,label:u,suffix:d,prefix:r,isDimension:m=!1,id:h,ref:b,value:x,onChange:g,onClear:C,onBlur:M,type:S="text",error:_,warning:D,...R})=>{const H=Q.useId(),z=h||H,y=Q.useRef(null),k=b||y,F=Z=>{if(m&&g){const K=Z.target.value,W=ub(K);if(W!==K&&W!==""){const $={...Z,target:{...Z.target,value:W}};g($)}}M?.(Z)},Y=()=>{C?C():g&&k.current&&g({target:{value:""}}),k.current?.focus()},p=C||x&&x.toString().length>0&&!R.disabled&&!R.readOnly,E=_?"border-destructive/50 focus:border-destructive focus:ring-destructive/20 text-destructive":D?"border-warning/50 focus:border-warning focus:ring-warning/20 text-warning-foreground":"border-input focus:border-primary focus:ring-primary/20 hover:border-accent-foreground/30";return s.jsxs("div",{className:"space-y-1.5 w-full group",children:[u&&s.jsx("label",{htmlFor:z,className:"text-[15px] font-medium text-foreground/80 ml-1",children:u}),s.jsxs("div",{className:"relative",children:[r&&s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none group-focus-within:text-foreground transition-colors",children:r}),s.jsx("input",{ref:k,id:z,type:S,value:x,onChange:g,onBlur:F,inputMode:m?"decimal":R.inputMode,className:V("flex h-12 w-full rounded-xl border px-4 py-2 text-[16px] transition-all shadow-sm appearance-none","bg-background text-foreground placeholder:text-muted-foreground/50","focus:outline-none focus:ring-4 focus:ring-offset-0","disabled:cursor-not-allowed disabled:opacity-50 disabled:bg-muted",E,d?"pr-12":p?"pr-10":"",r?"pl-10":"",c),...R}),d&&s.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground text-sm font-medium pointer-events-none",children:d}),p&&!d&&s.jsx("button",{type:"button",onClick:Y,tabIndex:-1,className:"absolute right-3 top-1/2 -translate-y-1/2 p-1.5 rounded-full text-muted-foreground hover:bg-accent hover:text-foreground transition-colors focus:outline-none focus:ring-2 focus:ring-ring","aria-label":"Clear input",children:s.jsx(Fs,{className:"w-4 h-4"})})]}),_?s.jsxs("div",{className:"flex items-center gap-1.5 px-1 animate-fade-in",role:"alert",children:[s.jsx(po,{className:"w-3.5 h-3.5 text-destructive"}),s.jsx("span",{className:"text-xs font-medium text-destructive",children:_})]}):D?s.jsxs("div",{className:"flex items-center gap-1.5 px-1 animate-fade-in",role:"alert",children:[s.jsx(oa,{className:"w-3.5 h-3.5 text-warning"}),s.jsx("span",{className:"text-xs font-medium text-warning",children:D})]}):null]})},pb=({room:c,index:u,onAddItem:d,onEditItem:r,onOpenDefaults:m,className:h})=>{const[b,x]=Q.useState(!0),[g,C]=Q.useState(!1),[M,S]=Q.useState(c.name),_=Q.useRef(null),D=ae($=>$.updateRoom),R=ae($=>$.removeRoom),H=ae($=>$.duplicateRoom),z=ae($=>$.toggleRoomSuspension),{confirm:y}=qa(),k=Qe($=>$.addToast);Q.useEffect(()=>{g&&_.current&&_.current.focus()},[g]);const F=Q.useMemo(()=>c.is_suspended?0:c.items.reduce(($,me)=>$+tt.calculatePrice(me),0),[c.items,c.is_suspended]),Y=c.items.length,p=()=>{M.trim()&&(D(c.id,{name:M.trim()}),C(!1))},E=async()=>{await y({title:"?",description:` "${c.name}" ?`,confirmLabel:"",variant:"destructive"})&&(R(c.id),k("success",""))},Z=()=>{H(c.id),k("success","")},K=()=>{z(c.id);const $=!c.is_suspended;k("info",$?" ()":"")},W=$=>{$.stopPropagation()};return s.jsxs("div",{className:V("relative rounded-2xl transition-all duration-300","bg-card border border-border shadow-sm",c.is_suspended&&"opacity-60 grayscale border-dashed",h),children:[s.jsxs("div",{onClick:()=>x(!b),className:V("flex items-center justify-between p-5 cursor-pointer select-none transition-colors rounded-t-2xl","hover:bg-accent",!b&&"rounded-b-2xl"),children:[s.jsxs("div",{className:"flex items-center gap-4 min-w-0 flex-1",children:[s.jsx("div",{className:V("flex shrink-0 items-center justify-center w-11 h-11 rounded-xl font-mono text-base font-bold transition-colors","bg-muted text-muted-foreground"),children:String(u+1).padStart(2,"0")}),s.jsxs("div",{className:"min-w-0 flex-1",children:[g?s.jsxs("div",{className:"flex items-center gap-2",onClick:W,onMouseDown:W,children:[s.jsx(te,{ref:_,value:M,onChange:$=>S($.target.value),onKeyDown:$=>{$.key==="Enter"&&p(),$.stopPropagation()},className:"h-9 text-base font-bold bg-background"}),s.jsx("button",{onClick:p,className:"px-3 py-1.5 bg-primary text-primary-foreground text-xs rounded-lg whitespace-nowrap",children:""})]}):s.jsx("h3",{className:"text-lg font-bold text-foreground leading-tight truncate pr-2",children:c.name}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[s.jsxs("span",{className:V("inline-flex items-center gap-1.5 text-xs font-medium text-muted-foreground"),children:[s.jsx(ji,{className:"w-3.5 h-3.5"}),Y]}),F>0&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"w-1 h-1 rounded-full bg-border"}),s.jsx("span",{className:V("inline-flex items-center gap-1.5 text-sm font-mono font-bold","text-foreground"),children:Ee(F)})]}),c.is_suspended&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"w-1 h-1 rounded-full bg-border"}),s.jsx("span",{className:"text-[10px] text-amber-500 font-medium px-1.5 border border-amber-500/30 rounded",children:""})]})]})]})]}),s.jsx("div",{className:"flex items-center gap-2 pl-2 relative z-20",onClick:W,onMouseDown:W,onTouchStart:W,children:s.jsxs(wi,{as:"div",className:"relative",children:[s.jsx(Ci,{className:V("p-2 rounded-full transition-colors focus:outline-none","text-muted-foreground hover:text-foreground hover:bg-accent"),children:s.jsx(Ai,{className:"w-5 h-5"})}),s.jsx(Gt,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:s.jsxs(Ti,{className:V("absolute right-0 mt-2 w-48 origin-top-right divide-y rounded-xl shadow-xl ring-1 focus:outline-none","z-50","bg-popover divide-border ring-border"),children:[s.jsxs("div",{className:"p-1",children:[s.jsx(ut,{children:({focus:$})=>s.jsxs("button",{onClick:()=>{S(c.name),C(!0)},className:V("flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm transition-colors",$?"bg-accent text-foreground":"text-muted-foreground"),children:[s.jsx(bo,{className:"w-4 h-4"})," "]})}),s.jsx(ut,{children:({focus:$})=>s.jsxs("button",{onClick:()=>m(c.id),className:V("flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm transition-colors",$?"bg-accent text-foreground":"text-muted-foreground"),children:[s.jsx(dh,{className:"w-4 h-4"})," "]})}),s.jsx(ut,{children:({focus:$})=>s.jsxs("button",{onClick:Z,className:V("flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm transition-colors",$?"bg-accent text-foreground":"text-muted-foreground"),children:[s.jsx(oh,{className:"w-4 h-4"})," "]})})]}),s.jsx("div",{className:"p-1",children:s.jsx(ut,{children:({focus:$})=>s.jsxs("button",{onClick:K,className:V("flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm transition-colors",$?"bg-amber-500/10 text-amber-600 dark:text-amber-400":"text-muted-foreground"),children:[c.is_suspended?s.jsx(xo,{className:"w-4 h-4"}):s.jsx(uh,{className:"w-4 h-4"}),c.is_suspended?"":""]})})}),s.jsx("div",{className:"p-1",children:s.jsx(ut,{children:({focus:$})=>s.jsxs("button",{onClick:E,className:V("flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm text-red-600 transition-colors",$?"bg-destructive/10":""),children:[s.jsx(Ws,{className:"w-4 h-4"})," "]})})})]})})]})})]}),s.jsx("div",{className:V("transition-all duration-300 ease-out origin-top overflow-hidden",b?"opacity-100 max-h-[5000px]":"opacity-0 max-h-0"),children:s.jsxs("div",{className:"px-4 pb-4 space-y-3 pt-2 border-t border-border",children:[c.items.map(($,me)=>s.jsx(xb,{item:$,index:me,roomId:c.id,onEdit:()=>r(c.id,$)},$.id)),s.jsx("button",{onClick:()=>d(c.id),className:V("w-full flex items-center justify-center gap-2 rounded-xl border-2 border-dashed transition-all active:scale-[0.98]",Y===0?"py-8 border-border bg-muted/30 text-muted-foreground":"py-3 border-indigo-500/20 bg-indigo-500/5 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-500/10"),children:Y===0?s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-card border border-border flex items-center justify-center shadow-sm",children:s.jsx(ji,{className:"w-5 h-5 text-muted-foreground"})}),s.jsx("span",{className:"text-sm font-medium",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx(tp,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-semibold",children:""})]})})]})})]})},bb=({rooms:c,onAddItem:u,onEditItem:d,onOpenDefaults:r})=>{const m=Q.useRef(null),[h,b]=Q.useState(0),{trigger:x}=Ha(),g=ae(S=>S.addRoom);Q.useEffect(()=>{const S=m.current;if(!S)return;const _=new IntersectionObserver(R=>{R.forEach(H=>{if(H.isIntersecting){const z=Number(H.target.getAttribute("data-index"));isNaN(z)||b(y=>y!==z?(x("selection"),z):y)}})},{root:S,threshold:.6});return S.querySelectorAll(".room-slide").forEach(R=>_.observe(R)),()=>_.disconnect()},[c.length,x]);const C=S=>{const _=m.current;if(!_)return;const D=Math.max(0,Math.min(S,c.length)),R=_.clientWidth;_.scrollTo({left:D*R,behavior:"smooth"})},M=()=>{x("medium"),g(),setTimeout(()=>C(c.length),100)};return s.jsxs("div",{className:"relative w-full",children:[s.jsx("div",{className:"sticky top-0 z-10 flex justify-center py-2 mb-2",children:s.jsxs("div",{className:"flex items-center gap-1.5 bg-black/10 dark:bg-white/10 backdrop-blur-md px-3 py-1.5 rounded-full border border-white/5 shadow-sm",children:[c.map((S,_)=>s.jsx("button",{onClick:()=>C(_),className:V("w-2 h-2 rounded-full transition-all duration-300",h===_?"bg-primary w-6":"bg-muted-foreground/30 hover:bg-muted-foreground/60")},`dot-${_}`)),s.jsx("div",{className:V("w-2 h-2 rounded-full transition-all duration-300",h===c.length?"bg-primary w-6":"bg-muted-foreground/30")})]})}),s.jsxs("div",{ref:m,className:V("flex overflow-x-auto snap-x snap-mandatory scrollbar-hide pb-4","overflow-y-hidden"),style:{scrollBehavior:"smooth"},children:[c.map((S,_)=>s.jsx("div",{"data-index":_,className:"room-slide min-w-full px-1 snap-center",children:s.jsx("div",{className:V("transition-all duration-500 ease-out h-full",h===_?"scale-100 opacity-100":"scale-[0.96] opacity-70 blur-[1px]"),children:s.jsx(pb,{room:S,index:_,totalRooms:c.length,onAddItem:u,onEditItem:d,onOpenDefaults:r})})},S.id)),s.jsx("div",{"data-index":c.length,className:"room-slide min-w-full px-1 snap-center flex",children:s.jsxs("button",{onClick:M,className:V("w-full rounded-2xl border-2 border-dashed border-muted-foreground/20","flex flex-col items-center justify-center gap-4 min-h-[300px]","bg-muted/5 hover:bg-muted/10 active:scale-[0.98] transition-all","text-muted-foreground hover:text-primary group",h===c.length?"scale-100 opacity-100":"scale-[0.96] opacity-70"),children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-background shadow-sm border border-border flex items-center justify-center group-hover:shadow-md group-hover:scale-110 transition-all duration-300",children:s.jsx($s,{className:"w-8 h-8 text-primary/50 group-hover:text-primary"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-bold group-hover:text-primary transition-colors",children:""}),s.jsx("p",{className:"text-sm opacity-60",children:"Add New Room"})]})]})})]}),s.jsxs("div",{className:"hidden sm:block",children:[h>0&&s.jsx("button",{onClick:()=>C(h-1),className:"absolute top-1/2 -left-4 -translate-y-1/2 p-2 rounded-full bg-background border border-border shadow-lg hover:bg-accent transition-colors z-20",children:s.jsx(fh,{className:"w-5 h-5"})}),h<c.length&&s.jsx("button",{onClick:()=>C(h+1),className:"absolute top-1/2 -right-4 -translate-y-1/2 p-2 rounded-full bg-background border border-border shadow-lg hover:bg-accent transition-colors z-20",children:s.jsx(Si,{className:"w-5 h-5"})})]})]})},wh=Co()(_h(c=>({theme:"light",toggleTheme:()=>c(u=>{const d=u.theme==="light"?"dark":"light";return ro(d),{theme:d}}),setTheme:u=>{ro(u),c({theme:u})}}),{name:"marnthara-theme",storage:Ao(()=>localStorage),onRehydrateStorage:()=>c=>{c&&ro(c.theme)}})),ro=c=>{const u=window.document.documentElement;u.classList.remove("light","dark"),u.classList.add(c);const d=document.querySelector('meta[name="theme-color"]');d&&d.setAttribute("content",c==="dark"?"#0D0814":"#FBFBFE")},gb=({toast:c,onDismiss:u})=>{const d={success:s.jsx("div",{className:"bg-success rounded-full p-1",children:s.jsx(Wl,{className:"w-3 h-3 text-white",strokeWidth:4})}),error:s.jsx(po,{className:"w-5 h-5 text-destructive"}),warning:s.jsx(oa,{className:"w-5 h-5 text-warning"}),info:s.jsx(lp,{className:"w-5 h-5 text-info"})};return s.jsx(Gt,{show:!0,appear:!0,enter:"transform ease-out duration-300 transition",enterFrom:"translate-y-[-150%] opacity-0 scale-90",enterTo:"translate-y-0 opacity-100 scale-100",leave:"transition ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s.jsxs("div",{className:V("pointer-events-auto flex items-center gap-3 px-4 py-3 shadow-2xl mb-3 cursor-pointer select-none","bg-primary/95 backdrop-blur-md border border-primary-foreground/10","rounded-full min-w-[200px] max-w-[90vw]","text-primary-foreground"),onClick:()=>u(c.id),children:[s.jsx("div",{className:"shrink-0 flex items-center",children:d[c.type]}),s.jsxs("div",{className:"flex-1 min-w-0 text-center sm:text-left mr-2",children:[s.jsx("p",{className:"text-[14px] font-semibold leading-tight tracking-tight",children:c.title}),c.message&&s.jsx("p",{className:"text-[12px] text-primary-foreground/70 mt-0.5 truncate max-w-[240px]",children:c.message})]})]})})},vb=()=>{const c=Qe(d=>d.toasts),u=Qe(d=>d.removeToast);return c.length===0?null:ap.createPortal(s.jsx("div",{className:"fixed top-6 left-0 right-0 z-[100] flex flex-col items-center pointer-events-none px-4",children:c.map(d=>s.jsx(gb,{toast:d,onDismiss:u},d.id))}),document.body)},ie=({className:c,variant:u="primary",size:d="md",disableHaptic:r=!1,onClick:m,ref:h,...b})=>{const{trigger:x}=Ha(),g=S=>{r||x(u==="destructive"?"warning":"light"),m?.(S)},C={primary:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm active:scale-[0.96] border border-transparent",secondary:"bg-card text-foreground border border-border hover:bg-accent hover:text-accent-foreground shadow-sm active:scale-[0.96]",outline:"border border-border bg-transparent hover:bg-accent hover:text-accent-foreground text-muted-foreground active:scale-[0.96]",ghost:"hover:bg-accent hover:text-accent-foreground text-muted-foreground hover:text-foreground active:scale-[0.96] border border-transparent",destructive:"bg-destructive/10 text-destructive hover:bg-destructive/20 border border-destructive/20 active:scale-[0.96]"},M={sm:"h-8 px-3 text-xs rounded-lg",md:"h-12 px-5 py-2 rounded-xl text-sm font-medium",lg:"h-14 px-8 rounded-2xl text-base font-medium",icon:"h-11 w-11 p-0 rounded-full flex items-center justify-center"};return s.jsx("button",{ref:h,onClick:g,className:V("inline-flex items-center justify-center whitespace-nowrap transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",C[u],M[d],c),...b})},yb=()=>{const{isOpen:c,title:u,description:d,variant:r,confirmLabel:m,cancelLabel:h,onConfirm:b,onCancel:x}=Qe(M=>M.alertConfig),g=Qe(M=>M.closeAlert),C=M=>{g(),M?b():x()};return s.jsx(Gt,{show:c,as:Q.Fragment,children:s.jsxs(Ei,{onClose:()=>C(!1),className:"relative z-[110]",children:[s.jsx(Ba,{as:Q.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-[2px]"})}),s.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:s.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:s.jsx(Ba,{as:Q.Fragment,enter:"ease-ios duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s.jsxs(Mi,{className:"w-full max-w-sm transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r==="destructive"&&s.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:s.jsx(oa,{className:"w-5 h-5 text-red-600"})}),s.jsx("div",{children:s.jsx(go,{as:"h3",className:"text-lg font-bold leading-6 text-slate-900",children:u})})]}),s.jsx("div",{className:"mt-2",children:s.jsx("p",{className:"text-sm text-slate-500",children:d})}),s.jsxs("div",{className:"mt-6 flex gap-3 justify-end",children:[s.jsx(ie,{variant:"ghost",onClick:()=>C(!1),children:h}),s.jsx(ie,{variant:r==="destructive"?"destructive":"primary",onClick:()=>C(!0),children:m})]})]})})})})]})})},jb=(c,u)=>{Q.useEffect(()=>{if(c){window.history.pushState({modalOpen:!0},"",window.location.href);const d=r=>{r.preventDefault(),u()};return window.addEventListener("popstate",d),()=>{window.removeEventListener("popstate",d)}}},[c,u])},Ot=({isOpen:c,onClose:u,title:d,children:r,footer:m,maxWidth:h="lg"})=>{jb(c,u);const b={sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"};return s.jsx(Gt,{show:c,as:Q.Fragment,children:s.jsxs(Ei,{onClose:u,className:"relative z-50",children:[s.jsx(Ba,{as:Q.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-slate-950/60 dark:bg-black/60 backdrop-blur-sm transition-opacity"})}),s.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:s.jsx("div",{className:"flex min-h-full items-end sm:items-center justify-center p-0 sm:p-4 text-center",children:s.jsx(Ba,{as:Q.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-full sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-full sm:translate-y-0 sm:scale-95",children:s.jsxs(Mi,{className:V("relative w-full h-full transform overflow-hidden text-left align-middle shadow-2xl transition-all flex flex-col","sm:rounded-2xl rounded-t-2xl","bg-background",b[h]),children:[s.jsxs("div",{className:V("shrink-0 flex items-center justify-between px-4 py-3 border-b border-border bg-card/50 backdrop-blur-xl","pt-[calc(env(safe-area-inset-top)+0.75rem)]"),children:[s.jsx(go,{as:"h2",className:"text-lg font-bold tracking-tight text-foreground line-clamp-1",children:d}),s.jsx("button",{onClick:u,className:V("p-2 rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-ring","text-muted-foreground hover:bg-muted hover:text-foreground"),children:s.jsx(Fs,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 pb-safe-bottom bg-card text-card-foreground",children:r}),m&&s.jsx("div",{className:V("shrink-0 px-4 py-3 border-t border-border","bg-card/95 backdrop-blur-md sm:bg-card"),children:m})]})})})})]})})},Nb=({data:c,onChange:u,errors:d})=>s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[s.jsx(mh,{className:"w-5 h-5 text-primary"}),s.jsx("h2",{children:" (.)"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(te,{label:" (W)",placeholder:"0.00",value:c.width_m,onChange:r=>u("width_m",r.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-primary bg-primary/10",error:d.width_m}),s.jsx(te,{label:" (H)",placeholder:"0.00",value:c.height_m,onChange:r=>u("height_m",r.target.value),isDimension:!0,className:"text-lg font-bold text-primary bg-primary/10",error:d.height_m})]})]}),dl=({label:c,placeholder:u,value:d,onChange:r,onSelect:m,options:h,className:b,inputMode:x,prefix:g,id:C,error:M,warning:S})=>{const _=Q.useId(),D=C||_,[R,H]=Q.useState(""),z=Q.useMemo(()=>{if(R==="")return h;const y=R.toLowerCase();return h.filter(k=>k.label.toLowerCase().includes(y)||k.value.toLowerCase().includes(y))},[h,R]);return s.jsxs("div",{className:"space-y-1.5 w-full",children:[c&&s.jsx("label",{htmlFor:D,className:"text-[15px] font-medium text-slate-700 ml-1",children:c}),s.jsx(sp,{value:d,onChange:y=>{y&&r(y)},children:s.jsxs("div",{className:"relative",children:[g&&s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none z-10",children:g}),s.jsxs("div",{className:"relative w-full cursor-default overflow-hidden rounded-xl border border-slate-200 bg-white text-left focus-within:ring-2 focus-within:ring-indigo-500 focus-within:border-transparent transition-all shadow-sm",children:[s.jsx(np,{id:D,className:V("w-full border-none py-2 pl-3 pr-10 text-sm leading-5 text-foreground focus:ring-0 placeholder:text-muted-foreground bg-transparent",g&&"pl-10",b),displayValue:y=>y,onChange:y=>{H(y.target.value),r(y.target.value)},placeholder:u,inputMode:x,autoComplete:"off"}),s.jsx(ip,{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:s.jsx(cp,{className:"h-5 w-5 text-slate-400","aria-hidden":"true"})})]}),s.jsx(Gt,{as:Q.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:()=>H(""),children:s.jsx(rp,{className:"absolute z-50 mt-1 max-h-60 w-full overflow-auto rounded-md bg-popover py-1 text-base shadow-lg ring-1 ring-border focus:outline-none sm:text-sm",children:z.length===0&&R!==""?s.jsxs("div",{className:"relative cursor-default select-none px-4 py-2 text-muted-foreground",children:[' "',R,'"']}):z.map(y=>s.jsx(op,{className:({active:k})=>V("relative cursor-default select-none py-2 pl-10 pr-4",k?"bg-primary/10 text-primary":"text-popover-foreground"),value:y.value,onClick:()=>m?.(y),children:({selected:k,active:F})=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:V("block truncate",k?"font-medium":"font-normal"),children:y.label}),y.desc&&s.jsx("span",{className:V("text-xs",F?"text-primary/70":"text-muted-foreground"),children:y.desc})]}),k?s.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-primary",children:s.jsx(Wl,{className:"h-4 w-4","aria-hidden":"true"})}):null]})},y.value+y.label))})})]})}),M?s.jsxs("div",{className:"flex items-center gap-1.5 px-1 animate-fade-in",children:[s.jsx(po,{className:"w-3.5 h-3.5 text-red-500"}),s.jsx("span",{className:"text-xs font-medium text-red-500",children:M})]}):S?s.jsxs("div",{className:"flex items-center gap-1.5 px-1 animate-fade-in",children:[s.jsx(oa,{className:"w-3.5 h-3.5 text-amber-500"}),s.jsx("span",{className:"text-xs font-medium text-amber-600",children:S})]}):null]})},$m=c=>{const{favorites:u}=ae();return u[c]||[]},Wm=({status:c,masterPrice:u,onSync:d})=>c==="synced"||c==="empty"||c==="no_master"?null:s.jsxs("div",{className:"absolute -top-6 right-0 flex items-center gap-2 animate-fade-in z-10",children:[s.jsxs("span",{className:"text-[10px] font-bold text-amber-600 bg-amber-50 px-2 py-0.5 rounded-full border border-amber-100 flex items-center gap-1",children:[s.jsx(oa,{className:"w-3 h-3"}),": ",Ee(u)]}),s.jsxs("button",{type:"button",onClick:d,className:"text-[10px] flex items-center gap-1 text-primary hover:underline hover:text-primary/80 transition-colors",children:[s.jsx(yo,{className:"w-3 h-3"})," "]})]}),_b=({data:c,onChange:u,onNumberChange:d,warnings:r})=>{const{updateFavorite:m,addFavorite:h}=ae(),b=Qe(p=>p.addToast),x=$m(ce.CURTAIN_MAIN),g=$m(ce.CURTAIN_SHEER),[C,M]=Q.useState(null),S=(p,E)=>{const Z=E?g:x;if(!p)return{status:"none",masterItem:null,masterPrice:0};const K=Z.find($=>$.code===p),W=K?.default_price_per_m||0;return{status:"found",masterItem:K,masterPrice:W}},_=(p,E)=>{const Z=J(p);return Z===0?"empty":E===0?"no_master":Math.abs(Z-E)<.01?"synced":"mismatch"},D=Q.useMemo(()=>S(c.code,!1),[c.code,x]),R=Q.useMemo(()=>S(c.sheer_code,!0),[c.sheer_code,g]),H=_(c.price_per_m_raw,D.masterPrice),z=_(c.sheer_price_per_m,R.masterPrice),y=(p=!1)=>{const{masterItem:E}=p?R:D;E&&(d(p?"sheer_price_per_m":"price_per_m_raw",E.default_price_per_m.toString()),b("success",` ${E.code} `))},k=(p,E,Z)=>{if(!p){b("error","");return}const K=J(E);if(K<=0){b("error"," 0");return}const $=(Z===ce.CURTAIN_SHEER?g:x).find(me=>me.code===p);try{$?(m(Z,$.id,{default_price_per_m:K}),b("success",` ${p}  ${Ee(K)} `)):(h(Z,{code:p,default_price_per_m:K,note:""}),b("success",` ${p} `)),M(Z),setTimeout(()=>M(null),2e3)}catch(me){console.error(me),b("error","")}},F=(p,E=!1)=>{const Z=typeof p=="string"?p:p.value;u(E?"sheer_code":"code",Z);const $=(E?g:x).find(ze=>ze.code===Z),me=E?"sheer_price_per_m":"price_per_m_raw";$&&$.default_price_per_m>0&&d(me,$.default_price_per_m.toString())},Y=p=>p.map(E=>({label:E.code,value:E.code,desc:E.note,data:E}));return s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold border-b border-border/50 pb-2 mb-2",children:[s.jsx(vo,{className:"w-5 h-5 text-indigo-500"}),s.jsx("h2",{children:" ()"})]}),s.jsx(dl,{label:" (Fabric Code)",placeholder:"...",value:c.code||"",onChange:p=>F(p,!1),options:Y(x),warning:r.code,className:"w-full"}),s.jsxs("div",{className:"flex gap-2 items-end relative",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Wm,{status:H,masterPrice:D.masterPrice,onSync:()=>y(!1)}),s.jsx(te,{label:" (/.)",placeholder:"0.00",value:c.price_per_m_raw||"",onChange:p=>d("price_per_m_raw",p.target.value),type:"number",inputMode:"decimal",className:V("w-full text-lg font-bold transition-all",H==="mismatch"?"text-amber-600 bg-amber-50 border-amber-200 focus:ring-amber-500":"text-primary bg-primary/5 border-transparent")})]}),c.code&&J(c.price_per_m_raw)>0&&s.jsx(ie,{type:"button",variant:"outline",className:V("h-[50px] w-[50px] p-0 shrink-0 border-dashed transition-all",H==="mismatch"?"border-amber-400 text-amber-500 hover:bg-amber-50":"border-border text-muted-foreground hover:text-amber-500"),onClick:()=>k(c.code,c.price_per_m_raw,ce.CURTAIN_MAIN),title:"",children:C===ce.CURTAIN_MAIN?s.jsx(Wl,{className:"w-6 h-6 text-green-600 animate-in zoom-in"}):s.jsx(ol,{className:V("w-6 h-6",H==="mismatch"&&"fill-amber-100 animate-pulse")})})]})]}),(c.layer_mode===Ni.SHEER||c.layer_mode===Ni.DOUBLE)&&s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-dashed border-border shadow-sm space-y-4 animate-fade-in relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-teal-500/10 rounded-full blur-xl -translate-y-1/2 translate-x-1/2"}),s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold border-b border-border/50 pb-2 mb-2",children:[s.jsx(up,{className:"w-5 h-5 text-teal-500"}),s.jsx("h2",{children:""})]}),s.jsx(dl,{label:"",placeholder:"...",value:c.sheer_code||"",onChange:p=>F(p,!0),options:Y(g),warning:r.sheer_code,className:"w-full"}),s.jsxs("div",{className:"flex gap-2 items-end relative",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Wm,{status:z,masterPrice:R.masterPrice,onSync:()=>y(!0)}),s.jsx(te,{label:" (/.)",placeholder:"0.00",value:c.sheer_price_per_m||"",onChange:p=>d("sheer_price_per_m",p.target.value),type:"number",inputMode:"decimal",className:V("w-full text-lg font-bold transition-all",z==="mismatch"?"text-amber-600 bg-amber-50 border-amber-200 focus:ring-amber-500":"text-teal-600 bg-teal-50/50 border-transparent")})]}),c.sheer_code&&J(c.sheer_price_per_m)>0&&s.jsx(ie,{type:"button",variant:"outline",className:V("h-[50px] w-[50px] p-0 shrink-0 border-dashed transition-all",z==="mismatch"?"border-amber-400 text-amber-500 hover:bg-amber-50":"border-border text-muted-foreground hover:text-teal-500"),onClick:()=>k(c.sheer_code,c.sheer_price_per_m,ce.CURTAIN_SHEER),children:C===ce.CURTAIN_SHEER?s.jsx(Wl,{className:"w-6 h-6 text-green-600 animate-in zoom-in"}):s.jsx(ol,{className:V("w-6 h-6",z==="mismatch"&&"fill-amber-100 animate-pulse")})})]})]})]})},Ch=cl.forwardRef(({className:c,label:u,valueLabel:d,placeholder:r="...",hasError:m,id:h,...b},x)=>{const g=Q.useId(),C=h||g;return s.jsxs("div",{className:"space-y-1.5 w-full",children:[u&&s.jsx("label",{htmlFor:C,className:"text-[15px] font-medium text-foreground ml-1",children:u}),s.jsxs("button",{ref:x,id:C,type:"button",className:V("flex h-12 w-full items-center justify-between rounded-xl border px-4 py-2 text-[16px] transition-all shadow-sm active:scale-[0.99]","bg-background","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:border-transparent",m?"border-destructive focus-visible:ring-destructive":"border-input",d?"text-foreground":"text-muted-foreground",c),...b,children:[s.jsx("span",{className:"truncate",children:d||r}),s.jsx(dp,{className:"h-4 w-4 shrink-0 text-muted-foreground opacity-50"})]})]})});Ch.displayName="SelectButton";const Sb=({isOpen:c,onClose:u,title:d,options:r,value:m,onSelect:h})=>{const{trigger:b}=Ha(),x=g=>{g!==m&&(b("selection"),h(g)),setTimeout(()=>{u()},150)};return s.jsx(Gt,{show:c,as:Q.Fragment,children:s.jsxs(Ei,{onClose:u,className:"relative z-[60]",children:[s.jsx(Ba,{as:Q.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-[2px]","aria-hidden":"true"})}),s.jsx("div",{className:"fixed inset-0 flex items-end justify-center pointer-events-none",children:s.jsx(Ba,{as:Q.Fragment,enter:"transform transition ease-ios duration-300",enterFrom:"translate-y-full",enterTo:"translate-y-0",leave:"transform transition ease-ios duration-200",leaveFrom:"translate-y-0",leaveTo:"translate-y-full",children:s.jsxs(Mi,{className:"fixed bottom-0 left-0 right-0 z-[60] bg-popover rounded-t-3xl shadow-xl max-h-[85vh] overflow-hidden flex flex-col pb-safe-area ring-1 ring-border",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-border flex items-center justify-between bg-muted/30",children:[s.jsx(go,{className:"text-lg font-bold text-foreground",children:d}),s.jsx("button",{onClick:u,className:"p-2 -mr-2 text-muted-foreground hover:bg-muted rounded-full transition-colors",children:s.jsx(Fs,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"overflow-y-auto p-4 space-y-2",children:r.map(g=>{const C=g.value===m,M=g.icon;return s.jsxs("button",{onClick:()=>x(g.value),className:V("w-full flex items-center p-4 rounded-xl border transition-all duration-200 text-left",C?"border-primary bg-primary/10 shadow-sm":"border-border bg-card hover:bg-accent hover:border-accent-foreground/20"),children:[M&&s.jsx("div",{className:V("w-10 h-10 rounded-full flex items-center justify-center mr-4 transition-colors",C?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:s.jsx(M,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:V("font-semibold text-[15px]",C?"text-primary":"text-foreground"),children:g.label}),g.description&&s.jsx("div",{className:"text-xs text-muted-foreground mt-0.5 font-normal",children:g.description})]}),C&&s.jsx("div",{className:"ml-3 text-primary",children:s.jsx(Wl,{className:"w-5 h-5"})})]},String(g.value))})})]})})})]})})},oo=({value:c,label:u,icon:d,currentValue:r,onChange:m})=>{const h=r===c;return s.jsxs("button",{type:"button",onClick:()=>m(c),className:V("relative flex flex-col items-center justify-center h-20 rounded-xl border-2 transition-all active:scale-95",h?"border-primary bg-primary/10 text-primary shadow-md":"border-border bg-card text-muted-foreground hover:bg-muted/30"),children:[s.jsx(d,{className:V("w-8 h-8 mb-1",h?"text-primary":"text-slate-400"),strokeWidth:1.5}),s.jsx("span",{className:"text-[11px] font-medium",children:u}),h&&s.jsx("div",{className:"absolute top-1 right-1 bg-primary text-white rounded-full p-0.5",children:s.jsx(Wl,{className:"w-2 h-2"})})]})},wb=({data:c,onChange:u,warnings:d})=>{const[r,m]=Q.useState(null),h=()=>Hm.find(x=>x.value===c.style)?.label||c.style,b=mo[c.style]||{hasRail:!0};return s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold pb-2 border-b border-border/50",children:[s.jsx(dh,{className:"w-5 h-5 text-primary"}),s.jsx("h2",{children:" & "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground ml-1",children:" (Style)"}),s.jsx(Ch,{valueLabel:h(),onClick:()=>m("style"),className:"w-full h-14 text-lg font-medium"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground ml-1",children:" (Opening)"}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsx(oo,{value:"",label:"",icon:Di,currentValue:c.opening_style,onChange:x=>u("opening_style",x)}),s.jsx(oo,{value:"",label:"",icon:jo,currentValue:c.opening_style,onChange:x=>u("opening_style",x)}),s.jsx(oo,{value:"",label:"",icon:zi,currentValue:c.opening_style,onChange:x=>u("opening_style",x)})]})]}),b.hasRail&&s.jsx("div",{className:"animate-fade-in pt-2",children:s.jsx(te,{prefix:s.jsx(fp,{className:"w-4 h-4 text-muted-foreground"}),label:" / ",placeholder:"...",value:c.rail_color||"",onChange:x=>u("rail_color",x.target.value),warning:d.rail_color,className:"h-12"})}),s.jsx(Sb,{isOpen:r==="style",onClose:()=>m(null),title:"",options:Hm,value:c.style,onSelect:x=>u("style",x)})]})},jt=({className:c,checked:u,onCheckedChange:d,disabled:r,ref:m,...h})=>s.jsxs("label",{className:V("group inline-flex items-center relative cursor-pointer tap-highlight-transparent",r&&"cursor-not-allowed opacity-50",c),children:[s.jsx("input",{ref:m,type:"checkbox",className:"sr-only",checked:u,onChange:b=>d(b.target.checked),disabled:r,...h}),s.jsx("div",{className:V("w-[51px] h-[31px] rounded-full transition-colors duration-300 ease-in-out border",u?"bg-primary border-primary":"bg-input border-border")}),s.jsx("div",{className:V("absolute left-[2px] top-[2px] w-[27px] h-[27px] bg-background rounded-full shadow-sm transition-transform duration-300 ease-in-out",u?"translate-x-[20px]":"translate-x-0")})]}),Cb=({data:c,onChange:u,onNumberChange:d})=>{const r=Q.useMemo(()=>tt.calculatePrice({...c,type:G.CURTAIN,id:"temp"}),[c]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center py-2",children:[s.jsx("div",{className:"text-sm text-emerald-400 font-medium mb-1",children:" (Net Price)"}),s.jsx("div",{className:"text-4xl font-bold font-mono text-emerald-300 tracking-tight",children:Ee(r)}),s.jsx("div",{className:"text-xs text-slate-400 mt-2",children:"(  )"})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jt,{checked:c.enable_set_price||!1,onCheckedChange:m=>u("enable_set_price",m),className:"data-[state=checked]:bg-emerald-500"}),s.jsx("span",{className:"text-sm text-slate-300",children:" (Manual Override)"})]}),c.enable_set_price&&s.jsx("div",{className:"w-36 animate-fade-in",children:s.jsx("input",{type:"text",inputMode:"decimal",value:c.set_price_override||"",onChange:m=>d("set_price_override",m.target.value),placeholder:"0.00",className:"w-full bg-slate-800 text-white border border-slate-600 rounded-lg px-3 py-2 text-right font-mono text-sm focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 transition-all"})})]})]})},Ab=c=>{if(c===""||c===void 0||c===0)return"";const u=Number(c);return isNaN(u)?"":u.toLocaleString("en-US")},Tb=c=>c.replace(/,/g,""),ka=(c,u)=>{const[d,r]=Q.useState(c),[m,h]=Q.useState({}),[b,x]=Q.useState({}),g=Q.useMemo(()=>JSON.stringify(d)!==JSON.stringify(c),[d,c]),C=Q.useCallback((R,H)=>{r(z=>({...z,[R]:H})),u&&u[R]&&(h(z=>({...z,[R]:void 0})),x(z=>({...z,[R]:void 0})))},[u]),M=Q.useCallback((R,H)=>{const z=Tb(H);/^\d*\.?\d*$/.test(z)&&(r(y=>({...y,[R]:z})),u&&u[R]&&(h(y=>({...y,[R]:void 0})),x(y=>({...y,[R]:void 0}))))},[u]),S=Q.useCallback(()=>{if(!u)return{isValid:!0,hasWarnings:!1};const R={},H={};let z=!0,y=!1;return Object.keys(u).forEach(k=>{const F=u[k];if(F){const Y=F(d[k],d);Y&&(Y.level==="error"?(R[k]=Y.message,z=!1):Y.level==="warning"&&(H[k]=Y.message,y=!0))}}),h(R),x(H),{isValid:z,hasWarnings:y}},[d,u]),_=Q.useCallback(R=>{const H=d[R];return typeof H=="string"||typeof H=="number"?Ab(H):""},[d]),D=Q.useCallback(()=>{r(c),h({}),x({})},[c]);return{formData:d,errors:m,warnings:b,isDirty:g,handleChange:C,handleNumberChange:M,getFormattedNumber:_,setFormData:r,validate:S,resetForm:D}},Eb={width_m:"",height_m:"",style:"",opening_style:"",layer_mode:Ni.MAIN,fabric_variant:"",code:"",price_per_m_raw:"",sheer_code:"",sheer_price_per_m:"",rail_color:"",bracket_color:"",notes:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},Im=c=>({level:"error",message:c}),Pm=c=>({level:"warning",message:c}),Mb={width_m:c=>J(c)<=0?Im(""):null,height_m:c=>J(c)<=0?Im(""):null,code:(c,u)=>u.layer_mode===Ni.SHEER||c?null:Pm(""),rail_color:(c,u)=>(mo[u.style]||mo.).hasRail&&!c?Pm(""):null},Db=(c,u)=>{const{addToast:d}=Qe(),r=ka({...Eb,...c},Mb);return{...r,handleSubmit:h=>{h.preventDefault();const{isValid:b,hasWarnings:x}=r.validate();b?(u(r.formData),x&&d("warning"," ()")):d("error"," () ")}}},zb=({initialData:c,onSubmit:u,onCancel:d})=>{const{formData:r,errors:m,warnings:h,handleChange:b,handleNumberChange:x,handleSubmit:g}=Db(c,u);return s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsx(Nb,{data:r,onChange:x,errors:m}),s.jsx(_b,{data:r,onChange:b,onNumberChange:x,warnings:h}),s.jsx(wb,{data:r,onChange:b,warnings:h}),s.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),s.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold border-b border-border pb-3",children:[s.jsx(hh,{className:"w-5 h-5"}),s.jsx("h3",{children:""})]}),s.jsx(Cb,{data:r,onChange:b,onNumberChange:x})]}),s.jsxs("div",{className:"space-y-4 pt-2",children:[s.jsx(te,{label:"",value:r.notes||"",onChange:C=>b("notes",C.target.value),className:"bg-muted/30"}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-border",children:[s.jsx(ie,{variant:"ghost",type:"button",onClick:d,className:"h-12 px-6 text-muted-foreground",children:""}),s.jsx(ie,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-brand-curtain/20 bg-brand-curtain text-white hover:bg-brand-curtain/90",children:""})]})]})]})},eh={widths:[""],height_m:"",price_per_roll:"",install_cost_per_roll:"",wallpaper_code:"",notes:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},th=c=>({level:"error",message:c}),Ob=c=>({level:"warning",message:c}),Rb={height_m:c=>J(c)<=0?th(""):null,wallpaper_code:c=>c?null:Ob(""),widths:c=>Array.isArray(c)&&c.some(u=>J(u)>0)?null:th(" 1 ")},Lb=({initialData:c,onSubmit:u,onCancel:d})=>{const{formData:r,errors:m,warnings:h,handleChange:b,handleNumberChange:x,validate:g}=ka({...eh,...c},Rb),{addFavorite:C,favorites:M,updateFavorite:S,openModal:_}=ae(),{addToast:D}=Qe(),{confirm:R}=qa(),H=(K,W)=>{const $=[...r.widths];$[K]=W,b("widths",$)},z=()=>{b("widths",[...r.widths,""])},y=K=>{const W=r.widths.filter(($,me)=>me!==K);b("widths",W.length?W:[""])},k=Q.useMemo(()=>{const K={...eh,...r,type:G.WALLPAPER,id:"preview"};return tt.calculateDetailedPrice(K)},[r]),F=Q.useMemo(()=>(M[ce.WALLPAPER]||[]).map(K=>({label:K.code,value:K.code,desc:`${K.default_price_per_m}`,data:K})),[M]),Y=K=>{b("wallpaper_code",K);const W=F.find($=>$.value.toLowerCase()===K.toLowerCase());W&&W.data?.default_price_per_m&&x("price_per_roll",String(W.data.default_price_per_m))},p=async()=>{const K=r.wallpaper_code,W=J(r.price_per_roll);if(!K||W<=0)return D("warning","");const $=(M[ce.WALLPAPER]||[]).find(me=>me.code===K);$?$.default_price_per_m!==W?await R({title:"",description:` ${$.default_price_per_m} ->  ${W}. ?`,confirmLabel:"",cancelLabel:""})&&(S(ce.WALLPAPER,$.id,{default_price_per_m:W}),D("success",` ${K} `)):D("info",""):(C(ce.WALLPAPER,{code:K,default_price_per_m:W}),D("success",` ${K} `))},E=K=>K?(M[ce.WALLPAPER]||[]).some(W=>W.code===K):!1,Z=K=>{K.preventDefault();const{isValid:W,hasWarnings:$}=g();W?(u(r),$&&D("warning"," ()")):D("error","")};return s.jsxs("form",{onSubmit:Z,className:"space-y-6",children:[s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[s.jsx(mh,{className:"w-5 h-5 text-orange-500"}),s.jsx("h2",{children:""})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground ml-1",children:" (.)"}),r.widths.map((K,W)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx(te,{placeholder:` ${W+1}`,value:K,onChange:$=>H(W,$.target.value),isDimension:!0,className:V(m.widths&&"border-red-300 bg-red-50")}),r.widths.length>1&&s.jsx("button",{type:"button",onClick:()=>y(W),className:"p-3 text-muted-foreground hover:text-red-500 hover:bg-red-50 rounded-xl transition-colors",children:s.jsx(Ws,{className:"w-5 h-5"})})]},W)),s.jsxs("button",{type:"button",onClick:z,className:"text-sm text-indigo-600 font-medium flex items-center gap-1 px-1 hover:underline",children:[s.jsx($s,{className:"w-4 h-4"})," "]})]}),s.jsx(te,{label:" ()",placeholder:"0.00",value:r.height_m,onChange:K=>x("height_m",K.target.value),isDimension:!0,error:m.height_m})]})]}),s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"bg-muted/50 p-4 rounded-xl border border-border space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("label",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[s.jsx(No,{className:"w-4 h-4 text-muted-foreground"})," "]}),s.jsxs(ie,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 gap-1 text-muted-foreground hover:text-orange-500",onClick:()=>_("favoriteManager",{initialTab:ce.WALLPAPER}),children:[s.jsx(Oi,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"text-xs",children:""})]})]}),s.jsx(dl,{placeholder:"...",value:r.wallpaper_code||"",onChange:Y,options:F,warning:h.wallpaper_code}),s.jsxs("div",{className:"relative",children:[s.jsx(te,{placeholder:" (/)",inputMode:"decimal",value:r.price_per_roll||"",onChange:K=>x("price_per_roll",K.target.value),prefix:s.jsx(ua,{className:"w-4 h-4 text-muted-foreground"})}),r.wallpaper_code&&J(r.price_per_roll)>0&&s.jsx("button",{type:"button",onClick:p,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 z-10 hover:scale-110 transition-transform",children:s.jsx(ol,{className:V("w-5 h-5 transition-colors",E(r.wallpaper_code)?"fill-amber-400 text-amber-400":"text-muted-foreground hover:text-amber-400")})})]}),s.jsx(te,{label:" (/)",placeholder:"0",inputMode:"decimal",value:r.install_cost_per_roll||"",onChange:K=>x("install_cost_per_roll",K.target.value),prefix:s.jsx(mp,{className:"w-4 h-4 text-muted-foreground"})})]})})}),s.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 text-foreground relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-500/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between border-b border-border pb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:" ():"}),s.jsxs("span",{className:"font-mono text-foreground text-lg font-bold",children:[k.breakdown?.rolls||0," "]})]}),s.jsxs("div",{className:"flex justify-between items-end pt-2 border-t border-border mt-2",children:[s.jsx("span",{className:"text-muted-foreground pb-1",children:""}),s.jsx("span",{className:"text-2xl font-bold font-mono text-orange-400",children:Ee(k.total)})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jt,{checked:r.enable_set_price||!1,onCheckedChange:K=>b("enable_set_price",K),className:"data-[state=checked]:bg-orange-500"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),r.enable_set_price&&s.jsx("div",{className:"w-32",children:s.jsx("input",{type:"text",inputMode:"decimal",value:r.set_price_override||"",onChange:K=>x("set_price_override",K.target.value),className:"w-full bg-background text-foreground border border-border rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:border-orange-500"})})]})]})]}),s.jsxs("div",{className:"pt-2 space-y-4",children:[s.jsx(te,{label:"",value:r.notes||"",onChange:K=>b("notes",K.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2",children:[s.jsx(ie,{variant:"ghost",type:"button",onClick:d,className:"h-12 px-6 text-muted-foreground",children:""}),s.jsx(ie,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-orange-500/20 bg-primary text-primary-foreground",children:""})]})]})]})},ah={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"Blackout",adjustment_side:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},Ub={width_m:c=>J(c)<=0?{level:"error",message:""}:null,height_m:c=>J(c)<=0?{level:"error",message:""}:null,price_sqyd:(c,u)=>!u.enable_set_price&&J(c)<=0?{level:"warning",message:""}:null},Bb=({initialData:c,onSubmit:u,onCancel:d})=>{const{formData:r,errors:m,warnings:h,handleChange:b,handleNumberChange:x,validate:g}=ka({...ah,...c},Ub),{addFavorite:C,favorites:M,updateFavorite:S,openModal:_}=ae(),{addToast:D}=Qe(),{confirm:R}=qa(),H=Q.useMemo(()=>{const p={...ah,...r,type:G.ROLLER_BLIND,id:"preview"};return tt.calculateDetailedPrice(p)},[r]),z=Q.useMemo(()=>(M[ce.ROLLER_BLIND]||[]).map(p=>({label:p.code,value:p.code,desc:`${p.default_price_per_m}`,data:p})),[M]),y=p=>{b("code",p);const E=z.find(Z=>Z.value.toLowerCase()===p.toLowerCase());E&&E.data?.default_price_per_m&&x("price_sqyd",String(E.data.default_price_per_m))},k=async()=>{const p=r.code,E=J(r.price_sqyd);if(!p||E<=0)return D("warning","");const Z=(M[ce.ROLLER_BLIND]||[]).find(K=>K.code===p);Z?Z.default_price_per_m!==E&&await R({title:"",description:` ${Z.default_price_per_m} ->  ${E}. ?`,confirmLabel:"",cancelLabel:""})&&S(ce.ROLLER_BLIND,Z.id,{default_price_per_m:E}):(C(ce.ROLLER_BLIND,{code:p,default_price_per_m:E}),D("success",` ${p} `))},F=p=>!!p&&(M[ce.ROLLER_BLIND]||[]).some(E=>E.code===p),Y=p=>{p.preventDefault();const{isValid:E,hasWarnings:Z}=g();E?(u(r),Z&&D("warning"," ()")):D("error","")};return s.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[s.jsx(xh,{className:"w-5 h-5 text-teal-500"}),s.jsx("h2",{children:" (.)"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(te,{label:" (W)",placeholder:"0.00",value:r.width_m,onChange:p=>x("width_m",p.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-teal-600 dark:text-teal-400 bg-teal-500/10",error:m.width_m}),s.jsx(te,{label:" (H)",placeholder:"0.00",value:r.height_m,onChange:p=>x("height_m",p.target.value),isDimension:!0,className:"text-lg font-bold text-teal-600 dark:text-teal-400 bg-teal-500/10",error:m.height_m})]})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-xl border border-border space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("label",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[s.jsx(ua,{className:"w-4 h-4 text-muted-foreground"})," /"]}),s.jsxs(ie,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 gap-1 text-muted-foreground hover:text-teal-600",onClick:()=>_("favoriteManager",{initialTab:ce.ROLLER_BLIND}),children:[s.jsx(Oi,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"text-xs",children:""})]})]}),s.jsx(dl,{placeholder:"/...",value:r.code||"",onChange:y,options:z}),s.jsxs("div",{className:"relative",children:[s.jsx(te,{placeholder:" (/..)",inputMode:"decimal",value:r.price_sqyd||"",onChange:p=>x("price_sqyd",p.target.value),warning:h.price_sqyd}),r.code&&J(r.price_sqyd)>0&&s.jsx("button",{type:"button",onClick:k,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 z-10 hover:scale-110 transition-transform",children:s.jsx(ol,{className:V("w-5 h-5 transition-colors",F(r.code)?"fill-amber-400 text-amber-400":"text-muted-foreground hover:text-amber-400")})})]})]}),s.jsxs("div",{className:"space-y-2 pt-2 border-t border-border",children:[s.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),s.jsx("div",{className:"grid grid-cols-3 gap-2 bg-muted/50 p-1 rounded-xl",children:["Blackout","Sunscreen","Dimout"].map(p=>s.jsx("button",{type:"button",onClick:()=>b("fabric_variant",p),className:V("flex items-center justify-center py-2 rounded-lg text-xs font-medium transition-all",r.fabric_variant===p?"bg-teal-600 text-white shadow-md":"text-muted-foreground hover:bg-background/50"),children:p},p))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:["",""].map(p=>s.jsxs("button",{type:"button",onClick:()=>b("adjustment_side",p),className:V("flex items-center justify-center gap-2 py-3 rounded-xl border transition-all",r.adjustment_side===p?"border-teal-500 bg-teal-500/10 text-teal-600 dark:text-teal-400":"border-border text-muted-foreground hover:bg-muted"),children:[p===""?s.jsx(Di,{className:"w-4 h-4"}):s.jsx(zi,{className:"w-4 h-4"}),p]},p))})]})]}),s.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 text-foreground relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-teal-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[s.jsx("span",{children:" (..):"}),s.jsx("span",{className:"text-foreground font-mono",children:H.breakdown?.areaSqyd?.toFixed(2)||"0.00"})]}),s.jsxs("div",{className:"flex justify-between items-end pt-2 border-t border-border mt-2",children:[s.jsx("span",{className:"text-muted-foreground pb-1",children:""}),s.jsx("span",{className:"text-2xl font-bold font-mono text-teal-600 dark:text-teal-400",children:Ee(H.total)})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jt,{checked:r.enable_set_price||!1,onCheckedChange:p=>b("enable_set_price",p),className:"data-[state=checked]:bg-teal-500"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),r.enable_set_price&&s.jsx("div",{className:"w-32",children:s.jsx("input",{type:"text",inputMode:"decimal",value:r.set_price_override||"",onChange:p=>x("set_price_override",p.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"})})]})]})]}),s.jsxs("div",{className:"pt-2 space-y-4",children:[s.jsx(te,{label:"",value:r.notes||"",onChange:p=>b("notes",p.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[s.jsx(ie,{variant:"ghost",type:"button",onClick:d,className:"h-12 px-6 text-muted-foreground",children:""}),s.jsx(ie,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-teal-500/20 bg-teal-600 hover:bg-teal-700 text-white",children:""})]})]})]})},lh={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"",adjustment_side:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},Hb={width_m:c=>J(c)<=0?{level:"error",message:""}:null,height_m:c=>J(c)<=0?{level:"error",message:""}:null,price_sqyd:(c,u)=>!u.enable_set_price&&J(c)<=0?{level:"warning",message:""}:null},qb=({initialData:c,onSubmit:u,onCancel:d,itemType:r=G.WOODEN_BLIND})=>{const{formData:m,errors:h,handleChange:b,handleNumberChange:x,validate:g}=ka({...lh,...c},Hb),{favorites:C}=ae(),{addToast:M}=Qe(),S=r===G.ROLLER_BLIND?ce.ROLLER_BLIND:r===G.ALUMINUM_BLIND?ce.ALUMINUM_BLIND:ce.WOODEN_BLIND,_=Q.useMemo(()=>{const z={...lh,...m,type:r,id:"preview"};return tt.calculateDetailedPrice(z)},[m,r]),D=Q.useMemo(()=>(C[S]||[]).map(z=>({label:z.code,value:z.code,desc:`${z.default_price_per_m}`,data:z})),[C,S]),R=z=>{b("code",z);const y=D.find(k=>k.value.toLowerCase()===z.toLowerCase());y&&y.data?.default_price_per_m&&x("price_sqyd",String(y.data.default_price_per_m))},H=z=>{z.preventDefault();const{isValid:y,hasWarnings:k}=g();y?(u(m),k&&M("warning"," ()")):M("error","")};return s.jsxs("form",{onSubmit:H,className:"space-y-6 pb-20 sm:pb-0",children:[s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[s.jsx(_o,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"}),s.jsx("h2",{children:" (.)"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(te,{label:" (W)",placeholder:"0.00",value:m.width_m,onChange:z=>x("width_m",z.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-amber-600 dark:text-amber-400 bg-amber-500/10",error:h.width_m}),s.jsx(te,{label:" (H)",placeholder:"0.00",value:m.height_m,onChange:z=>x("height_m",z.target.value),isDimension:!0,className:"text-lg font-bold text-amber-600 dark:text-amber-400 bg-amber-500/10",error:h.height_m})]})]}),s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsx("div",{className:"grid grid-cols-2 gap-2 bg-muted/50 p-1 rounded-xl",children:["",""].map(z=>s.jsx("button",{type:"button",onClick:()=>b("fabric_variant",z),className:V("flex items-center justify-center py-2 rounded-lg text-xs font-medium transition-all",m.fabric_variant===z?"bg-amber-600 text-white shadow-md":"text-muted-foreground hover:bg-background/50"),children:z},z))}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(dl,{label:"//",options:D,value:m.code||"",onChange:R,className:"bg-muted/50",placeholder:" BW-01"}),s.jsx(te,{label:" (/..)",value:m.price_sqyd||"",onChange:z=>x("price_sqyd",z.target.value),className:"bg-muted/50",inputMode:"decimal",placeholder:"0.00"})]}),s.jsxs("div",{className:"pt-2",children:[s.jsx("label",{className:"text-sm font-bold text-foreground mb-2 block",children:" (Side)"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:["",""].map(z=>s.jsxs("button",{type:"button",onClick:()=>b("adjustment_side",z),className:V("flex items-center justify-center gap-2 py-3 rounded-xl border transition-all",m.adjustment_side===z?"border-amber-500 bg-amber-500/10 text-amber-600 dark:text-amber-400":"border-border text-muted-foreground hover:bg-muted"),children:[z===""?s.jsx(Di,{className:"w-4 h-4"}):s.jsx(zi,{className:"w-4 h-4"}),z]},z))})]})]}),s.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-amber-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),s.jsxs("div",{className:"flex items-center gap-2 text-amber-600 dark:text-amber-400 font-bold border-b border-border pb-3",children:[s.jsx(ua,{className:"w-5 h-5"}),s.jsx("h3",{children:""})]}),s.jsxs("div",{className:"flex justify-between items-baseline",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:""}),s.jsx("span",{className:"text-2xl font-bold font-mono text-amber-600 dark:text-amber-400",children:Ee(_.total)})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jt,{checked:m.enable_set_price||!1,onCheckedChange:z=>b("enable_set_price",z),className:"data-[state=checked]:bg-amber-500"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),m.enable_set_price&&s.jsx("div",{className:"w-32",children:s.jsx("input",{type:"text",inputMode:"decimal",value:m.set_price_override||"",onChange:z=>x("set_price_override",z.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"})})]})]}),s.jsxs("div",{className:"pt-2 space-y-4",children:[s.jsx(te,{label:"",value:m.notes||"",onChange:z=>b("notes",z.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[s.jsx(ie,{variant:"ghost",type:"button",onClick:d,className:"h-12 px-6 text-muted-foreground",children:""}),s.jsx(ie,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-amber-500/20 bg-amber-600 hover:bg-amber-700 text-white",children:""})]})]})]})},sh={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"Dimout",adjustment_side:"",opening_style:Qt.SIDE,is_suspended:!1,enable_set_price:!1,set_price_override:0},kb={width_m:c=>J(c)<=0?{level:"error",message:""}:null,height_m:c=>J(c)<=0?{level:"error",message:""}:null,price_sqyd:(c,u)=>!u.enable_set_price&&J(c)<=0?{level:"warning",message:""}:null},Yb=({initialData:c,onSubmit:u,onCancel:d})=>{const{formData:r,errors:m,warnings:h,handleChange:b,handleNumberChange:x,validate:g}=ka({...sh,...c},kb),{addFavorite:C,favorites:M,updateFavorite:S,openModal:_}=ae(),{addToast:D}=Qe(),{confirm:R}=qa(),H=Q.useMemo(()=>{const p={...sh,...r,type:G.VERTICAL_BLIND,id:"preview"};return tt.calculateDetailedPrice(p)},[r]),z=Q.useMemo(()=>(M[ce.VERTICAL_BLIND]||[]).map(p=>({label:p.code,value:p.code,desc:`${p.default_price_per_m}`,data:p})),[M]),y=p=>{b("code",p);const E=z.find(Z=>Z.value.toLowerCase()===p.toLowerCase());E&&E.data?.default_price_per_m&&x("price_sqyd",String(E.data.default_price_per_m))},k=async()=>{const p=r.code,E=J(r.price_sqyd);if(!p||E<=0)return D("warning","");const Z=(M[ce.VERTICAL_BLIND]||[]).find(K=>K.code===p);Z&&Z.default_price_per_m!==E?await R({title:"?",description:` ${Z.default_price_per_m}  ${E}?`})&&S(ce.VERTICAL_BLIND,Z.id,{default_price_per_m:E}):Z||(C(ce.VERTICAL_BLIND,{code:p,default_price_per_m:E}),D("success",""))},F=p=>!!p&&(M[ce.VERTICAL_BLIND]||[]).some(E=>E.code===p),Y=p=>{p.preventDefault(),g().isValid?u(r):D("error","")};return s.jsxs("form",{onSubmit:Y,className:"space-y-6 pb-20 sm:pb-0",children:[s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[s.jsx(ph,{className:"w-5 h-5 text-cyan-500"}),s.jsx("h2",{children:" (.)"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(te,{label:" (W)",value:r.width_m,onChange:p=>x("width_m",p.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-cyan-600 dark:text-cyan-400 bg-cyan-500/10",error:m.width_m}),s.jsx(te,{label:" (H)",value:r.height_m,onChange:p=>x("height_m",p.target.value),isDimension:!0,className:"text-lg font-bold text-cyan-600 dark:text-cyan-400 bg-cyan-500/10",error:m.height_m})]})]}),s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("label",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[s.jsx(ua,{className:"w-4 h-4 text-muted-foreground"}),"/"]}),s.jsxs(ie,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 gap-1 text-muted-foreground hover:text-cyan-600",onClick:()=>_("favoriteManager",{initialTab:ce.VERTICAL_BLIND}),children:[s.jsx(Oi,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"text-xs",children:""})]})]}),s.jsx(dl,{placeholder:"/...",value:r.code||"",onChange:y,options:z}),s.jsxs("div",{className:"relative",children:[s.jsx(te,{placeholder:" (/..)",inputMode:"decimal",value:r.price_sqyd||"",onChange:p=>x("price_sqyd",p.target.value),warning:h.price_sqyd}),r.code&&J(r.price_sqyd)>0&&s.jsx("button",{type:"button",onClick:k,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 z-10 hover:scale-110 transition-transform",children:s.jsx(ol,{className:V("w-5 h-5",F(r.code)?"fill-amber-400 text-amber-400":"text-muted-foreground")})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-border",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("button",{type:"button",onClick:()=>b("opening_style",Qt.SIDE),className:V("flex items-center gap-2 px-3 py-2 rounded-lg text-xs border transition-all",r.opening_style===Qt.SIDE?"bg-cyan-500/10 border-cyan-500/50 text-cyan-600 dark:text-cyan-400":"border-transparent text-muted-foreground hover:bg-muted"),children:[s.jsx(bh,{className:"w-3 h-3"}),""]}),s.jsxs("button",{type:"button",onClick:()=>b("opening_style",Qt.CENTER),className:V("flex items-center gap-2 px-3 py-2 rounded-lg text-xs border transition-all",r.opening_style===Qt.CENTER?"bg-cyan-500/10 border-cyan-500/50 text-cyan-600 dark:text-cyan-400":"border-transparent text-muted-foreground hover:bg-muted"),children:[s.jsx(jo,{className:"w-3 h-3"}),""]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("button",{type:"button",onClick:()=>b("adjustment_side",""),className:V("flex items-center gap-2 px-3 py-2 rounded-lg text-xs border transition-all",r.adjustment_side===""?"bg-cyan-500/10 border-cyan-500/50 text-cyan-600 dark:text-cyan-400":"border-transparent text-muted-foreground hover:bg-muted"),children:[s.jsx(zi,{className:"w-3 h-3"}),""]}),s.jsxs("button",{type:"button",onClick:()=>b("adjustment_side",""),className:V("flex items-center gap-2 px-3 py-2 rounded-lg text-xs border transition-all",r.adjustment_side===""?"bg-cyan-500/10 border-cyan-500/50 text-cyan-600 dark:text-cyan-400":"border-transparent text-muted-foreground hover:bg-muted"),children:[s.jsx(Di,{className:"w-3 h-3"}),""]})]})]})]})]}),s.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-cyan-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),s.jsxs("div",{className:"flex items-center gap-2 text-cyan-600 dark:text-cyan-400 font-bold border-b border-border pb-3",children:[s.jsx(ua,{className:"w-5 h-5"}),s.jsx("h3",{children:""})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[s.jsx("span",{children:" (..):"}),s.jsx("span",{className:"text-foreground font-mono",children:H.breakdown?.areaSqyd?.toFixed(2)||"0.00"})]}),s.jsxs("div",{className:"flex justify-between items-end pt-2 border-t border-border mt-2",children:[s.jsx("span",{className:"text-muted-foreground pb-1",children:""}),s.jsx("span",{className:"text-2xl font-bold font-mono text-cyan-600 dark:text-cyan-400",children:Ee(H.total)})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jt,{checked:r.enable_set_price||!1,onCheckedChange:p=>b("enable_set_price",p),className:"data-[state=checked]:bg-cyan-500"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),r.enable_set_price&&s.jsx("div",{className:"w-32",children:s.jsx("input",{type:"text",inputMode:"decimal",value:r.set_price_override||"",onChange:p=>x("set_price_override",p.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500"})})]})]})]}),s.jsxs("div",{className:"pt-2 space-y-4",children:[s.jsx(te,{label:"",value:r.notes||"",onChange:p=>b("notes",p.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[s.jsx(ie,{variant:"ghost",type:"button",onClick:d,className:"h-12 px-6 text-muted-foreground",children:""}),s.jsx(ie,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-cyan-500/20 bg-cyan-600 hover:bg-cyan-700 text-white",children:""})]})]})]})},nh={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"PVC ",opening_style:Qt.SIDE,is_suspended:!1,enable_set_price:!1,set_price_override:0},Xb={width_m:c=>J(c)<=0?{level:"error",message:""}:null,height_m:c=>J(c)<=0?{level:"error",message:""}:null,price_sqyd:(c,u)=>!u.enable_set_price&&J(c)<=0?{level:"warning",message:""}:null},Qb=({initialData:c,onSubmit:u,onCancel:d})=>{const{formData:r,errors:m,warnings:h,handleChange:b,handleNumberChange:x,validate:g}=ka({...nh,...c},Xb),{addFavorite:C,favorites:M,updateFavorite:S,openModal:_}=ae(),{addToast:D}=Qe(),{confirm:R}=qa(),H=Q.useMemo(()=>{const p={...nh,...r,type:G.PARTITION,id:"preview"};return tt.calculateDetailedPrice(p)},[r]),z=Q.useMemo(()=>(M[ce.PARTITION]||[]).map(p=>({label:p.code,value:p.code,desc:`${p.default_price_per_m}`,data:p})),[M]),y=p=>{b("code",p);const E=z.find(Z=>Z.value.toLowerCase()===p.toLowerCase());E&&E.data?.default_price_per_m&&x("price_sqyd",String(E.data.default_price_per_m))},k=async()=>{const p=r.code,E=J(r.price_sqyd);if(!p||E<=0)return D("warning","");const Z=(M[ce.PARTITION]||[]).find(K=>K.code===p);Z&&Z.default_price_per_m!==E?await R({title:"?",description:` ${Z.default_price_per_m} -> ${E}?`})&&S(ce.PARTITION,Z.id,{default_price_per_m:E}):Z||(C(ce.PARTITION,{code:p,default_price_per_m:E}),D("success",""))},F=p=>!!p&&(M[ce.PARTITION]||[]).some(E=>E.code===p),Y=p=>{p.preventDefault(),g().isValid?u(r):D("error","")};return s.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[s.jsx(So,{className:"w-5 h-5 text-emerald-500"}),s.jsx("h2",{children:" (.)"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(te,{label:" (W)",placeholder:"0.00",value:r.width_m,onChange:p=>x("width_m",p.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-500/10",error:m.width_m}),s.jsx(te,{label:" (H)",placeholder:"0.00",value:r.height_m,onChange:p=>x("height_m",p.target.value),isDimension:!0,className:"text-lg font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-500/10",error:m.height_m})]})]}),s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("label",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[s.jsx(ua,{className:"w-4 h-4 text-muted-foreground"}),"/"]}),s.jsxs(ie,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 gap-1 text-muted-foreground hover:text-emerald-600",onClick:()=>_("favoriteManager",{initialTab:ce.PARTITION}),children:[s.jsx(Oi,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"text-xs",children:""})]})]}),s.jsx(dl,{placeholder:" ( PVC )...",value:r.code||"",onChange:y,options:z}),s.jsxs("div",{className:"relative",children:[s.jsx(te,{placeholder:" (/..)",inputMode:"decimal",value:r.price_sqyd||"",onChange:p=>x("price_sqyd",p.target.value),warning:h.price_sqyd,className:"bg-muted/50"}),r.code&&J(r.price_sqyd)>0&&s.jsx("button",{type:"button",onClick:k,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 z-10 hover:scale-110 transition-transform",children:s.jsx(ol,{className:V("w-5 h-5",F(r.code)?"fill-amber-400 text-amber-400":"text-muted-foreground")})})]})]}),s.jsxs("div",{className:"space-y-2 pt-2 border-t border-border",children:[s.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),s.jsx("div",{className:"flex gap-2",children:[{l:"",v:Qt.SIDE,i:bh},{l:"",v:Qt.CENTER,i:jo}].map(p=>s.jsxs("button",{type:"button",onClick:()=>b("opening_style",p.v),className:V("flex-1 flex items-center justify-center gap-2 py-2 rounded-lg text-sm border transition-all",r.opening_style===p.v?"bg-emerald-500/10 border-emerald-500/50 text-emerald-600 dark:text-emerald-400 font-medium":"bg-background border-border text-muted-foreground hover:bg-muted"),children:[s.jsx(p.i,{className:"w-4 h-4"}),p.l]},p.v))})]})]}),s.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),s.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 dark:text-emerald-400 font-bold border-b border-border pb-3",children:[s.jsx(ua,{className:"w-5 h-5"}),s.jsx("h3",{children:""})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[s.jsx("span",{children:" (..):"}),s.jsx("span",{className:"text-foreground font-mono",children:H.breakdown?.areaSqyd?.toFixed(2)||"0.00"})]}),s.jsxs("div",{className:"flex justify-between items-end pt-2 border-t border-border mt-2",children:[s.jsx("span",{className:"text-muted-foreground pb-1",children:""}),s.jsx("span",{className:"text-2xl font-bold font-mono text-emerald-600 dark:text-emerald-400",children:Ee(H.total)})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jt,{checked:r.enable_set_price||!1,onCheckedChange:p=>b("enable_set_price",p),className:"data-[state=checked]:bg-emerald-500"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),r.enable_set_price&&s.jsx("div",{className:"w-32",children:s.jsx("input",{type:"text",inputMode:"decimal",value:r.set_price_override||"",onChange:p=>x("set_price_override",p.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"})})]})]}),s.jsxs("div",{className:"pt-2 space-y-4",children:[s.jsx(te,{label:"",value:r.notes||"",onChange:p=>b("notes",p.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[s.jsx(ie,{variant:"ghost",type:"button",onClick:d,className:"h-12 px-6 text-muted-foreground",children:""}),s.jsx(ie,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-emerald-500/20 bg-emerald-600 hover:bg-emerald-700 text-white",children:""})]})]})]})},ih={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"",opening_style:Qt.SIDE,is_suspended:!1,enable_set_price:!1,set_price_override:0},Gb={width_m:c=>J(c)<=0?{level:"error",message:""}:null,height_m:c=>J(c)<=0?{level:"error",message:""}:null,price_sqyd:(c,u)=>!u.enable_set_price&&J(c)<=0?{level:"warning",message:""}:null},Vb=({initialData:c,onSubmit:u,onCancel:d})=>{const{formData:r,errors:m,handleChange:h,handleNumberChange:b,validate:x}=ka({...ih,...c},Gb),{addToast:g}=Qe(),C=Q.useMemo(()=>{const S={...ih,...r,type:G.PLEATED_SCREEN,id:"preview"};return tt.calculateDetailedPrice(S)},[r]),M=S=>{S.preventDefault(),x().isValid?u(r):g("error","")};return s.jsxs("form",{onSubmit:M,className:"space-y-6 pb-20 sm:pb-0",children:[s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[s.jsx(So,{className:"w-5 h-5 text-pink-500"}),s.jsx("h2",{children:" (.)"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(te,{label:" (W)",value:r.width_m,onChange:S=>b("width_m",S.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-pink-600 dark:text-pink-400 bg-pink-500/10",error:m.width_m}),s.jsx(te,{label:" (H)",value:r.height_m,onChange:S=>b("height_m",S.target.value),isDimension:!0,className:"text-lg font-bold text-pink-600 dark:text-pink-400 bg-pink-500/10",error:m.height_m})]})]}),s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(te,{label:"",value:r.code||"",onChange:S=>h("code",S.target.value),className:"bg-muted/50",placeholder:"..."}),s.jsx(te,{label:" (/..)",value:r.price_sqyd||"",onChange:S=>b("price_sqyd",S.target.value),className:"bg-muted/50",inputMode:"decimal"})]}),s.jsxs("div",{className:"pt-2",children:[s.jsx("label",{className:"text-sm font-bold text-foreground mb-2 block",children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.values(Qt).map(S=>s.jsx("button",{type:"button",onClick:()=>h("opening_style",S),className:V("py-2 px-3 rounded-lg text-xs font-medium border transition-all",r.opening_style===S?"bg-pink-500/10 border-pink-500/50 text-pink-600 dark:text-pink-400":"bg-background border-border text-muted-foreground hover:bg-muted"),children:S},S))})]})]}),s.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-pink-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),s.jsxs("div",{className:"flex items-center gap-2 text-pink-600 dark:text-pink-400 font-bold border-b border-border pb-3",children:[s.jsx(ua,{className:"w-5 h-5"}),s.jsx("h3",{children:""})]}),s.jsxs("div",{className:"flex justify-between items-baseline",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:""}),s.jsx("span",{className:"text-2xl font-bold font-mono text-pink-600 dark:text-pink-400",children:Ee(C.total)})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jt,{checked:r.enable_set_price||!1,onCheckedChange:S=>h("enable_set_price",S),className:"data-[state=checked]:bg-pink-500"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),r.enable_set_price&&s.jsx("div",{className:"w-32",children:s.jsx("input",{type:"text",inputMode:"decimal",value:r.set_price_override||"",onChange:S=>b("set_price_override",S.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-pink-500"})})]})]}),s.jsxs("div",{className:"pt-2 space-y-4",children:[s.jsx(te,{label:"",value:r.notes||"",onChange:S=>h("notes",S.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[s.jsx(ie,{variant:"ghost",type:"button",onClick:d,className:"h-12 px-6 text-muted-foreground",children:""}),s.jsx(ie,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-pink-500/20 bg-pink-600 hover:bg-pink-700 text-white",children:""})]})]})]})},Zb={quantity:1,price_per_item:0,description:"",notes:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},Jb={description:c=>c?null:{level:"error",message:""},price_per_item:c=>J(c)<=0?{level:"error",message:""}:null},Kb=({initialData:c,onSubmit:u,onCancel:d})=>{const{formData:r,errors:m,isDirty:h,validate:b,handleChange:x,handleNumberChange:g,getFormattedNumber:C}=ka({...Zb,...c},Jb),M=Q.useMemo(()=>{const _={...r,type:G.REMOVAL,id:"preview"};return tt.calculateDetailedPrice(_)},[r]),S=_=>{if(_.preventDefault(),b().isValid){const D={...r,quantity:J(r.quantity),price_per_item:J(r.price_per_item),set_price_override:J(r.set_price_override)};u(D)}};return s.jsxs("form",{onSubmit:S,className:"space-y-6 pb-20 sm:pb-0",children:[s.jsxs("section",{className:"space-y-4 bg-card p-5 rounded-2xl border border-border shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold mb-2",children:[s.jsx(gh,{className:"w-5 h-5 text-destructive"}),s.jsx("h2",{children:""})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(te,{label:" / ",placeholder:" , ...",value:r.description,onChange:_=>x("description",_.target.value),autoFocus:!0,className:"bg-muted/50",error:m.description}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("label",{className:"text-sm font-bold text-foreground mb-1.5 block",children:""}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{type:"button",onClick:()=>g("quantity",String(Math.max(1,J(r.quantity)-1))),className:"w-10 h-10 rounded-l-xl bg-muted text-muted-foreground hover:bg-accent flex items-center justify-center border-y border-l border-input",children:"-"}),s.jsx("input",{type:"number",value:r.quantity,onChange:_=>g("quantity",_.target.value),className:"w-full h-10 text-center border-y border-input bg-background text-foreground font-bold"}),s.jsx("button",{type:"button",onClick:()=>g("quantity",String(J(r.quantity)+1)),className:"w-10 h-10 rounded-r-xl bg-muted text-muted-foreground hover:bg-accent flex items-center justify-center border-y border-r border-input",children:"+"})]})]}),s.jsx(te,{label:"",placeholder:"0.00",value:r.price_per_item,onChange:_=>g("price_per_item",_.target.value),inputMode:"decimal",className:"bg-muted/50",error:m.price_per_item})]})]})]}),s.jsxs("section",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-destructive/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),s.jsxs("div",{className:"flex items-center gap-2 text-destructive font-bold border-b border-border pb-3",children:[s.jsx(vh,{className:"w-5 h-5"}),s.jsx("h3",{children:""})]}),s.jsxs("div",{className:"flex justify-between items-baseline",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:""}),s.jsx("span",{className:"text-3xl font-bold font-mono text-destructive",children:Ee(M.total)})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jt,{checked:r.enable_set_price||!1,onCheckedChange:_=>x("enable_set_price",_),className:"data-[state=checked]:bg-primary"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:" (Override)"})]}),r.enable_set_price&&s.jsx("div",{className:"w-32",children:s.jsx("input",{type:"text",inputMode:"decimal",value:C("set_price_override"),onChange:_=>g("set_price_override",_.target.value),placeholder:"",className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-primary transition-colors"})})]})]}),s.jsxs("div",{className:"pt-2",children:[s.jsx(te,{label:"",value:r.notes,onChange:_=>x("notes",_.target.value),className:"bg-muted/50 border-transparent focus:bg-background transition-colors"}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-border mt-4",children:[s.jsx(ie,{variant:"ghost",type:"button",onClick:d,className:"text-muted-foreground",children:""}),s.jsx(ie,{type:"submit",className:"min-w-[120px] bg-destructive hover:bg-destructive/90 text-destructive-foreground",disabled:!h&&!c?.description,children:""})]})]})]})},Xt=c=>({container:`bg-[hsl(var(${c})_/_0.05)] dark:bg-[hsl(var(${c})_/_0.1)] border-[hsl(var(${c})_/_0.2)]`,iconWrapper:`bg-white dark:bg-[hsl(var(${c})_/_0.15)] text-[hsl(var(${c}))] shadow-sm`,title:"text-foreground font-semibold",icon:`text-[hsl(var(${c}))]`,hover:`hover:border-[hsl(var(${c})_/_0.5)] hover:bg-[hsl(var(${c})_/_0.08)] dark:hover:bg-[hsl(var(${c})_/_0.15)]`,badge:`bg-[hsl(var(${c})_/_0.1)] text-[hsl(var(${c}))]`,text:`text-[hsl(var(${c}))]`,bgSoft:`bg-[hsl(var(${c})_/_0.1)]`,border:`border-[hsl(var(${c}))]`,ring:`focus:ring-[hsl(var(${c}))]`}),Fb={[G.CURTAIN]:Xt("--brand-curtain"),[G.WALLPAPER]:Xt("--brand-wallpaper"),[G.ROLLER_BLIND]:Xt("--brand-roller"),[G.WOODEN_BLIND]:Xt("--brand-wood"),[G.VERTICAL_BLIND]:Xt("--brand-vertical"),[G.ALUMINUM_BLIND]:Xt("--brand-alum"),[G.PARTITION]:Xt("--brand-partition"),[G.PLEATED_SCREEN]:Xt("--brand-screen"),[G.REMOVAL]:Xt("--brand-removal")},$b=c=>Fb[c]||Xt("--foreground"),Wb=[{id:G.CURTAIN,icon:hp},{id:G.WOODEN_BLIND,icon:_o},{id:G.ROLLER_BLIND,icon:xh},{id:G.VERTICAL_BLIND,icon:ph},{id:G.PARTITION,icon:So},{id:G.PLEATED_SCREEN,icon:xp},{id:G.WALLPAPER,icon:No},{id:G.REMOVAL,icon:yh}],Ib=({isOpen:c,onClose:u,roomId:d,itemId:r,itemType:m=G.CURTAIN,initialData:h,mode:b="add",onSubmit:x})=>{const{trigger:g}=Ha(),C=y=>y==="set"?G.CURTAIN:y,[M,S]=Q.useState(C(m)),[_,D]=Q.useState(!0);Q.useEffect(()=>{if(c){if(b==="add")D(!0),S(C(m));else if(b==="edit"&&h){D(!1);const y=h.type||m;S(C(y))}}},[c,b,m]);const R=y=>{g("selection"),S(y),D(!1)},H=(y,k=!0)=>{const F={...y,type:M,...d&&{roomId:d},...r&&{id:r}};x?x(F,k):u()},z=_?"":b==="add"?"":"";return s.jsx(Ot,{isOpen:c,onClose:u,title:z,maxWidth:"lg",children:_?s.jsx("div",{className:"pb-safe-area",children:s.jsx("div",{className:"grid grid-cols-2 gap-3 p-1",children:Wb.map(y=>{const k=ul[y.id]?.name||y.id,F=$b(y.id);return s.jsxs("button",{onClick:()=>R(y.id),className:V("group relative flex flex-col items-start p-4 rounded-2xl border bg-card text-card-foreground transition-all duration-300 ease-out",F.container,F.hover),children:[s.jsx("div",{className:V("w-10 h-10 rounded-xl flex items-center justify-center mb-3 transition-colors duration-300",F.iconWrapper),children:s.jsx(y.icon,{className:"w-5 h-5 transition-colors",strokeWidth:2})}),s.jsx("span",{className:V("text-[14px] font-bold",F.title),children:k}),s.jsx("div",{className:V("absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none","bg-gradient-to-tr from-white/0 via-white/0 to-white/5 dark:to-white/5")})]},y.id)})})}):s.jsxs("div",{className:"relative",children:[b==="add"&&s.jsxs("button",{onClick:()=>D(!0),className:V("absolute -top-[52px] right-0 z-10","flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold transition-all","bg-secondary text-secondary-foreground hover:bg-secondary/80 active:scale-95","dark:bg-secondary/50 dark:hover:bg-secondary/70"),children:[s.jsx(fh,{className:"w-3.5 h-3.5"})," "]}),s.jsxs("div",{className:"animate-fade-in",children:[M===G.CURTAIN&&s.jsx(zb,{initialData:h,onSubmit:H,onCancel:u}),M===G.WALLPAPER&&s.jsx(Lb,{initialData:h,onSubmit:H,onCancel:u}),M===G.ROLLER_BLIND&&s.jsx(Bb,{initialData:h,onSubmit:H,onCancel:u}),(M===G.WOODEN_BLIND||M===G.ALUMINUM_BLIND)&&s.jsx(qb,{itemType:M,initialData:h,onSubmit:H,onCancel:u}),M===G.VERTICAL_BLIND&&s.jsx(Yb,{initialData:h,onSubmit:H,onCancel:u}),M===G.PARTITION&&s.jsx(Qb,{initialData:h,onSubmit:H,onCancel:u}),M===G.PLEATED_SCREEN&&s.jsx(Vb,{initialData:h,onSubmit:H,onCancel:u}),M===G.REMOVAL&&s.jsx(Kb,{initialData:h,onSubmit:H,onCancel:u})]})]})})},Pb=({isOpen:c,onClose:u})=>{const d=ae(h=>h.customer),r=ae(h=>h.setCustomer),m=(h,b)=>{r({[h]:b})};return s.jsx(Ot,{isOpen:c,onClose:u,title:" (Customer Info)",children:s.jsxs("div",{className:"space-y-6 pb-safe-area",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(te,{prefix:s.jsx(pp,{className:"w-4 h-4 text-muted-foreground"}),label:" /  (Name)",placeholder:"...",value:d.name,onChange:h=>m("name",h.target.value),autoFocus:!0}),s.jsx(te,{prefix:s.jsx(bp,{className:"w-4 h-4 text-muted-foreground"}),label:" (Phone)",placeholder:"08X-XXX-XXXX",value:d.phone,onChange:h=>m("phone",h.target.value),inputMode:"tel"}),s.jsx(te,{prefix:s.jsx(Ri,{className:"w-4 h-4 text-muted-foreground"}),label:" (Tax ID)",placeholder:"...",value:d.taxId||"",onChange:h=>m("taxId",h.target.value)}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("label",{className:"text-base font-medium text-foreground ml-1 flex items-center gap-2",children:[s.jsx(gp,{className:"w-4 h-4"}),"  (Billing Address)"]}),s.jsx("textarea",{className:"w-full p-3 rounded-xl border border-input bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-ring min-h-[80px] resize-none text-[16px] placeholder:text-muted-foreground",placeholder:", , /...",value:d.address,onChange:h=>m("address",h.target.value)})]})]}),s.jsx("hr",{className:"border-border"}),s.jsxs("div",{className:"space-y-4 bg-muted/30 p-4 rounded-2xl border border-border",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"font-semibold text-foreground flex items-center gap-2",children:[s.jsx(jh,{className:"w-4 h-4"}),"  (Site Location)"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-xs text-muted-foreground cursor-pointer",htmlFor:"show-site",children:""}),s.jsx(jt,{id:"show-site",checked:d.showInstallationAddress!==!1,onCheckedChange:h=>m("showInstallationAddress",h)})]})]}),s.jsxs("div",{className:"flex items-center justify-between py-1",children:[s.jsx("span",{className:"text-base text-foreground/80",children:""}),s.jsx(jt,{checked:d.useSameAddress!==!1,onCheckedChange:h=>m("useSameAddress",h)})]}),d.useSameAddress===!1&&s.jsx("div",{className:"animate-fade-in",children:s.jsx("textarea",{className:"w-full p-3 rounded-xl border border-input bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-ring min-h-[80px] resize-none text-[16px] placeholder:text-muted-foreground",placeholder:"...",value:d.installationAddress||"",onChange:h=>m("installationAddress",h.target.value)})}),d.useSameAddress!==!1&&s.jsx("div",{className:"p-3 border border-dashed border-border rounded-xl text-center text-muted-foreground text-xs",children:""})]}),s.jsx("div",{className:"pt-2 flex justify-end",children:s.jsx(ie,{onClick:u,className:"w-full sm:w-auto bg-primary text-primary-foreground min-w-[120px]",children:""})})]})})};var Ah=Gp();const il=c=>c.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2}),eg=()=>{const c=new Date,u=c.getFullYear().toString().slice(-2),d=(c.getMonth()+1).toString().padStart(2,"0"),r=Math.floor(Math.random()*1e3).toString().padStart(4,"0");return`QT-${u}${d}-${r}`},tg=c=>{const u=[];return c.forEach(d=>{if(d.is_suspended)return;const r=tt.calculatePrice(d),{id:m,...h}=d,b=JSON.stringify(h),x=u.find(g=>{const{id:C,...M}=g.item;return JSON.stringify(M)===b});x?(x.count+=1,x.totalPrice+=r):u.push({item:d,count:1,unitPrice:r,totalPrice:r})}),u},ag=cl.forwardRef(({docType:c},u)=>{const{shopConfig:d,customer:r,rooms:m}=ae(y=>y),{grandTotal:h,discountAmount:b,vatAmount:x,finalTotal:g}=Hi(),C=c==="delivery",M=!C,[S]=Q.useState(eg),_={quotation:" (QUOTATION)",delivery:" /  (DELIVERY NOTE)",receipt:" (RECEIPT)"},D=`
      @page { size: A4; margin: 10mm 15mm; }
      @media print {
        body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
        html, body { height: auto !important; overflow: visible !important; }
        #root { display: block !important; }
        thead { display: table-header-group; }
        tfoot { display: table-footer-group; }
        tr { break-inside: avoid; page-break-inside: avoid; }
        .room-header { break-after: avoid; page-break-after: avoid; }
        .no-print { display: none !important; }
      }
    `,R=r.showInstallationAddress!==!1,H=r.useSameAddress!==!1,z=H?"()":r.installationAddress||"-";return s.jsxs("div",{ref:u,className:"bg-white text-slate-900 font-sans leading-normal text-[12px]",children:[s.jsx("style",{children:D}),s.jsxs("div",{className:"w-[210mm] min-h-[297mm] px-[10mm] py-[10mm] mx-auto flex flex-col bg-white",children:[s.jsxs("header",{className:"flex justify-between items-start border-b-2 border-slate-800 pb-4 mb-4",children:[s.jsxs("div",{className:"flex gap-4 items-start",children:[d.logoUrl?s.jsx("img",{src:d.logoUrl,alt:"Logo",className:"w-[80px] h-[80px] object-contain border border-slate-100 rounded"}):s.jsx("div",{className:"w-[80px] h-[80px] bg-slate-100 flex items-center justify-center text-slate-300 font-bold rounded",children:"LOGO"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-slate-900",children:d.name||""}),s.jsx("div",{className:"text-slate-600 whitespace-pre-line mt-1 leading-tight",children:d.address}),s.jsxs("div",{className:"text-slate-600 mt-2",children:[s.jsx("span",{className:"font-bold",children:":"})," ",d.phone,d.taxId&&s.jsxs("span",{className:"ml-3",children:[s.jsx("span",{className:"font-bold",children:":"})," ",d.taxId]})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:V("inline-block px-4 py-1.5 text-sm font-bold rounded border mb-3",C?"bg-slate-100 border-slate-300":"bg-slate-900 text-white border-slate-900"),children:_[c]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-end items-center gap-2",children:[s.jsx("span",{className:"font-bold text-slate-500",children:":"}),s.jsx("span",{className:"font-mono font-bold text-base",children:S})]}),s.jsxs("div",{className:"flex justify-end items-center gap-2",children:[s.jsx("span",{className:"font-bold text-slate-500",children:":"}),s.jsx("div",{className:"w-[100px] border-b border-slate-400 h-5"})]})]})]})]}),s.jsxs("section",{className:"mb-5 border border-slate-300 rounded-xl flex overflow-hidden bg-white",children:[s.jsxs("div",{className:V("p-4",R?"flex-[1.2]":"flex-1"),children:[s.jsx("div",{className:"flex items-center gap-2 mb-3",children:s.jsx("h3",{className:"font-bold text-slate-900 text-xs uppercase tracking-wider bg-slate-100 px-2 py-0.5 rounded",children:" (Customer)"})}),s.jsxs("div",{className:"space-y-1.5 text-sm",children:[s.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2",children:[s.jsx("span",{className:"text-slate-500 font-medium",children:":"}),s.jsx("span",{className:"font-bold text-slate-900 text-[13px]",children:r.name||"-"})]}),s.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2",children:[s.jsx("span",{className:"text-slate-500 font-medium",children:":"}),s.jsx("span",{className:"text-slate-800 leading-snug",children:r.address||"-"})]}),s.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2",children:[s.jsx("span",{className:"text-slate-500 font-medium",children:":"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("span",{className:"font-mono text-slate-800",children:r.phone||"-"}),r.taxId&&s.jsxs("span",{className:"text-slate-600",children:[s.jsx("span",{className:"font-medium text-slate-500 mr-1",children:"Tax ID:"}),r.taxId]})]})]})]})]}),R&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-px bg-slate-200 my-3"}),s.jsxs("div",{className:"flex-1 p-4 bg-slate-50/30",children:[s.jsx("div",{className:"flex items-center gap-2 mb-3",children:s.jsx("h3",{className:"font-bold text-slate-900 text-xs uppercase tracking-wider bg-slate-100 px-2 py-0.5 rounded",children:" (Site Location)"})}),s.jsx("div",{className:V("text-sm leading-relaxed",H?"text-slate-400 italic":"text-slate-700"),children:z})]})]})]}),s.jsx("div",{className:"flex-1",children:s.jsxs("table",{className:"w-full border border-slate-300 border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-slate-100 text-slate-900 text-xs border-b border-slate-300",children:[s.jsx("th",{className:"py-2 w-[45px] text-center font-bold border-r border-slate-300",children:""}),s.jsx("th",{className:"py-2 px-2 text-left font-bold border-r border-slate-300",children:" (Description)"}),s.jsx("th",{className:"py-2 px-2 w-[60px] text-center font-bold border-r border-slate-300",children:""}),M?s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"py-2 px-2 w-[110px] text-right font-bold border-r border-slate-300",children:"/"}),s.jsx("th",{className:"py-2 pr-2 w-[120px] text-right font-bold",children:""})]}):s.jsx("th",{className:"py-2 px-2 w-[150px] text-center font-bold",children:""})]})}),m.map((y,k)=>{if(y.items.length===0)return null;const F=tg(y.items);return s.jsxs("tbody",{className:"border-b border-slate-300 last:border-0",children:[s.jsxs("tr",{className:"bg-slate-50/80 room-header border-b border-slate-300",children:[s.jsx("td",{className:"py-1.5 px-1 text-center font-bold text-slate-600 border-r border-slate-300 bg-slate-100",children:k+1}),s.jsxs("td",{colSpan:M?4:3,className:"py-1.5 px-2 font-bold text-slate-900",children:[" ",y.name]})]}),F.map((Y,p)=>{const{item:E,count:Z,unitPrice:K,totalPrice:W}=Y,$=ul[E.type];let me=$?$.name:"",ze="",se="";return Li(E)?(me="",ze=`${E.style||"-"} (${E.fabric_variant||"-"}) ${E.code?`: ${E.code}`:""}`,se=`${Pe(E.width_m)}  ${Pe(E.height_m)} .`):Ui(E)?(me="",ze=E.wallpaper_code?`Code: ${E.wallpaper_code}`:"",se="-"):Sh(E)?(me="/",ze=E.description||"",se="-"):Bi(E)&&(ze=E.code?`: ${E.code}`:"",se=`${Pe(E.width_m)}  ${Pe(E.height_m)} .`),s.jsxs("tr",{className:"border-b border-slate-200 text-xs even:bg-slate-50 hover:bg-slate-100/50",children:[s.jsxs("td",{className:"py-2.5 px-1 text-center text-slate-500 align-top border-r border-slate-300",children:[k+1,".",p+1]}),s.jsxs("td",{className:"py-2.5 px-2 align-top border-r border-slate-300",children:[s.jsx("div",{className:"font-bold text-slate-800 text-[13px]",children:me}),s.jsx("div",{className:"text-slate-600",children:ze}),se!=="-"&&s.jsx("div",{className:"text-slate-500 font-mono mt-0.5 text-[11px]",children:se}),E.notes&&s.jsxs("div",{className:"text-[10px] text-red-500 mt-0.5",children:["* ",E.notes]})]}),s.jsx("td",{className:"py-2.5 px-2 text-center align-top font-mono text-slate-900 border-r border-slate-300 font-bold text-[13px]",children:Z}),M?s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"py-2.5 px-2 text-right align-top font-mono text-slate-700 border-r border-slate-300 text-[13px]",children:il(K)}),s.jsx("td",{className:"py-2.5 pr-2 text-right align-top font-mono font-bold text-slate-900 text-[13px]",children:il(W)})]}):s.jsx("td",{className:"py-2.5 px-2 text-center align-top text-slate-400",children:"-"})]},p)})]},y.id)})]})}),s.jsxs("div",{className:"mt-6 break-inside-avoid page-break-inside-avoid",children:[s.jsxs("div",{className:"flex items-start border-t-2 border-slate-800 pt-4 gap-6",children:[s.jsxs("div",{className:"flex-1",children:[M&&s.jsxs("div",{className:"bg-slate-100 p-2 rounded mb-3 text-center border border-slate-200",children:[s.jsx("span",{className:"text-[10px] text-slate-500 block uppercase tracking-wider mb-1",children:""}),s.jsx("span",{className:"font-bold text-slate-800 text-sm",children:fb(g)})]}),s.jsxs("div",{className:"text-[10px] text-slate-600 space-y-1",children:[s.jsx("div",{className:"font-bold text-slate-800 text-xs",children:" / :"}),s.jsxs("ul",{className:"list-disc list-inside pl-1",children:[d.pdf?.priceValidity&&s.jsxs("li",{children:[" ",d.pdf.priceValidity]}),d.pdf?.paymentTerms&&s.jsx("li",{children:d.pdf.paymentTerms}),d.pdf?.notes?.map((y,k)=>y.trim()&&s.jsx("li",{children:y},k))]}),d.bankAccount?.isEnabled!==!1&&d.bankAccount?.accountNumber&&s.jsxs("div",{className:"mt-2 p-2 border border-slate-300 rounded bg-white inline-block min-w-[250px]",children:[s.jsx("div",{className:"font-bold text-slate-900 mb-1 border-b border-slate-200 pb-1",children:""}),s.jsxs("div",{className:"grid grid-cols-[60px_1fr] gap-1",children:[s.jsx("span",{className:"text-slate-500",children:":"}),s.jsx("span",{children:d.bankAccount.bankName}),s.jsx("span",{className:"text-slate-500",children:":"}),s.jsx("span",{children:d.bankAccount.accountName}),s.jsx("span",{className:"text-slate-500",children:":"}),s.jsx("span",{className:"font-mono font-bold text-slate-900 text-[13px]",children:d.bankAccount.accountNumber}),d.bankAccount.branch&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-slate-500",children:":"}),s.jsx("span",{children:d.bankAccount.branch})]})]})]})]})]}),M&&s.jsxs("div",{className:"w-[260px] text-sm",children:[s.jsxs("div",{className:"space-y-1 border-b border-slate-300 pb-2 mb-2",children:[s.jsxs("div",{className:"flex justify-between text-slate-600",children:[s.jsx("span",{children:""}),s.jsx("span",{className:"font-mono font-medium text-[13px]",children:il(h)})]}),b>0&&s.jsxs("div",{className:"flex justify-between text-green-700",children:[s.jsx("span",{children:""}),s.jsxs("span",{className:"font-mono font-medium text-[13px]",children:["-",il(b)]})]}),d.baseVatRate>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between text-slate-600 text-xs",children:[s.jsx("span",{children:""}),s.jsx("span",{className:"font-mono",children:il(h-b)})]}),s.jsxs("div",{className:"flex justify-between text-slate-600",children:[s.jsxs("span",{children:["VAT ",d.baseVatRate,"%"]}),s.jsx("span",{className:"font-mono",children:il(x)})]})]})]}),s.jsxs("div",{className:"flex justify-between items-center bg-slate-900 text-white p-3 rounded shadow-sm",children:[s.jsx("span",{className:"font-bold",children:""}),s.jsx("span",{className:"font-bold text-xl font-mono",children:il(g)})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-8 mt-10",children:[s.jsxs("div",{className:"border border-slate-300 rounded-xl p-4 flex flex-col items-center justify-between min-h-[180px]",children:[s.jsx("div",{className:"text-xs font-bold text-slate-900 uppercase tracking-wide",children:" / "}),s.jsxs("div",{className:"w-full flex flex-col items-center mt-auto",children:[s.jsx("div",{className:"border-b border-slate-900 w-[160px] h-8 mb-6"}),s.jsxs("div",{className:"flex gap-1 text-slate-500 text-[11px]",children:["(",s.jsx("div",{className:"w-[140px] text-center relative top-[2px]",children:".................................................."}),")"]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-[11px] text-slate-500 mt-4",children:[s.jsx("span",{children:":"}),s.jsx("div",{className:"w-8 border-b border-slate-400 h-4"}),s.jsx("span",{children:"/"}),s.jsx("div",{className:"w-8 border-b border-slate-400 h-4"}),s.jsx("span",{children:"/"}),s.jsx("div",{className:"w-10 border-b border-slate-400 h-4"})]})]}),s.jsxs("div",{className:"border border-slate-300 rounded-xl p-4 flex flex-col items-center justify-between min-h-[180px]",children:[s.jsx("div",{className:"text-xs font-bold text-slate-900 uppercase tracking-wide",children:" / "}),s.jsxs("div",{className:"w-full flex flex-col items-center mt-auto",children:[s.jsx("div",{className:"border-b border-slate-900 w-[160px] h-8 mb-6"}),s.jsxs("div",{className:"flex gap-1 text-slate-500 text-[11px]",children:["(",s.jsx("div",{className:"w-[140px] text-center relative top-[2px]",children:".................................................."}),")"]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-[11px] text-slate-500 mt-4",children:[s.jsx("span",{children:":"}),s.jsx("div",{className:"w-8 border-b border-slate-400 h-4"}),s.jsx("span",{children:"/"}),s.jsx("div",{className:"w-8 border-b border-slate-400 h-4"}),s.jsx("span",{children:"/"}),s.jsx("div",{className:"w-10 border-b border-slate-400 h-4"})]})]})]})]})]})]})}),lg=({isOpen:c,onClose:u})=>{const d=Q.useRef(null),[r,m]=Q.useState("quotation"),[h,b]=Q.useState(!1),x=Ah.useReactToPrint({contentRef:d,documentTitle:`Marnthara_${r}_${new Date().toISOString().split("T")[0]}`,onBeforeGetContent:()=>new Promise(C=>{b(!0),setTimeout(C,300)}),onAfterPrint:()=>{b(!1)}}),g=[{id:"quotation",label:"1. ",icon:Ri},{id:"delivery",label:"2. ",icon:jh},{id:"receipt",label:"3. ",icon:vp}];return s.jsx(Gt,{show:c,as:cl.Fragment,children:s.jsxs(Ei,{onClose:u,className:"relative z-50",children:[s.jsx(Ba,{as:cl.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm"})}),s.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 sm:p-6",children:s.jsx(Ba,{as:cl.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95 translate-y-4",enterTo:"opacity-100 scale-100 translate-y-0",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100 translate-y-0",leaveTo:"opacity-0 scale-95 translate-y-4",children:s.jsxs(Mi,{className:"w-full max-w-6xl h-[90vh] bg-slate-100 rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"bg-white border-b border-slate-200 p-4 flex flex-col sm:flex-row items-center justify-between gap-4 shrink-0 z-10",children:[s.jsx("div",{className:"flex p-1 bg-slate-100 rounded-xl w-full sm:w-auto overflow-x-auto",children:g.map(C=>{const M=C.icon,S=r===C.id;return s.jsxs("button",{onClick:()=>m(C.id),className:V("flex-1 sm:flex-none flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-all whitespace-nowrap",S?"bg-white text-slate-900 shadow-sm font-semibold":"text-slate-500 hover:text-slate-700"),children:[s.jsx(M,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:C.label})]},C.id)})}),s.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[s.jsx(ie,{variant:"ghost",onClick:u,className:"flex-1 sm:flex-none",children:""}),s.jsxs(ie,{onClick:()=>x(),className:"flex-1 sm:flex-none bg-slate-900 text-white hover:bg-slate-800 shadow-lg",children:[s.jsx(yp,{className:"w-4 h-4 mr-2"})," "]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-500/10 p-4 sm:p-8 flex justify-center items-start",children:s.jsx("div",{className:V("shadow-2xl origin-top transition-all duration-300 bg-white",h?"scale-100":"scale-[0.6] sm:scale-[0.75] lg:scale-[0.85]"),children:s.jsx(ag,{ref:d,docType:r})})})]})})})]})})},sg=({isOpen:c,onClose:u})=>{const d=ae(y=>y.shopConfig),r=ae(y=>y.updateShopConfig),m=ae(y=>y.factoryReset),{confirm:h}=qa(),b=Qe(y=>y.addToast),[x,g]=Q.useState(d),[C,M]=Q.useState("general"),S=()=>{r(x),b("success",""),u()},_=async()=>{await h({title:"?",description:"   ",confirmLabel:"",variant:"destructive"})&&(m(),b("success",""),u())},D=(y,k)=>{g(F=>({...F,[y]:k}))},R=(y,k)=>{g(F=>({...F,pdf:{...F.pdf,[y]:k}}))},H=y=>{const k=y.split(`
`);g(F=>({...F,pdf:{...F.pdf,notes:k}}))},z=(y,k)=>{g(F=>({...F,bankAccount:{...F.bankAccount,[y]:k}}))};return s.jsxs(Ot,{isOpen:c,onClose:u,title:" (Shop Settings)",children:[s.jsxs("div",{className:"flex p-1 bg-muted rounded-xl mb-6",children:[s.jsxs("button",{onClick:()=>M("general"),className:V("flex-1 py-2 text-sm font-medium rounded-lg transition-all flex items-center justify-center gap-2",C==="general"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"),children:[s.jsx(jp,{className:"w-4 h-4"})," "]}),s.jsxs("button",{onClick:()=>M("payment"),className:V("flex-1 py-2 text-sm font-medium rounded-lg transition-all flex items-center justify-center gap-2",C==="payment"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"),children:[s.jsx(Np,{className:"w-4 h-4"})," "]})]}),s.jsx("div",{className:"space-y-4 pb-safe-area",children:C==="general"?s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(te,{label:"",value:x.name,onChange:y=>D("name",y.target.value)}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(te,{label:"",value:x.phone,onChange:y=>D("phone",y.target.value)}),s.jsx(te,{label:"",value:x.taxId,onChange:y=>D("taxId",y.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-slate-700 mb-1 block",children:""}),s.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl text-[16px] focus:outline-none focus:ring-2 focus:ring-slate-900 resize-none h-20",value:x.address,onChange:y=>D("address",y.target.value)})]}),s.jsx(te,{label:"Logo URL",placeholder:"https://...",value:x.logoUrl,onChange:y=>D("logoUrl",y.target.value)})]}),s.jsxs("div",{className:"pt-4 border-t border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Ri,{className:"w-5 h-5 text-info"}),s.jsx("h3",{className:"font-bold text-foreground",children:" (Document Footer)"})]}),s.jsxs("div",{className:"space-y-4 bg-muted/30 p-4 rounded-2xl border border-border",children:[s.jsx(te,{label:"1. ",placeholder:" 30 ",value:x.pdf?.priceValidity||"",onChange:y=>R("priceValidity",y.target.value)}),s.jsx(te,{label:"2. ",placeholder:"  50%...",value:x.pdf?.paymentTerms||"",onChange:y=>R("paymentTerms",y.target.value)}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-slate-700 mb-1 block",children:"3.  ()"}),s.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl text-[16px] focus:outline-none focus:ring-2 focus:ring-slate-900 resize-none h-24",placeholder:" ...",value:x.pdf?.notes?.join(`
`)||"",onChange:y=>H(y.target.value)})]})]})]})]}):s.jsxs("div",{className:"space-y-5 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between bg-muted/30 p-4 rounded-xl border border-border",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-bold text-foreground",children:""}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""})]}),s.jsx(jt,{checked:x.bankAccount?.isEnabled!==!1,onCheckedChange:y=>z("isEnabled",y)})]}),s.jsxs("div",{className:V("space-y-4 transition-opacity",x.bankAccount?.isEnabled===!1&&"opacity-50 pointer-events-none"),children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(te,{label:"",placeholder:" , SCB",value:x.bankAccount?.bankName||"",onChange:y=>z("bankName",y.target.value)}),s.jsx(te,{label:" ()",value:x.bankAccount?.branch||"",onChange:y=>z("branch",y.target.value)})]}),s.jsx(te,{label:"",placeholder:"...",value:x.bankAccount?.accountName||"",onChange:y=>z("accountName",y.target.value)}),s.jsx(te,{label:"",placeholder:"XXX-X-XXXXX-X",className:"font-mono",value:x.bankAccount?.accountNumber||"",onChange:y=>z("accountNumber",y.target.value)})]})]})}),s.jsxs("div",{className:"flex justify-between mt-4 pt-4 border-t border-border",children:[s.jsxs(ie,{variant:"ghost",onClick:_,className:"text-destructive hover:bg-destructive/10 hover:text-destructive",children:[s.jsx(oa,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ie,{variant:"ghost",onClick:u,children:""}),s.jsxs(ie,{onClick:S,className:"bg-primary text-primary-foreground w-32",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"})," "]})]})]})]})},ng=[],ig=c=>{const u=ae(x=>x.favorites[c]||ng),d=ae(x=>x.fabricCosts),r=ae(x=>x.addFavorite),m=ae(x=>x.updateFavorite),h=ae(x=>x.removeFavorite);return{items:Q.useMemo(()=>u.map(x=>({...x,cost_per_yard:d[x.code]||0})),[u,d]),addItem:x=>r(c,x),updateItem:(x,g)=>m(c,x,g),removeItem:x=>h(c,x)}},cg=({item:c,onClick:u})=>s.jsxs("button",{onClick:u,className:"w-full text-left bg-card p-4 rounded-xl border border-border shadow-sm active:scale-[0.98] transition-all flex justify-between items-center group relative overflow-hidden","aria-label":` ${c.code}`,children:[s.jsxs("div",{className:"flex-1 min-w-0 pr-4 flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-mono font-bold text-base text-foreground truncate",children:c.code}),c.note&&s.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded text-muted-foreground truncate max-w-[120px]",children:c.note})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex items-center gap-1",children:s.jsx("span",{className:"text-base font-bold text-emerald-600 dark:text-emerald-400",children:Ee(c.default_price_per_m)})}),J(c.cost_per_yard)>0&&s.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground/70",children:["( ",Ee(c.cost_per_yard),")"]})]})]}),s.jsx("div",{className:"flex flex-col items-end justify-center h-full text-muted-foreground/30 group-hover:text-primary transition-colors",children:s.jsx(Si,{className:"w-5 h-5"})})]}),ch=({data:c,setData:u,onSave:d,onCancel:r,isEdit:m})=>s.jsxs("div",{className:"bg-card border border-border rounded-xl p-4 shadow-lg animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"text-sm font-bold text-foreground mb-4 flex items-center gap-2",children:[s.jsx(bo,{className:"w-4 h-4 text-primary"}),m?"":""]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(te,{label:" (Code)",value:c.code,onChange:h=>u({...c,code:h.target.value}),className:"font-mono text-lg font-bold",autoFocus:!m}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(te,{label:" (Default Price)",type:"number",value:c.price,onChange:h=>u({...c,price:h.target.value}),className:"text-emerald-600 font-bold"}),s.jsx(te,{label:" (Cost)",type:"number",value:c.cost_per_yard,onChange:h=>u({...c,cost_per_yard:h.target.value}),placeholder:"0.00",className:"text-rose-600"})]}),s.jsx(te,{label:" (Note)",value:c.note,onChange:h=>u({...c,note:h.target.value})}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx(ie,{variant:"ghost",className:"flex-1",onClick:r,children:""}),s.jsxs(ie,{className:"flex-1",onClick:d,children:[s.jsx(Is,{className:"w-4 h-4 mr-2"})," "]})]})]})]}),rg=({isOpen:c,onClose:u})=>{const{favorites:d,addFavorite:r,updateFavorite:m,importFavorites:h,updateUnifiedCost:b}=ae(),x=Qe(se=>se.addToast),[g,C]=Q.useState(ce.CURTAIN_MAIN),[M,S]=Q.useState(""),[_,D]=Q.useState(null),[R,H]=Q.useState(!1),[z,y]=Q.useState({code:"",price:"",cost_per_yard:"",note:""}),k=Q.useRef(null),{items:F}=ig(g),Y=(F||[]).filter(se=>se.code.toLowerCase().includes(M.toLowerCase())||se.note?.toLowerCase().includes(M.toLowerCase())),p=se=>{D(se.id),H(!1),y({code:se.code,price:se.default_price_per_m.toString(),cost_per_yard:se.cost_per_yard?.toString()||"",note:se.note||""})},E=()=>{H(!0),D(null),y({code:"",price:"",cost_per_yard:"",note:""}),k.current&&(k.current.scrollTop=0)},Z=()=>{if(!z.code)return x("error","");const se={code:z.code,default_price_per_m:J(z.price),cost_per_yard:J(z.cost_per_yard),note:z.note};R?(r(g,se),x("success",""),H(!1)):_&&(m(g,_,se),J(z.cost_per_yard)>0&&b(z.code,J(z.cost_per_yard)),x("success",""),D(null))},K=Q.useRef(null),W=()=>{const se=JSON.stringify({favorites:d},null,2),Nt=new Blob([se],{type:"application/json"}),et=URL.createObjectURL(Nt),U=document.createElement("a");U.href=et,U.download=`marnthara_inventory_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(U),U.click(),document.body.removeChild(U)},$=()=>K.current?.click(),me=se=>{const Nt=se.target.files?.[0];if(!Nt)return;const et=new FileReader;et.onload=U=>{const L=U.target?.result;h(L)?x("success",""):x("error","")},et.readAsText(Nt),se.target.value=""},ze=[{id:ce.CURTAIN_MAIN,label:" ()"},{id:ce.CURTAIN_SHEER,label:""},{id:ce.WALLPAPER,label:""}];return s.jsx(Ot,{isOpen:c,onClose:u,title:" &  (Inventory)",maxWidth:"md",children:s.jsxs("div",{className:"flex flex-col h-[75vh] -m-4 sm:-m-6",children:[s.jsxs("div",{className:"p-4 bg-background border-b border-border space-y-3 z-10 shadow-sm",children:[s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 scrollbar-hide",children:ze.map(se=>s.jsx("button",{onClick:()=>{C(se.id),H(!1),D(null)},className:V("px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition-all border",g===se.id?"bg-primary text-primary-foreground border-primary shadow-sm":"bg-muted text-muted-foreground border-transparent hover:bg-muted/80"),children:se.label},se.id))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(rl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:" / ...",value:M,onChange:se=>S(se.target.value),className:"w-full h-10 pl-9 pr-4 rounded-lg bg-muted/50 border-none focus:ring-2 focus:ring-primary/20 text-sm"})]}),s.jsxs(wi,{as:"div",className:"relative",children:[s.jsx(Ci,{className:"h-10 w-10 flex items-center justify-center rounded-lg border border-border hover:bg-muted",children:s.jsx(Ai,{className:"w-5 h-5 text-muted-foreground"})}),s.jsx(Gt,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:s.jsxs(Ti,{className:"absolute right-0 mt-2 w-48 bg-popover rounded-xl shadow-xl border border-border focus:outline-none z-50 p-1",children:[s.jsx(ut,{children:({active:se})=>s.jsxs("button",{onClick:E,className:V("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",se?"bg-muted":""),children:[s.jsx($s,{className:"w-4 h-4"})," "]})}),s.jsx("div",{className:"h-px bg-border my-1"}),s.jsx(ut,{children:({active:se})=>s.jsxs("button",{onClick:W,className:V("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",se?"bg-muted":""),children:[s.jsx(_p,{className:"w-4 h-4"}),"  (Backup)"]})}),s.jsx(ut,{children:({active:se})=>s.jsxs("button",{onClick:$,className:V("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",se?"bg-muted":""),children:[s.jsx(Ks,{className:"w-4 h-4"}),"  (Restore)"]})})]})})]}),s.jsx("input",{type:"file",ref:K,className:"hidden",accept:".json",onChange:me})]})]}),s.jsxs("div",{ref:k,className:"flex-1 overflow-y-auto p-4 space-y-3 bg-muted/10",children:[R&&s.jsx(ch,{data:z,setData:y,onSave:Z,onCancel:()=>H(!1),isEdit:!1}),Y.length===0&&!R?s.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-muted-foreground",children:[s.jsx(rl,{className:"w-10 h-10 mb-3 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:""}),s.jsx("p",{className:"text-sm",children:" "})]}):Y.map(se=>s.jsx(cl.Fragment,{children:_===se.id?s.jsx(ch,{data:z,setData:y,onSave:Z,onCancel:()=>D(null),isEdit:!0,hasCost:J(se.cost_per_yard)>0}):s.jsx(cg,{item:se,onClick:()=>p(se)})},se.id)),s.jsx("div",{className:"h-6"})]})]})})},og=({isOpen:c,onClose:u})=>{const d=ae(y=>y.discount),r=ae(y=>y.setDiscount),m=ae(y=>y.shopConfig),h=ae(y=>y.updateShopConfig),{grandTotal:b}=Hi(),{trigger:x}=Ha(),[g,C]=Q.useState(d.is_enabled??d.value>0),[M,S]=Q.useState(d.type),[_,D]=Q.useState(d.value===0?"":d.value.toString()),R=()=>{x("selection");const y=J(_);if(y>0&&b>0)if(M==="amount"){const k=y/b*100;D(k.toFixed(2))}else{const k=y*b/100;D(k.toFixed(0))}S(k=>k==="amount"?"percent":"amount")},H=()=>{x("success"),r({type:M,value:J(_),is_enabled:g}),u()},z=(()=>{const y=J(_);let k=0;g&&y>0&&(k=M==="percent"?b*y/100:y);const F=Math.max(0,b-k),Y=m.baseVatRate>0?F*m.baseVatRate/100:0;return{discountAmt:k,afterDiscount:F,vatAmt:Y,netTotal:F+Y}})();return s.jsx(Ot,{isOpen:c,onClose:u,title:" &  (Discount & Tax)",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:V("relative overflow-hidden rounded-2xl border transition-all duration-300",g?"bg-success/10 border-success/30":"bg-muted/40 border-border"),children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:V("p-2 rounded-lg",g?"bg-success/20 text-success":"bg-muted text-muted-foreground"),children:s.jsx(hh,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:V("font-semibold text-sm",g?"text-success-foreground":"text-foreground"),children:""}),s.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Apply Discount"})]})]}),s.jsx(jt,{checked:g,onCheckedChange:y=>{x("light"),C(y)}})]}),s.jsxs("div",{className:V("transition-all duration-300 grid grid-cols-[1fr_auto] gap-2",g?"opacity-100 translate-y-0":"opacity-30 pointer-events-none translate-y-2"),children:[s.jsxs("div",{className:"relative",children:[s.jsx(te,{type:"number",inputMode:"decimal",placeholder:"0.00",value:_,onChange:y=>D(y.target.value),className:"pr-12 text-lg font-mono font-bold text-success border-success/30 focus:border-success"}),s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs font-bold text-success/70 pointer-events-none",children:M==="percent"?"%":"THB"})]}),s.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-4 rounded-xl bg-card border border-success/30 shadow-sm text-success hover:bg-success/10 active:scale-95 transition-all",children:[M==="percent"?s.jsx(Mm,{className:"w-4 h-4"}):s.jsx(Sp,{className:"w-4 h-4"}),s.jsx(wp,{className:"w-3 h-3 opacity-50"})]})]})]})}),s.jsx("div",{className:"rounded-2xl border border-border bg-card p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-info/10 text-info",children:s.jsx(Mm,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-sm text-foreground",children:" (VAT 7%)"}),s.jsx("div",{className:"text-[10px] text-muted-foreground",children:""})]})]}),s.jsx(jt,{checked:m.baseVatRate>0,onCheckedChange:y=>{x("light"),h({baseVatRate:y?7:0})}})]})}),s.jsxs("div",{className:"bg-primary text-primary-foreground/80 rounded-2xl p-5 space-y-3 shadow-xl shadow-primary/10",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:""}),s.jsx("span",{className:"font-mono text-primary-foreground",children:Ee(b)})]}),g&&z.discountAmt>0&&s.jsxs("div",{className:"flex justify-between text-sm text-success animate-fade-in font-medium",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(xo,{className:"w-3 h-3"}),"  (",M==="percent"?`${_}%`:"",")"]}),s.jsxs("span",{className:"font-mono font-bold",children:["-",Ee(z.discountAmt)]})]}),z.vatAmt>0&&s.jsxs("div",{className:"flex justify-between text-sm text-info animate-fade-in font-medium",children:[s.jsx("span",{children:"VAT 7%"}),s.jsxs("span",{className:"font-mono font-bold",children:["+",Ee(z.vatAmt)]})]}),s.jsx("div",{className:"h-px bg-primary-foreground/10 my-2"}),s.jsxs("div",{className:"flex justify-between items-end",children:[s.jsx("span",{className:"text-primary-foreground font-medium",children:" (Net Total)"}),s.jsx("span",{className:"text-2xl font-bold text-primary-foreground tracking-tight font-mono",children:Ee(z.netTotal)})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(ie,{variant:"ghost",onClick:u,className:"h-12",children:""}),s.jsx(ie,{onClick:H,className:"h-12 bg-primary text-primary-foreground shadow-xl shadow-primary/20 hover:bg-primary/90",children:""})]})]})})},ug=({isOpen:c,onClose:u,roomId:d})=>{const r=ae(y=>y.rooms.find(k=>k.id===d)),m=ae(y=>y.updateRoomDefaults),h=r?.room_defaults||{},[b,x]=Q.useState(String(h.width_m||"")),[g,C]=Q.useState(String(h.height_m||"")),[M,S]=Q.useState(String(h.default_fabric_price||"")),[_,D]=Q.useState(String(h.default_wallpaper_price||"")),[R,H]=Q.useState(String(h.default_blind_price||"")),z=()=>{d&&m(d,{width_m:b,height_m:g,default_fabric_price:M,default_wallpaper_price:_,default_blind_price:R}),u()};return s.jsx(Ot,{isOpen:c,onClose:u,title:"",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(te,{label:" (.)",value:b,onChange:y=>x(y.target.value)}),s.jsx(te,{label:" (.)",value:g,onChange:y=>C(y.target.value)}),s.jsxs("div",{className:"pt-2 border-t border-slate-100",children:[s.jsx("h4",{className:"text-sm font-medium text-slate-900 mb-2",children:" (Defaults)"}),s.jsx(te,{label:" (/.)",value:M,onChange:y=>S(y.target.value)}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[s.jsx(te,{label:" (/)",value:_,onChange:y=>D(y.target.value)}),s.jsx(te,{label:" (/..)",value:R,onChange:y=>H(y.target.value)})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(ie,{variant:"ghost",onClick:u,children:""}),s.jsxs(ie,{onClick:z,className:"gap-2",children:[s.jsx(Is,{className:"w-4"})," "]})]})]})})},dg=({isOpen:c,onClose:u})=>{const{resetProject:d,factoryReset:r,importFavorites:m,importSecrets:h}=ae(),b=Qe(p=>p.addToast),{confirm:x}=qa(),[g,C]=Q.useState(""),[M,S]=Q.useState(!1),[_,D]=Q.useState(""),[R,H]=Q.useState("favorites"),z=()=>{try{const p=ae.getState(),E={customer:p.customer,rooms:p.rooms,shopConfig:p.shopConfig,discount:p.discount,favorites:p.favorites,production:{laborCosts:p.laborCosts,accessoryCosts:p.accessoryCosts,fabricCosts:p.fabricCosts},version:"1.0.0",exportDate:new Date().toISOString()},Z=new Blob([JSON.stringify(E,null,2)],{type:"application/json"}),K=URL.createObjectURL(Z),W=document.createElement("a");W.href=K;const $=new Date,me=$.toISOString().slice(0,10)+"-"+$.getHours().toString().padStart(2,"0")+$.getMinutes().toString().padStart(2,"0");W.download=`mtr-backup-${me}.json`,document.body.appendChild(W),W.click(),document.body.removeChild(W),b("success","Backup ")}catch(p){console.error(p),b("error"," Backup")}},y=p=>{const E=p.target.files?.[0];if(!E)return;const Z=new FileReader;Z.onload=K=>{try{const W=JSON.parse(K.target?.result);ae.setState(W),W.production&&ae.setState($=>({...$,laborCosts:W.production.laborCosts||$.laborCosts,accessoryCosts:W.production.accessoryCosts||$.accessoryCosts,fabricCosts:W.production.fabricCosts||$.fabricCosts})),b("success",""),u()}catch{b("error"," ")}},Z.readAsText(E)},k=()=>{if(!_.trim()){b("warning"," JSON");return}try{let p=!1;R==="favorites"?(p=m(_),p&&(b("success",""),D(""))):(p=h(_),p&&(b("success",""),D(""))),p?u():b("error"," JSON ")}catch(p){console.error("Import error:",p),b("error","")}},F=async()=>{await x({title:"?",description:'  ""  "" ',confirmLabel:"",variant:"default"})&&(d(),b("success",""),u())},Y=async()=>{if(g!=="RESET")return;await x({title:" (Factory Reset)?",description:" , ,  ! ?",confirmLabel:"",variant:"destructive"})&&(r(),b("success",""),u())};return s.jsx(Ot,{isOpen:c,onClose:u,title:" (Data Management)",maxWidth:"lg",children:s.jsxs("div",{className:"space-y-6 pb-safe-area",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"text-sm font-bold text-muted-foreground uppercase tracking-wider flex items-center gap-2",children:[s.jsx(Cp,{className:"w-4 h-4"})," "]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs(ie,{variant:"outline",onClick:z,className:"h-auto py-4 flex flex-col gap-2 border-border hover:bg-primary/5 hover:border-primary/20 hover:text-primary",children:[s.jsx("div",{className:"p-2 bg-primary/10 text-primary rounded-full",children:s.jsx(Nh,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-bold text-foreground",children:"Backup"}),s.jsx("div",{className:"text-xs text-muted-foreground font-normal",children:" .json"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsxs(ie,{variant:"outline",onClick:()=>document.getElementById("data-importer")?.click(),className:"w-full h-full py-4 flex flex-col gap-2 border-border hover:bg-success/5 hover:border-success/20 hover:text-success",children:[s.jsx("div",{className:"p-2 bg-success/10 text-success rounded-full",children:s.jsx(Ks,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-bold text-foreground",children:"Restore"}),s.jsx("div",{className:"text-xs text-muted-foreground font-normal",children:" .json"})]})]}),s.jsx("input",{type:"file",id:"data-importer",className:"hidden",accept:".json,application/json",onChange:y})]})]})]}),s.jsx("div",{className:"h-px bg-border my-2"}),s.jsxs("div",{className:"bg-warning/5 border border-warning/20 rounded-2xl p-5 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ks,{className:"w-5 h-5 text-warning"}),s.jsx("h4",{className:"font-bold text-foreground",children:" (JSON)"})]}),s.jsxs("div",{className:"flex border-b border-warning/20",children:[s.jsx("button",{className:V("flex-1 py-2 text-sm font-medium border-b-2 transition-colors",R==="favorites"?"border-warning text-warning":"border-transparent text-muted-foreground hover:text-foreground"),onClick:()=>H("favorites"),children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(ol,{className:"w-4 h-4"})," (Favorites)"]})}),s.jsx("button",{className:V("flex-1 py-2 text-sm font-medium border-b-2 transition-colors",R==="cost"?"border-warning text-warning":"border-transparent text-muted-foreground hover:text-foreground"),onClick:()=>H("cost"),children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(vh,{className:"w-4 h-4"})," (Cost)"]})})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:R==="favorites"?" JSON  (Favorites) ":" JSON  (Labor, Accessory, Fabric)"}),s.jsx("textarea",{className:`w-full h-32 p-3 text-sm font-mono border border-warning/20 rounded-lg 
                       focus:outline-none focus:ring-2 focus:ring-warning focus:border-transparent
                       bg-background resize-none text-foreground`,placeholder:` JSON ${R==="favorites"?"":""} ...`,value:_,onChange:p=>D(p.target.value)}),s.jsxs(ie,{onClick:k,className:`w-full bg-warning hover:bg-warning/90 text-white 
                     shadow-lg shadow-warning/20`,disabled:!_.trim(),children:[s.jsx(Ks,{className:"w-4 h-4 mr-2"})," ",R==="favorites"?"":""]})]}),s.jsx("div",{className:"h-px bg-border my-2"}),s.jsx("div",{className:"bg-info/10 border border-info/20 rounded-2xl p-5 space-y-3",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 bg-card rounded-xl shadow-sm border border-info/20",children:s.jsx(Ap,{className:"w-6 h-6 text-info"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-bold text-foreground",children:" (New Project)"}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1 leading-relaxed",children:[" ",s.jsx("br",{}),s.jsx("span",{className:"text-info font-medium text-xs bg-info/20 px-1.5 py-0.5 rounded",children:""})," ",""]}),s.jsx(ie,{onClick:F,className:"mt-4 bg-info hover:bg-info/90 text-white shadow-lg shadow-info/20 w-full sm:w-auto",children:""})]})]})}),s.jsx("div",{className:"pt-4",children:M?s.jsxs("div",{className:"border border-destructive/30 bg-destructive/5 rounded-2xl p-5 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 text-destructive font-bold",children:[s.jsx(Ws,{className:"w-5 h-5"})," (Danger Zone)"]}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[" ",s.jsx("strong",{children:'"Factory Reset"'}),"   ()"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase",children:' "RESET" '}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:g,onChange:p=>C(p.target.value),placeholder:"RESET",className:"flex-1 px-4 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-destructive font-mono uppercase placeholder:text-muted-foreground"}),s.jsxs(ie,{disabled:g!=="RESET",variant:"destructive",onClick:Y,className:"whitespace-nowrap",children:[s.jsx(yo,{className:"w-4 h-4 mr-2"})," "]})]})]})]}):s.jsxs("button",{onClick:()=>S(!0),className:"w-full py-3 text-xs font-medium text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded-lg transition-all border border-dashed border-border hover:border-destructive/30 flex items-center justify-center gap-2",children:[s.jsx(oa,{className:"w-3 h-3"})," ()"]})})]})})},fg=c=>{const{width:u=0,height:d=0}=c,h=u>0&&d>0?Math.min(80/u,80/d):1,b=u*h||50,x=d*h||50,g=(100-b)/2,C=(90-x)/2;return{x:g,y:C,w:b,h:x}},mg=(c,u)=>{const d=c.style==="";let r="";if(d){const b=u.h/4;for(let x=0;x<4;x++)r+=`<rect x="${u.x}" y="${u.y+x*b}" width="${u.w}" height="${b-1}" fill="#e2e8f0" stroke="#94a3b8" stroke-width="0.5" />`}else{r=`<rect x="${u.x}" y="${u.y}" width="${u.w}" height="${u.h}" fill="#f1f5f9" stroke="#cbd5e1" rx="2" />`;for(let h=1;h<4;h++)r+=`<path d="M${u.x+u.w/4*h} ${u.y} L${u.x+u.w/4*h} ${u.y+u.h}" stroke="#e2e8f0" stroke-width="1" />`}return`<rect x="${u.x-2}" y="${u.y-2}" width="${u.w+4}" height="2" fill="#64748b" />`+r},hg=(c,u)=>{const d=`<pattern id="p-${c.wallpaper_code}" width="4" height="4" patternUnits="userSpaceOnUse">
      <path d="M0 4L4 0M-1 1L1 -1M3 5L5 3" stroke="#cbd5e1" stroke-width="0.5"/>
  </pattern>`,r=`<rect x="${u.x}" y="${u.y}" width="${u.w}" height="${u.h}" fill="url(#p-${c.wallpaper_code})" stroke="#94a3b8" />`;return`<defs>${d}</defs>${r}`},xg=(c,u)=>{const r=u.h/8;let m="";for(let b=0;b<8;b++)m+=`<line x1="${u.x}" y1="${u.y+b*r}" x2="${u.x+u.w}" y2="${u.y+b*r}" stroke="#cbd5e1" stroke-width="1" />`;return`<rect x="${u.x}" y="${u.y}" width="${u.w}" height="${u.h}" fill="none" stroke="#94a3b8" stroke-width="1" />`+m},pg=c=>{if(c.type===G.REMOVAL||c.is_suspended)return'<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="20" fill="#f1f5f9"/><path d="M40 60 L60 40 M40 40 L60 60" stroke="#cbd5e1" stroke-width="2"/></svg>';let u=0,d=0;"width_m"in c&&"height_m"in c?(u=J(c.width_m),d=J(c.height_m)):c.type===G.WALLPAPER&&(u=3,d=2.6);const r=fg({width:u,height:d});let m="";return c.type===G.CURTAIN?m=mg(c,r):c.type===G.WALLPAPER?m=hg(c,r):m=xg(c,r),`<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">${m}</svg>`},bg=cl.forwardRef((c,u)=>{const{shopConfig:d,rooms:r}=ae(b=>b),m=new Date().toLocaleDateString("th-TH",{dateStyle:"long"}),h=b=>({__html:pg(b)});return s.jsxs("div",{ref:u,className:"w-[210mm] min-h-[297mm] bg-white p-[15mm] mx-auto text-slate-900 relative flex flex-col font-sans",children:[s.jsxs("div",{className:"flex justify-between items-end border-b-2 border-slate-800 pb-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:d.name||"Marnthara"}),s.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[": ",m]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xl font-bold",children:"LOOKBOOK"}),s.jsx("div",{className:"text-sm text-slate-500",children:""})]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-6 content-start",children:r.map(b=>b.items.length===0?null:b.items.map((x,g)=>{if(x.is_suspended)return null;let C=ul[x.type]?.name||"",M="";const S=[];if(x.type===G.CURTAIN){const _=x;C=`${_.style||""} (${_.fabric_variant})`,_.code&&S.push(`: ${_.code}`),_.sheer_code&&S.push(`: ${_.sheer_code}`),_.bracket_color&&S.push(`: ${_.bracket_color}`),M=`${Pe(_.width_m)} x ${Pe(_.height_m)} .`}else if(x.type===G.WALLPAPER){const _=x;C="",_.wallpaper_code&&S.push(`: ${_.wallpaper_code}`),M=`${_.widths.length}  ( ${Pe(_.height_m)} .)`}else if([G.WOODEN_BLIND,G.ROLLER_BLIND,G.VERTICAL_BLIND,G.ALUMINUM_BLIND,G.PARTITION,G.PLEATED_SCREEN].includes(x.type)){const _=x;_.code&&S.push(`: ${_.code}`),M=`${Pe(_.width_m)} x ${Pe(_.height_m)} .`,x.type===G.WOODEN_BLIND?C=`${_.fabric_variant||""}`:x.type===G.ROLLER_BLIND?C=` (${_.fabric_variant||""})`:x.type===G.PARTITION?C=` (${_.opening_style||""})`:x.type===G.PLEATED_SCREEN&&(C=` (${_.opening_style||""})`),_.adjustment_side&&S.push(_.adjustment_side)}else x.type===G.REMOVAL&&(C=x.description||"");return s.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden flex bg-white break-inside-avoid",children:[s.jsx("div",{className:"w-1/2 bg-slate-50 flex items-center justify-center p-2 min-h-[140px]",dangerouslySetInnerHTML:h(x)}),s.jsxs("div",{className:"w-1/2 p-3 flex flex-col relative",children:[s.jsxs("div",{className:"inline-block self-start px-2 py-0.5 bg-slate-100 text-[10px] font-bold text-slate-500 rounded mb-1",children:[" ",b.name]}),s.jsx("div",{className:"font-bold text-sm text-slate-900 leading-tight mb-1",children:C}),s.jsx("div",{className:"text-sm font-mono font-bold text-slate-800 border-b border-dashed border-slate-300 pb-1 mb-2",children:M}),s.jsx("ul",{className:"text-xs text-slate-600 space-y-1",children:S.map((_,D)=>s.jsxs("li",{className:"truncate",children:[" ",_]},D))}),x.notes&&s.jsxs("div",{className:"mt-auto pt-1 text-[10px] text-orange-600 line-clamp-2",children:[" ",x.notes]})]})]},`${b.id}-${x.id}-${g}`)}))}),s.jsx("div",{className:"mt-auto pt-8 text-center text-[10px] text-slate-400",children:" Marnthara QOL   1/1"})]})}),gg=({isOpen:c,onClose:u})=>{const d=ae(x=>x.rooms),r=Q.useRef(null),[m,h]=Q.useState(!1),b=Ah.useReactToPrint({contentRef:r,documentTitle:`QC_Lookbook_${new Date().toISOString().split("T")[0]}`,onBeforeGetContent:()=>(h(!0),Promise.resolve()),onAfterPrint:()=>h(!1)});return s.jsxs(Ot,{isOpen:c,onClose:u,title:"Lookbook /  (Preview)",maxWidth:"2xl",children:[s.jsx("div",{className:"space-y-6 pb-safe-area",children:d.map(x=>s.jsxs("div",{className:"bg-muted/20 rounded-2xl p-4 border border-border",children:[s.jsxs("h3",{className:"font-bold text-foreground mb-3 flex items-center gap-2",children:[" ",x.name]}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:x.items.filter(g=>!g.is_suspended).map(g=>s.jsxs("div",{className:"bg-card p-3 rounded-xl border border-border shadow-sm flex flex-col",children:[s.jsx("div",{className:"aspect-[4/3] bg-muted/30 rounded-lg mb-2 flex items-center justify-center overflow-hidden relative",children:s.jsx("div",{className:"text-xs text-muted-foreground",children:"Preview"})}),s.jsxs("div",{className:"mt-auto",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("span",{className:"font-semibold text-sm text-card-foreground",children:ul[g.type]?.name}),"width_m"in g&&s.jsxs("div",{className:"bg-primary text-primary-foreground text-xs font-mono px-1.5 py-0.5 rounded",children:[Pe(g.width_m),"  ",Pe(g.height_m)]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1 mt-auto",children:["fabric_variant"in g&&s.jsxs("div",{children:[" /: ",g.fabric_variant]}),"code"in g&&g.code&&s.jsxs("div",{children:[" : ",s.jsx("span",{className:"font-mono font-bold",children:g.code})]}),"adjustment_side"in g&&s.jsxs("div",{children:[" : ",g.adjustment_side]}),g.notes&&s.jsxs("div",{className:"text-warning mt-1",children:[" ",g.notes]})]})]})]},g.id))})]},x.id))}),s.jsxs("div",{className:"flex justify-end pt-4 border-t border-border",children:[s.jsx(ie,{onClick:u,children:""}),s.jsx(ie,{onClick:()=>b(),disabled:m,className:"ml-2 bg-primary text-primary-foreground",children:m?"...":" Lookbook"})]}),s.jsx("div",{style:{display:"none"},children:s.jsx("div",{ref:r,children:s.jsx(bg,{})})})]})},vg=({isOpen:c,onClose:u})=>{const d=ae(g=>g.rooms),{openModal:r}=ae(),{finalTotal:m}=Hi(),h=d.map(g=>({...g,items:g.items.filter(C=>!C.is_suspended),total:g.items.filter(C=>!C.is_suspended).reduce((C,M)=>C+tt.calculatePrice(M),0)})).filter(g=>g.items.length>0),b=h.reduce((g,C)=>g+C.items.length,0),x=g=>g.type==="curtain"&&"width_m"in g?`${Pe(g.width_m)}${Pe(g.height_m)} | ${g.style}`:"width_m"in g&&"height_m"in g?`${Pe(g.width_m)}${Pe(g.height_m)}`:"";return s.jsxs(Ot,{isOpen:c,onClose:u,title:" (Project Overview)",maxWidth:"md",children:[s.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl p-6 mb-6 shadow-lg relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full blur-2xl"}),s.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[s.jsx("span",{className:"text-slate-300 text-sm font-medium mb-1",children:""}),s.jsx("span",{className:"text-4xl font-bold font-mono tracking-tight",children:Ee(m)}),s.jsxs("div",{className:"flex gap-4 mt-4 text-xs text-slate-400",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(uo,{className:"w-3 h-3"})," ",h.length," "]}),s.jsx("div",{className:"w-px h-3 bg-slate-700"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ji,{className:"w-3 h-3"})," ",b," "]})]})]})]}),s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"font-bold text-slate-700",children:[" (",b,")"]}),s.jsxs(ie,{size:"sm",onClick:()=>r("costDashboard"),className:"bg-slate-900 text-white shadow-lg shadow-indigo-500/20",children:[s.jsx(wo,{className:"w-4 h-4 mr-2"})," & "]})]}),s.jsxs("div",{className:"space-y-4 pb-safe-area",children:[s.jsxs("div",{className:"bg-muted/30 p-4 rounded-2xl border border-border flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wider",children:""}),s.jsx("div",{className:"text-3xl font-bold text-foreground font-mono tracking-tight mt-1",children:Ee(m)})]}),s.jsxs("div",{className:"text-right text-xs text-muted-foreground",children:[s.jsxs("div",{children:[b," "]}),s.jsxs("div",{children:[h.length," "]})]})]}),h.map(g=>s.jsxs("div",{className:"border border-border rounded-xl overflow-hidden",children:[s.jsxs("div",{className:"bg-muted/50 px-4 py-2 border-b border-border flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(uo,{className:"w-4 h-4 text-slate-400"}),s.jsx("span",{className:"font-bold text-foreground",children:g.name})]}),s.jsx("span",{className:"font-mono font-bold text-muted-foreground text-sm",children:Ee(g.total)})]}),s.jsx("div",{className:"divide-y divide-slate-100 dark:divide-border/50 bg-white dark:bg-card",children:g.items.map((C,M)=>s.jsxs("div",{className:"px-4 py-2 flex justify-between items-baseline hover:bg-muted/30 transition-colors",children:[s.jsx("div",{className:"flex-1 min-w-0 pr-4",children:s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsxs("span",{className:"text-[10px] font-bold text-muted-foreground min-w-[20px]",children:["#",M+1]}),s.jsx("span",{className:"text-sm font-medium text-foreground truncate",children:ul[C.type]?.name}),s.jsxs("span",{className:"text-xs text-muted-foreground truncate font-mono",children:["(",x(C),")"]})]})}),s.jsx("div",{className:"text-sm text-muted-foreground font-mono shrink-0",children:Ee(tt.calculatePrice(C))})]},C.id))})]},g.id)),h.length===0&&s.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:""})]}),s.jsx("div",{className:"flex justify-end pt-4 border-t border-slate-100",children:s.jsx(ie,{onClick:u,className:"w-full sm:w-auto min-w-[120px]",children:""})})]})},yg={document:{light:"bg-primary/5 text-primary border-primary/10 hover:bg-primary/10 hover:border-primary/20 shadow-sm",dark:"bg-primary/10 text-primary-foreground border-primary/20 hover:bg-primary/20",iconLight:"bg-primary/10 text-primary",iconDark:"bg-primary/20 text-primary-foreground"},creative:{light:"bg-secondary text-secondary-foreground border-border hover:bg-secondary/80 shadow-sm",dark:"bg-secondary/50 text-secondary-foreground border-border hover:bg-secondary/70",iconLight:"bg-background text-foreground",iconDark:"bg-background text-foreground"},system:{light:"bg-muted text-foreground border-border hover:bg-muted/80",dark:"bg-muted/50 text-muted-foreground border-border hover:bg-muted/70",iconLight:"bg-background text-muted-foreground",iconDark:"bg-background text-muted-foreground"}},jg=({isOpen:c,onClose:u,onOpenPdf:d,onOpenLookbook:r,onOpenCustomer:m,onOpenShopSettings:h,onOpenDiscount:b,onOpenData:x,onOpenFavorites:g,onOpenProductionSettings:C,onOpenCostDashboard:M})=>{const{theme:S,toggleTheme:_}=wh(),{trigger:D}=Ha(),R=[{title:" & ",items:[{icon:Ri,label:" (PDF)",description:" / ",onClick:d,theme:"document"},{icon:Dp,label:"Lookbook",description:"",onClick:r,theme:"creative"}]},{title:"",items:[{icon:zp,label:"",description:"  ",onClick:m,theme:"system"},{icon:ji,label:" (Catalog)",description:"",onClick:g,theme:"system"},{icon:Op,label:" (Backup)",description:"Export / Import ",onClick:x,theme:"system"}]},{title:"",items:[{icon:Rp,label:"",description:"  ",onClick:h,theme:"system"},{icon:Lp,label:" (Admin)",description:"  ",onClick:C,theme:"system"},{icon:wo,label:"Cost Dashboard",description:"",onClick:M,theme:"system"},{icon:ua,label:" & VAT",description:"",onClick:b,theme:"system"}]}],H=({icon:z,label:y,description:k,onClick:F,themeConfig:Y,currentTheme:p})=>{const E=yg[Y],Z=p==="dark"?E.dark:E.light,K=p==="dark"?E.iconDark:E.iconLight;return s.jsxs("button",{onClick:()=>{D("selection"),F()},className:V("group w-full flex items-center gap-4 p-3 rounded-2xl border transition-all duration-200 active:scale-[0.98] text-left",Z),children:[s.jsx("div",{className:V("w-10 h-10 rounded-xl flex items-center justify-center shrink-0 transition-colors",K),children:s.jsx(z,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-semibold text-sm",children:y}),s.jsx("div",{className:"text-xs opacity-70 truncate",children:k})]}),s.jsx(Si,{className:"w-4 h-4 opacity-30 group-hover:opacity-100 transition-opacity"})]})};return s.jsx(Ot,{isOpen:c,onClose:u,title:" (Main Menu)",children:s.jsxs("div",{className:"space-y-6 pb-safe-area",children:[s.jsx("div",{className:"relative overflow-hidden rounded-2xl bg-primary p-0.5 shadow-lg",children:s.jsxs("button",{onClick:()=>{D("medium"),_()},className:"relative w-full flex items-center justify-between bg-black/20 backdrop-blur-xl p-4 rounded-[14px] text-white hover:bg-black/30 transition-all",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(Tp,{className:"w-5 h-5 text-warning"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-bold text-sm",children:"Appearance"}),s.jsx("div",{className:"text-xs text-white/70",children:S==="dark"?"Dark Mode (Active)":"Light Mode (Active)"})]})]}),s.jsx("div",{className:V("w-10 h-10 rounded-full flex items-center justify-center transition-all duration-500",S==="dark"?"bg-slate-800 text-slate-200 rotate-0":"bg-white text-warning rotate-180"),children:S==="dark"?s.jsx(Ep,{className:"w-4 h-4",strokeWidth:2.5}):s.jsx(Mp,{className:"w-4 h-4",strokeWidth:2.5,fill:"currentColor"})})]})}),s.jsx("div",{className:"space-y-6",children:R.map(z=>s.jsxs("div",{className:"space-y-3 animate-fade-in",children:[s.jsx("h3",{className:"text-[11px] font-bold uppercase tracking-widest text-muted-foreground px-2",children:z.title}),s.jsx("div",{className:"grid gap-3",children:z.items.map(y=>s.jsx(H,{icon:y.icon,label:y.label,description:y.description,onClick:y.onClick,themeConfig:y.theme,currentTheme:S},y.label))})]},z.title))}),s.jsx("div",{className:"text-center pt-4",children:s.jsx("p",{className:"text-[10px] text-muted-foreground font-mono",children:"Marnthara Smart Quotation v6.6.4 (Stable)"})})]})})},Ng=[{id:"labor",label:" (Labor)",icon:gh},{id:"accessories",label:" (Accessory)",icon:yh},{id:"fabrics",label:" (Fabric)",icon:vo}],rh={rail_wave:" ()",rail_pleated:" ( M)",rail_eyelet:" ()",rail_roman:" ()",rail_rod:" ()",rail_louis:"/ ",eyelet_ring:"",tape_wave:"/",install_point:" ()",install_min:" ()",transport_base:"/"},_g=({isOpen:c,onClose:u})=>{const{laborCosts:d,accessoryCosts:r,fabricCosts:m,favorites:h,updateLaborCost:b,updateAccessoryCost:x,updateFabricCost:g,removeAccessoryCost:C,removeFabricCost:M,exportSecrets:S,importSecrets:_}=ae(),D=Qe(L=>L.addToast),[R,H]=Q.useState("labor"),[z,y]=Q.useState(""),[k,F]=Q.useState(!0),[Y,p]=Q.useState(null),[E,Z]=Q.useState({code:"",cost:"",unit:"",note:"",priceRef:""}),[K,W]=Q.useState(!1),$=Q.useRef(null),me=Q.useMemo(()=>{let L=[];if(R==="labor"?L=Object.entries(d).map(([I,oe])=>({key:I,name:I,cost:oe.rate,unit:oe.unit,note:` ${oe.min_price}`,priceRef:0})):R==="accessories"?L=Object.entries(r).map(([I,oe])=>({key:I,name:rh[I]||I,cost:oe,note:rh[I]?I:"",priceRef:0})):L=Object.entries(m).map(([I,oe])=>{let ye=0,He="";return Object.values(h).flat().forEach(Ae=>{Ae.code===I&&(ye=Ae.default_price_per_m,He=Ae.note||"")}),{key:I,name:I,cost:oe,note:He,priceRef:ye}}),z){const I=z.toLowerCase();L=L.filter(oe=>oe.key.toLowerCase().includes(I)||oe.name.toLowerCase().includes(I))}return L.sort((I,oe)=>I.name.localeCompare(oe.name))},[R,d,r,m,z,h]),ze=L=>{k||(p(L.key),Z({code:L.key,cost:L.cost.toString(),unit:L.unit||"",note:L.note||"",priceRef:L.priceRef?L.priceRef.toString():""}),W(!1))},se=()=>{const L=parseFloat(E.cost);if(!E.code||isNaN(L)){D("error"," ");return}R==="labor"?b(E.code,{rate:L,unit:E.unit||"meter",min_price:0}):R==="accessories"?(Y&&E.code!==Y&&C(Y),x(E.code,L)):(Y&&E.code!==Y&&M(Y),g(E.code,L)),p(null),W(!1),D("success","")},Nt=L=>{confirm(` "${L}"?`)&&(R==="accessories"?(C(L),D("success","")):R==="fabrics"?(M(L),D("success","")):D("warning","  ( 0 )"),p(null))},et=L=>{const I=L.target.files?.[0];if(I){const oe=new FileReader;oe.onload=ye=>{const He=ye.target?.result;_(He)?D("success",""):D("error","")},oe.readAsText(I)}L.target.value=""},U=L=>s.jsx("div",{className:"p-3 rounded-lg border transition-all bg-card border-primary shadow-md ring-1 ring-primary/20 animate-in fade-in zoom-in-95 duration-200 mb-2",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1.5 w-full",children:[s.jsx("label",{className:"text-[15px] font-medium text-foreground ml-1",children:R==="labor"?"":" / "}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{className:"flex h-12 w-full rounded-xl border px-4 py-2 text-[16px] focus:outline-none focus:ring-2 focus:ring-ring bg-background text-foreground border-input focus:border-primary pr-10",value:E.code,onChange:I=>Z({...E,code:I.target.value}),placeholder:R==="labor"?" ":"",autoFocus:!L}),E.code&&s.jsx("button",{type:"button",onClick:()=>Z({...E,code:""}),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1.5 text-muted-foreground hover:text-foreground",children:s.jsx(Fs,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-1.5 w-full",children:[s.jsx("label",{className:"text-[15px] font-medium text-foreground ml-1",children:R==="labor"?" (Unit)":"Note"}),s.jsx("input",{className:"flex h-12 w-full rounded-xl border px-4 py-2 text-[16px] focus:outline-none bg-background text-foreground border-input focus:border-primary disabled:opacity-70 disabled:bg-muted/30",value:R==="labor"?E.unit:E.note,onChange:I=>R==="labor"?Z({...E,unit:I.target.value}):null,disabled:R!=="labor",placeholder:R==="labor"?"meter":"-"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 p-3 bg-muted/30 rounded-lg",children:[s.jsxs("div",{className:"space-y-1.5 w-full",children:[s.jsxs("label",{className:"text-[15px] font-medium text-foreground ml-1",children:[" (Cost) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",className:"flex h-12 w-full rounded-xl border px-4 py-2 text-[16px] focus:outline-none focus:ring-2 focus:ring-ring bg-background border-input focus:border-primary text-amber-600 font-mono font-bold",value:E.cost,onChange:I=>Z({...E,cost:I.target.value}),autoFocus:L}),s.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground text-xs",children:""})]})]}),s.jsxs("div",{className:"space-y-1.5 w-full",children:[s.jsx("label",{className:"text-[15px] font-medium text-foreground ml-1",children:" (Ref)"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{className:"flex h-12 w-full rounded-xl border px-4 py-2 text-[16px] bg-background disabled:bg-muted/30 disabled:opacity-70 border-input text-emerald-600 font-bold",value:E.priceRef?Ee(parseFloat(E.priceRef)):"-",disabled:!0}),s.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground text-xs",children:""})]})]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-border/50",children:[L?s.jsxs("button",{onClick:()=>Nt(Y),className:"inline-flex items-center justify-center h-8 px-3 text-xs rounded-lg text-red-500 hover:bg-red-50 border border-transparent transition-colors",children:[s.jsx(Ws,{className:"w-4 h-4 mr-1"})," "]}):s.jsx("div",{}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>{p(null),W(!1)},className:"inline-flex items-center justify-center h-8 px-3 text-xs rounded-lg hover:bg-accent text-muted-foreground hover:text-foreground transition-colors",children:[s.jsx(Fs,{className:"w-4 h-4 mr-1"})," "]}),s.jsxs("button",{onClick:se,className:"inline-flex items-center justify-center h-8 px-3 text-xs rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm transition-colors",children:[s.jsx(Is,{className:"w-4 h-4 mr-1"})," "]})]})]})]})});return s.jsxs(Ot,{isOpen:c,onClose:u,title:" (Vault)",maxWidth:"2xl",children:[s.jsx("input",{type:"file",ref:$,accept:".json,.key,.txt",className:"hidden",onChange:et}),s.jsxs("div",{className:"space-y-4 pb-safe-area h-[600px] flex flex-col",children:[s.jsxs("div",{className:"flex gap-2 items-center bg-card p-1.5 rounded-xl border border-border shadow-sm",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(rl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"...",value:z,onChange:L=>y(L.target.value),className:"w-full pl-9 h-10 bg-muted/50 rounded-lg text-sm border-transparent focus:border-primary focus:ring-0"})]}),s.jsx(ie,{variant:k?"outline":"destructive",size:"icon",onClick:()=>{F(!k),p(null),W(!1)},className:"w-10 h-10 shrink-0",title:k?"":"",children:k?s.jsx(Up,{className:"w-4 h-4"}):s.jsx(Bp,{className:"w-4 h-4"})}),!k&&s.jsxs(ie,{onClick:()=>{W(!0),p(null),Z({code:"",cost:"",unit:"",note:"",priceRef:""})},className:"h-10 shrink-0 bg-primary text-primary-foreground shadow-sm px-3 flex items-center gap-1",children:[s.jsx($s,{className:"w-5 h-5"}),s.jsx("span",{className:"hidden sm:inline font-medium",children:""})]}),s.jsxs(wi,{as:"div",className:"relative",children:[s.jsx(Ci,{as:ie,variant:"ghost",size:"icon",className:"w-10 h-10",children:s.jsx(Ai,{className:"w-5 h-5"})}),s.jsx(Gt,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:s.jsxs(Ti,{className:"absolute right-0 mt-2 w-48 bg-popover border border-border rounded-xl shadow-lg z-50 p-1 focus:outline-none",children:[s.jsx(ut,{children:({active:L})=>s.jsxs("button",{onClick:()=>$.current?.click(),className:V("flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm",L&&"bg-accent"),children:[s.jsx(Ks,{className:"w-4 h-4"}),"  (.json/.key)"]})}),s.jsx(ut,{children:({active:L})=>s.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(S()),D("success","")},className:V("flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm",L&&"bg-accent"),children:[s.jsx(Nh,{className:"w-4 h-4"}),"  (Copy)"]})})]})})]})]}),s.jsx("div",{className:"flex p-1 bg-muted rounded-xl shrink-0",children:Ng.map(L=>s.jsxs("button",{onClick:()=>{H(L.id),p(null),W(!1)},className:V("flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium rounded-lg transition-all",R===L.id?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(L.icon,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:L.label})]},L.id))}),s.jsxs("div",{className:"flex-1 overflow-y-auto space-y-2 pr-1 border border-t-0 border-border rounded-b-lg p-1 bg-background",children:[K&&U(!1),me.length===0&&!K&&s.jsxs("div",{className:"text-center py-10 text-muted-foreground opacity-60",children:[s.jsx(rl,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:""})]}),me.map(L=>Y===L.key?s.jsx("div",{children:U(!0)},L.key):s.jsx("div",{className:"p-3 rounded-lg border transition-all bg-card border-border hover:border-primary/30 group",children:s.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[s.jsxs("div",{className:"col-span-7 sm:col-span-8 min-w-0",children:[s.jsx("div",{className:"font-bold text-sm truncate text-foreground",children:L.name}),s.jsx("div",{className:"text-[11px] text-muted-foreground truncate font-mono",children:R==="labor"?L.unit:L.note||L.key})]}),s.jsxs("div",{className:"col-span-3 sm:col-span-3 text-right flex flex-col justify-center min-w-0",children:[s.jsx("div",{className:"font-mono text-sm font-bold text-amber-600 dark:text-amber-500 leading-tight",children:Ee(L.cost)}),J(L.priceRef)>0&&s.jsx("div",{className:"text-[10px] text-emerald-600/70 dark:text-emerald-400/60 leading-tight",children:Ee(L.priceRef||0)})]}),s.jsx("div",{className:"col-span-2 sm:col-span-1 flex justify-end",children:!k&&s.jsx("button",{onClick:()=>ze(L),className:"p-2 rounded-lg bg-muted hover:bg-primary/10 text-muted-foreground hover:text-primary transition-colors flex items-center justify-center w-8 h-8",title:"",children:s.jsx(bo,{className:"w-4 h-4"})})})]})},L.key))]})]})]})},Sg={analyze:c=>{const u=ae.getState(),{fabricCosts:d,laborCosts:r,accessoryCosts:m}=u,h=tt.calculatePrice(c);let b=0,x=0,g=0,C=0,M=0;const S=0;let _=0,D="";if(Li(c)){if(D="",c.code){const Y=d[c.code]||0,p=_i(c.style,J(c.width_m));x=p*Y,_+=p}if(c.sheer_code&&(c.layer_mode==="double"||c.layer_mode==="sheer")){const Y=d[c.sheer_code]||0;g=_i(c.style,J(c.width_m))*Y}const y=J(c.width_m),k=m.rail_standard||120;M=y*k;const F=r[c.style]?.rate||60;C=y*F,b=x+g+C+M+S}else if(Ui(c)){D="";const y=c.wallpaper_code;if(y){const F=d[y]||0,Y=c.widths.reduce((E,Z)=>E+J(Z),0),p=Math.ceil(Y/ho.ROLL_WIDTH_M);x=p*F,_=p}C=J(c.install_cost_per_roll)*_,b=x+C}else if(Bi(c)){if(D="..",c.code){const y=d[c.code]||0,F=J(c.width_m)*J(c.height_m)*1.2;x=F*y,_=F}b=x}const R=h-b;let H=0;h>0&&(H=R/h*100);let z="profit";return R<0?z="loss":H<20&&(z="warning"),{totalCost:b,sellingPrice:h,profitAmount:R,marginPercent:H,status:z,fabricCost:x,sheerCost:g,laborCost:C,railCost:M,accCost:S,usedQuantity:Number(_.toFixed(2)),unit:D}}},wg=({isOpen:c,onClose:u})=>{const d=ae(Y=>Y.rooms),r=ae(Y=>Y.fabricCosts),m=ae(Y=>Y.favorites),h=ae(Y=>Y.updateUnifiedCost),[b,x]=Q.useState({}),[g,C]=Q.useState(!1),[M,S]=Q.useState(""),_=Q.useCallback(()=>{const Y={};return d.forEach(p=>{p.is_suspended||p.items.forEach(E=>{if(E.is_suspended)return;let Z="",K="curtain";if(Li(E)?(Z=E.code||E.sheer_code||"No Code",K="curtain"):Ui(E)?(Z=E.wallpaper_code||"No Code",K="wallpaper"):Bi(E)&&(Z=E.code||"No Code",K="blind"),Z==="No Code")return;const W=Sg.analyze(E);Y[Z]||(Y[Z]={code:Z,totalQty:0,unit:W.unit,usageCount:0,itemIds:[],type:K,avgCost:0,avgPrice:0,totalRevenue:0,totalCost:0,profit:0,margin:0,status:"profit"});const $=Y[Z];$.totalQty+=W.usedQuantity,$.usageCount+=1,$.itemIds.push(E.id),$.totalRevenue+=W.sellingPrice;const me=b[Z]!==void 0?b[Z]:r[Z]||0;$.totalCost+=me*W.usedQuantity+(W.laborCost||0)+(W.accCost||0)+(W.railCost||0),$.avgCost=me})}),Object.values(Y).map(p=>(p.profit=p.totalRevenue-p.totalCost,p.margin=p.totalRevenue>0?p.profit/p.totalRevenue*100:0,p.profit<0?p.status="loss":p.margin<20?p.status="warning":p.status="profit",p)).sort(p=>p.status==="loss"?-1:1)},[d,r,b]),D=Q.useMemo(()=>c?_():[],[c,_]),R=(Y,p)=>{const E=J(p);x(Z=>({...Z,[Y]:E})),C(!0)},H=()=>{Object.entries(b).forEach(([Y,p])=>{h(Y,p)}),x({}),C(!1)},z=()=>{x({}),C(!1)},y=Q.useMemo(()=>D.filter(Y=>Y.code.toLowerCase().includes(M.toLowerCase())),[D,M]),k=Q.useMemo(()=>D.reduce((Y,p)=>({revenue:Y.revenue+p.totalRevenue,cost:Y.cost+p.totalCost,profit:Y.profit+p.profit}),{revenue:0,cost:0,profit:0}),[D]),F=k.revenue>0?k.profit/k.revenue*100:0;return s.jsx(Ot,{isOpen:c,onClose:u,title:" (Cost Intelligence)",maxWidth:"2xl",children:s.jsxs("div",{className:"flex flex-col h-[80vh] bg-muted/10 -m-5 sm:-m-6",children:[s.jsxs("div",{className:"bg-card border-b border-border p-4 shadow-sm z-10",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"p-3 bg-success/10 rounded-xl border border-success/20 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-success font-bold uppercase",children:" (Net Profit)"}),s.jsx("div",{className:"text-2xl font-bold text-success font-mono",children:Ee(k.profit)})]}),s.jsx("div",{className:"h-10 w-10 bg-success/20 rounded-full flex items-center justify-center",children:s.jsx(wo,{className:"w-6 h-6 text-success"})})]}),s.jsxs("div",{className:"p-3 bg-muted/50 rounded-xl border border-border flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-muted-foreground font-bold uppercase",children:"Margin "}),s.jsxs("div",{className:V("text-2xl font-bold font-mono",F<20?"text-warning":"text-foreground"),children:[F.toFixed(1),"%"]})]}),s.jsx("div",{className:"h-10 w-10 bg-muted rounded-full flex items-center justify-center",children:s.jsx(Hp,{className:"w-6 h-6 text-muted-foreground"})})]})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(rl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"/...",value:M,onChange:Y=>S(Y.target.value),className:"w-full pl-9 pr-4 py-2 bg-muted/50 border border-transparent focus:border-primary rounded-lg text-sm focus:ring-2 focus:ring-primary/20 outline-none text-foreground placeholder:text-muted-foreground transition-all"})]}),g&&s.jsxs("div",{className:"flex gap-2 animate-fade-in",children:[s.jsxs(ie,{size:"sm",variant:"ghost",onClick:z,className:"text-muted-foreground hover:text-foreground",children:[s.jsx(yo,{className:"w-4 h-4 mr-1"})," "]}),s.jsxs(ie,{size:"sm",onClick:H,className:"bg-success hover:bg-success/90 text-white shadow-lg shadow-success/20",children:[s.jsx(Is,{className:"w-4 h-4 mr-1"})," "]})]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:y.length===0?s.jsxs("div",{className:"text-center py-10 text-muted-foreground",children:[s.jsx(rl,{className:"w-10 h-10 mx-auto mb-2 opacity-20"}),s.jsx("p",{children:""})]}):y.map(Y=>{const p=b[Y.code]!==void 0,E=Y.avgCost>0,Z=Y.type==="curtain"?ce.CURTAIN_MAIN:Y.type==="wallpaper"?ce.WALLPAPER:"",K=Z&&m[Z]?.some(W=>W.code===Y.code);return s.jsxs("div",{className:V("bg-card rounded-xl border p-3 shadow-sm transition-all",Y.status==="loss"?"border-red-200 shadow-red-100":"border-border hover:border-success/30"),children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:V("h-10 w-10 rounded-lg flex items-center justify-center text-white shadow-sm",Y.type==="curtain"?"bg-brand-curtain":Y.type==="wallpaper"?"bg-brand-wallpaper":"bg-brand-blind"),children:Y.type==="curtain"?s.jsx(vo,{className:"w-5 h-5"}):Y.type==="wallpaper"?s.jsx(No,{className:"w-5 h-5"}):s.jsx(_o,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-bold text-card-foreground text-base flex items-center gap-2",children:[Y.code,K&&s.jsx("span",{className:"text-[10px] bg-warning/20 text-warning px-1.5 py-0.5 rounded-full",children:"Fav"})]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[" ",Y.totalQty.toFixed(2)," ",Y.unit," ( ",Y.usageCount," ",")"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:V("font-bold font-mono text-lg",Y.profit<0?"text-destructive":"text-success"),children:[Y.profit>0?"+":"",Ee(Y.profit)]}),s.jsx("div",{className:"text-[10px] text-muted-foreground",children:""})]})]}),s.jsxs("div",{className:"bg-muted/30 rounded-lg p-2 mt-2 flex items-center justify-between border border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[!E&&s.jsx(oa,{className:"w-3 h-3 text-warning animate-pulse"}),s.jsxs("span",{children:["/",Y.unit,":"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"relative",children:s.jsx("input",{type:"number",value:p?b[Y.code]:Y.avgCost||"",onChange:W=>R(Y.code,W.target.value),placeholder:"0.00",className:V("w-24 text-right font-bold text-lg bg-transparent border-b-2 focus:outline-none rounded px-1 transition-all","text-foreground placeholder:text-muted-foreground/50",p?"border-warning text-warning":"border-transparent hover:border-border focus:border-primary")})}),s.jsx("div",{className:V("text-[10px] mt-1 font-medium",Y.margin<0?"text-destructive":Y.margin<20?"text-warning":"text-success"),children:E?`Margin ${Y.margin.toFixed(1)}%`:""})]})]})]},Y.code)})}),g&&s.jsxs("div",{className:"flex items-center gap-2 text-warning-foreground text-xs bg-warning/10 p-3 rounded-lg border border-warning/20 animate-fade-in shadow-sm mx-4 mb-4",children:[s.jsx(oa,{className:"w-4 h-4 shrink-0 text-warning"}),s.jsxs("span",{children:["  ",s.jsx("strong",{children:'""'})," ",""]})]})]})})},Cg=()=>{const{activeModal:c,modalProps:u,closeModal:d,openModal:r,addItem:m,updateItem:h}=ae(),b=Qe(k=>k.addToast),x=k=>c===k,g=k=>{const{roomId:F,mode:Y,itemId:p}=u;F&&(Y==="edit"&&p?(h(F,p,k),b("success","")):(m(F,k),b("success","")),d())},C=()=>r("pdf"),M=()=>r("lookbook"),S=()=>r("customer"),_=()=>r("shopSettings"),D=()=>r("discount"),R=()=>r("data"),H=()=>r("favoriteManager"),z=()=>r("productionSettings"),y=()=>r("costDashboard");return c?s.jsxs(s.Fragment,{children:[s.jsx(Ib,{isOpen:x("item"),onClose:d,roomId:u.roomId,itemId:u.itemId,itemType:u.itemType,initialData:u.initialData,mode:u.mode,onSubmit:g}),s.jsx(Pb,{isOpen:x("customer"),onClose:d}),s.jsx(lg,{isOpen:x("pdf"),onClose:d}),s.jsx(sg,{isOpen:x("shopSettings"),onClose:d}),s.jsx(rg,{isOpen:x("favoriteManager"),onClose:d}),s.jsx(og,{isOpen:x("discount"),onClose:d},x("discount")?"discount-open":"discount-closed"),s.jsx(dg,{isOpen:x("data"),onClose:d}),s.jsx(gg,{isOpen:x("lookbook"),onClose:d}),s.jsx(vg,{isOpen:x("projectOverview"),onClose:d}),s.jsx(ug,{isOpen:x("roomDefaults"),onClose:d,roomId:u.roomId},u.roomId||"defaults"),s.jsx(_g,{isOpen:x("productionSettings"),onClose:d}),s.jsx(wg,{isOpen:x("costDashboard"),onClose:d}),s.jsx(jg,{isOpen:x("mainMenu"),onClose:d,onOpenPdf:C,onOpenLookbook:M,onOpenCustomer:S,onOpenShopSettings:_,onOpenDiscount:D,onOpenData:R,onOpenFavorites:H,onOpenProductionSettings:z,onOpenCostDashboard:y})]}):null};function Ag(){const c=ae(D=>D.rooms),u=ae(D=>D.openModal),d=ae(D=>D.favorites),r=ae(D=>D.fabricCosts),m=ae(D=>D.batchUpdateFabricCosts),h=wh(D=>D.theme);Q.useEffect(()=>{document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(h)},[h]);const b=Q.useRef(!1);Q.useEffect(()=>{if(b.current)return;const D={};let R=!1;Object.values(d).flat().forEach(H=>{H.cost_per_yard&&H.cost_per_yard>0&&(r[H.code]||(D[H.code]=H.cost_per_yard,R=!0))}),R&&(console.log(" System: Migrating legacy costs to vault...",D),m(D)),b.current=!0},[d,r,m]);const x=()=>u("mainMenu"),g=()=>u("discount"),C=()=>u("projectOverview"),M=D=>{u("item",{mode:"add",roomId:D,itemType:G.CURTAIN})},S=(D,R)=>{u("item",{mode:"edit",roomId:D,itemId:R.id,itemType:R.type,initialData:R})},_=D=>{u("roomDefaults",{roomId:D})};return s.jsxs(s.Fragment,{children:[s.jsx(hb,{onOpenMainMenu:x,onOpenDiscount:g,onOpenOverview:C,children:c.length>0?s.jsx(bb,{rooms:c,onAddItem:M,onEditItem:S,onOpenDefaults:_}):s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center space-y-4 animate-fade-in",children:[s.jsx("div",{className:"w-20 h-20 bg-muted rounded-full flex items-center justify-center mb-2",children:s.jsx("span",{className:"text-4xl",children:""})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:""}),s.jsx("p",{className:"text-muted-foreground",children:" + "})]})]})}),s.jsx(Cg,{}),s.jsx(vb,{}),s.jsx(yb,{})]})}const Th=()=>{document.documentElement.style.setProperty("--app-height",`${window.innerHeight}px`)};window.addEventListener("resize",Th);Th();Wp.createRoot(document.getElementById("root")).render(s.jsx(Q.StrictMode,{children:s.jsx(Ag,{})}));
