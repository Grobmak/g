import{r as j,C as Xn,L as ov,S as Yn,P as Hl,H as uv,M as dv,T as Eu,G as Zs,B as Fs,a as Uu,b as Bu,c as ku,d as Ti,e as Vp,l as Ai,f as Di,E as Ri,K as xa,R as W,y as Mi,g as Lt,h as fv,i as Xp,j as Hu,k as Gp,m as Gn,n as Qp,o as Zp,p as Fp,q as Kp,I as mv,s as Ql,t as Oi,u as Vn,v as zi,O as ml,z as Li,Q as qu,w as Ip,x as hv,X as ql,A as Jp,D as pv,F as xv,J as gv,N as vv,U as bv,V as yv,W as _i,Y as Yl,Z as Yu,_ as Ui,$ as Vu,a0 as Bi,a1 as Nv,a2 as Xu,a3 as ki,a4 as Ba,a5 as jv,a6 as $p,a7 as Wp,a8 as wv,a9 as Pp,aa as _v,ab as Sv,ac as Hi,ad as Cv,ae as ex,af as Ev,ag as Tv,ah as Av,ai as Dv,aj as Rv,ak as Js,al as Mv,am as Qs,an as tx,ao as Tu,ap as Ov,aq as zv,ar as Lv,as as ax,at as Uv,au as Gu,av as Bv,aw as kv,ax as Hv,ay as qv,az as Yv,aA as Vv,aB as Xv,aC as Gv,aD as Qv,aE as Zv,aF as Fv,aG as Kv,aH as Iv}from"./vendor-ui-Dsn4NR79.js";import{r as Jv,a as $v}from"./vendor-react-OvXVS5lI.js";import{c as Qu,t as Wv,a as Pv,b as eb}from"./vendor-utils-CHAJeCr_.js";import{r as tb}from"./vendor-print-BoE_OzAc.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const p of m.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&c(p)}).observe(document,{childList:!0,subtree:!0});function u(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerPolicy&&(m.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?m.credentials="include":d.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function c(d){if(d.ep)return;d.ep=!0;const m=u(d);fetch(d.href,m)}})();var ou={exports:{}},qs={};var Zh;function ab(){if(Zh)return qs;Zh=1;var s=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function u(c,d,m){var p=null;if(m!==void 0&&(p=""+m),d.key!==void 0&&(p=""+d.key),"key"in d){m={};for(var h in d)h!=="key"&&(m[h]=d[h])}else m=d;return d=m.ref,{$$typeof:s,type:c,key:p,ref:d!==void 0?d:null,props:m}}return qs.Fragment=o,qs.jsx=u,qs.jsxs=u,qs}var Fh;function lb(){return Fh||(Fh=1,ou.exports=ab()),ou.exports}var n=lb(),uu={exports:{}},Ys={},du={exports:{}},fu={};var Kh;function nb(){return Kh||(Kh=1,(function(s){function o(V,q){var $=V.length;V.push(q);e:for(;0<$;){var oe=$-1>>>1,Ne=V[oe];if(0<d(Ne,q))V[oe]=q,V[$]=Ne,$=oe;else break e}}function u(V){return V.length===0?null:V[0]}function c(V){if(V.length===0)return null;var q=V[0],$=V.pop();if($!==q){V[0]=$;e:for(var oe=0,Ne=V.length,Qe=Ne>>>1;oe<Qe;){var Me=2*(oe+1)-1,ge=V[Me],Xe=Me+1,vt=V[Xe];if(0>d(ge,$))Xe<Ne&&0>d(vt,ge)?(V[oe]=vt,V[Xe]=$,oe=Xe):(V[oe]=ge,V[Me]=$,oe=Me);else if(Xe<Ne&&0>d(vt,$))V[oe]=vt,V[Xe]=$,oe=Xe;else break e}}return q}function d(V,q){var $=V.sortIndex-q.sortIndex;return $!==0?$:V.id-q.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;s.unstable_now=function(){return m.now()}}else{var p=Date,h=p.now();s.unstable_now=function(){return p.now()-h}}var g=[],y=[],w=1,v=null,N=3,T=!1,A=!1,S=!1,R=!1,C=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function E(V){for(var q=u(y);q!==null;){if(q.callback===null)c(y);else if(q.startTime<=V)c(y),q.sortIndex=q.expirationTime,o(g,q);else break;q=u(y)}}function b(V){if(S=!1,E(V),!A)if(u(g)!==null)A=!0,z||(z=!0,xe());else{var q=u(y);q!==null&&Ce(b,q.startTime-V)}}var z=!1,k=-1,G=5,I=-1;function P(){return R?!0:!(s.unstable_now()-I<G)}function ie(){if(R=!1,z){var V=s.unstable_now();I=V;var q=!0;try{e:{A=!1,S&&(S=!1,B(k),k=-1),T=!0;var $=N;try{t:{for(E(V),v=u(g);v!==null&&!(v.expirationTime>V&&P());){var oe=v.callback;if(typeof oe=="function"){v.callback=null,N=v.priorityLevel;var Ne=oe(v.expirationTime<=V);if(V=s.unstable_now(),typeof Ne=="function"){v.callback=Ne,E(V),q=!0;break t}v===u(g)&&c(g),E(V)}else c(g);v=u(g)}if(v!==null)q=!0;else{var Qe=u(y);Qe!==null&&Ce(b,Qe.startTime-V),q=!1}}break e}finally{v=null,N=$,T=!1}q=void 0}}finally{q?xe():z=!1}}}var xe;if(typeof M=="function")xe=function(){M(ie)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ae=te.port2;te.port1.onmessage=ie,xe=function(){ae.postMessage(null)}}else xe=function(){C(ie,0)};function Ce(V,q){k=C(function(){V(s.unstable_now())},q)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(V){V.callback=null},s.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<V?Math.floor(1e3/V):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(V){switch(N){case 1:case 2:case 3:var q=3;break;default:q=N}var $=N;N=q;try{return V()}finally{N=$}},s.unstable_requestPaint=function(){R=!0},s.unstable_runWithPriority=function(V,q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var $=N;N=V;try{return q()}finally{N=$}},s.unstable_scheduleCallback=function(V,q,$){var oe=s.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?oe+$:oe):$=oe,V){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=$+Ne,V={id:w++,callback:q,priorityLevel:V,startTime:$,expirationTime:Ne,sortIndex:-1},$>oe?(V.sortIndex=$,o(y,V),u(g)===null&&V===u(y)&&(S?(B(k),k=-1):S=!0,Ce(b,$-oe))):(V.sortIndex=Ne,o(g,V),A||T||(A=!0,z||(z=!0,xe()))),V},s.unstable_shouldYield=P,s.unstable_wrapCallback=function(V){var q=N;return function(){var $=N;N=q;try{return V.apply(this,arguments)}finally{N=$}}}})(fu)),fu}var Ih;function sb(){return Ih||(Ih=1,du.exports=nb()),du.exports}var Jh;function rb(){if(Jh)return Ys;Jh=1;var s=sb(),o=Jv(),u=$v();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(m(e)!==e)throw Error(c(188))}function y(e){var t=e.alternate;if(!t){if(t=m(e),t===null)throw Error(c(188));return t!==e?null:e}for(var a=e,l=t;;){var r=a.return;if(r===null)break;var i=r.alternate;if(i===null){if(l=r.return,l!==null){a=l;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===a)return g(r),e;if(i===l)return g(r),t;i=i.sibling}throw Error(c(188))}if(a.return!==l.return)a=r,l=i;else{for(var f=!1,x=r.child;x;){if(x===a){f=!0,a=r,l=i;break}if(x===l){f=!0,l=r,a=i;break}x=x.sibling}if(!f){for(x=i.child;x;){if(x===a){f=!0,a=i,l=r;break}if(x===l){f=!0,l=i,a=r;break}x=x.sibling}if(!f)throw Error(c(189))}}if(a.alternate!==l)throw Error(c(190))}if(a.tag!==3)throw Error(c(188));return a.stateNode.current===a?e:t}function w(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=w(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,N=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),M=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function xe(e){return e===null||typeof e!="object"?null:(e=ie&&e[ie]||e["@@iterator"],typeof e=="function"?e:null)}var te=Symbol.for("react.client.reference");function ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===te?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case C:return"Profiler";case R:return"StrictMode";case b:return"Suspense";case z:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case M:return e.displayName||"Context";case B:return(e._context.displayName||"Context")+".Consumer";case E:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return t=e.displayName||null,t!==null?t:ae(e.type)||"Memo";case G:t=e._payload,e=e._init;try{return ae(e(t))}catch{}}return null}var Ce=Array.isArray,V=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},oe=[],Ne=-1;function Qe(e){return{current:e}}function Me(e){0>Ne||(e.current=oe[Ne],oe[Ne]=null,Ne--)}function ge(e,t){Ne++,oe[Ne]=e.current,e.current=t}var Xe=Qe(null),vt=Qe(null),Bt=Qe(null),la=Qe(null);function na(e,t){switch(ge(Bt,t),ge(vt,e),ge(Xe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ph(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ph(t),e=xh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Me(Xe),ge(Xe,e)}function sa(){Me(Xe),Me(vt),Me(Bt)}function xl(e){e.memoizedState!==null&&ge(la,e);var t=Xe.current,a=xh(t,e.type);t!==a&&(ge(vt,e),ge(Xe,a))}function Jt(e){vt.current===e&&(Me(Xe),Me(vt)),la.current===e&&(Me(la),Us._currentValue=$)}var Fl,Zn;function fe(e){if(Fl===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Fl=t&&t[1]||"",Zn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fl+e+Zn}var Kl=!1;function Il(e,t){if(!e||Kl)return"";Kl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Y){var H=Y}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(Y){H=Y}e.call(Z.prototype)}}else{try{throw Error()}catch(Y){H=Y}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Y){if(Y&&H&&typeof Y.stack=="string")return[Y.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=l.DetermineComponentFrameRoot(),f=i[0],x=i[1];if(f&&x){var _=f.split(`
`),U=x.split(`
`);for(r=l=0;l<_.length&&!_[l].includes("DetermineComponentFrameRoot");)l++;for(;r<U.length&&!U[r].includes("DetermineComponentFrameRoot");)r++;if(l===_.length||r===U.length)for(l=_.length-1,r=U.length-1;1<=l&&0<=r&&_[l]!==U[r];)r--;for(;1<=l&&0<=r;l--,r--)if(_[l]!==U[r]){if(l!==1||r!==1)do if(l--,r--,0>r||_[l]!==U[r]){var X=`
`+_[l].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=l&&0<=r);break}}}finally{Kl=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?fe(a):""}function Fn(e,t){switch(e.tag){case 26:case 27:case 5:return fe(e.type);case 16:return fe("Lazy");case 13:return e.child!==t&&t!==null?fe("Suspense Fallback"):fe("Suspense");case 19:return fe("SuspenseList");case 0:case 15:return Il(e.type,!1);case 11:return Il(e.type.render,!1);case 1:return Il(e.type,!0);case 31:return fe("Activity");default:return""}}function Ws(e){try{var t="",a=null;do t+=Fn(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Kn=Object.prototype.hasOwnProperty,ra=s.unstable_scheduleCallback,Jl=s.unstable_cancelCallback,Zi=s.unstable_shouldYield,gl=s.unstable_requestPaint,ht=s.unstable_now,Ps=s.unstable_getCurrentPriorityLevel,er=s.unstable_ImmediatePriority,tr=s.unstable_UserBlockingPriority,ga=s.unstable_NormalPriority,Fi=s.unstable_LowPriority,In=s.unstable_IdlePriority,Ki=s.log,vl=s.unstable_setDisableYieldValue,qa=null,pt=null;function ia(e){if(typeof Ki=="function"&&vl(e),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(qa,e)}catch{}}var xt=Math.clz32?Math.clz32:ue,Ii=Math.log,Ji=Math.LN2;function ue(e){return e>>>=0,e===0?32:31-(Ii(e)/Ji|0)|0}var Se=256,Ae=262144,ve=4194304;function Oe(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function at(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var r=0,i=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var x=l&134217727;return x!==0?(l=x&~i,l!==0?r=Oe(l):(f&=x,f!==0?r=Oe(f):a||(a=x&~e,a!==0&&(r=Oe(a))))):(x=l&~i,x!==0?r=Oe(x):f!==0?r=Oe(f):a||(a=l&~e,a!==0&&(r=Oe(a)))),r===0?0:t!==0&&t!==r&&(t&i)===0&&(i=r&-r,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:r}function Ke(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ca(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bt(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function $t(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function yt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function kt(e,t,a,l,r,i){var f=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var x=e.entanglements,_=e.expirationTimes,U=e.hiddenUpdates;for(a=f&~a;0<a;){var X=31-xt(a),Z=1<<X;x[X]=0,_[X]=-1;var H=U[X];if(H!==null)for(U[X]=null,X=0;X<H.length;X++){var Y=H[X];Y!==null&&(Y.lane&=-536870913)}a&=~Z}l!==0&&bl(e,l,0),i!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=i&~(f&~t))}function bl(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-xt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Jn(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-xt(a),r=1<<l;r&t|e[l]&t&&(e[l]|=t),a&=~r}}function Wu(e,t){var a=t&-t;return a=(a&42)!==0?1:$i(a),(a&(e.suspendedLanes|t))!==0?0:a}function $i(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Wi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Pu(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:Hh(e.type))}function ed(e,t){var a=q.p;try{return q.p=e,t()}finally{q.p=a}}var Ya=Math.random().toString(36).slice(2),ot="__reactFiber$"+Ya,Nt="__reactProps$"+Ya,$l="__reactContainer$"+Ya,Pi="__reactEvents$"+Ya,Wx="__reactListeners$"+Ya,Px="__reactHandles$"+Ya,td="__reactResources$"+Ya,$n="__reactMarker$"+Ya;function ec(e){delete e[ot],delete e[Nt],delete e[Pi],delete e[Wx],delete e[Px]}function Wl(e){var t=e[ot];if(t)return t;for(var a=e.parentNode;a;){if(t=a[$l]||a[ot]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=wh(e);e!==null;){if(a=e[ot])return a;e=wh(e)}return t}e=a,a=e.parentNode}return null}function Pl(e){if(e=e[ot]||e[$l]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Wn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function en(e){var t=e[td];return t||(t=e[td]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function it(e){e[$n]=!0}var ad=new Set,ld={};function yl(e,t){tn(e,t),tn(e+"Capture",t)}function tn(e,t){for(ld[e]=t,e=0;e<t.length;e++)ad.add(t[e])}var e0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nd={},sd={};function t0(e){return Kn.call(sd,e)?!0:Kn.call(nd,e)?!1:e0.test(e)?sd[e]=!0:(nd[e]=!0,!1)}function ar(e,t,a){if(t0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function lr(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function va(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function Ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function a0(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var r=l.get,i=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(f){a=""+f,i.call(this,f)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(f){a=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tc(e){if(!e._valueTracker){var t=rd(e)?"checked":"value";e._valueTracker=a0(e,t,""+e[t])}}function id(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=rd(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function nr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var l0=/[\n"\\]/g;function qt(e){return e.replace(l0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ac(e,t,a,l,r,i,f,x){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ht(t)):e.value!==""+Ht(t)&&(e.value=""+Ht(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?lc(e,f,Ht(t)):a!=null?lc(e,f,Ht(a)):l!=null&&e.removeAttribute("value"),r==null&&i!=null&&(e.defaultChecked=!!i),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Ht(x):e.removeAttribute("name")}function cd(e,t,a,l,r,i,f,x){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){tc(e);return}a=a!=null?""+Ht(a):"",t=t!=null?""+Ht(t):a,x||t===e.value||(e.value=t),e.defaultValue=t}l=l??r,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=x?e.checked:!!l,e.defaultChecked=!!l,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),tc(e)}function lc(e,t,a){t==="number"&&nr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function an(e,t,a,l){if(e=e.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<e.length;a++)r=t.hasOwnProperty("$"+e[a].value),e[a].selected!==r&&(e[a].selected=r),r&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ht(a),t=null,r=0;r<e.length;r++){if(e[r].value===a){e[r].selected=!0,l&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function od(e,t,a){if(t!=null&&(t=""+Ht(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ht(a):""}function ud(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(c(92));if(Ce(l)){if(1<l.length)throw Error(c(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=Ht(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),tc(e)}function ln(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var n0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dd(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||n0.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function fd(e,t,a){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var r in t)l=t[r],t.hasOwnProperty(r)&&a[r]!==l&&dd(e,r,l)}else for(var i in t)t.hasOwnProperty(i)&&dd(e,i,t[i])}function nc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var s0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),r0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sr(e){return r0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ba(){}var sc=null;function rc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nn=null,sn=null;function md(e){var t=Pl(e);if(t&&(e=t.stateNode)){var a=e[Nt]||null;e:switch(e=t.stateNode,t.type){case"input":if(ac(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+qt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var r=l[Nt]||null;if(!r)throw Error(c(90));ac(l,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&id(l)}break e;case"textarea":od(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&an(e,!!a.multiple,t,!1)}}}var ic=!1;function hd(e,t,a){if(ic)return e(t,a);ic=!0;try{var l=e(t);return l}finally{if(ic=!1,(nn!==null||sn!==null)&&(Zr(),nn&&(t=nn,e=sn,sn=nn=null,md(t),e)))for(t=0;t<e.length;t++)md(e[t])}}function Pn(e,t){var a=e.stateNode;if(a===null)return null;var l=a[Nt]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(c(231,t,typeof a));return a}var ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cc=!1;if(ya)try{var es={};Object.defineProperty(es,"passive",{get:function(){cc=!0}}),window.addEventListener("test",es,es),window.removeEventListener("test",es,es)}catch{cc=!1}var Va=null,oc=null,rr=null;function pd(){if(rr)return rr;var e,t=oc,a=t.length,l,r="value"in Va?Va.value:Va.textContent,i=r.length;for(e=0;e<a&&t[e]===r[e];e++);var f=a-e;for(l=1;l<=f&&t[a-l]===r[i-l];l++);return rr=r.slice(e,1<l?1-l:void 0)}function ir(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cr(){return!0}function xd(){return!1}function jt(e){function t(a,l,r,i,f){this._reactName=a,this._targetInst=r,this.type=l,this.nativeEvent=i,this.target=f,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(a=e[x],this[x]=a?a(i):i[x]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?cr:xd,this.isPropagationStopped=xd,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),t}var Nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},or=jt(Nl),ts=v({},Nl,{view:0,detail:0}),i0=jt(ts),uc,dc,as,ur=v({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==as&&(as&&e.type==="mousemove"?(uc=e.screenX-as.screenX,dc=e.screenY-as.screenY):dc=uc=0,as=e),uc)},movementY:function(e){return"movementY"in e?e.movementY:dc}}),gd=jt(ur),c0=v({},ur,{dataTransfer:0}),o0=jt(c0),u0=v({},ts,{relatedTarget:0}),fc=jt(u0),d0=v({},Nl,{animationName:0,elapsedTime:0,pseudoElement:0}),f0=jt(d0),m0=v({},Nl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),h0=jt(m0),p0=v({},Nl,{data:0}),vd=jt(p0),x0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=v0[e])?!!t[e]:!1}function mc(){return b0}var y0=v({},ts,{key:function(e){if(e.key){var t=x0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ir(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?g0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mc,charCode:function(e){return e.type==="keypress"?ir(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ir(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),N0=jt(y0),j0=v({},ur,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bd=jt(j0),w0=v({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mc}),_0=jt(w0),S0=v({},Nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),C0=jt(S0),E0=v({},ur,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),T0=jt(E0),A0=v({},Nl,{newState:0,oldState:0}),D0=jt(A0),R0=[9,13,27,32],hc=ya&&"CompositionEvent"in window,ls=null;ya&&"documentMode"in document&&(ls=document.documentMode);var M0=ya&&"TextEvent"in window&&!ls,yd=ya&&(!hc||ls&&8<ls&&11>=ls),Nd=" ",jd=!1;function wd(e,t){switch(e){case"keyup":return R0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _d(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rn=!1;function O0(e,t){switch(e){case"compositionend":return _d(t);case"keypress":return t.which!==32?null:(jd=!0,Nd);case"textInput":return e=t.data,e===Nd&&jd?null:e;default:return null}}function z0(e,t){if(rn)return e==="compositionend"||!hc&&wd(e,t)?(e=pd(),rr=oc=Va=null,rn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yd&&t.locale!=="ko"?null:t.data;default:return null}}var L0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!L0[e.type]:t==="textarea"}function Cd(e,t,a,l){nn?sn?sn.push(l):sn=[l]:nn=l,t=Pr(t,"onChange"),0<t.length&&(a=new or("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var ns=null,ss=null;function U0(e){oh(e,0)}function dr(e){var t=Wn(e);if(id(t))return e}function Ed(e,t){if(e==="change")return t}var Td=!1;if(ya){var pc;if(ya){var xc="oninput"in document;if(!xc){var Ad=document.createElement("div");Ad.setAttribute("oninput","return;"),xc=typeof Ad.oninput=="function"}pc=xc}else pc=!1;Td=pc&&(!document.documentMode||9<document.documentMode)}function Dd(){ns&&(ns.detachEvent("onpropertychange",Rd),ss=ns=null)}function Rd(e){if(e.propertyName==="value"&&dr(ss)){var t=[];Cd(t,ss,e,rc(e)),hd(U0,t)}}function B0(e,t,a){e==="focusin"?(Dd(),ns=t,ss=a,ns.attachEvent("onpropertychange",Rd)):e==="focusout"&&Dd()}function k0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dr(ss)}function H0(e,t){if(e==="click")return dr(t)}function q0(e,t){if(e==="input"||e==="change")return dr(t)}function Y0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:Y0;function rs(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var r=a[l];if(!Kn.call(t,r)||!Tt(e[r],t[r]))return!1}return!0}function Md(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Od(e,t){var a=Md(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Md(a)}}function zd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ld(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=nr(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=nr(e.document)}return t}function gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var V0=ya&&"documentMode"in document&&11>=document.documentMode,cn=null,vc=null,is=null,bc=!1;function Ud(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bc||cn==null||cn!==nr(l)||(l=cn,"selectionStart"in l&&gc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),is&&rs(is,l)||(is=l,l=Pr(vc,"onSelect"),0<l.length&&(t=new or("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=cn)))}function jl(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var on={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionrun:jl("Transition","TransitionRun"),transitionstart:jl("Transition","TransitionStart"),transitioncancel:jl("Transition","TransitionCancel"),transitionend:jl("Transition","TransitionEnd")},yc={},Bd={};ya&&(Bd=document.createElement("div").style,"AnimationEvent"in window||(delete on.animationend.animation,delete on.animationiteration.animation,delete on.animationstart.animation),"TransitionEvent"in window||delete on.transitionend.transition);function wl(e){if(yc[e])return yc[e];if(!on[e])return e;var t=on[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Bd)return yc[e]=t[a];return e}var kd=wl("animationend"),Hd=wl("animationiteration"),qd=wl("animationstart"),X0=wl("transitionrun"),G0=wl("transitionstart"),Q0=wl("transitioncancel"),Yd=wl("transitionend"),Vd=new Map,Nc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nc.push("scrollEnd");function Wt(e,t){Vd.set(e,t),yl(t,[e])}var fr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Yt=[],un=0,jc=0;function mr(){for(var e=un,t=jc=un=0;t<e;){var a=Yt[t];Yt[t++]=null;var l=Yt[t];Yt[t++]=null;var r=Yt[t];Yt[t++]=null;var i=Yt[t];if(Yt[t++]=null,l!==null&&r!==null){var f=l.pending;f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r}i!==0&&Xd(a,r,i)}}function hr(e,t,a,l){Yt[un++]=e,Yt[un++]=t,Yt[un++]=a,Yt[un++]=l,jc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function wc(e,t,a,l){return hr(e,t,a,l),pr(e)}function _l(e,t){return hr(e,null,null,t),pr(e)}function Xd(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var r=!1,i=e.return;i!==null;)i.childLanes|=a,l=i.alternate,l!==null&&(l.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(r=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,r&&t!==null&&(r=31-xt(a),e=i.hiddenUpdates,l=e[r],l===null?e[r]=[t]:l.push(t),t.lane=a|536870912),i):null}function pr(e){if(50<As)throw As=0,Oo=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var dn={};function Z0(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,a,l){return new Z0(e,t,a,l)}function _c(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Na(e,t){var a=e.alternate;return a===null?(a=At(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Gd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function xr(e,t,a,l,r,i){var f=0;if(l=e,typeof e=="function")_c(e)&&(f=1);else if(typeof e=="string")f=$g(e,a,Xe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case I:return e=At(31,a,t,r),e.elementType=I,e.lanes=i,e;case S:return Sl(a.children,r,i,t);case R:f=8,r|=24;break;case C:return e=At(12,a,t,r|2),e.elementType=C,e.lanes=i,e;case b:return e=At(13,a,t,r),e.elementType=b,e.lanes=i,e;case z:return e=At(19,a,t,r),e.elementType=z,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:f=10;break e;case B:f=9;break e;case E:f=11;break e;case k:f=14;break e;case G:f=16,l=null;break e}f=29,a=Error(c(130,e===null?"null":typeof e,"")),l=null}return t=At(f,a,t,r),t.elementType=e,t.type=l,t.lanes=i,t}function Sl(e,t,a,l){return e=At(7,e,l,t),e.lanes=a,e}function Sc(e,t,a){return e=At(6,e,null,t),e.lanes=a,e}function Qd(e){var t=At(18,null,null,0);return t.stateNode=e,t}function Cc(e,t,a){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Zd=new WeakMap;function Vt(e,t){if(typeof e=="object"&&e!==null){var a=Zd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Ws(t)},Zd.set(e,t),t)}return{value:e,source:t,stack:Ws(t)}}var fn=[],mn=0,gr=null,cs=0,Xt=[],Gt=0,Xa=null,oa=1,ua="";function ja(e,t){fn[mn++]=cs,fn[mn++]=gr,gr=e,cs=t}function Fd(e,t,a){Xt[Gt++]=oa,Xt[Gt++]=ua,Xt[Gt++]=Xa,Xa=e;var l=oa;e=ua;var r=32-xt(l)-1;l&=~(1<<r),a+=1;var i=32-xt(t)+r;if(30<i){var f=r-r%5;i=(l&(1<<f)-1).toString(32),l>>=f,r-=f,oa=1<<32-xt(t)+r|a<<r|l,ua=i+e}else oa=1<<i|a<<r|l,ua=e}function Ec(e){e.return!==null&&(ja(e,1),Fd(e,1,0))}function Tc(e){for(;e===gr;)gr=fn[--mn],fn[mn]=null,cs=fn[--mn],fn[mn]=null;for(;e===Xa;)Xa=Xt[--Gt],Xt[Gt]=null,ua=Xt[--Gt],Xt[Gt]=null,oa=Xt[--Gt],Xt[Gt]=null}function Kd(e,t){Xt[Gt++]=oa,Xt[Gt++]=ua,Xt[Gt++]=Xa,oa=t.id,ua=t.overflow,Xa=e}var ut=null,qe=null,_e=!1,Ga=null,Qt=!1,Ac=Error(c(519));function Qa(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw os(Vt(t,e)),Ac}function Id(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[ot]=e,t[Nt]=l,a){case"dialog":ye("cancel",t),ye("close",t);break;case"iframe":case"object":case"embed":ye("load",t);break;case"video":case"audio":for(a=0;a<Rs.length;a++)ye(Rs[a],t);break;case"source":ye("error",t);break;case"img":case"image":case"link":ye("error",t),ye("load",t);break;case"details":ye("toggle",t);break;case"input":ye("invalid",t),cd(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ye("invalid",t);break;case"textarea":ye("invalid",t),ud(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||mh(t.textContent,a)?(l.popover!=null&&(ye("beforetoggle",t),ye("toggle",t)),l.onScroll!=null&&ye("scroll",t),l.onScrollEnd!=null&&ye("scrollend",t),l.onClick!=null&&(t.onclick=ba),t=!0):t=!1,t||Qa(e,!0)}function Jd(e){for(ut=e.return;ut;)switch(ut.tag){case 5:case 31:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:ut=ut.return}}function hn(e){if(e!==ut)return!1;if(!_e)return Jd(e),_e=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ko(e.type,e.memoizedProps)),a=!a),a&&qe&&Qa(e),Jd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));qe=jh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));qe=jh(e)}else t===27?(t=qe,sl(e.type)?(e=Po,Po=null,qe=e):qe=t):qe=ut?Ft(e.stateNode.nextSibling):null;return!0}function Cl(){qe=ut=null,_e=!1}function Dc(){var e=Ga;return e!==null&&(Ct===null?Ct=e:Ct.push.apply(Ct,e),Ga=null),e}function os(e){Ga===null?Ga=[e]:Ga.push(e)}var Rc=Qe(null),El=null,wa=null;function Za(e,t,a){ge(Rc,t._currentValue),t._currentValue=a}function _a(e){e._currentValue=Rc.current,Me(Rc)}function Mc(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function Oc(e,t,a,l){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var i=r.dependencies;if(i!==null){var f=r.child;i=i.firstContext;e:for(;i!==null;){var x=i;i=r;for(var _=0;_<t.length;_++)if(x.context===t[_]){i.lanes|=a,x=i.alternate,x!==null&&(x.lanes|=a),Mc(i.return,a,e),l||(f=null);break e}i=x.next}}else if(r.tag===18){if(f=r.return,f===null)throw Error(c(341));f.lanes|=a,i=f.alternate,i!==null&&(i.lanes|=a),Mc(f,a,e),f=null}else f=r.child;if(f!==null)f.return=r;else for(f=r;f!==null;){if(f===e){f=null;break}if(r=f.sibling,r!==null){r.return=f.return,f=r;break}f=f.return}r=f}}function pn(e,t,a,l){e=null;for(var r=t,i=!1;r!==null;){if(!i){if((r.flags&524288)!==0)i=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var f=r.alternate;if(f===null)throw Error(c(387));if(f=f.memoizedProps,f!==null){var x=r.type;Tt(r.pendingProps.value,f.value)||(e!==null?e.push(x):e=[x])}}else if(r===la.current){if(f=r.alternate,f===null)throw Error(c(387));f.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Us):e=[Us])}r=r.return}e!==null&&Oc(t,e,a,l),t.flags|=262144}function vr(e){for(e=e.firstContext;e!==null;){if(!Tt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Tl(e){El=e,wa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function dt(e){return $d(El,e)}function br(e,t){return El===null&&Tl(e),$d(e,t)}function $d(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},wa===null){if(e===null)throw Error(c(308));wa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else wa=wa.next=t;return a}var F0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},K0=s.unstable_scheduleCallback,I0=s.unstable_NormalPriority,$e={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zc(){return{controller:new F0,data:new Map,refCount:0}}function us(e){e.refCount--,e.refCount===0&&K0(I0,function(){e.controller.abort()})}var ds=null,Lc=0,xn=0,gn=null;function J0(e,t){if(ds===null){var a=ds=[];Lc=0,xn=Ho(),gn={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Lc++,t.then(Wd,Wd),t}function Wd(){if(--Lc===0&&ds!==null){gn!==null&&(gn.status="fulfilled");var e=ds;ds=null,xn=0,gn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function $0(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(r){a.push(r)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var r=0;r<a.length;r++)(0,a[r])(t)},function(r){for(l.status="rejected",l.reason=r,r=0;r<a.length;r++)(0,a[r])(void 0)}),l}var Pd=V.S;V.S=function(e,t){Bm=ht(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&J0(e,t),Pd!==null&&Pd(e,t)};var Al=Qe(null);function Uc(){var e=Al.current;return e!==null?e:He.pooledCache}function yr(e,t){t===null?ge(Al,Al.current):ge(Al,t.pool)}function ef(){var e=Uc();return e===null?null:{parent:$e._currentValue,pool:e}}var vn=Error(c(460)),Bc=Error(c(474)),Nr=Error(c(542)),jr={then:function(){}};function tf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function af(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ba,ba),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nf(e),e;default:if(typeof t.status=="string")t.then(ba,ba);else{if(e=He,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=l}},function(l){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nf(e),e}throw Rl=t,vn}}function Dl(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Rl=a,vn):a}}var Rl=null;function lf(){if(Rl===null)throw Error(c(459));var e=Rl;return Rl=null,e}function nf(e){if(e===vn||e===Nr)throw Error(c(483))}var bn=null,fs=0;function wr(e){var t=fs;return fs+=1,bn===null&&(bn=[]),af(bn,e,t)}function ms(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function _r(e,t){throw t.$$typeof===N?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function sf(e){function t(O,D){if(e){var L=O.deletions;L===null?(O.deletions=[D],O.flags|=16):L.push(D)}}function a(O,D){if(!e)return null;for(;D!==null;)t(O,D),D=D.sibling;return null}function l(O){for(var D=new Map;O!==null;)O.key!==null?D.set(O.key,O):D.set(O.index,O),O=O.sibling;return D}function r(O,D){return O=Na(O,D),O.index=0,O.sibling=null,O}function i(O,D,L){return O.index=L,e?(L=O.alternate,L!==null?(L=L.index,L<D?(O.flags|=67108866,D):L):(O.flags|=67108866,D)):(O.flags|=1048576,D)}function f(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function x(O,D,L,Q){return D===null||D.tag!==6?(D=Sc(L,O.mode,Q),D.return=O,D):(D=r(D,L),D.return=O,D)}function _(O,D,L,Q){var re=L.type;return re===S?X(O,D,L.props.children,Q,L.key):D!==null&&(D.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===G&&Dl(re)===D.type)?(D=r(D,L.props),ms(D,L),D.return=O,D):(D=xr(L.type,L.key,L.props,null,O.mode,Q),ms(D,L),D.return=O,D)}function U(O,D,L,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Cc(L,O.mode,Q),D.return=O,D):(D=r(D,L.children||[]),D.return=O,D)}function X(O,D,L,Q,re){return D===null||D.tag!==7?(D=Sl(L,O.mode,Q,re),D.return=O,D):(D=r(D,L),D.return=O,D)}function Z(O,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Sc(""+D,O.mode,L),D.return=O,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case T:return L=xr(D.type,D.key,D.props,null,O.mode,L),ms(L,D),L.return=O,L;case A:return D=Cc(D,O.mode,L),D.return=O,D;case G:return D=Dl(D),Z(O,D,L)}if(Ce(D)||xe(D))return D=Sl(D,O.mode,L,null),D.return=O,D;if(typeof D.then=="function")return Z(O,wr(D),L);if(D.$$typeof===M)return Z(O,br(O,D),L);_r(O,D)}return null}function H(O,D,L,Q){var re=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return re!==null?null:x(O,D,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case T:return L.key===re?_(O,D,L,Q):null;case A:return L.key===re?U(O,D,L,Q):null;case G:return L=Dl(L),H(O,D,L,Q)}if(Ce(L)||xe(L))return re!==null?null:X(O,D,L,Q,null);if(typeof L.then=="function")return H(O,D,wr(L),Q);if(L.$$typeof===M)return H(O,D,br(O,L),Q);_r(O,L)}return null}function Y(O,D,L,Q,re){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return O=O.get(L)||null,x(D,O,""+Q,re);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case T:return O=O.get(Q.key===null?L:Q.key)||null,_(D,O,Q,re);case A:return O=O.get(Q.key===null?L:Q.key)||null,U(D,O,Q,re);case G:return Q=Dl(Q),Y(O,D,L,Q,re)}if(Ce(Q)||xe(Q))return O=O.get(L)||null,X(D,O,Q,re,null);if(typeof Q.then=="function")return Y(O,D,L,wr(Q),re);if(Q.$$typeof===M)return Y(O,D,L,br(D,Q),re);_r(D,Q)}return null}function ee(O,D,L,Q){for(var re=null,Ee=null,le=D,he=D=0,we=null;le!==null&&he<L.length;he++){le.index>he?(we=le,le=null):we=le.sibling;var Te=H(O,le,L[he],Q);if(Te===null){le===null&&(le=we);break}e&&le&&Te.alternate===null&&t(O,le),D=i(Te,D,he),Ee===null?re=Te:Ee.sibling=Te,Ee=Te,le=we}if(he===L.length)return a(O,le),_e&&ja(O,he),re;if(le===null){for(;he<L.length;he++)le=Z(O,L[he],Q),le!==null&&(D=i(le,D,he),Ee===null?re=le:Ee.sibling=le,Ee=le);return _e&&ja(O,he),re}for(le=l(le);he<L.length;he++)we=Y(le,O,he,L[he],Q),we!==null&&(e&&we.alternate!==null&&le.delete(we.key===null?he:we.key),D=i(we,D,he),Ee===null?re=we:Ee.sibling=we,Ee=we);return e&&le.forEach(function(ul){return t(O,ul)}),_e&&ja(O,he),re}function ce(O,D,L,Q){if(L==null)throw Error(c(151));for(var re=null,Ee=null,le=D,he=D=0,we=null,Te=L.next();le!==null&&!Te.done;he++,Te=L.next()){le.index>he?(we=le,le=null):we=le.sibling;var ul=H(O,le,Te.value,Q);if(ul===null){le===null&&(le=we);break}e&&le&&ul.alternate===null&&t(O,le),D=i(ul,D,he),Ee===null?re=ul:Ee.sibling=ul,Ee=ul,le=we}if(Te.done)return a(O,le),_e&&ja(O,he),re;if(le===null){for(;!Te.done;he++,Te=L.next())Te=Z(O,Te.value,Q),Te!==null&&(D=i(Te,D,he),Ee===null?re=Te:Ee.sibling=Te,Ee=Te);return _e&&ja(O,he),re}for(le=l(le);!Te.done;he++,Te=L.next())Te=Y(le,O,he,Te.value,Q),Te!==null&&(e&&Te.alternate!==null&&le.delete(Te.key===null?he:Te.key),D=i(Te,D,he),Ee===null?re=Te:Ee.sibling=Te,Ee=Te);return e&&le.forEach(function(cv){return t(O,cv)}),_e&&ja(O,he),re}function ke(O,D,L,Q){if(typeof L=="object"&&L!==null&&L.type===S&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case T:e:{for(var re=L.key;D!==null;){if(D.key===re){if(re=L.type,re===S){if(D.tag===7){a(O,D.sibling),Q=r(D,L.props.children),Q.return=O,O=Q;break e}}else if(D.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===G&&Dl(re)===D.type){a(O,D.sibling),Q=r(D,L.props),ms(Q,L),Q.return=O,O=Q;break e}a(O,D);break}else t(O,D);D=D.sibling}L.type===S?(Q=Sl(L.props.children,O.mode,Q,L.key),Q.return=O,O=Q):(Q=xr(L.type,L.key,L.props,null,O.mode,Q),ms(Q,L),Q.return=O,O=Q)}return f(O);case A:e:{for(re=L.key;D!==null;){if(D.key===re)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){a(O,D.sibling),Q=r(D,L.children||[]),Q.return=O,O=Q;break e}else{a(O,D);break}else t(O,D);D=D.sibling}Q=Cc(L,O.mode,Q),Q.return=O,O=Q}return f(O);case G:return L=Dl(L),ke(O,D,L,Q)}if(Ce(L))return ee(O,D,L,Q);if(xe(L)){if(re=xe(L),typeof re!="function")throw Error(c(150));return L=re.call(L),ce(O,D,L,Q)}if(typeof L.then=="function")return ke(O,D,wr(L),Q);if(L.$$typeof===M)return ke(O,D,br(O,L),Q);_r(O,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(a(O,D.sibling),Q=r(D,L),Q.return=O,O=Q):(a(O,D),Q=Sc(L,O.mode,Q),Q.return=O,O=Q),f(O)):a(O,D)}return function(O,D,L,Q){try{fs=0;var re=ke(O,D,L,Q);return bn=null,re}catch(le){if(le===vn||le===Nr)throw le;var Ee=At(29,le,null,O.mode);return Ee.lanes=Q,Ee.return=O,Ee}finally{}}}var Ml=sf(!0),rf=sf(!1),Fa=!1;function kc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ka(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ia(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(De&2)!==0){var r=l.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),l.pending=t,t=pr(e),Xd(e,null,a),t}return hr(e,l,t,a),pr(e)}function hs(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Jn(e,a)}}function qc(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var r=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var f={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?r=i=f:i=i.next=f,a=a.next}while(a!==null);i===null?r=i=t:i=i.next=t}else r=i=t;a={baseState:l.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Yc=!1;function ps(){if(Yc){var e=gn;if(e!==null)throw e}}function xs(e,t,a,l){Yc=!1;var r=e.updateQueue;Fa=!1;var i=r.firstBaseUpdate,f=r.lastBaseUpdate,x=r.shared.pending;if(x!==null){r.shared.pending=null;var _=x,U=_.next;_.next=null,f===null?i=U:f.next=U,f=_;var X=e.alternate;X!==null&&(X=X.updateQueue,x=X.lastBaseUpdate,x!==f&&(x===null?X.firstBaseUpdate=U:x.next=U,X.lastBaseUpdate=_))}if(i!==null){var Z=r.baseState;f=0,X=U=_=null,x=i;do{var H=x.lane&-536870913,Y=H!==x.lane;if(Y?(je&H)===H:(l&H)===H){H!==0&&H===xn&&(Yc=!0),X!==null&&(X=X.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ee=e,ce=x;H=t;var ke=a;switch(ce.tag){case 1:if(ee=ce.payload,typeof ee=="function"){Z=ee.call(ke,Z,H);break e}Z=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=ce.payload,H=typeof ee=="function"?ee.call(ke,Z,H):ee,H==null)break e;Z=v({},Z,H);break e;case 2:Fa=!0}}H=x.callback,H!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=r.callbacks,Y===null?r.callbacks=[H]:Y.push(H))}else Y={lane:H,tag:x.tag,payload:x.payload,callback:x.callback,next:null},X===null?(U=X=Y,_=Z):X=X.next=Y,f|=H;if(x=x.next,x===null){if(x=r.shared.pending,x===null)break;Y=x,x=Y.next,Y.next=null,r.lastBaseUpdate=Y,r.shared.pending=null}}while(!0);X===null&&(_=Z),r.baseState=_,r.firstBaseUpdate=U,r.lastBaseUpdate=X,i===null&&(r.shared.lanes=0),el|=f,e.lanes=f,e.memoizedState=Z}}function cf(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function of(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)cf(a[e],t)}var yn=Qe(null),Sr=Qe(0);function uf(e,t){e=Oa,ge(Sr,e),ge(yn,t),Oa=e|t.baseLanes}function Vc(){ge(Sr,Oa),ge(yn,yn.current)}function Xc(){Oa=Sr.current,Me(yn),Me(Sr)}var Dt=Qe(null),Zt=null;function Ja(e){var t=e.alternate;ge(Ie,Ie.current&1),ge(Dt,e),Zt===null&&(t===null||yn.current!==null||t.memoizedState!==null)&&(Zt=e)}function Gc(e){ge(Ie,Ie.current),ge(Dt,e),Zt===null&&(Zt=e)}function df(e){e.tag===22?(ge(Ie,Ie.current),ge(Dt,e),Zt===null&&(Zt=e)):$a()}function $a(){ge(Ie,Ie.current),ge(Dt,Dt.current)}function Rt(e){Me(Dt),Zt===e&&(Zt=null),Me(Ie)}var Ie=Qe(0);function Cr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||$o(a)||Wo(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sa=0,me=null,Ue=null,We=null,Er=!1,Nn=!1,Ol=!1,Tr=0,gs=0,jn=null,W0=0;function Ze(){throw Error(c(321))}function Qc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Tt(e[a],t[a]))return!1;return!0}function Zc(e,t,a,l,r,i){return Sa=i,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,V.H=e===null||e.memoizedState===null?Kf:io,Ol=!1,i=a(l,r),Ol=!1,Nn&&(i=mf(t,a,l,r)),ff(e),i}function ff(e){V.H=ys;var t=Ue!==null&&Ue.next!==null;if(Sa=0,We=Ue=me=null,Er=!1,gs=0,jn=null,t)throw Error(c(300));e===null||Pe||(e=e.dependencies,e!==null&&vr(e)&&(Pe=!0))}function mf(e,t,a,l){me=e;var r=0;do{if(Nn&&(jn=null),gs=0,Nn=!1,25<=r)throw Error(c(301));if(r+=1,We=Ue=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}V.H=If,i=t(a,l)}while(Nn);return i}function P0(){var e=V.H,t=e.useState()[0];return t=typeof t.then=="function"?vs(t):t,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(me.flags|=1024),t}function Fc(){var e=Tr!==0;return Tr=0,e}function Kc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Ic(e){if(Er){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Er=!1}Sa=0,We=Ue=me=null,Nn=!1,gs=Tr=0,jn=null}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?me.memoizedState=We=e:We=We.next=e,We}function Je(){if(Ue===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=We===null?me.memoizedState:We.next;if(t!==null)We=t,Ue=e;else{if(e===null)throw me.alternate===null?Error(c(467)):Error(c(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},We===null?me.memoizedState=We=e:We=We.next=e}return We}function Ar(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vs(e){var t=gs;return gs+=1,jn===null&&(jn=[]),e=af(jn,e,t),t=me,(We===null?t.memoizedState:We.next)===null&&(t=t.alternate,V.H=t===null||t.memoizedState===null?Kf:io),e}function Dr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return vs(e);if(e.$$typeof===M)return dt(e)}throw Error(c(438,String(e)))}function Jc(e){var t=null,a=me.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ar(),me.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=P;return t.index++,a}function Ca(e,t){return typeof t=="function"?t(e):t}function Rr(e){var t=Je();return $c(t,Ue,e)}function $c(e,t,a){var l=e.queue;if(l===null)throw Error(c(311));l.lastRenderedReducer=a;var r=e.baseQueue,i=l.pending;if(i!==null){if(r!==null){var f=r.next;r.next=i.next,i.next=f}t.baseQueue=r=i,l.pending=null}if(i=e.baseState,r===null)e.memoizedState=i;else{t=r.next;var x=f=null,_=null,U=t,X=!1;do{var Z=U.lane&-536870913;if(Z!==U.lane?(je&Z)===Z:(Sa&Z)===Z){var H=U.revertLane;if(H===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Z===xn&&(X=!0);else if((Sa&H)===H){U=U.next,H===xn&&(X=!0);continue}else Z={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},_===null?(x=_=Z,f=i):_=_.next=Z,me.lanes|=H,el|=H;Z=U.action,Ol&&a(i,Z),i=U.hasEagerState?U.eagerState:a(i,Z)}else H={lane:Z,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},_===null?(x=_=H,f=i):_=_.next=H,me.lanes|=Z,el|=Z;U=U.next}while(U!==null&&U!==t);if(_===null?f=i:_.next=x,!Tt(i,e.memoizedState)&&(Pe=!0,X&&(a=gn,a!==null)))throw a;e.memoizedState=i,e.baseState=f,e.baseQueue=_,l.lastRenderedState=i}return r===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Wc(e){var t=Je(),a=t.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=e;var l=a.dispatch,r=a.pending,i=t.memoizedState;if(r!==null){a.pending=null;var f=r=r.next;do i=e(i,f.action),f=f.next;while(f!==r);Tt(i,t.memoizedState)||(Pe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,l]}function hf(e,t,a){var l=me,r=Je(),i=_e;if(i){if(a===void 0)throw Error(c(407));a=a()}else a=t();var f=!Tt((Ue||r).memoizedState,a);if(f&&(r.memoizedState=a,Pe=!0),r=r.queue,to(gf.bind(null,l,r,e),[e]),r.getSnapshot!==t||f||We!==null&&We.memoizedState.tag&1){if(l.flags|=2048,wn(9,{destroy:void 0},xf.bind(null,l,r,a,t),null),He===null)throw Error(c(349));i||(Sa&127)!==0||pf(l,t,a)}return a}function pf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=me.updateQueue,t===null?(t=Ar(),me.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function xf(e,t,a,l){t.value=a,t.getSnapshot=l,vf(t)&&bf(e)}function gf(e,t,a){return a(function(){vf(t)&&bf(e)})}function vf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Tt(e,a)}catch{return!0}}function bf(e){var t=_l(e,2);t!==null&&Et(t,e,2)}function Pc(e){var t=gt();if(typeof e=="function"){var a=e;if(e=a(),Ol){ia(!0);try{a()}finally{ia(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t}function yf(e,t,a,l){return e.baseState=a,$c(e,Ue,typeof l=="function"?l:Ca)}function eg(e,t,a,l,r){if(zr(e))throw Error(c(485));if(e=t.action,e!==null){var i={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){i.listeners.push(f)}};V.T!==null?a(!0):i.isTransition=!1,l(i),a=t.pending,a===null?(i.next=t.pending=i,Nf(t,i)):(i.next=a.next,t.pending=a.next=i)}}function Nf(e,t){var a=t.action,l=t.payload,r=e.state;if(t.isTransition){var i=V.T,f={};V.T=f;try{var x=a(r,l),_=V.S;_!==null&&_(f,x),jf(e,t,x)}catch(U){eo(e,t,U)}finally{i!==null&&f.types!==null&&(i.types=f.types),V.T=i}}else try{i=a(r,l),jf(e,t,i)}catch(U){eo(e,t,U)}}function jf(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){wf(e,t,l)},function(l){return eo(e,t,l)}):wf(e,t,a)}function wf(e,t,a){t.status="fulfilled",t.value=a,_f(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Nf(e,a)))}function eo(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,_f(t),t=t.next;while(t!==l)}e.action=null}function _f(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Sf(e,t){return t}function Cf(e,t){if(_e){var a=He.formState;if(a!==null){e:{var l=me;if(_e){if(qe){t:{for(var r=qe,i=Qt;r.nodeType!==8;){if(!i){r=null;break t}if(r=Ft(r.nextSibling),r===null){r=null;break t}}i=r.data,r=i==="F!"||i==="F"?r:null}if(r){qe=Ft(r.nextSibling),l=r.data==="F!";break e}}Qa(l)}l=!1}l&&(t=a[0])}}return a=gt(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sf,lastRenderedState:t},a.queue=l,a=Qf.bind(null,me,l),l.dispatch=a,l=Pc(!1),i=ro.bind(null,me,!1,l.queue),l=gt(),r={state:t,dispatch:null,action:e,pending:null},l.queue=r,a=eg.bind(null,me,r,i,a),r.dispatch=a,l.memoizedState=e,[t,a,!1]}function Ef(e){var t=Je();return Tf(t,Ue,e)}function Tf(e,t,a){if(t=$c(e,t,Sf)[0],e=Rr(Ca)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=vs(t)}catch(f){throw f===vn?Nr:f}else l=t;t=Je();var r=t.queue,i=r.dispatch;return a!==t.memoizedState&&(me.flags|=2048,wn(9,{destroy:void 0},tg.bind(null,r,a),null)),[l,i,e]}function tg(e,t){e.action=t}function Af(e){var t=Je(),a=Ue;if(a!==null)return Tf(t,a,e);Je(),t=t.memoizedState,a=Je();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function wn(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=me.updateQueue,t===null&&(t=Ar(),me.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function Df(){return Je().memoizedState}function Mr(e,t,a,l){var r=gt();me.flags|=e,r.memoizedState=wn(1|t,{destroy:void 0},a,l===void 0?null:l)}function Or(e,t,a,l){var r=Je();l=l===void 0?null:l;var i=r.memoizedState.inst;Ue!==null&&l!==null&&Qc(l,Ue.memoizedState.deps)?r.memoizedState=wn(t,i,a,l):(me.flags|=e,r.memoizedState=wn(1|t,i,a,l))}function Rf(e,t){Mr(8390656,8,e,t)}function to(e,t){Or(2048,8,e,t)}function ag(e){me.flags|=4;var t=me.updateQueue;if(t===null)t=Ar(),me.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Mf(e){var t=Je().memoizedState;return ag({ref:t,nextImpl:e}),function(){if((De&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function Of(e,t){return Or(4,2,e,t)}function zf(e,t){return Or(4,4,e,t)}function Lf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uf(e,t,a){a=a!=null?a.concat([e]):null,Or(4,4,Lf.bind(null,t,e),a)}function ao(){}function Bf(e,t){var a=Je();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&Qc(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function kf(e,t){var a=Je();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&Qc(t,l[1]))return l[0];if(l=e(),Ol){ia(!0);try{e()}finally{ia(!1)}}return a.memoizedState=[l,t],l}function lo(e,t,a){return a===void 0||(Sa&1073741824)!==0&&(je&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Hm(),me.lanes|=e,el|=e,a)}function Hf(e,t,a,l){return Tt(a,t)?a:yn.current!==null?(e=lo(e,a,l),Tt(e,t)||(Pe=!0),e):(Sa&42)===0||(Sa&1073741824)!==0&&(je&261930)===0?(Pe=!0,e.memoizedState=a):(e=Hm(),me.lanes|=e,el|=e,t)}function qf(e,t,a,l,r){var i=q.p;q.p=i!==0&&8>i?i:8;var f=V.T,x={};V.T=x,ro(e,!1,t,a);try{var _=r(),U=V.S;if(U!==null&&U(x,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var X=$0(_,l);bs(e,t,X,zt(e))}else bs(e,t,l,zt(e))}catch(Z){bs(e,t,{then:function(){},status:"rejected",reason:Z},zt())}finally{q.p=i,f!==null&&x.types!==null&&(f.types=x.types),V.T=f}}function lg(){}function no(e,t,a,l){if(e.tag!==5)throw Error(c(476));var r=Yf(e).queue;qf(e,r,t,$,a===null?lg:function(){return Vf(e),a(l)})}function Yf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:$},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Vf(e){var t=Yf(e);t.next===null&&(t=e.alternate.memoizedState),bs(e,t.next.queue,{},zt())}function so(){return dt(Us)}function Xf(){return Je().memoizedState}function Gf(){return Je().memoizedState}function ng(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=zt();e=Ka(a);var l=Ia(t,e,a);l!==null&&(Et(l,t,a),hs(l,t,a)),t={cache:zc()},e.payload=t;return}t=t.return}}function sg(e,t,a){var l=zt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},zr(e)?Zf(t,a):(a=wc(e,t,a,l),a!==null&&(Et(a,e,l),Ff(a,t,l)))}function Qf(e,t,a){var l=zt();bs(e,t,a,l)}function bs(e,t,a,l){var r={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(zr(e))Zf(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var f=t.lastRenderedState,x=i(f,a);if(r.hasEagerState=!0,r.eagerState=x,Tt(x,f))return hr(e,t,r,0),He===null&&mr(),!1}catch{}finally{}if(a=wc(e,t,r,l),a!==null)return Et(a,e,l),Ff(a,t,l),!0}return!1}function ro(e,t,a,l){if(l={lane:2,revertLane:Ho(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},zr(e)){if(t)throw Error(c(479))}else t=wc(e,a,l,2),t!==null&&Et(t,e,2)}function zr(e){var t=e.alternate;return e===me||t!==null&&t===me}function Zf(e,t){Nn=Er=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Ff(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Jn(e,a)}}var ys={readContext:dt,use:Dr,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};ys.useEffectEvent=Ze;var Kf={readContext:dt,use:Dr,useCallback:function(e,t){return gt().memoizedState=[e,t===void 0?null:t],e},useContext:dt,useEffect:Rf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Mr(4194308,4,Lf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Mr(4194308,4,e,t)},useInsertionEffect:function(e,t){Mr(4,2,e,t)},useMemo:function(e,t){var a=gt();t=t===void 0?null:t;var l=e();if(Ol){ia(!0);try{e()}finally{ia(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=gt();if(a!==void 0){var r=a(t);if(Ol){ia(!0);try{a(t)}finally{ia(!1)}}}else r=t;return l.memoizedState=l.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},l.queue=e,e=e.dispatch=sg.bind(null,me,e),[l.memoizedState,e]},useRef:function(e){var t=gt();return e={current:e},t.memoizedState=e},useState:function(e){e=Pc(e);var t=e.queue,a=Qf.bind(null,me,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:ao,useDeferredValue:function(e,t){var a=gt();return lo(a,e,t)},useTransition:function(){var e=Pc(!1);return e=qf.bind(null,me,e.queue,!0,!1),gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=me,r=gt();if(_e){if(a===void 0)throw Error(c(407));a=a()}else{if(a=t(),He===null)throw Error(c(349));(je&127)!==0||pf(l,t,a)}r.memoizedState=a;var i={value:a,getSnapshot:t};return r.queue=i,Rf(gf.bind(null,l,i,e),[e]),l.flags|=2048,wn(9,{destroy:void 0},xf.bind(null,l,i,a,t),null),a},useId:function(){var e=gt(),t=He.identifierPrefix;if(_e){var a=ua,l=oa;a=(l&~(1<<32-xt(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Tr++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=W0++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:so,useFormState:Cf,useActionState:Cf,useOptimistic:function(e){var t=gt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=ro.bind(null,me,!0,a),a.dispatch=t,[e,t]},useMemoCache:Jc,useCacheRefresh:function(){return gt().memoizedState=ng.bind(null,me)},useEffectEvent:function(e){var t=gt(),a={impl:e};return t.memoizedState=a,function(){if((De&2)!==0)throw Error(c(440));return a.impl.apply(void 0,arguments)}}},io={readContext:dt,use:Dr,useCallback:Bf,useContext:dt,useEffect:to,useImperativeHandle:Uf,useInsertionEffect:Of,useLayoutEffect:zf,useMemo:kf,useReducer:Rr,useRef:Df,useState:function(){return Rr(Ca)},useDebugValue:ao,useDeferredValue:function(e,t){var a=Je();return Hf(a,Ue.memoizedState,e,t)},useTransition:function(){var e=Rr(Ca)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:vs(e),t]},useSyncExternalStore:hf,useId:Xf,useHostTransitionStatus:so,useFormState:Ef,useActionState:Ef,useOptimistic:function(e,t){var a=Je();return yf(a,Ue,e,t)},useMemoCache:Jc,useCacheRefresh:Gf};io.useEffectEvent=Mf;var If={readContext:dt,use:Dr,useCallback:Bf,useContext:dt,useEffect:to,useImperativeHandle:Uf,useInsertionEffect:Of,useLayoutEffect:zf,useMemo:kf,useReducer:Wc,useRef:Df,useState:function(){return Wc(Ca)},useDebugValue:ao,useDeferredValue:function(e,t){var a=Je();return Ue===null?lo(a,e,t):Hf(a,Ue.memoizedState,e,t)},useTransition:function(){var e=Wc(Ca)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:vs(e),t]},useSyncExternalStore:hf,useId:Xf,useHostTransitionStatus:so,useFormState:Af,useActionState:Af,useOptimistic:function(e,t){var a=Je();return Ue!==null?yf(a,Ue,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Jc,useCacheRefresh:Gf};If.useEffectEvent=Mf;function co(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:v({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var oo={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=zt(),r=Ka(l);r.payload=t,a!=null&&(r.callback=a),t=Ia(e,r,l),t!==null&&(Et(t,e,l),hs(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=zt(),r=Ka(l);r.tag=1,r.payload=t,a!=null&&(r.callback=a),t=Ia(e,r,l),t!==null&&(Et(t,e,l),hs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=zt(),l=Ka(a);l.tag=2,t!=null&&(l.callback=t),t=Ia(e,l,a),t!==null&&(Et(t,e,a),hs(t,e,a))}};function Jf(e,t,a,l,r,i,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,i,f):t.prototype&&t.prototype.isPureReactComponent?!rs(a,l)||!rs(r,i):!0}function $f(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&oo.enqueueReplaceState(t,t.state,null)}function zl(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=v({},a));for(var r in e)a[r]===void 0&&(a[r]=e[r])}return a}function Wf(e){fr(e)}function Pf(e){console.error(e)}function em(e){fr(e)}function Lr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function tm(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function uo(e,t,a){return a=Ka(a),a.tag=3,a.payload={element:null},a.callback=function(){Lr(e,t)},a}function am(e){return e=Ka(e),e.tag=3,e}function lm(e,t,a,l){var r=a.type.getDerivedStateFromError;if(typeof r=="function"){var i=l.value;e.payload=function(){return r(i)},e.callback=function(){tm(t,a,l)}}var f=a.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){tm(t,a,l),typeof r!="function"&&(tl===null?tl=new Set([this]):tl.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function rg(e,t,a,l,r){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&pn(t,a,r,!0),a=Dt.current,a!==null){switch(a.tag){case 31:case 13:return Zt===null?Fr():a.alternate===null&&Fe===0&&(Fe=3),a.flags&=-257,a.flags|=65536,a.lanes=r,l===jr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Uo(e,l,r)),!1;case 22:return a.flags|=65536,l===jr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Uo(e,l,r)),!1}throw Error(c(435,a.tag))}return Uo(e,l,r),Fr(),!1}if(_e)return t=Dt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,l!==Ac&&(e=Error(c(422),{cause:l}),os(Vt(e,a)))):(l!==Ac&&(t=Error(c(423),{cause:l}),os(Vt(t,a))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,l=Vt(l,a),r=uo(e.stateNode,l,r),qc(e,r),Fe!==4&&(Fe=2)),!1;var i=Error(c(520),{cause:l});if(i=Vt(i,a),Ts===null?Ts=[i]:Ts.push(i),Fe!==4&&(Fe=2),t===null)return!0;l=Vt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=r&-r,a.lanes|=e,e=uo(a.stateNode,l,e),qc(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(tl===null||!tl.has(i))))return a.flags|=65536,r&=-r,a.lanes|=r,r=am(r),lm(r,e,a,l),qc(a,r),!1}a=a.return}while(a!==null);return!1}var fo=Error(c(461)),Pe=!1;function ft(e,t,a,l){t.child=e===null?rf(t,null,a,l):Ml(t,e.child,a,l)}function nm(e,t,a,l,r){a=a.render;var i=t.ref;if("ref"in l){var f={};for(var x in l)x!=="ref"&&(f[x]=l[x])}else f=l;return Tl(t),l=Zc(e,t,a,f,i,r),x=Fc(),e!==null&&!Pe?(Kc(e,t,r),Ea(e,t,r)):(_e&&x&&Ec(t),t.flags|=1,ft(e,t,l,r),t.child)}function sm(e,t,a,l,r){if(e===null){var i=a.type;return typeof i=="function"&&!_c(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,rm(e,t,i,l,r)):(e=xr(a.type,null,l,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!yo(e,r)){var f=i.memoizedProps;if(a=a.compare,a=a!==null?a:rs,a(f,l)&&e.ref===t.ref)return Ea(e,t,r)}return t.flags|=1,e=Na(i,l),e.ref=t.ref,e.return=t,t.child=e}function rm(e,t,a,l,r){if(e!==null){var i=e.memoizedProps;if(rs(i,l)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=l=i,yo(e,r))(e.flags&131072)!==0&&(Pe=!0);else return t.lanes=e.lanes,Ea(e,t,r)}return mo(e,t,a,l,r)}function im(e,t,a,l){var r=l.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(l=t.child=e.child,r=0;l!==null;)r=r|l.lanes|l.childLanes,l=l.sibling;l=r&~i}else l=0,t.child=null;return cm(e,t,i,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&yr(t,i!==null?i.cachePool:null),i!==null?uf(t,i):Vc(),df(t);else return l=t.lanes=536870912,cm(e,t,i!==null?i.baseLanes|a:a,a,l)}else i!==null?(yr(t,i.cachePool),uf(t,i),$a(),t.memoizedState=null):(e!==null&&yr(t,null),Vc(),$a());return ft(e,t,r,a),t.child}function Ns(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function cm(e,t,a,l,r){var i=Uc();return i=i===null?null:{parent:$e._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&yr(t,null),Vc(),df(t),e!==null&&pn(e,t,l,!0),t.childLanes=r,null}function Ur(e,t){return t=kr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function om(e,t,a){return Ml(t,e.child,null,a),e=Ur(t,t.pendingProps),e.flags|=2,Rt(t),t.memoizedState=null,e}function ig(e,t,a){var l=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(_e){if(l.mode==="hidden")return e=Ur(t,l),t.lanes=536870912,Ns(null,e);if(Gc(t),(e=qe)?(e=Nh(e,Qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Xa!==null?{id:oa,overflow:ua}:null,retryLane:536870912,hydrationErrors:null},a=Qd(e),a.return=t,t.child=a,ut=t,qe=null)):e=null,e===null)throw Qa(t);return t.lanes=536870912,null}return Ur(t,l)}var i=e.memoizedState;if(i!==null){var f=i.dehydrated;if(Gc(t),r)if(t.flags&256)t.flags&=-257,t=om(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(Pe||pn(e,t,a,!1),r=(a&e.childLanes)!==0,Pe||r){if(l=He,l!==null&&(f=Wu(l,a),f!==0&&f!==i.retryLane))throw i.retryLane=f,_l(e,f),Et(l,e,f),fo;Fr(),t=om(e,t,a)}else e=i.treeContext,qe=Ft(f.nextSibling),ut=t,_e=!0,Ga=null,Qt=!1,e!==null&&Kd(t,e),t=Ur(t,l),t.flags|=4096;return t}return e=Na(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Br(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(c(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function mo(e,t,a,l,r){return Tl(t),a=Zc(e,t,a,l,void 0,r),l=Fc(),e!==null&&!Pe?(Kc(e,t,r),Ea(e,t,r)):(_e&&l&&Ec(t),t.flags|=1,ft(e,t,a,r),t.child)}function um(e,t,a,l,r,i){return Tl(t),t.updateQueue=null,a=mf(t,l,a,r),ff(e),l=Fc(),e!==null&&!Pe?(Kc(e,t,i),Ea(e,t,i)):(_e&&l&&Ec(t),t.flags|=1,ft(e,t,a,i),t.child)}function dm(e,t,a,l,r){if(Tl(t),t.stateNode===null){var i=dn,f=a.contextType;typeof f=="object"&&f!==null&&(i=dt(f)),i=new a(l,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=oo,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=l,i.state=t.memoizedState,i.refs={},kc(t),f=a.contextType,i.context=typeof f=="object"&&f!==null?dt(f):dn,i.state=t.memoizedState,f=a.getDerivedStateFromProps,typeof f=="function"&&(co(t,a,f,l),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(f=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),f!==i.state&&oo.enqueueReplaceState(i,i.state,null),xs(t,l,i,r),ps(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){i=t.stateNode;var x=t.memoizedProps,_=zl(a,x);i.props=_;var U=i.context,X=a.contextType;f=dn,typeof X=="object"&&X!==null&&(f=dt(X));var Z=a.getDerivedStateFromProps;X=typeof Z=="function"||typeof i.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,X||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(x||U!==f)&&$f(t,i,l,f),Fa=!1;var H=t.memoizedState;i.state=H,xs(t,l,i,r),ps(),U=t.memoizedState,x||H!==U||Fa?(typeof Z=="function"&&(co(t,a,Z,l),U=t.memoizedState),(_=Fa||Jf(t,a,_,l,H,U,f))?(X||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=U),i.props=l,i.state=U,i.context=f,l=_):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,Hc(e,t),f=t.memoizedProps,X=zl(a,f),i.props=X,Z=t.pendingProps,H=i.context,U=a.contextType,_=dn,typeof U=="object"&&U!==null&&(_=dt(U)),x=a.getDerivedStateFromProps,(U=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(f!==Z||H!==_)&&$f(t,i,l,_),Fa=!1,H=t.memoizedState,i.state=H,xs(t,l,i,r),ps();var Y=t.memoizedState;f!==Z||H!==Y||Fa||e!==null&&e.dependencies!==null&&vr(e.dependencies)?(typeof x=="function"&&(co(t,a,x,l),Y=t.memoizedState),(X=Fa||Jf(t,a,X,l,H,Y,_)||e!==null&&e.dependencies!==null&&vr(e.dependencies))?(U||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,Y,_),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,Y,_)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||f===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=Y),i.props=l,i.state=Y,i.context=_,l=X):(typeof i.componentDidUpdate!="function"||f===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),l=!1)}return i=l,Br(e,t),l=(t.flags&128)!==0,i||l?(i=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&l?(t.child=Ml(t,e.child,null,r),t.child=Ml(t,null,a,r)):ft(e,t,a,r),t.memoizedState=i.state,e=t.child):e=Ea(e,t,r),e}function fm(e,t,a,l){return Cl(),t.flags|=256,ft(e,t,a,l),t.child}var ho={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function po(e){return{baseLanes:e,cachePool:ef()}}function xo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ot),e}function mm(e,t,a){var l=t.pendingProps,r=!1,i=(t.flags&128)!==0,f;if((f=i)||(f=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),f&&(r=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(_e){if(r?Ja(t):$a(),(e=qe)?(e=Nh(e,Qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Xa!==null?{id:oa,overflow:ua}:null,retryLane:536870912,hydrationErrors:null},a=Qd(e),a.return=t,t.child=a,ut=t,qe=null)):e=null,e===null)throw Qa(t);return Wo(e)?t.lanes=32:t.lanes=536870912,null}var x=l.children;return l=l.fallback,r?($a(),r=t.mode,x=kr({mode:"hidden",children:x},r),l=Sl(l,r,a,null),x.return=t,l.return=t,x.sibling=l,t.child=x,l=t.child,l.memoizedState=po(a),l.childLanes=xo(e,f,a),t.memoizedState=ho,Ns(null,l)):(Ja(t),go(t,x))}var _=e.memoizedState;if(_!==null&&(x=_.dehydrated,x!==null)){if(i)t.flags&256?(Ja(t),t.flags&=-257,t=vo(e,t,a)):t.memoizedState!==null?($a(),t.child=e.child,t.flags|=128,t=null):($a(),x=l.fallback,r=t.mode,l=kr({mode:"visible",children:l.children},r),x=Sl(x,r,a,null),x.flags|=2,l.return=t,x.return=t,l.sibling=x,t.child=l,Ml(t,e.child,null,a),l=t.child,l.memoizedState=po(a),l.childLanes=xo(e,f,a),t.memoizedState=ho,t=Ns(null,l));else if(Ja(t),Wo(x)){if(f=x.nextSibling&&x.nextSibling.dataset,f)var U=f.dgst;f=U,l=Error(c(419)),l.stack="",l.digest=f,os({value:l,source:null,stack:null}),t=vo(e,t,a)}else if(Pe||pn(e,t,a,!1),f=(a&e.childLanes)!==0,Pe||f){if(f=He,f!==null&&(l=Wu(f,a),l!==0&&l!==_.retryLane))throw _.retryLane=l,_l(e,l),Et(f,e,l),fo;$o(x)||Fr(),t=vo(e,t,a)}else $o(x)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,qe=Ft(x.nextSibling),ut=t,_e=!0,Ga=null,Qt=!1,e!==null&&Kd(t,e),t=go(t,l.children),t.flags|=4096);return t}return r?($a(),x=l.fallback,r=t.mode,_=e.child,U=_.sibling,l=Na(_,{mode:"hidden",children:l.children}),l.subtreeFlags=_.subtreeFlags&65011712,U!==null?x=Na(U,x):(x=Sl(x,r,a,null),x.flags|=2),x.return=t,l.return=t,l.sibling=x,t.child=l,Ns(null,l),l=t.child,x=e.child.memoizedState,x===null?x=po(a):(r=x.cachePool,r!==null?(_=$e._currentValue,r=r.parent!==_?{parent:_,pool:_}:r):r=ef(),x={baseLanes:x.baseLanes|a,cachePool:r}),l.memoizedState=x,l.childLanes=xo(e,f,a),t.memoizedState=ho,Ns(e.child,l)):(Ja(t),a=e.child,e=a.sibling,a=Na(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=a,t.memoizedState=null,a)}function go(e,t){return t=kr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function kr(e,t){return e=At(22,e,null,t),e.lanes=0,e}function vo(e,t,a){return Ml(t,e.child,null,a),e=go(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hm(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Mc(e.return,t,a)}function bo(e,t,a,l,r,i){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:r,treeForkCount:i}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=r,f.treeForkCount=i)}function pm(e,t,a){var l=t.pendingProps,r=l.revealOrder,i=l.tail;l=l.children;var f=Ie.current,x=(f&2)!==0;if(x?(f=f&1|2,t.flags|=128):f&=1,ge(Ie,f),ft(e,t,l,a),l=_e?cs:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hm(e,a,t);else if(e.tag===19)hm(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(a=t.child,r=null;a!==null;)e=a.alternate,e!==null&&Cr(e)===null&&(r=a),a=a.sibling;a=r,a===null?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),bo(t,!1,r,a,i,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Cr(e)===null){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}bo(t,!0,a,null,i,l);break;case"together":bo(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function Ea(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),el|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(pn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,a=Na(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Na(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function yo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&vr(e)))}function cg(e,t,a){switch(t.tag){case 3:na(t,t.stateNode.containerInfo),Za(t,$e,e.memoizedState.cache),Cl();break;case 27:case 5:xl(t);break;case 4:na(t,t.stateNode.containerInfo);break;case 10:Za(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Gc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Ja(t),t.flags|=128,null):(a&t.child.childLanes)!==0?mm(e,t,a):(Ja(t),e=Ea(e,t,a),e!==null?e.sibling:null);Ja(t);break;case 19:var r=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(pn(e,t,a,!1),l=(a&t.childLanes)!==0),r){if(l)return pm(e,t,a);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ge(Ie,Ie.current),l)break;return null;case 22:return t.lanes=0,im(e,t,a,t.pendingProps);case 24:Za(t,$e,e.memoizedState.cache)}return Ea(e,t,a)}function xm(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Pe=!0;else{if(!yo(e,a)&&(t.flags&128)===0)return Pe=!1,cg(e,t,a);Pe=(e.flags&131072)!==0}else Pe=!1,_e&&(t.flags&1048576)!==0&&Fd(t,cs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Dl(t.elementType),t.type=e,typeof e=="function")_c(e)?(l=zl(e,l),t.tag=1,t=dm(null,t,e,l,a)):(t.tag=0,t=mo(null,t,e,l,a));else{if(e!=null){var r=e.$$typeof;if(r===E){t.tag=11,t=nm(null,t,e,l,a);break e}else if(r===k){t.tag=14,t=sm(null,t,e,l,a);break e}}throw t=ae(e)||e,Error(c(306,t,""))}}return t;case 0:return mo(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,r=zl(l,t.pendingProps),dm(e,t,l,r,a);case 3:e:{if(na(t,t.stateNode.containerInfo),e===null)throw Error(c(387));l=t.pendingProps;var i=t.memoizedState;r=i.element,Hc(e,t),xs(t,l,null,a);var f=t.memoizedState;if(l=f.cache,Za(t,$e,l),l!==i.cache&&Oc(t,[$e],a,!0),ps(),l=f.element,i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=fm(e,t,l,a);break e}else if(l!==r){r=Vt(Error(c(424)),t),os(r),t=fm(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(qe=Ft(e.firstChild),ut=t,_e=!0,Ga=null,Qt=!0,a=rf(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Cl(),l===r){t=Ea(e,t,a);break e}ft(e,t,l,a)}t=t.child}return t;case 26:return Br(e,t),e===null?(a=Eh(t.type,null,t.pendingProps,null))?t.memoizedState=a:_e||(a=t.type,e=t.pendingProps,l=ei(Bt.current).createElement(a),l[ot]=t,l[Nt]=e,mt(l,a,e),it(l),t.stateNode=l):t.memoizedState=Eh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return xl(t),e===null&&_e&&(l=t.stateNode=_h(t.type,t.pendingProps,Bt.current),ut=t,Qt=!0,r=qe,sl(t.type)?(Po=r,qe=Ft(l.firstChild)):qe=r),ft(e,t,t.pendingProps.children,a),Br(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&_e&&((r=l=qe)&&(l=kg(l,t.type,t.pendingProps,Qt),l!==null?(t.stateNode=l,ut=t,qe=Ft(l.firstChild),Qt=!1,r=!0):r=!1),r||Qa(t)),xl(t),r=t.type,i=t.pendingProps,f=e!==null?e.memoizedProps:null,l=i.children,Ko(r,i)?l=null:f!==null&&Ko(r,f)&&(t.flags|=32),t.memoizedState!==null&&(r=Zc(e,t,P0,null,null,a),Us._currentValue=r),Br(e,t),ft(e,t,l,a),t.child;case 6:return e===null&&_e&&((e=a=qe)&&(a=Hg(a,t.pendingProps,Qt),a!==null?(t.stateNode=a,ut=t,qe=null,e=!0):e=!1),e||Qa(t)),null;case 13:return mm(e,t,a);case 4:return na(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Ml(t,null,l,a):ft(e,t,l,a),t.child;case 11:return nm(e,t,t.type,t.pendingProps,a);case 7:return ft(e,t,t.pendingProps,a),t.child;case 8:return ft(e,t,t.pendingProps.children,a),t.child;case 12:return ft(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,Za(t,t.type,l.value),ft(e,t,l.children,a),t.child;case 9:return r=t.type._context,l=t.pendingProps.children,Tl(t),r=dt(r),l=l(r),t.flags|=1,ft(e,t,l,a),t.child;case 14:return sm(e,t,t.type,t.pendingProps,a);case 15:return rm(e,t,t.type,t.pendingProps,a);case 19:return pm(e,t,a);case 31:return ig(e,t,a);case 22:return im(e,t,a,t.pendingProps);case 24:return Tl(t),l=dt($e),e===null?(r=Uc(),r===null&&(r=He,i=zc(),r.pooledCache=i,i.refCount++,i!==null&&(r.pooledCacheLanes|=a),r=i),t.memoizedState={parent:l,cache:r},kc(t),Za(t,$e,r)):((e.lanes&a)!==0&&(Hc(e,t),xs(t,null,null,a),ps()),r=e.memoizedState,i=t.memoizedState,r.parent!==l?(r={parent:l,cache:l},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Za(t,$e,l)):(l=i.cache,Za(t,$e,l),l!==r.cache&&Oc(t,[$e],a,!0))),ft(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function Ta(e){e.flags|=4}function No(e,t,a,l,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(Xm())e.flags|=8192;else throw Rl=jr,Bc}else e.flags&=-16777217}function gm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Mh(t))if(Xm())e.flags|=8192;else throw Rl=jr,Bc}function Hr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?bt():536870912,e.lanes|=t,En|=t)}function js(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var r=e.child;r!==null;)a|=r.lanes|r.childLanes,l|=r.subtreeFlags&65011712,l|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)a|=r.lanes|r.childLanes,l|=r.subtreeFlags,l|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function og(e,t,a){var l=t.pendingProps;switch(Tc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return Ye(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),_a($e),sa(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(hn(t)?Ta(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Dc())),Ye(t),null;case 26:var r=t.type,i=t.memoizedState;return e===null?(Ta(t),i!==null?(Ye(t),gm(t,i)):(Ye(t),No(t,r,null,l,a))):i?i!==e.memoizedState?(Ta(t),Ye(t),gm(t,i)):(Ye(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ta(t),Ye(t),No(t,r,e,l,a)),null;case 27:if(Jt(t),a=Bt.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ta(t);else{if(!l){if(t.stateNode===null)throw Error(c(166));return Ye(t),null}e=Xe.current,hn(t)?Id(t):(e=_h(r,l,a),t.stateNode=e,Ta(t))}return Ye(t),null;case 5:if(Jt(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ta(t);else{if(!l){if(t.stateNode===null)throw Error(c(166));return Ye(t),null}if(i=Xe.current,hn(t))Id(t);else{var f=ei(Bt.current);switch(i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?f.createElement(r,{is:l.is}):f.createElement(r)}}i[ot]=t,i[Nt]=l;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=i;e:switch(mt(i,r,l),r){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ta(t)}}return Ye(t),No(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Ta(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(c(166));if(e=Bt.current,hn(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,r=ut,r!==null)switch(r.tag){case 27:case 5:l=r.memoizedProps}e[ot]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||mh(e.nodeValue,a)),e||Qa(t,!0)}else e=ei(e).createTextNode(l),e[ot]=t,t.stateNode=e}return Ye(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=hn(t),a!==null){if(e===null){if(!l)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[ot]=t}else Cl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),e=!1}else a=Dc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Rt(t),t):(Rt(t),null);if((t.flags&128)!==0)throw Error(c(558))}return Ye(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=hn(t),l!==null&&l.dehydrated!==null){if(e===null){if(!r)throw Error(c(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(c(317));r[ot]=t}else Cl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),r=!1}else r=Dc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Rt(t),t):(Rt(t),null)}return Rt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,r=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(r=l.alternate.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==r&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Hr(t,t.updateQueue),Ye(t),null);case 4:return sa(),e===null&&Xo(t.stateNode.containerInfo),Ye(t),null;case 10:return _a(t.type),Ye(t),null;case 19:if(Me(Ie),l=t.memoizedState,l===null)return Ye(t),null;if(r=(t.flags&128)!==0,i=l.rendering,i===null)if(r)js(l,!1);else{if(Fe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Cr(e),i!==null){for(t.flags|=128,js(l,!1),e=i.updateQueue,t.updateQueue=e,Hr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Gd(a,e),a=a.sibling;return ge(Ie,Ie.current&1|2),_e&&ja(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&ht()>Gr&&(t.flags|=128,r=!0,js(l,!1),t.lanes=4194304)}else{if(!r)if(e=Cr(i),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Hr(t,e),js(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!_e)return Ye(t),null}else 2*ht()-l.renderingStartTime>Gr&&a!==536870912&&(t.flags|=128,r=!0,js(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(e=l.last,e!==null?e.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ht(),e.sibling=null,a=Ie.current,ge(Ie,r?a&1|2:a&1),_e&&ja(t,l.treeForkCount),e):(Ye(t),null);case 22:case 23:return Rt(t),Xc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),a=t.updateQueue,a!==null&&Hr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&Me(Al),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),_a($e),Ye(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function ug(e,t){switch(Tc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _a($e),sa(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Jt(t),null;case 31:if(t.memoizedState!==null){if(Rt(t),t.alternate===null)throw Error(c(340));Cl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Rt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));Cl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Ie),null;case 4:return sa(),null;case 10:return _a(t.type),null;case 22:case 23:return Rt(t),Xc(),e!==null&&Me(Al),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return _a($e),null;case 25:return null;default:return null}}function vm(e,t){switch(Tc(t),t.tag){case 3:_a($e),sa();break;case 26:case 27:case 5:Jt(t);break;case 4:sa();break;case 31:t.memoizedState!==null&&Rt(t);break;case 13:Rt(t);break;case 19:Me(Ie);break;case 10:_a(t.type);break;case 22:case 23:Rt(t),Xc(),e!==null&&Me(Al);break;case 24:_a($e)}}function ws(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var r=l.next;a=r;do{if((a.tag&e)===e){l=void 0;var i=a.create,f=a.inst;l=i(),f.destroy=l}a=a.next}while(a!==r)}}catch(x){Le(t,t.return,x)}}function Wa(e,t,a){try{var l=t.updateQueue,r=l!==null?l.lastEffect:null;if(r!==null){var i=r.next;l=i;do{if((l.tag&e)===e){var f=l.inst,x=f.destroy;if(x!==void 0){f.destroy=void 0,r=t;var _=a,U=x;try{U()}catch(X){Le(r,_,X)}}}l=l.next}while(l!==i)}}catch(X){Le(t,t.return,X)}}function bm(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{of(t,a)}catch(l){Le(e,e.return,l)}}}function ym(e,t,a){a.props=zl(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Le(e,t,l)}}function _s(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(r){Le(e,t,r)}}function da(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(r){Le(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(r){Le(e,t,r)}else a.current=null}function Nm(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(r){Le(e,e.return,r)}}function jo(e,t,a){try{var l=e.stateNode;Mg(l,e.type,a,t),l[Nt]=t}catch(r){Le(e,e.return,r)}}function jm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&sl(e.type)||e.tag===4}function wo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&sl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _o(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ba));else if(l!==4&&(l===27&&sl(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(_o(e,t,a),e=e.sibling;e!==null;)_o(e,t,a),e=e.sibling}function qr(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&sl(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(qr(e,t,a),e=e.sibling;e!==null;)qr(e,t,a),e=e.sibling}function wm(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);mt(t,l,a),t[ot]=e,t[Nt]=a}catch(i){Le(e,e.return,i)}}var Aa=!1,et=!1,So=!1,_m=typeof WeakSet=="function"?WeakSet:Set,ct=null;function dg(e,t){if(e=e.containerInfo,Zo=ii,e=Ld(e),gc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var r=l.anchorOffset,i=l.focusNode;l=l.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var f=0,x=-1,_=-1,U=0,X=0,Z=e,H=null;t:for(;;){for(var Y;Z!==a||r!==0&&Z.nodeType!==3||(x=f+r),Z!==i||l!==0&&Z.nodeType!==3||(_=f+l),Z.nodeType===3&&(f+=Z.nodeValue.length),(Y=Z.firstChild)!==null;)H=Z,Z=Y;for(;;){if(Z===e)break t;if(H===a&&++U===r&&(x=f),H===i&&++X===l&&(_=f),(Y=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=Y}a=x===-1||_===-1?null:{start:x,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(Fo={focusedElem:e,selectionRange:a},ii=!1,ct=t;ct!==null;)if(t=ct,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ct=e;else for(;ct!==null;){switch(t=ct,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)r=e[a],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,r=i.memoizedProps,i=i.memoizedState,l=a.stateNode;try{var ee=zl(a.type,r);e=l.getSnapshotBeforeUpdate(ee,i),l.__reactInternalSnapshotBeforeUpdate=e}catch(ce){Le(a,a.return,ce)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Jo(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Jo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,ct=e;break}ct=t.return}}function Sm(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ra(e,a),l&4&&ws(5,a);break;case 1:if(Ra(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(f){Le(a,a.return,f)}else{var r=zl(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){Le(a,a.return,f)}}l&64&&bm(a),l&512&&_s(a,a.return);break;case 3:if(Ra(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{of(e,t)}catch(f){Le(a,a.return,f)}}break;case 27:t===null&&l&4&&wm(a);case 26:case 5:Ra(e,a),t===null&&l&4&&Nm(a),l&512&&_s(a,a.return);break;case 12:Ra(e,a);break;case 31:Ra(e,a),l&4&&Tm(e,a);break;case 13:Ra(e,a),l&4&&Am(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=yg.bind(null,a),qg(e,a))));break;case 22:if(l=a.memoizedState!==null||Aa,!l){t=t!==null&&t.memoizedState!==null||et,r=Aa;var i=et;Aa=l,(et=t)&&!i?Ma(e,a,(a.subtreeFlags&8772)!==0):Ra(e,a),Aa=r,et=i}break;case 30:break;default:Ra(e,a)}}function Cm(e){var t=e.alternate;t!==null&&(e.alternate=null,Cm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ec(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,wt=!1;function Da(e,t,a){for(a=a.child;a!==null;)Em(e,t,a),a=a.sibling}function Em(e,t,a){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(qa,a)}catch{}switch(a.tag){case 26:et||da(a,t),Da(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:et||da(a,t);var l=Ve,r=wt;sl(a.type)&&(Ve=a.stateNode,wt=!1),Da(e,t,a),Os(a.stateNode),Ve=l,wt=r;break;case 5:et||da(a,t);case 6:if(l=Ve,r=wt,Ve=null,Da(e,t,a),Ve=l,wt=r,Ve!==null)if(wt)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(a.stateNode)}catch(i){Le(a,t,i)}else try{Ve.removeChild(a.stateNode)}catch(i){Le(a,t,i)}break;case 18:Ve!==null&&(wt?(e=Ve,bh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ln(e)):bh(Ve,a.stateNode));break;case 4:l=Ve,r=wt,Ve=a.stateNode.containerInfo,wt=!0,Da(e,t,a),Ve=l,wt=r;break;case 0:case 11:case 14:case 15:Wa(2,a,t),et||Wa(4,a,t),Da(e,t,a);break;case 1:et||(da(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ym(a,t,l)),Da(e,t,a);break;case 21:Da(e,t,a);break;case 22:et=(l=et)||a.memoizedState!==null,Da(e,t,a),et=l;break;default:Da(e,t,a)}}function Tm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ln(e)}catch(a){Le(t,t.return,a)}}}function Am(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ln(e)}catch(a){Le(t,t.return,a)}}function fg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new _m),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new _m),t;default:throw Error(c(435,e.tag))}}function Yr(e,t){var a=fg(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var r=Ng.bind(null,e,l);l.then(r,r)}})}function _t(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var r=a[l],i=e,f=t,x=f;e:for(;x!==null;){switch(x.tag){case 27:if(sl(x.type)){Ve=x.stateNode,wt=!1;break e}break;case 5:Ve=x.stateNode,wt=!1;break e;case 3:case 4:Ve=x.stateNode.containerInfo,wt=!0;break e}x=x.return}if(Ve===null)throw Error(c(160));Em(i,f,r),Ve=null,wt=!1,i=r.alternate,i!==null&&(i.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Dm(t,e),t=t.sibling}var Pt=null;function Dm(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_t(t,e),St(e),l&4&&(Wa(3,e,e.return),ws(3,e),Wa(5,e,e.return));break;case 1:_t(t,e),St(e),l&512&&(et||a===null||da(a,a.return)),l&64&&Aa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var r=Pt;if(_t(t,e),St(e),l&512&&(et||a===null||da(a,a.return)),l&4){var i=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,r=r.ownerDocument||r;t:switch(l){case"title":i=r.getElementsByTagName("title")[0],(!i||i[$n]||i[ot]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=r.createElement(l),r.head.insertBefore(i,r.querySelector("head > title"))),mt(i,l,a),i[ot]=e,it(i),l=i;break e;case"link":var f=Dh("link","href",r).get(l+(a.href||""));if(f){for(var x=0;x<f.length;x++)if(i=f[x],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){f.splice(x,1);break t}}i=r.createElement(l),mt(i,l,a),r.head.appendChild(i);break;case"meta":if(f=Dh("meta","content",r).get(l+(a.content||""))){for(x=0;x<f.length;x++)if(i=f[x],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){f.splice(x,1);break t}}i=r.createElement(l),mt(i,l,a),r.head.appendChild(i);break;default:throw Error(c(468,l))}i[ot]=e,it(i),l=i}e.stateNode=l}else Rh(r,e.type,e.stateNode);else e.stateNode=Ah(r,l,e.memoizedProps);else i!==l?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,l===null?Rh(r,e.type,e.stateNode):Ah(r,l,e.memoizedProps)):l===null&&e.stateNode!==null&&jo(e,e.memoizedProps,a.memoizedProps)}break;case 27:_t(t,e),St(e),l&512&&(et||a===null||da(a,a.return)),a!==null&&l&4&&jo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(_t(t,e),St(e),l&512&&(et||a===null||da(a,a.return)),e.flags&32){r=e.stateNode;try{ln(r,"")}catch(ee){Le(e,e.return,ee)}}l&4&&e.stateNode!=null&&(r=e.memoizedProps,jo(e,r,a!==null?a.memoizedProps:r)),l&1024&&(So=!0);break;case 6:if(_t(t,e),St(e),l&4){if(e.stateNode===null)throw Error(c(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ee){Le(e,e.return,ee)}}break;case 3:if(li=null,r=Pt,Pt=ti(t.containerInfo),_t(t,e),Pt=r,St(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ln(t.containerInfo)}catch(ee){Le(e,e.return,ee)}So&&(So=!1,Rm(e));break;case 4:l=Pt,Pt=ti(e.stateNode.containerInfo),_t(t,e),St(e),Pt=l;break;case 12:_t(t,e),St(e);break;case 31:_t(t,e),St(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Yr(e,l)));break;case 13:_t(t,e),St(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Xr=ht()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Yr(e,l)));break;case 22:r=e.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,U=Aa,X=et;if(Aa=U||r,et=X||_,_t(t,e),et=X,Aa=U,St(e),l&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(a===null||_||Aa||et||Ll(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){_=a=t;try{if(i=_.stateNode,r)f=i.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{x=_.stateNode;var Z=_.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;x.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ee){Le(_,_.return,ee)}}}else if(t.tag===6){if(a===null){_=t;try{_.stateNode.nodeValue=r?"":_.memoizedProps}catch(ee){Le(_,_.return,ee)}}}else if(t.tag===18){if(a===null){_=t;try{var Y=_.stateNode;r?yh(Y,!0):yh(_.stateNode,!1)}catch(ee){Le(_,_.return,ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Yr(e,a))));break;case 19:_t(t,e),St(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Yr(e,l)));break;case 30:break;case 21:break;default:_t(t,e),St(e)}}function St(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(jm(l)){a=l;break}l=l.return}if(a==null)throw Error(c(160));switch(a.tag){case 27:var r=a.stateNode,i=wo(e);qr(e,i,r);break;case 5:var f=a.stateNode;a.flags&32&&(ln(f,""),a.flags&=-33);var x=wo(e);qr(e,x,f);break;case 3:case 4:var _=a.stateNode.containerInfo,U=wo(e);_o(e,U,_);break;default:throw Error(c(161))}}catch(X){Le(e,e.return,X)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Rm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Rm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ra(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Sm(e,t.alternate,t),t=t.sibling}function Ll(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Wa(4,t,t.return),Ll(t);break;case 1:da(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&ym(t,t.return,a),Ll(t);break;case 27:Os(t.stateNode);case 26:case 5:da(t,t.return),Ll(t);break;case 22:t.memoizedState===null&&Ll(t);break;case 30:Ll(t);break;default:Ll(t)}e=e.sibling}}function Ma(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,r=e,i=t,f=i.flags;switch(i.tag){case 0:case 11:case 15:Ma(r,i,a),ws(4,i);break;case 1:if(Ma(r,i,a),l=i,r=l.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(U){Le(l,l.return,U)}if(l=i,r=l.updateQueue,r!==null){var x=l.stateNode;try{var _=r.shared.hiddenCallbacks;if(_!==null)for(r.shared.hiddenCallbacks=null,r=0;r<_.length;r++)cf(_[r],x)}catch(U){Le(l,l.return,U)}}a&&f&64&&bm(i),_s(i,i.return);break;case 27:wm(i);case 26:case 5:Ma(r,i,a),a&&l===null&&f&4&&Nm(i),_s(i,i.return);break;case 12:Ma(r,i,a);break;case 31:Ma(r,i,a),a&&f&4&&Tm(r,i);break;case 13:Ma(r,i,a),a&&f&4&&Am(r,i);break;case 22:i.memoizedState===null&&Ma(r,i,a),_s(i,i.return);break;case 30:break;default:Ma(r,i,a)}t=t.sibling}}function Co(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&us(a))}function Eo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&us(e))}function ea(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Mm(e,t,a,l),t=t.sibling}function Mm(e,t,a,l){var r=t.flags;switch(t.tag){case 0:case 11:case 15:ea(e,t,a,l),r&2048&&ws(9,t);break;case 1:ea(e,t,a,l);break;case 3:ea(e,t,a,l),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&us(e)));break;case 12:if(r&2048){ea(e,t,a,l),e=t.stateNode;try{var i=t.memoizedProps,f=i.id,x=i.onPostCommit;typeof x=="function"&&x(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Le(t,t.return,_)}}else ea(e,t,a,l);break;case 31:ea(e,t,a,l);break;case 13:ea(e,t,a,l);break;case 23:break;case 22:i=t.stateNode,f=t.alternate,t.memoizedState!==null?i._visibility&2?ea(e,t,a,l):Ss(e,t):i._visibility&2?ea(e,t,a,l):(i._visibility|=2,_n(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),r&2048&&Co(f,t);break;case 24:ea(e,t,a,l),r&2048&&Eo(t.alternate,t);break;default:ea(e,t,a,l)}}function _n(e,t,a,l,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,f=t,x=a,_=l,U=f.flags;switch(f.tag){case 0:case 11:case 15:_n(i,f,x,_,r),ws(8,f);break;case 23:break;case 22:var X=f.stateNode;f.memoizedState!==null?X._visibility&2?_n(i,f,x,_,r):Ss(i,f):(X._visibility|=2,_n(i,f,x,_,r)),r&&U&2048&&Co(f.alternate,f);break;case 24:_n(i,f,x,_,r),r&&U&2048&&Eo(f.alternate,f);break;default:_n(i,f,x,_,r)}t=t.sibling}}function Ss(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,r=l.flags;switch(l.tag){case 22:Ss(a,l),r&2048&&Co(l.alternate,l);break;case 24:Ss(a,l),r&2048&&Eo(l.alternate,l);break;default:Ss(a,l)}t=t.sibling}}var Cs=8192;function Sn(e,t,a){if(e.subtreeFlags&Cs)for(e=e.child;e!==null;)Om(e,t,a),e=e.sibling}function Om(e,t,a){switch(e.tag){case 26:Sn(e,t,a),e.flags&Cs&&e.memoizedState!==null&&Wg(a,Pt,e.memoizedState,e.memoizedProps);break;case 5:Sn(e,t,a);break;case 3:case 4:var l=Pt;Pt=ti(e.stateNode.containerInfo),Sn(e,t,a),Pt=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Cs,Cs=16777216,Sn(e,t,a),Cs=l):Sn(e,t,a));break;default:Sn(e,t,a)}}function zm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Es(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];ct=l,Um(l,e)}zm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Lm(e),e=e.sibling}function Lm(e){switch(e.tag){case 0:case 11:case 15:Es(e),e.flags&2048&&Wa(9,e,e.return);break;case 3:Es(e);break;case 12:Es(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Vr(e)):Es(e);break;default:Es(e)}}function Vr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];ct=l,Um(l,e)}zm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Wa(8,t,t.return),Vr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Vr(t));break;default:Vr(t)}e=e.sibling}}function Um(e,t){for(;ct!==null;){var a=ct;switch(a.tag){case 0:case 11:case 15:Wa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:us(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ct=l;else e:for(a=e;ct!==null;){l=ct;var r=l.sibling,i=l.return;if(Cm(l),l===a){ct=null;break e}if(r!==null){r.return=i,ct=r;break e}ct=i}}}var mg={getCacheForType:function(e){var t=dt($e),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return dt($e).controller.signal}},hg=typeof WeakMap=="function"?WeakMap:Map,De=0,He=null,be=null,je=0,ze=0,Mt=null,Pa=!1,Cn=!1,To=!1,Oa=0,Fe=0,el=0,Ul=0,Ao=0,Ot=0,En=0,Ts=null,Ct=null,Do=!1,Xr=0,Bm=0,Gr=1/0,Qr=null,tl=null,lt=0,al=null,Tn=null,za=0,Ro=0,Mo=null,km=null,As=0,Oo=null;function zt(){return(De&2)!==0&&je!==0?je&-je:V.T!==null?Ho():Pu()}function Hm(){if(Ot===0)if((je&536870912)===0||_e){var e=Ae;Ae<<=1,(Ae&3932160)===0&&(Ae=262144),Ot=e}else Ot=536870912;return e=Dt.current,e!==null&&(e.flags|=32),Ot}function Et(e,t,a){(e===He&&(ze===2||ze===9)||e.cancelPendingCommit!==null)&&(An(e,0),ll(e,je,Ot,!1)),yt(e,a),((De&2)===0||e!==He)&&(e===He&&((De&2)===0&&(Ul|=a),Fe===4&&ll(e,je,Ot,!1)),fa(e))}function qm(e,t,a){if((De&6)!==0)throw Error(c(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Ke(e,t),r=l?gg(e,t):Lo(e,t,!0),i=l;do{if(r===0){Cn&&!l&&ll(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!pg(a)){r=Lo(e,t,!1),i=!1;continue}if(r===2){if(i=t,e.errorRecoveryDisabledLanes&i)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var x=e;r=Ts;var _=x.current.memoizedState.isDehydrated;if(_&&(An(x,f).flags|=256),f=Lo(x,f,!1),f!==2){if(To&&!_){x.errorRecoveryDisabledLanes|=i,Ul|=i,r=4;break e}i=Ct,Ct=r,i!==null&&(Ct===null?Ct=i:Ct.push.apply(Ct,i))}r=f}if(i=!1,r!==2)continue}}if(r===1){An(e,0),ll(e,t,0,!0);break}e:{switch(l=e,i=r,i){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:ll(l,t,Ot,!Pa);break e;case 2:Ct=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(r=Xr+300-ht(),10<r)){if(ll(l,t,Ot,!Pa),at(l,0,!0)!==0)break e;za=t,l.timeoutHandle=gh(Ym.bind(null,l,a,Ct,Qr,Do,t,Ot,Ul,En,Pa,i,"Throttled",-0,0),r);break e}Ym(l,a,Ct,Qr,Do,t,Ot,Ul,En,Pa,i,null,-0,0)}}break}while(!0);fa(e)}function Ym(e,t,a,l,r,i,f,x,_,U,X,Z,H,Y){if(e.timeoutHandle=-1,Z=t.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ba},Om(t,i,Z);var ee=(i&62914560)===i?Xr-ht():(i&4194048)===i?Bm-ht():0;if(ee=Pg(Z,ee),ee!==null){za=i,e.cancelPendingCommit=ee(Im.bind(null,e,t,i,a,l,r,f,x,_,X,Z,null,H,Y)),ll(e,i,f,!U);return}}Im(e,t,i,a,l,r,f,x,_)}function pg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var r=a[l],i=r.getSnapshot;r=r.value;try{if(!Tt(i(),r))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ll(e,t,a,l){t&=~Ao,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var r=t;0<r;){var i=31-xt(r),f=1<<i;l[i]=-1,r&=~f}a!==0&&bl(e,a,t)}function Zr(){return(De&6)===0?(Ds(0),!1):!0}function zo(){if(be!==null){if(ze===0)var e=be.return;else e=be,wa=El=null,Ic(e),bn=null,fs=0,e=be;for(;e!==null;)vm(e.alternate,e),e=e.return;be=null}}function An(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Lg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),za=0,zo(),He=e,be=a=Na(e.current,null),je=t,ze=0,Mt=null,Pa=!1,Cn=Ke(e,t),To=!1,En=Ot=Ao=Ul=el=Fe=0,Ct=Ts=null,Do=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var r=31-xt(l),i=1<<r;t|=e[r],l&=~i}return Oa=t,mr(),a}function Vm(e,t){me=null,V.H=ys,t===vn||t===Nr?(t=lf(),ze=3):t===Bc?(t=lf(),ze=4):ze=t===fo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Mt=t,be===null&&(Fe=1,Lr(e,Vt(t,e.current)))}function Xm(){var e=Dt.current;return e===null?!0:(je&4194048)===je?Zt===null:(je&62914560)===je||(je&536870912)!==0?e===Zt:!1}function Gm(){var e=V.H;return V.H=ys,e===null?ys:e}function Qm(){var e=V.A;return V.A=mg,e}function Fr(){Fe=4,Pa||(je&4194048)!==je&&Dt.current!==null||(Cn=!0),(el&134217727)===0&&(Ul&134217727)===0||He===null||ll(He,je,Ot,!1)}function Lo(e,t,a){var l=De;De|=2;var r=Gm(),i=Qm();(He!==e||je!==t)&&(Qr=null,An(e,t)),t=!1;var f=Fe;e:do try{if(ze!==0&&be!==null){var x=be,_=Mt;switch(ze){case 8:zo(),f=6;break e;case 3:case 2:case 9:case 6:Dt.current===null&&(t=!0);var U=ze;if(ze=0,Mt=null,Dn(e,x,_,U),a&&Cn){f=0;break e}break;default:U=ze,ze=0,Mt=null,Dn(e,x,_,U)}}xg(),f=Fe;break}catch(X){Vm(e,X)}while(!0);return t&&e.shellSuspendCounter++,wa=El=null,De=l,V.H=r,V.A=i,be===null&&(He=null,je=0,mr()),f}function xg(){for(;be!==null;)Zm(be)}function gg(e,t){var a=De;De|=2;var l=Gm(),r=Qm();He!==e||je!==t?(Qr=null,Gr=ht()+500,An(e,t)):Cn=Ke(e,t);e:do try{if(ze!==0&&be!==null){t=be;var i=Mt;t:switch(ze){case 1:ze=0,Mt=null,Dn(e,t,i,1);break;case 2:case 9:if(tf(i)){ze=0,Mt=null,Fm(t);break}t=function(){ze!==2&&ze!==9||He!==e||(ze=7),fa(e)},i.then(t,t);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:tf(i)?(ze=0,Mt=null,Fm(t)):(ze=0,Mt=null,Dn(e,t,i,7));break;case 5:var f=null;switch(be.tag){case 26:f=be.memoizedState;case 5:case 27:var x=be;if(f?Mh(f):x.stateNode.complete){ze=0,Mt=null;var _=x.sibling;if(_!==null)be=_;else{var U=x.return;U!==null?(be=U,Kr(U)):be=null}break t}}ze=0,Mt=null,Dn(e,t,i,5);break;case 6:ze=0,Mt=null,Dn(e,t,i,6);break;case 8:zo(),Fe=6;break e;default:throw Error(c(462))}}vg();break}catch(X){Vm(e,X)}while(!0);return wa=El=null,V.H=l,V.A=r,De=a,be!==null?0:(He=null,je=0,mr(),Fe)}function vg(){for(;be!==null&&!Zi();)Zm(be)}function Zm(e){var t=xm(e.alternate,e,Oa);e.memoizedProps=e.pendingProps,t===null?Kr(e):be=t}function Fm(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=um(a,t,t.pendingProps,t.type,void 0,je);break;case 11:t=um(a,t,t.pendingProps,t.type.render,t.ref,je);break;case 5:Ic(t);default:vm(a,t),t=be=Gd(t,Oa),t=xm(a,t,Oa)}e.memoizedProps=e.pendingProps,t===null?Kr(e):be=t}function Dn(e,t,a,l){wa=El=null,Ic(t),bn=null,fs=0;var r=t.return;try{if(rg(e,r,t,a,je)){Fe=1,Lr(e,Vt(a,e.current)),be=null;return}}catch(i){if(r!==null)throw be=r,i;Fe=1,Lr(e,Vt(a,e.current)),be=null;return}t.flags&32768?(_e||l===1?e=!0:Cn||(je&536870912)!==0?e=!1:(Pa=e=!0,(l===2||l===9||l===3||l===6)&&(l=Dt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Km(t,e)):Kr(t)}function Kr(e){var t=e;do{if((t.flags&32768)!==0){Km(t,Pa);return}e=t.return;var a=og(t.alternate,t,Oa);if(a!==null){be=a;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);Fe===0&&(Fe=5)}function Km(e,t){do{var a=ug(e.alternate,e);if(a!==null){a.flags&=32767,be=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){be=e;return}be=e=a}while(e!==null);Fe=6,be=null}function Im(e,t,a,l,r,i,f,x,_){e.cancelPendingCommit=null;do Ir();while(lt!==0);if((De&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(i=t.lanes|t.childLanes,i|=jc,kt(e,a,i,f,x,_),e===He&&(be=He=null,je=0),Tn=t,al=e,za=a,Ro=i,Mo=r,km=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,jg(ga,function(){return eh(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=V.T,V.T=null,r=q.p,q.p=2,f=De,De|=4;try{dg(e,t,a)}finally{De=f,q.p=r,V.T=l}}lt=1,Jm(),$m(),Wm()}}function Jm(){if(lt===1){lt=0;var e=al,t=Tn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=V.T,V.T=null;var l=q.p;q.p=2;var r=De;De|=4;try{Dm(t,e);var i=Fo,f=Ld(e.containerInfo),x=i.focusedElem,_=i.selectionRange;if(f!==x&&x&&x.ownerDocument&&zd(x.ownerDocument.documentElement,x)){if(_!==null&&gc(x)){var U=_.start,X=_.end;if(X===void 0&&(X=U),"selectionStart"in x)x.selectionStart=U,x.selectionEnd=Math.min(X,x.value.length);else{var Z=x.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var Y=H.getSelection(),ee=x.textContent.length,ce=Math.min(_.start,ee),ke=_.end===void 0?ce:Math.min(_.end,ee);!Y.extend&&ce>ke&&(f=ke,ke=ce,ce=f);var O=Od(x,ce),D=Od(x,ke);if(O&&D&&(Y.rangeCount!==1||Y.anchorNode!==O.node||Y.anchorOffset!==O.offset||Y.focusNode!==D.node||Y.focusOffset!==D.offset)){var L=Z.createRange();L.setStart(O.node,O.offset),Y.removeAllRanges(),ce>ke?(Y.addRange(L),Y.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),Y.addRange(L))}}}}for(Z=[],Y=x;Y=Y.parentNode;)Y.nodeType===1&&Z.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<Z.length;x++){var Q=Z[x];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}ii=!!Zo,Fo=Zo=null}finally{De=r,q.p=l,V.T=a}}e.current=t,lt=2}}function $m(){if(lt===2){lt=0;var e=al,t=Tn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=V.T,V.T=null;var l=q.p;q.p=2;var r=De;De|=4;try{Sm(e,t.alternate,t)}finally{De=r,q.p=l,V.T=a}}lt=3}}function Wm(){if(lt===4||lt===3){lt=0,gl();var e=al,t=Tn,a=za,l=km;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?lt=5:(lt=0,Tn=al=null,Pm(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(tl=null),Wi(a),t=t.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(qa,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=V.T,r=q.p,q.p=2,V.T=null;try{for(var i=e.onRecoverableError,f=0;f<l.length;f++){var x=l[f];i(x.value,{componentStack:x.stack})}}finally{V.T=t,q.p=r}}(za&3)!==0&&Ir(),fa(e),r=e.pendingLanes,(a&261930)!==0&&(r&42)!==0?e===Oo?As++:(As=0,Oo=e):As=0,Ds(0)}}function Pm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,us(t)))}function Ir(){return Jm(),$m(),Wm(),eh()}function eh(){if(lt!==5)return!1;var e=al,t=Ro;Ro=0;var a=Wi(za),l=V.T,r=q.p;try{q.p=32>a?32:a,V.T=null,a=Mo,Mo=null;var i=al,f=za;if(lt=0,Tn=al=null,za=0,(De&6)!==0)throw Error(c(331));var x=De;if(De|=4,Lm(i.current),Mm(i,i.current,f,a),De=x,Ds(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(qa,i)}catch{}return!0}finally{q.p=r,V.T=l,Pm(e,t)}}function th(e,t,a){t=Vt(a,t),t=uo(e.stateNode,t,2),e=Ia(e,t,2),e!==null&&(yt(e,2),fa(e))}function Le(e,t,a){if(e.tag===3)th(e,e,a);else for(;t!==null;){if(t.tag===3){th(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(tl===null||!tl.has(l))){e=Vt(a,e),a=am(2),l=Ia(t,a,2),l!==null&&(lm(a,l,t,e),yt(l,2),fa(l));break}}t=t.return}}function Uo(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new hg;var r=new Set;l.set(t,r)}else r=l.get(t),r===void 0&&(r=new Set,l.set(t,r));r.has(a)||(To=!0,r.add(a),e=bg.bind(null,e,t,a),t.then(e,e))}function bg(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,He===e&&(je&a)===a&&(Fe===4||Fe===3&&(je&62914560)===je&&300>ht()-Xr?(De&2)===0&&An(e,0):Ao|=a,En===je&&(En=0)),fa(e)}function ah(e,t){t===0&&(t=bt()),e=_l(e,t),e!==null&&(yt(e,t),fa(e))}function yg(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),ah(e,a)}function Ng(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,r=e.memoizedState;r!==null&&(a=r.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(c(314))}l!==null&&l.delete(t),ah(e,a)}function jg(e,t){return ra(e,t)}var Jr=null,Rn=null,Bo=!1,$r=!1,ko=!1,nl=0;function fa(e){e!==Rn&&e.next===null&&(Rn===null?Jr=Rn=e:Rn=Rn.next=e),$r=!0,Bo||(Bo=!0,_g())}function Ds(e,t){if(!ko&&$r){ko=!0;do for(var a=!1,l=Jr;l!==null;){if(e!==0){var r=l.pendingLanes;if(r===0)var i=0;else{var f=l.suspendedLanes,x=l.pingedLanes;i=(1<<31-xt(42|e)+1)-1,i&=r&~(f&~x),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,rh(l,i))}else i=je,i=at(l,l===He?i:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(i&3)===0||Ke(l,i)||(a=!0,rh(l,i));l=l.next}while(a);ko=!1}}function wg(){lh()}function lh(){$r=Bo=!1;var e=0;nl!==0&&zg()&&(e=nl);for(var t=ht(),a=null,l=Jr;l!==null;){var r=l.next,i=nh(l,t);i===0?(l.next=null,a===null?Jr=r:a.next=r,r===null&&(Rn=a)):(a=l,(e!==0||(i&3)!==0)&&($r=!0)),l=r}lt!==0&&lt!==5||Ds(e),nl!==0&&(nl=0)}function nh(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var f=31-xt(i),x=1<<f,_=r[f];_===-1?((x&a)===0||(x&l)!==0)&&(r[f]=ca(x,t)):_<=t&&(e.expiredLanes|=x),i&=~x}if(t=He,a=je,a=at(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(ze===2||ze===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Jl(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ke(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&Jl(l),Wi(a)){case 2:case 8:a=tr;break;case 32:a=ga;break;case 268435456:a=In;break;default:a=ga}return l=sh.bind(null,e),a=ra(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&Jl(l),e.callbackPriority=2,e.callbackNode=null,2}function sh(e,t){if(lt!==0&&lt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ir()&&e.callbackNode!==a)return null;var l=je;return l=at(e,e===He?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(qm(e,l,t),nh(e,ht()),e.callbackNode!=null&&e.callbackNode===a?sh.bind(null,e):null)}function rh(e,t){if(Ir())return null;qm(e,t,!0)}function _g(){Ug(function(){(De&6)!==0?ra(er,wg):lh()})}function Ho(){if(nl===0){var e=xn;e===0&&(e=Se,Se<<=1,(Se&261888)===0&&(Se=256)),nl=e}return nl}function ih(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sr(""+e)}function ch(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Sg(e,t,a,l,r){if(t==="submit"&&a&&a.stateNode===r){var i=ih((r[Nt]||null).action),f=l.submitter;f&&(t=(t=f[Nt]||null)?ih(t.formAction):f.getAttribute("formAction"),t!==null&&(i=t,f=null));var x=new or("action","action",null,l,r);e.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(nl!==0){var _=f?ch(r,f):new FormData(r);no(a,{pending:!0,data:_,method:r.method,action:i},null,_)}}else typeof i=="function"&&(x.preventDefault(),_=f?ch(r,f):new FormData(r),no(a,{pending:!0,data:_,method:r.method,action:i},i,_))},currentTarget:r}]})}}for(var qo=0;qo<Nc.length;qo++){var Yo=Nc[qo],Cg=Yo.toLowerCase(),Eg=Yo[0].toUpperCase()+Yo.slice(1);Wt(Cg,"on"+Eg)}Wt(kd,"onAnimationEnd"),Wt(Hd,"onAnimationIteration"),Wt(qd,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(X0,"onTransitionRun"),Wt(G0,"onTransitionStart"),Wt(Q0,"onTransitionCancel"),Wt(Yd,"onTransitionEnd"),tn("onMouseEnter",["mouseout","mouseover"]),tn("onMouseLeave",["mouseout","mouseover"]),tn("onPointerEnter",["pointerout","pointerover"]),tn("onPointerLeave",["pointerout","pointerover"]),yl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yl("onBeforeInput",["compositionend","keypress","textInput","paste"]),yl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rs));function oh(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],r=l.event;l=l.listeners;e:{var i=void 0;if(t)for(var f=l.length-1;0<=f;f--){var x=l[f],_=x.instance,U=x.currentTarget;if(x=x.listener,_!==i&&r.isPropagationStopped())break e;i=x,r.currentTarget=U;try{i(r)}catch(X){fr(X)}r.currentTarget=null,i=_}else for(f=0;f<l.length;f++){if(x=l[f],_=x.instance,U=x.currentTarget,x=x.listener,_!==i&&r.isPropagationStopped())break e;i=x,r.currentTarget=U;try{i(r)}catch(X){fr(X)}r.currentTarget=null,i=_}}}}function ye(e,t){var a=t[Pi];a===void 0&&(a=t[Pi]=new Set);var l=e+"__bubble";a.has(l)||(uh(t,e,2,!1),a.add(l))}function Vo(e,t,a){var l=0;t&&(l|=4),uh(a,e,l,t)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function Xo(e){if(!e[Wr]){e[Wr]=!0,ad.forEach(function(a){a!=="selectionchange"&&(Tg.has(a)||Vo(a,!1,e),Vo(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wr]||(t[Wr]=!0,Vo("selectionchange",!1,t))}}function uh(e,t,a,l){switch(Hh(t)){case 2:var r=av;break;case 8:r=lv;break;default:r=nu}a=r.bind(null,t,a,e),r=void 0,!cc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),l?r!==void 0?e.addEventListener(t,a,{capture:!0,passive:r}):e.addEventListener(t,a,!0):r!==void 0?e.addEventListener(t,a,{passive:r}):e.addEventListener(t,a,!1)}function Go(e,t,a,l,r){var i=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var f=l.tag;if(f===3||f===4){var x=l.stateNode.containerInfo;if(x===r)break;if(f===4)for(f=l.return;f!==null;){var _=f.tag;if((_===3||_===4)&&f.stateNode.containerInfo===r)return;f=f.return}for(;x!==null;){if(f=Wl(x),f===null)return;if(_=f.tag,_===5||_===6||_===26||_===27){l=i=f;continue e}x=x.parentNode}}l=l.return}hd(function(){var U=i,X=rc(a),Z=[];e:{var H=Vd.get(e);if(H!==void 0){var Y=or,ee=e;switch(e){case"keypress":if(ir(a)===0)break e;case"keydown":case"keyup":Y=N0;break;case"focusin":ee="focus",Y=fc;break;case"focusout":ee="blur",Y=fc;break;case"beforeblur":case"afterblur":Y=fc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=o0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=_0;break;case kd:case Hd:case qd:Y=f0;break;case Yd:Y=C0;break;case"scroll":case"scrollend":Y=i0;break;case"wheel":Y=T0;break;case"copy":case"cut":case"paste":Y=h0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=bd;break;case"toggle":case"beforetoggle":Y=D0}var ce=(t&4)!==0,ke=!ce&&(e==="scroll"||e==="scrollend"),O=ce?H!==null?H+"Capture":null:H;ce=[];for(var D=U,L;D!==null;){var Q=D;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||O===null||(Q=Pn(D,O),Q!=null&&ce.push(Ms(D,Q,L))),ke)break;D=D.return}0<ce.length&&(H=new Y(H,ee,null,a,X),Z.push({event:H,listeners:ce}))}}if((t&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",H&&a!==sc&&(ee=a.relatedTarget||a.fromElement)&&(Wl(ee)||ee[$l]))break e;if((Y||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,Y?(ee=a.relatedTarget||a.toElement,Y=U,ee=ee?Wl(ee):null,ee!==null&&(ke=m(ee),ce=ee.tag,ee!==ke||ce!==5&&ce!==27&&ce!==6)&&(ee=null)):(Y=null,ee=U),Y!==ee)){if(ce=gd,Q="onMouseLeave",O="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ce=bd,Q="onPointerLeave",O="onPointerEnter",D="pointer"),ke=Y==null?H:Wn(Y),L=ee==null?H:Wn(ee),H=new ce(Q,D+"leave",Y,a,X),H.target=ke,H.relatedTarget=L,Q=null,Wl(X)===U&&(ce=new ce(O,D+"enter",ee,a,X),ce.target=L,ce.relatedTarget=ke,Q=ce),ke=Q,Y&&ee)t:{for(ce=Ag,O=Y,D=ee,L=0,Q=O;Q;Q=ce(Q))L++;Q=0;for(var re=D;re;re=ce(re))Q++;for(;0<L-Q;)O=ce(O),L--;for(;0<Q-L;)D=ce(D),Q--;for(;L--;){if(O===D||D!==null&&O===D.alternate){ce=O;break t}O=ce(O),D=ce(D)}ce=null}else ce=null;Y!==null&&dh(Z,H,Y,ce,!1),ee!==null&&ke!==null&&dh(Z,ke,ee,ce,!0)}}e:{if(H=U?Wn(U):window,Y=H.nodeName&&H.nodeName.toLowerCase(),Y==="select"||Y==="input"&&H.type==="file")var Ee=Ed;else if(Sd(H))if(Td)Ee=q0;else{Ee=k0;var le=B0}else Y=H.nodeName,!Y||Y.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?U&&nc(U.elementType)&&(Ee=Ed):Ee=H0;if(Ee&&(Ee=Ee(e,U))){Cd(Z,Ee,a,X);break e}le&&le(e,H,U),e==="focusout"&&U&&H.type==="number"&&U.memoizedProps.value!=null&&lc(H,"number",H.value)}switch(le=U?Wn(U):window,e){case"focusin":(Sd(le)||le.contentEditable==="true")&&(cn=le,vc=U,is=null);break;case"focusout":is=vc=cn=null;break;case"mousedown":bc=!0;break;case"contextmenu":case"mouseup":case"dragend":bc=!1,Ud(Z,a,X);break;case"selectionchange":if(V0)break;case"keydown":case"keyup":Ud(Z,a,X)}var he;if(hc)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else rn?wd(e,a)&&(we="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(yd&&a.locale!=="ko"&&(rn||we!=="onCompositionStart"?we==="onCompositionEnd"&&rn&&(he=pd()):(Va=X,oc="value"in Va?Va.value:Va.textContent,rn=!0)),le=Pr(U,we),0<le.length&&(we=new vd(we,e,null,a,X),Z.push({event:we,listeners:le}),he?we.data=he:(he=_d(a),he!==null&&(we.data=he)))),(he=M0?O0(e,a):z0(e,a))&&(we=Pr(U,"onBeforeInput"),0<we.length&&(le=new vd("onBeforeInput","beforeinput",null,a,X),Z.push({event:le,listeners:we}),le.data=he)),Sg(Z,e,U,a,X)}oh(Z,t)})}function Ms(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Pr(e,t){for(var a=t+"Capture",l=[];e!==null;){var r=e,i=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||i===null||(r=Pn(e,a),r!=null&&l.unshift(Ms(e,r,i)),r=Pn(e,t),r!=null&&l.push(Ms(e,r,i))),e.tag===3)return l;e=e.return}return[]}function Ag(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function dh(e,t,a,l,r){for(var i=t._reactName,f=[];a!==null&&a!==l;){var x=a,_=x.alternate,U=x.stateNode;if(x=x.tag,_!==null&&_===l)break;x!==5&&x!==26&&x!==27||U===null||(_=U,r?(U=Pn(a,i),U!=null&&f.unshift(Ms(a,U,_))):r||(U=Pn(a,i),U!=null&&f.push(Ms(a,U,_)))),a=a.return}f.length!==0&&e.push({event:t,listeners:f})}var Dg=/\r\n?/g,Rg=/\u0000|\uFFFD/g;function fh(e){return(typeof e=="string"?e:""+e).replace(Dg,`
`).replace(Rg,"")}function mh(e,t){return t=fh(t),fh(e)===t}function Be(e,t,a,l,r,i){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||ln(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&ln(e,""+l);break;case"className":lr(e,"class",l);break;case"tabIndex":lr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(e,a,l);break;case"style":fd(e,l,i);break;case"data":if(t!=="object"){lr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=sr(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&Be(e,t,"name",r.name,r,null),Be(e,t,"formEncType",r.formEncType,r,null),Be(e,t,"formMethod",r.formMethod,r,null),Be(e,t,"formTarget",r.formTarget,r,null)):(Be(e,t,"encType",r.encType,r,null),Be(e,t,"method",r.method,r,null),Be(e,t,"target",r.target,r,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=sr(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ba);break;case"onScroll":l!=null&&ye("scroll",e);break;case"onScrollEnd":l!=null&&ye("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(a=l.__html,a!=null){if(r.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=sr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":ye("beforetoggle",e),ye("toggle",e),ar(e,"popover",l);break;case"xlinkActuate":va(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":va(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":va(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":va(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":va(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":va(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":va(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":va(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":va(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ar(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=s0.get(a)||a,ar(e,a,l))}}function Qo(e,t,a,l,r,i){switch(a){case"style":fd(e,l,i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(a=l.__html,a!=null){if(r.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"children":typeof l=="string"?ln(e,l):(typeof l=="number"||typeof l=="bigint")&&ln(e,""+l);break;case"onScroll":l!=null&&ye("scroll",e);break;case"onScrollEnd":l!=null&&ye("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ba);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ld.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(r=a.endsWith("Capture"),t=a.slice(2,r?a.length-7:void 0),i=e[Nt]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,r),typeof l=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,r);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ar(e,a,l)}}}function mt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",e),ye("load",e);var l=!1,r=!1,i;for(i in a)if(a.hasOwnProperty(i)){var f=a[i];if(f!=null)switch(i){case"src":l=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Be(e,t,i,f,a,null)}}r&&Be(e,t,"srcSet",a.srcSet,a,null),l&&Be(e,t,"src",a.src,a,null);return;case"input":ye("invalid",e);var x=i=f=r=null,_=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":r=X;break;case"type":f=X;break;case"checked":_=X;break;case"defaultChecked":U=X;break;case"value":i=X;break;case"defaultValue":x=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(c(137,t));break;default:Be(e,t,l,X,a,null)}}cd(e,i,x,_,U,f,r,!1);return;case"select":ye("invalid",e),l=f=i=null;for(r in a)if(a.hasOwnProperty(r)&&(x=a[r],x!=null))switch(r){case"value":i=x;break;case"defaultValue":f=x;break;case"multiple":l=x;default:Be(e,t,r,x,a,null)}t=i,a=f,e.multiple=!!l,t!=null?an(e,!!l,t,!1):a!=null&&an(e,!!l,a,!0);return;case"textarea":ye("invalid",e),i=r=l=null;for(f in a)if(a.hasOwnProperty(f)&&(x=a[f],x!=null))switch(f){case"value":l=x;break;case"defaultValue":r=x;break;case"children":i=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(c(91));break;default:Be(e,t,f,x,a,null)}ud(e,l,r,i);return;case"option":for(_ in a)if(a.hasOwnProperty(_)&&(l=a[_],l!=null))switch(_){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Be(e,t,_,l,a,null)}return;case"dialog":ye("beforetoggle",e),ye("toggle",e),ye("cancel",e),ye("close",e);break;case"iframe":case"object":ye("load",e);break;case"video":case"audio":for(l=0;l<Rs.length;l++)ye(Rs[l],e);break;case"image":ye("error",e),ye("load",e);break;case"details":ye("toggle",e);break;case"embed":case"source":case"link":ye("error",e),ye("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Be(e,t,U,l,a,null)}return;default:if(nc(t)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Qo(e,t,X,l,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null&&Be(e,t,x,l,a,null))}function Mg(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,f=null,x=null,_=null,U=null,X=null;for(Y in a){var Z=a[Y];if(a.hasOwnProperty(Y)&&Z!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":_=Z;default:l.hasOwnProperty(Y)||Be(e,t,Y,null,l,Z)}}for(var H in l){var Y=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(Y!=null||Z!=null))switch(H){case"type":i=Y;break;case"name":r=Y;break;case"checked":U=Y;break;case"defaultChecked":X=Y;break;case"value":f=Y;break;case"defaultValue":x=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(c(137,t));break;default:Y!==Z&&Be(e,t,H,Y,l,Z)}}ac(e,f,x,_,U,X,i,r);return;case"select":Y=f=x=H=null;for(i in a)if(_=a[i],a.hasOwnProperty(i)&&_!=null)switch(i){case"value":break;case"multiple":Y=_;default:l.hasOwnProperty(i)||Be(e,t,i,null,l,_)}for(r in l)if(i=l[r],_=a[r],l.hasOwnProperty(r)&&(i!=null||_!=null))switch(r){case"value":H=i;break;case"defaultValue":x=i;break;case"multiple":f=i;default:i!==_&&Be(e,t,r,i,l,_)}t=x,a=f,l=Y,H!=null?an(e,!!a,H,!1):!!l!=!!a&&(t!=null?an(e,!!a,t,!0):an(e,!!a,a?[]:"",!1));return;case"textarea":Y=H=null;for(x in a)if(r=a[x],a.hasOwnProperty(x)&&r!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Be(e,t,x,null,l,r)}for(f in l)if(r=l[f],i=a[f],l.hasOwnProperty(f)&&(r!=null||i!=null))switch(f){case"value":H=r;break;case"defaultValue":Y=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(c(91));break;default:r!==i&&Be(e,t,f,r,l,i)}od(e,H,Y);return;case"option":for(var ee in a)if(H=a[ee],a.hasOwnProperty(ee)&&H!=null&&!l.hasOwnProperty(ee))switch(ee){case"selected":e.selected=!1;break;default:Be(e,t,ee,null,l,H)}for(_ in l)if(H=l[_],Y=a[_],l.hasOwnProperty(_)&&H!==Y&&(H!=null||Y!=null))switch(_){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Be(e,t,_,H,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in a)H=a[ce],a.hasOwnProperty(ce)&&H!=null&&!l.hasOwnProperty(ce)&&Be(e,t,ce,null,l,H);for(U in l)if(H=l[U],Y=a[U],l.hasOwnProperty(U)&&H!==Y&&(H!=null||Y!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(c(137,t));break;default:Be(e,t,U,H,l,Y)}return;default:if(nc(t)){for(var ke in a)H=a[ke],a.hasOwnProperty(ke)&&H!==void 0&&!l.hasOwnProperty(ke)&&Qo(e,t,ke,void 0,l,H);for(X in l)H=l[X],Y=a[X],!l.hasOwnProperty(X)||H===Y||H===void 0&&Y===void 0||Qo(e,t,X,H,l,Y);return}}for(var O in a)H=a[O],a.hasOwnProperty(O)&&H!=null&&!l.hasOwnProperty(O)&&Be(e,t,O,null,l,H);for(Z in l)H=l[Z],Y=a[Z],!l.hasOwnProperty(Z)||H===Y||H==null&&Y==null||Be(e,t,Z,H,l,Y)}function hh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Og(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var r=a[l],i=r.transferSize,f=r.initiatorType,x=r.duration;if(i&&x&&hh(f)){for(f=0,x=r.responseEnd,l+=1;l<a.length;l++){var _=a[l],U=_.startTime;if(U>x)break;var X=_.transferSize,Z=_.initiatorType;X&&hh(Z)&&(_=_.responseEnd,f+=X*(_<x?1:(x-U)/(_-U)))}if(--l,t+=8*(i+f)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Zo=null,Fo=null;function ei(e){return e.nodeType===9?e:e.ownerDocument}function ph(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ko(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Io=null;function zg(){var e=window.event;return e&&e.type==="popstate"?e===Io?!1:(Io=e,!0):(Io=null,!1)}var gh=typeof setTimeout=="function"?setTimeout:void 0,Lg=typeof clearTimeout=="function"?clearTimeout:void 0,vh=typeof Promise=="function"?Promise:void 0,Ug=typeof queueMicrotask=="function"?queueMicrotask:typeof vh<"u"?function(e){return vh.resolve(null).then(e).catch(Bg)}:gh;function Bg(e){setTimeout(function(){throw e})}function sl(e){return e==="head"}function bh(e,t){var a=t,l=0;do{var r=a.nextSibling;if(e.removeChild(a),r&&r.nodeType===8)if(a=r.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(r),Ln(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Os(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Os(a);for(var i=a.firstChild;i;){var f=i.nextSibling,x=i.nodeName;i[$n]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=f}}else a==="body"&&Os(e.ownerDocument.body);a=r}while(a);Ln(t)}function yh(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Jo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jo(a),ec(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function kg(e,t,a,l){for(;e.nodeType===1;){var r=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[$n])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Ft(e.nextSibling),e===null)break}return null}function Hg(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ft(e.nextSibling),e===null))return null;return e}function Nh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ft(e.nextSibling),e===null))return null;return e}function $o(e){return e.data==="$?"||e.data==="$~"}function Wo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function qg(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ft(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Po=null;function jh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Ft(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function wh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function _h(e,t,a){switch(t=ei(a),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function Os(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ec(e)}var Kt=new Map,Sh=new Set;function ti(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var La=q.d;q.d={f:Yg,r:Vg,D:Xg,C:Gg,L:Qg,m:Zg,X:Kg,S:Fg,M:Ig};function Yg(){var e=La.f(),t=Zr();return e||t}function Vg(e){var t=Pl(e);t!==null&&t.tag===5&&t.type==="form"?Vf(t):La.r(e)}var Mn=typeof document>"u"?null:document;function Ch(e,t,a){var l=Mn;if(l&&typeof t=="string"&&t){var r=qt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof a=="string"&&(r+='[crossorigin="'+a+'"]'),Sh.has(r)||(Sh.add(r),e={rel:e,crossOrigin:a,href:t},l.querySelector(r)===null&&(t=l.createElement("link"),mt(t,"link",e),it(t),l.head.appendChild(t)))}}function Xg(e){La.D(e),Ch("dns-prefetch",e,null)}function Gg(e,t){La.C(e,t),Ch("preconnect",e,t)}function Qg(e,t,a){La.L(e,t,a);var l=Mn;if(l&&e&&t){var r='link[rel="preload"][as="'+qt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(r+='[imagesrcset="'+qt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(r+='[imagesizes="'+qt(a.imageSizes)+'"]')):r+='[href="'+qt(e)+'"]';var i=r;switch(t){case"style":i=On(e);break;case"script":i=zn(e)}Kt.has(i)||(e=v({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Kt.set(i,e),l.querySelector(r)!==null||t==="style"&&l.querySelector(zs(i))||t==="script"&&l.querySelector(Ls(i))||(t=l.createElement("link"),mt(t,"link",e),it(t),l.head.appendChild(t)))}}function Zg(e,t){La.m(e,t);var a=Mn;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+qt(l)+'"][href="'+qt(e)+'"]',i=r;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=zn(e)}if(!Kt.has(i)&&(e=v({rel:"modulepreload",href:e},t),Kt.set(i,e),a.querySelector(r)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ls(i)))return}l=a.createElement("link"),mt(l,"link",e),it(l),a.head.appendChild(l)}}}function Fg(e,t,a){La.S(e,t,a);var l=Mn;if(l&&e){var r=en(l).hoistableStyles,i=On(e);t=t||"default";var f=r.get(i);if(!f){var x={loading:0,preload:null};if(f=l.querySelector(zs(i)))x.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Kt.get(i))&&eu(e,a);var _=f=l.createElement("link");it(_),mt(_,"link",e),_._p=new Promise(function(U,X){_.onload=U,_.onerror=X}),_.addEventListener("load",function(){x.loading|=1}),_.addEventListener("error",function(){x.loading|=2}),x.loading|=4,ai(f,t,l)}f={type:"stylesheet",instance:f,count:1,state:x},r.set(i,f)}}}function Kg(e,t){La.X(e,t);var a=Mn;if(a&&e){var l=en(a).hoistableScripts,r=zn(e),i=l.get(r);i||(i=a.querySelector(Ls(r)),i||(e=v({src:e,async:!0},t),(t=Kt.get(r))&&tu(e,t),i=a.createElement("script"),it(i),mt(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(r,i))}}function Ig(e,t){La.M(e,t);var a=Mn;if(a&&e){var l=en(a).hoistableScripts,r=zn(e),i=l.get(r);i||(i=a.querySelector(Ls(r)),i||(e=v({src:e,async:!0,type:"module"},t),(t=Kt.get(r))&&tu(e,t),i=a.createElement("script"),it(i),mt(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(r,i))}}function Eh(e,t,a,l){var r=(r=Bt.current)?ti(r):null;if(!r)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=On(a.href),a=en(r).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=On(a.href);var i=en(r).hoistableStyles,f=i.get(e);if(f||(r=r.ownerDocument||r,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,f),(i=r.querySelector(zs(e)))&&!i._p&&(f.instance=i,f.state.loading=5),Kt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kt.set(e,a),i||Jg(r,e,a,f.state))),t&&l===null)throw Error(c(528,""));return f}if(t&&l!==null)throw Error(c(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=zn(a),a=en(r).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function On(e){return'href="'+qt(e)+'"'}function zs(e){return'link[rel="stylesheet"]['+e+"]"}function Th(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Jg(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),mt(t,"link",a),it(t),e.head.appendChild(t))}function zn(e){return'[src="'+qt(e)+'"]'}function Ls(e){return"script[async]"+e}function Ah(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+qt(a.href)+'"]');if(l)return t.instance=l,it(l),l;var r=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),it(l),mt(l,"style",r),ai(l,a.precedence,e),t.instance=l;case"stylesheet":r=On(a.href);var i=e.querySelector(zs(r));if(i)return t.state.loading|=4,t.instance=i,it(i),i;l=Th(a),(r=Kt.get(r))&&eu(l,r),i=(e.ownerDocument||e).createElement("link"),it(i);var f=i;return f._p=new Promise(function(x,_){f.onload=x,f.onerror=_}),mt(i,"link",l),t.state.loading|=4,ai(i,a.precedence,e),t.instance=i;case"script":return i=zn(a.src),(r=e.querySelector(Ls(i)))?(t.instance=r,it(r),r):(l=a,(r=Kt.get(i))&&(l=v({},a),tu(l,r)),e=e.ownerDocument||e,r=e.createElement("script"),it(r),mt(r,"link",l),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,ai(l,a.precedence,e));return t.instance}function ai(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=l.length?l[l.length-1]:null,i=r,f=0;f<l.length;f++){var x=l[f];if(x.dataset.precedence===t)i=x;else if(i!==r)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function eu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function tu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var li=null;function Dh(e,t,a){if(li===null){var l=new Map,r=li=new Map;r.set(a,l)}else r=li,l=r.get(a),l||(l=new Map,r.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),r=0;r<a.length;r++){var i=a[r];if(!(i[$n]||i[ot]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var f=i.getAttribute(t)||"";f=e+f;var x=l.get(f);x?x.push(i):l.set(f,[i])}}return l}function Rh(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function $g(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Mh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Wg(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var r=On(l.href),i=t.querySelector(zs(r));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ni.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,it(i);return}i=t.ownerDocument||t,l=Th(l),(r=Kt.get(r))&&eu(l,r),i=i.createElement("link"),it(i);var f=i;f._p=new Promise(function(x,_){f.onload=x,f.onerror=_}),mt(i,"link",l),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=ni.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var au=0;function Pg(e,t){return e.stylesheets&&e.count===0&&ri(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&ri(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&au===0&&(au=62500*Og());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ri(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>au?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(r)}}:null}function ni(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ri(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var si=null;function ri(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,si=new Map,t.forEach(ev,e),si=null,ni.call(e))}function ev(e,t){if(!(t.state.loading&4)){var a=si.get(e);if(a)var l=a.get(null);else{a=new Map,si.set(e,a);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var f=r[i];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(a.set(f.dataset.precedence,f),l=f)}l&&a.set(null,l)}r=t.instance,f=r.getAttribute("data-precedence"),i=a.get(f)||l,i===l&&a.set(null,r),a.set(f,r),this.count++,l=ni.bind(this),r.addEventListener("load",l),r.addEventListener("error",l),i?i.parentNode.insertBefore(r,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Us={$$typeof:M,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function tv(e,t,a,l,r,i,f,x,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$t(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$t(0),this.hiddenUpdates=$t(null),this.identifierPrefix=l,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Oh(e,t,a,l,r,i,f,x,_,U,X,Z){return e=new tv(e,t,a,f,_,U,X,Z,x),t=1,i===!0&&(t|=24),i=At(3,null,null,t),e.current=i,i.stateNode=e,t=zc(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:l,isDehydrated:a,cache:t},kc(i),e}function zh(e){return e?(e=dn,e):dn}function Lh(e,t,a,l,r,i){r=zh(r),l.context===null?l.context=r:l.pendingContext=r,l=Ka(t),l.payload={element:a},i=i===void 0?null:i,i!==null&&(l.callback=i),a=Ia(e,l,t),a!==null&&(Et(a,e,t),hs(a,e,t))}function Uh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function lu(e,t){Uh(e,t),(e=e.alternate)&&Uh(e,t)}function Bh(e){if(e.tag===13||e.tag===31){var t=_l(e,67108864);t!==null&&Et(t,e,67108864),lu(e,67108864)}}function kh(e){if(e.tag===13||e.tag===31){var t=zt();t=$i(t);var a=_l(e,t);a!==null&&Et(a,e,t),lu(e,t)}}var ii=!0;function av(e,t,a,l){var r=V.T;V.T=null;var i=q.p;try{q.p=2,nu(e,t,a,l)}finally{q.p=i,V.T=r}}function lv(e,t,a,l){var r=V.T;V.T=null;var i=q.p;try{q.p=8,nu(e,t,a,l)}finally{q.p=i,V.T=r}}function nu(e,t,a,l){if(ii){var r=su(l);if(r===null)Go(e,t,l,ci,a),qh(e,l);else if(sv(r,e,t,a,l))l.stopPropagation();else if(qh(e,l),t&4&&-1<nv.indexOf(e)){for(;r!==null;){var i=Pl(r);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var f=Oe(i.pendingLanes);if(f!==0){var x=i;for(x.pendingLanes|=2,x.entangledLanes|=2;f;){var _=1<<31-xt(f);x.entanglements[1]|=_,f&=~_}fa(i),(De&6)===0&&(Gr=ht()+500,Ds(0))}}break;case 31:case 13:x=_l(i,2),x!==null&&Et(x,i,2),Zr(),lu(i,2)}if(i=su(l),i===null&&Go(e,t,l,ci,a),i===r)break;r=i}r!==null&&l.stopPropagation()}else Go(e,t,l,null,a)}}function su(e){return e=rc(e),ru(e)}var ci=null;function ru(e){if(ci=null,e=Wl(e),e!==null){var t=m(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=p(t),e!==null)return e;e=null}else if(a===31){if(e=h(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ci=e,null}function Hh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ps()){case er:return 2;case tr:return 8;case ga:case Fi:return 32;case In:return 268435456;default:return 32}default:return 32}}var iu=!1,rl=null,il=null,cl=null,Bs=new Map,ks=new Map,ol=[],nv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qh(e,t){switch(e){case"focusin":case"focusout":rl=null;break;case"dragenter":case"dragleave":il=null;break;case"mouseover":case"mouseout":cl=null;break;case"pointerover":case"pointerout":Bs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(t.pointerId)}}function Hs(e,t,a,l,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:i,targetContainers:[r]},t!==null&&(t=Pl(t),t!==null&&Bh(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function sv(e,t,a,l,r){switch(t){case"focusin":return rl=Hs(rl,e,t,a,l,r),!0;case"dragenter":return il=Hs(il,e,t,a,l,r),!0;case"mouseover":return cl=Hs(cl,e,t,a,l,r),!0;case"pointerover":var i=r.pointerId;return Bs.set(i,Hs(Bs.get(i)||null,e,t,a,l,r)),!0;case"gotpointercapture":return i=r.pointerId,ks.set(i,Hs(ks.get(i)||null,e,t,a,l,r)),!0}return!1}function Yh(e){var t=Wl(e.target);if(t!==null){var a=m(t);if(a!==null){if(t=a.tag,t===13){if(t=p(a),t!==null){e.blockedOn=t,ed(e.priority,function(){kh(a)});return}}else if(t===31){if(t=h(a),t!==null){e.blockedOn=t,ed(e.priority,function(){kh(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=su(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);sc=l,a.target.dispatchEvent(l),sc=null}else return t=Pl(a),t!==null&&Bh(t),e.blockedOn=a,!1;t.shift()}return!0}function Vh(e,t,a){oi(e)&&a.delete(t)}function rv(){iu=!1,rl!==null&&oi(rl)&&(rl=null),il!==null&&oi(il)&&(il=null),cl!==null&&oi(cl)&&(cl=null),Bs.forEach(Vh),ks.forEach(Vh)}function ui(e,t){e.blockedOn===t&&(e.blockedOn=null,iu||(iu=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,rv)))}var di=null;function Xh(e){di!==e&&(di=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){di===e&&(di=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],r=e[t+2];if(typeof l!="function"){if(ru(l||a)===null)continue;break}var i=Pl(a);i!==null&&(e.splice(t,3),t-=3,no(i,{pending:!0,data:r,method:a.method,action:l},l,r))}}))}function Ln(e){function t(_){return ui(_,e)}rl!==null&&ui(rl,e),il!==null&&ui(il,e),cl!==null&&ui(cl,e),Bs.forEach(t),ks.forEach(t);for(var a=0;a<ol.length;a++){var l=ol[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ol.length&&(a=ol[0],a.blockedOn===null);)Yh(a),a.blockedOn===null&&ol.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var r=a[l],i=a[l+1],f=r[Nt]||null;if(typeof i=="function")f||Xh(a);else if(f){var x=null;if(i&&i.hasAttribute("formAction")){if(r=i,f=i[Nt]||null)x=f.formAction;else if(ru(r)!==null)continue}else x=f.action;typeof x=="function"?a[l+1]=x:(a.splice(l,3),l-=3),Xh(a)}}}function Gh(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(f){return r=f})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function cu(e){this._internalRoot=e}fi.prototype.render=cu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var a=t.current,l=zt();Lh(a,l,e,t,null,null)},fi.prototype.unmount=cu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Lh(e.current,2,null,e,null,null),Zr(),t[$l]=null}};function fi(e){this._internalRoot=e}fi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pu();e={blockedOn:null,target:e,priority:t};for(var a=0;a<ol.length&&t!==0&&t<ol[a].priority;a++);ol.splice(a,0,e),a===0&&Yh(e)}};var Qh=o.version;if(Qh!=="19.2.0")throw Error(c(527,Qh,"19.2.0"));q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=y(t),e=e!==null?w(e):null,e=e===null?null:e.stateNode,e};var iv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mi.isDisabled&&mi.supportsFiber)try{qa=mi.inject(iv),pt=mi}catch{}}return Ys.createRoot=function(e,t){if(!d(e))throw Error(c(299));var a=!1,l="",r=Wf,i=Pf,f=em;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=Oh(e,1,!1,null,null,a,l,null,r,i,f,Gh),e[$l]=t.current,Xo(e),new cu(t)},Ys.hydrateRoot=function(e,t,a){if(!d(e))throw Error(c(299));var l=!1,r="",i=Wf,f=Pf,x=em,_=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(r=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(f=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(_=a.formState)),t=Oh(e,1,!0,t,a??null,l,r,_,i,f,x,Gh),t.context=zh(null),a=t.current,l=zt(),l=$i(l),r=Ka(l),r.callback=null,Ia(a,r,l),a=l,t.current.lanes=a,yt(t,a),fa(t),e[$l]=t.current,Xo(e),new fi(t)},Ys.version="19.2.0",Ys}var $h;function ib(){if($h)return uu.exports;$h=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(o){console.error(o)}}return s(),uu.exports=rb(),uu.exports}var cb=ib();function Zu(s,o){let u;try{u=s()}catch{return}return{getItem:d=>{var m;const p=g=>g===null?null:JSON.parse(g,void 0),h=(m=u.getItem(d))!=null?m:null;return h instanceof Promise?h.then(p):p(h)},setItem:(d,m)=>u.setItem(d,JSON.stringify(m,void 0)),removeItem:d=>u.removeItem(d)}}const Au=s=>o=>{try{const u=s(o);return u instanceof Promise?u:{then(c){return Au(c)(u)},catch(c){return this}}}catch(u){return{then(c){return this},catch(c){return Au(c)(u)}}}},ob=(s,o)=>(u,c,d)=>{let m={storage:Zu(()=>localStorage),partialize:S=>S,version:0,merge:(S,R)=>({...R,...S}),...o},p=!1;const h=new Set,g=new Set;let y=m.storage;if(!y)return s((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${m.name}', the given storage is currently unavailable.`),u(...S)},c,d);const w=()=>{const S=m.partialize({...c()});return y.setItem(m.name,{state:S,version:m.version})},v=d.setState;d.setState=(S,R)=>(v(S,R),w());const N=s((...S)=>(u(...S),w()),c,d);d.getInitialState=()=>N;let T;const A=()=>{var S,R;if(!y)return;p=!1,h.forEach(B=>{var M;return B((M=c())!=null?M:N)});const C=((R=m.onRehydrateStorage)==null?void 0:R.call(m,(S=c())!=null?S:N))||void 0;return Au(y.getItem.bind(y))(m.name).then(B=>{if(B)if(typeof B.version=="number"&&B.version!==m.version){if(m.migrate){const M=m.migrate(B.state,B.version);return M instanceof Promise?M.then(E=>[!0,E]):[!0,M]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,B.state];return[!1,void 0]}).then(B=>{var M;const[E,b]=B;if(T=m.merge(b,(M=c())!=null?M:N),u(T,!0),E)return w()}).then(()=>{C?.(T,void 0),T=c(),p=!0,g.forEach(B=>B(T))}).catch(B=>{C?.(void 0,B)})};return d.persist={setOptions:S=>{m={...m,...S},S.storage&&(y=S.storage)},clearStorage:()=>{y?.removeItem(m.name)},getOptions:()=>m,rehydrate:()=>A(),hasHydrated:()=>p,onHydrate:S=>(h.add(S),()=>{h.delete(S)}),onFinishHydration:S=>(g.add(S),()=>{g.delete(S)})},m.skipHydration||A(),T||N},lx=ob,K={CURTAIN:"curtain",WALLPAPER:"wallpaper",WOODEN_BLIND:"wooden_blind",ROLLER_BLIND:"roller_blind",VERTICAL_BLIND:"vertical_blind",ALUMINUM_BLIND:"aluminum_blind",PARTITION:"partition",PLEATED_SCREEN:"pleated_screen",REMOVAL:"removal"},pe={CURTAIN_MAIN:"curtain_main",CURTAIN_SHEER:"curtain_sheer",WALLPAPER:K.WALLPAPER,WOODEN_BLIND:K.WOODEN_BLIND,ROLLER_BLIND:K.ROLLER_BLIND,VERTICAL_BLIND:K.VERTICAL_BLIND,ALUMINUM_BLIND:K.ALUMINUM_BLIND,PARTITION:K.PARTITION},Si={MAIN:"main",SHEER:"sheer",DOUBLE:"double"},pa={CENTER:"center",SIDE:"side"},ub="marnthara.input.v6.4",Wh=1.19599,Ph=[{label:" (Wave)",value:""},{label:" (Pleated)",value:""},{label:" (Eyelet)",value:""},{label:" (Roman)",value:""},{label:"/ (Rod)",value:""},{label:" (Louis)",value:""}],Du={:{hasRail:!0,hasHook:!0,hasChain:!1,hasEyelet:!1},:{hasRail:!0,hasHook:!0,hasChain:!0,hasEyelet:!1},:{hasRail:!0,hasHook:!1,hasChain:!1,hasEyelet:!0},:{hasRail:!0,hasHook:!1,hasChain:!0,hasEyelet:!1},:{hasRail:!1,hasHook:!1,hasChain:!1,hasEyelet:!1},:{hasRail:!0,hasHook:!0,hasChain:!1,hasEyelet:!1}},Vl={[K.CURTAIN]:{id:K.CURTAIN,name:"",unit:"",icon:"AlignLeft"},[K.WALLPAPER]:{id:K.WALLPAPER,name:"",unit:"",icon:"ScrollText"},[K.WOODEN_BLIND]:{id:K.WOODEN_BLIND,name:"",unit:"",icon:"Blinds"},[K.ROLLER_BLIND]:{id:K.ROLLER_BLIND,name:"",unit:"",icon:"Minimize2"},[K.VERTICAL_BLIND]:{id:K.VERTICAL_BLIND,name:"",unit:"",icon:"Columns"},[K.ALUMINUM_BLIND]:{id:K.ALUMINUM_BLIND,name:"",unit:"",icon:"Blinds"},[K.PARTITION]:{id:K.PARTITION,name:"",unit:"",icon:"Grid3X3"},[K.PLEATED_SCREEN]:{id:K.PLEATED_SCREEN,name:"",unit:"",icon:"Grid3X3"},[K.REMOVAL]:{id:K.REMOVAL,name:"/",unit:"",icon:"Scissors"}},db={name:"Marnthara Smart Quotation",address:"123/45     10110",phone:"081-234-5678",taxId:"",logoUrl:"",baseVatRate:0,bankAccount:{bankName:"",accountName:".  ",accountNumber:"123-4-56789-0",branch:"",isEnabled:!0},pdf:{paymentTerms:" 50%  ",priceValidity:" 30 ",notes:[" ()"," 1  ()"]}},fb={style_surcharge:{:0,:0,:0,:0,:0,:500}},Ru={ROLL_WIDTH_M:.53},mb=s=>({customer:{name:"",phone:"",address:"",taxId:"",installationAddress:"",useSameAddress:!0,showInstallationAddress:!0},setCustomer:o=>s(u=>({customer:{...u.customer,...o}}))}),qi=s=>s.type===K.CURTAIN,Yi=s=>s.type===K.WALLPAPER,nx=s=>s.type===K.REMOVAL,Vi=s=>!qi(s)&&!Yi(s)&&!nx(s),Vs=()=>Math.random().toString(36).substring(2,9),hb=s=>({rooms:[],addRoom:o=>s(u=>({rooms:[...u.rooms,{id:Vs(),name:o||` ${u.rooms.length+1}`,items:[],is_suspended:!1,room_defaults:{}}]})),updateRoom:(o,u)=>s(c=>({rooms:c.rooms.map(d=>d.id===o?{...d,...u}:d)})),removeRoom:o=>s(u=>({rooms:u.rooms.filter(c=>c.id!==o)})),duplicateRoom:o=>s(u=>{const c=u.rooms.find(m=>m.id===o);if(!c)return u;const d={...c,id:Vs(),name:`${c.name} (Copy)`,items:c.items.map(m=>({...m,id:Vs()}))};return{rooms:[...u.rooms,d]}}),toggleRoomSuspension:o=>s(u=>({rooms:u.rooms.map(c=>c.id===o?{...c,is_suspended:!c.is_suspended}:c)})),updateRoomDefaults:(o,u)=>s(c=>({rooms:c.rooms.map(d=>d.id===o?{...d,room_defaults:{...d.room_defaults,...u}}:d)})),addItem:(o,u)=>s(c=>({rooms:c.rooms.map(d=>d.id!==o?d:{...d,items:[...d.items,{...u,id:Vs()}]})})),updateItem:(o,u,c)=>s(d=>({rooms:d.rooms.map(m=>m.id!==o?m:{...m,items:m.items.map(p=>p.id===u?{...p,...c}:p)})})),removeItem:(o,u)=>s(c=>({rooms:c.rooms.map(d=>d.id!==o?d:{...d,items:d.items.filter(m=>m.id!==u)})})),duplicateItem:(o,u)=>s(c=>({rooms:c.rooms.map(d=>{if(d.id!==o)return d;const m=d.items.findIndex(y=>y.id===u);if(m===-1)return d;const h={...d.items[m],id:Vs()},g=[...d.items];return g.splice(m+1,0,h),{...d,items:g}})})),updatePriceByCode:(o,u,c)=>{let d=0;const m=String(c);return s(p=>({rooms:p.rooms.map(h=>({...h,items:h.items.map(g=>o===pe.CURTAIN_MAIN&&g.type===K.CURTAIN&&g.code===u?(d++,{...g,price_per_m_raw:m}):o===pe.CURTAIN_SHEER&&g.type===K.CURTAIN&&g.sheer_code===u?(d++,{...g,sheer_price_per_m:m}):o===pe.WALLPAPER&&g.type===K.WALLPAPER&&g.wallpaper_code===u?(d++,{...g,price_per_roll:c}):o===g.type&&Vi(g)&&g.code===u?(d++,{...g,price_sqyd:c}):g)}))})),d},resetProject:()=>s(()=>({rooms:[],customer:{name:"",phone:"",address:"",taxId:"",installationAddress:"",useSameAddress:!0,showInstallationAddress:!0},discount:{type:"amount",value:0}})),factoryReset:()=>{localStorage.removeItem("marnthara.input.v6.4"),window.location.reload()}}),pb=s=>({shopConfig:db,discount:{type:"amount",value:0},setDiscount:o=>s({discount:o}),updateShopConfig:o=>s(u=>({shopConfig:{...u.shopConfig,...o}})),updateLogo:o=>s(u=>({shopConfig:{...u.shopConfig,logoUrl:o}}))}),xb=()=>Math.random().toString(36).substring(2,9),gb=(s,o)=>({favorites:{},addFavorite:(u,c)=>{c.cost_per_yard&&c.cost_per_yard>0&&o().updateFabricCost(c.code,c.cost_per_yard);const d={...c};delete d.cost_per_yard,s(m=>({favorites:{...m.favorites,[u]:[...m.favorites[u]||[],{...d,id:xb()}]}}))},removeFavorite:(u,c)=>s(d=>({favorites:{...d.favorites,[u]:(d.favorites[u]||[]).filter(m=>m.id!==c)}})),updateFavorite:(u,c,d)=>{d.cost_per_yard&&d.cost_per_yard>0&&d.code&&(o().updateFabricCost(d.code,d.cost_per_yard),delete d.cost_per_yard),s(m=>({favorites:{...m.favorites,[u]:(m.favorites[u]||[]).map(p=>p.id===c?{...p,...d}:p)}}))},importFavorites:u=>{try{let c;const d=u.trim();try{c=JSON.parse(d)}catch{try{const h=decodeURIComponent(escape(atob(d)));c=JSON.parse(h)}catch{return!1}}const m=c.favorites?c.favorites:c;if(typeof m!="object"||m===null)return!1;const p={...m};return Object.values(p).forEach(h=>{Array.isArray(h)&&h.forEach(g=>{g.cost_per_yard&&g.cost_per_yard>0&&(o().updateFabricCost(g.code,g.cost_per_yard),delete g.cost_per_yard)})}),s(h=>({favorites:{...h.favorites,...p}})),!0}catch(c){return console.error(c),!1}}}),vb=s=>({activeModal:null,modalProps:{},modalStack:[],openModal:(o,u={})=>s(c=>c.activeModal&&c.activeModal!==o?{modalStack:[...c.modalStack,{type:c.activeModal,props:c.modalProps}],activeModal:o,modalProps:u}:{activeModal:o,modalProps:u}),closeModal:()=>s(o=>{if(o.modalStack.length>0){const u=o.modalStack[o.modalStack.length-1],c=o.modalStack.slice(0,-1);return{activeModal:u.type,modalProps:u.props,modalStack:c}}return{activeModal:null,modalProps:{}}}),closeAllModals:()=>s({activeModal:null,modalProps:{},modalStack:[]})}),ep={},tp={},bb=(s,o)=>({laborCosts:ep,accessoryCosts:tp,fabricCosts:{},updateLaborCost:(u,c)=>s(d=>({laborCosts:{...d.laborCosts,[u]:{...d.laborCosts[u]||{},...c}}})),updateAccessoryCost:(u,c)=>s(d=>({accessoryCosts:{...d.accessoryCosts,[u]:c}})),removeAccessoryCost:u=>s(c=>{const d={...c.accessoryCosts};return delete d[u],{accessoryCosts:d}}),updateFabricCost:(u,c)=>s(d=>({fabricCosts:{...d.fabricCosts,[u]:c}})),removeFabricCost:u=>s(c=>{const d={...c.fabricCosts};return delete d[u],{fabricCosts:d}}),updateUnifiedCost:(u,c)=>{o().updateFabricCost(u,c)},batchUpdateFabricCosts:u=>s(c=>({fabricCosts:{...c.fabricCosts,...u}})),resetProductionCosts:()=>s(()=>({laborCosts:ep,accessoryCosts:tp,fabricCosts:{}})),exportSecrets:()=>{const{laborCosts:u,accessoryCosts:c,fabricCosts:d}=o();return JSON.stringify({laborCosts:u,accessoryCosts:c,fabricCosts:d},null,2)},importSecrets:u=>{try{const c=JSON.parse(u);return!c.laborCosts&&!c.accessoryCosts&&!c.fabricCosts?!1:(s(d=>({laborCosts:{...d.laborCosts,...c.laborCosts},accessoryCosts:{...d.accessoryCosts,...c.accessoryCosts},fabricCosts:{...d.fabricCosts,...c.fabricCosts}})),!0)}catch(c){return console.error("Import failed",c),!1}}}),yb=s=>{const o={...s};return delete o.activeModal,delete o.modalProps,delete o.modalStack,o},se=Qu()(Wv(lx((...s)=>({...mb(...s),...hb(...s),...pb(...s),...gb(...s),...vb(...s),...bb(...s)}),{name:ub,storage:Zu(()=>localStorage),version:1,partialize:s=>yb(s)}),{limit:20,partialize:s=>{const{rooms:o,customer:u,shopConfig:c,discount:d,laborCosts:m,accessoryCosts:p,fabricCosts:h,favorites:g}=s;return{rooms:o,customer:u,shopConfig:c,discount:d,laborCosts:m,accessoryCosts:p,fabricCosts:h,favorites:g}}})),J=s=>{if(typeof s=="number")return Number.isFinite(s)?s:0;if(!s)return 0;const o=typeof s=="string"?s.replace(/,/g,""):String(s),u=parseFloat(o);return Number.isFinite(u)?u:0},ta=s=>{const o=J(s);return o>0?o.toFixed(2):""},Nb=s=>{const o=s.replace(/,/g,"").trim();if(o===""||o===".")return"";let u=parseFloat(o);return isNaN(u)?s:(Math.abs(u)>=10&&(u=u/100),u.toFixed(2))},jb=(s,o=2,u=!1)=>Number.isFinite(s)?s.toLocaleString("th-TH",{minimumFractionDigits:u?2:0,maximumFractionDigits:o}):"0",Re=s=>jb(s,2,!0),wb=s=>{if(!s)return"";const o=["","","","","","","","","","",""],u=["","","","","","",""];s=parseFloat(s.toFixed(2));let c="";if(s===0)return"";const d=h=>{let g="";const y=String(h);for(let w=0;w<y.length;w++){const v=parseInt(y[w]),N=y.length-w-1;v!==0&&(N===1&&v===1?g+=u[N]:N===1&&v===2?g+=""+u[N]:N===0&&v===1&&y.length>1?g+="":g+=o[v]+u[N])}return g},m=Math.floor(s),p=Math.round((s-m)*100);return m>0&&(c+=d(m),c+=""),p>0?(c+=d(p),c+=""):c+="",c},Ci=(s,o)=>{if(o<=0)return 0;let u=2.5;return s===""&&(u=1.5),o*u*1.1},_b=s=>fb.style_surcharge[s]||0,ap={calculate:s=>{const o=J(s.width_m);if(o<=0)return{total:0,breakdown:{}};let u=0;s.price_per_m_raw&&J(s.price_per_m_raw)>0?u=o*J(s.price_per_m_raw):u=Ci(s.style,o)*J(s.price_sqyd);let c=0;s.layer_mode!=="main"&&(s.sheer_price_per_m&&J(s.sheer_price_per_m)>0?c=o*J(s.sheer_price_per_m):s.sheer_price_sqyd&&(c=Ci(s.style,o)*J(s.sheer_price_sqyd)));let d=0;if(s.use_rail&&s.rail_price_per_m){const h=s.layer_mode==="double"?2:1;d=o*J(s.rail_price_per_m)*h}const m=_b(s.style);let p=u+c+d+m;return s.enable_set_price&&J(s.set_price_override)>0&&(p=J(s.set_price_override)),p=Math.round(p*100)/100,{total:p,breakdown:{fabricPrice:u,sheerPrice:c,railPrice:d,accessoryPrice:m,fabricMeters:o}}},validate:s=>{const o=[];return J(s.width_m)<=0&&o.push(" 0"),J(s.height_m)<=0&&o.push(" 0"),s.style||o.push(""),o},getSpecs:s=>{const o=[`:  ${s.width_m} . x  ${s.height_m} .`,`: ${s.style}`];return s.fabric_variant&&o.push(`: ${s.fabric_variant}`),s.layer_mode==="double"?o.push(":  2  (+)"):s.layer_mode==="sheer"&&o.push(": "),s.use_rail&&o.push(""),o}},lp={calculate:s=>{const o=s.widths.reduce((y,w)=>y+J(w),0),u=J(s.height_m);if(o<=0||u<=0)return{total:0,breakdown:{}};const c=Math.ceil(o/Ru.ROLL_WIDTH_M),d=J(s.price_per_roll),m=J(s.install_cost_per_roll),p=c*d,h=c*m;let g=p+h;return s.enable_set_price&&J(s.set_price_override)>0&&(g=J(s.set_price_override)),g=Math.round(g*100)/100,{total:g,breakdown:{rolls:c,materialPrice:p,laborPrice:h,totalWidth:o}}},validate:s=>{const o=[];return s.widths.reduce((c,d)=>c+J(d),0)<=0&&o.push(" 1 "),J(s.height_m)<=0&&o.push(""),s.wallpaper_code||o.push(""),o},getSpecs:s=>{const o=s.widths.reduce((d,m)=>d+J(m),0),u=[`:  ${o.toFixed(2)} . x  ${s.height_m} .`];s.wallpaper_code&&u.push(`: ${s.wallpaper_code}`);const c=Math.ceil(o/Ru.ROLL_WIDTH_M);return u.push(`: ${c}  ()`),u}},np={calculate:s=>{if(s.enable_set_price&&J(s.set_price_override)>0)return{total:J(s.set_price_override)};const o=J(s.quantity),u=J(s.price_per_item);if(o<=0||u<=0)return{total:0};const c=o*u;return{total:Math.round(c*100)/100}},validate:s=>{const o=[];return s.description||o.push(""),!s.enable_set_price&&J(s.price_per_item)<=0&&o.push(""),o},getSpecs:s=>{const o=[];s.description&&o.push(s.description);const u=J(s.quantity);return u>0&&o.push(`: ${u} /`),o}},Qn=s=>{const{minAreaSqyd:o=1}=s;return{calculate:u=>{if(u.enable_set_price&&J(u.set_price_override)>0)return{total:J(u.set_price_override)};const c=J(u.width_m),d=J(u.height_m),m=J(u.price_sqyd);if(c<=0||d<=0)return{total:0,breakdown:{}};const p=c*d;let h=p*Wh;h<o&&(h=o);let g=h*m;return g=Math.round(g*100)/100,{total:g,breakdown:{areaSqm:p,areaSqyd:h,pricePerUnit:m}}},validate:u=>{const c=[];return J(u.width_m)<=0&&c.push(""),J(u.height_m)<=0&&c.push(""),!u.enable_set_price&&J(u.price_sqyd)<=0&&c.push(" .."),c},getSpecs:u=>{const c=[`: ${u.width_m} x ${u.height_m} .`];u.code&&c.push(`/: ${u.code}`),u.fabric_variant&&c.push(`: ${u.fabric_variant}`);const d=J(u.width_m),m=J(u.height_m);if(d>0&&m>0){const p=Math.max(d*m*Wh,o);c.push(`: ${p.toFixed(2)} ..`)}return c}}},sp=Qn({}),rp=Qn({}),ip=Qn({}),cp=Qn({}),op=Qn({}),up=Qn({}),st={calculatePrice:s=>st.calculateDetailedPrice(s).total,calculateDetailedPrice:s=>{if(s.is_suspended)return{total:0};switch(s.type){case K.CURTAIN:return ap.calculate(s);case K.WALLPAPER:return lp.calculate(s);case K.WOODEN_BLIND:return sp.calculate(s);case K.ROLLER_BLIND:return rp.calculate(s);case K.VERTICAL_BLIND:return ip.calculate(s);case K.ALUMINUM_BLIND:return cp.calculate(s);case K.PARTITION:return op.calculate(s);case K.PLEATED_SCREEN:return up.calculate(s);case K.REMOVAL:return np.calculate(s);default:return console.warn("[PricingEngine]  Unhandled item type:",s),{total:0}}},getItemSpecs:s=>{switch(s.type){case K.CURTAIN:return ap.getSpecs(s);case K.WALLPAPER:return lp.getSpecs(s);case K.WOODEN_BLIND:return sp.getSpecs(s);case K.ROLLER_BLIND:return rp.getSpecs(s);case K.VERTICAL_BLIND:return ip.getSpecs(s);case K.ALUMINUM_BLIND:return cp.getSpecs(s);case K.PARTITION:return op.getSpecs(s);case K.PLEATED_SCREEN:return up.getSpecs(s);case K.REMOVAL:return np.getSpecs(s);default:return[]}}},Fu=()=>{const s=se(d=>d.rooms),o=se(d=>d.discount),u=se(d=>d.shopConfig);return j.useMemo(()=>{const d=s.map(v=>{if(v.is_suspended)return{roomId:v.id,total:0,itemCount:v.items.length,isSuspended:!0};const T=v.items.map(A=>st.calculatePrice(A)).reduce((A,S)=>A+S,0);return{roomId:v.id,total:T,itemCount:v.items.length,isSuspended:!1}}),m=d.reduce((v,N)=>v+N.total,0);let p=m,h=0;o.is_enabled===!0&&o.value>0&&(o.type==="percent"?h=m*o.value/100:h=o.value,h>m&&(h=m),p=m-h);let y=0,w=p;return u.baseVatRate>0&&(y=p*u.baseVatRate/100,w=p+y),{grandTotal:Math.round(m*100)/100,discountAmount:Math.round(h*100)/100,afterDiscount:Math.round(p*100)/100,vatAmount:Math.round(y*100)/100,finalTotal:Math.round(w*100)/100,roomTotals:d}},[s,o,u])},ka=()=>({trigger:j.useCallback((o="selection")=>{if(typeof navigator>"u"||!navigator.vibrate){console.warn("Vibration API not supported in this environment");return}try{switch(o){case"light":navigator.vibrate(5);break;case"medium":navigator.vibrate(10);break;case"heavy":navigator.vibrate(15);break;case"selection":navigator.vibrate(2);break;case"success":navigator.vibrate([10,30,10]);break;case"warning":navigator.vibrate([30,50,10]);break;case"error":navigator.vibrate([50,100,50,100]);break;default:navigator.vibrate(10)}}catch(u){console.error("Failed to trigger haptic feedback:",u)}},[])});function F(...s){return Pv(eb(s))}const Sb=({children:s,onOpenMainMenu:o,onOpenDiscount:u,onOpenOverview:c})=>{const d=se(A=>A.shopConfig),m=se(A=>A.discount),p=se(A=>A.addRoom),{finalTotal:h}=Fu(),{trigger:g}=ka(),[y,w]=j.useState(!1),v=m.is_enabled&&m.value>0,N=d.baseVatRate>0;j.useEffect(()=>{const A=()=>w(window.scrollY>10);return window.addEventListener("scroll",A),()=>window.removeEventListener("scroll",A)},[]);const T=()=>{g("medium"),p(),setTimeout(()=>window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"}),100)};return n.jsxs("div",{className:"relative min-h-[100dvh] bg-background text-foreground",children:[n.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 h-safe-top bg-background/80 backdrop-blur-md border-b border-transparent transition-all duration-300"}),n.jsx("header",{className:"fixed top-0 left-0 right-0 z-40 pt-safe-top transition-all duration-300",children:n.jsxs("div",{className:F("h-14 px-6 flex items-center justify-between transition-all duration-500","bg-background/80 backdrop-blur-md border-b border-border/50",y?"shadow-sm":""),children:[n.jsxs("button",{className:"flex flex-col items-start text-left group active:scale-95 transition-transform outline-none",onClick:()=>{g("light"),o?.()},children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h1",{className:"text-lg font-bold tracking-tight text-foreground group-hover:text-primary transition-colors",children:d.name||"Marnthara"}),n.jsx(Xn,{className:"w-3.5 h-3.5 text-muted-foreground/50 group-hover:text-primary/50 transition-colors"})]}),n.jsx("span",{className:"text-[10px] font-medium text-muted-foreground tracking-widest uppercase",children:"Quotation"})]}),n.jsxs("div",{className:"flex flex-col items-end cursor-pointer active:scale-95 transition-transform outline-none",onClick:()=>{g("selection"),u?.()},children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsxs("div",{className:"flex gap-0.5",children:[v&&n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-success shadow-[0_0_6px_rgba(var(--color-success),0.5)] animate-pulse"}),N&&n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-info shadow-[0_0_6px_rgba(var(--color-info),0.5)]"})]}),n.jsx("span",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-wider",children:"Net"})]}),n.jsx("div",{className:F("text-sm font-mono font-bold leading-none transition-colors",v||N?"text-primary":"text-foreground"),children:Re(h)})]})]})}),n.jsx("main",{className:"pt-[calc(3.5rem+env(safe-area-inset-top))] pb-[calc(5rem+env(safe-area-inset-bottom))] px-4 sm:px-6 space-y-4 max-w-3xl mx-auto overflow-x-hidden",children:s}),n.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 w-full max-w-[320px] px-4 mb-safe-bottom",children:n.jsxs("div",{className:"flex items-center justify-between px-2 py-1.5 rounded-full bg-primary/90 backdrop-blur-xl shadow-2xl border border-primary-foreground/10 ring-1 ring-black/20",children:[n.jsx(hi,{icon:ov,onClick:c,label:"Overview"}),n.jsx(hi,{icon:Yn,onClick:()=>g("light"),label:"Search"}),n.jsx("div",{className:"px-2",children:n.jsx("button",{onClick:T,className:"group relative w-10 h-10 rounded-full bg-primary shadow-lg shadow-primary/30 flex items-center justify-center transform transition-all duration-300 active:scale-90 hover:shadow-primary/50",children:n.jsx(Hl,{className:"w-5 h-5 text-white group-hover:rotate-90 transition-transform duration-300",strokeWidth:3})})}),n.jsx(hi,{icon:uv,onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),label:"Home"}),n.jsx(hi,{icon:dv,onClick:o,label:"Menu"})]})})]})},hi=({icon:s,onClick:o,label:u})=>{const{trigger:c}=ka();return n.jsx("button",{onClick:()=>{c("light"),o?.()},className:"group flex flex-col items-center justify-center w-10 h-10 rounded-full hover:bg-primary-foreground/10 transition-colors active:scale-90 outline-none","aria-label":u,children:n.jsx(s,{className:"w-5 h-5 text-primary-foreground/60 group-hover:text-primary-foreground transition-colors",strokeWidth:2})})},rt=Qu(s=>({toasts:[],addToast:(o,u,c)=>{const d=Math.random().toString(36).substring(2,9);s(m=>({toasts:[...m.toasts,{id:d,type:o,title:u,message:c}]})),setTimeout(()=>{s(m=>({toasts:m.toasts.filter(p=>p.id!==d)}))},3e3)},removeToast:o=>s(u=>({toasts:u.toasts.filter(c=>c.id!==o)})),alertConfig:{isOpen:!1,title:"",description:"",variant:"default",confirmLabel:"",cancelLabel:"",onConfirm:()=>{},onCancel:()=>{}},openAlert:o=>s(u=>({alertConfig:{...u.alertConfig,...o,isOpen:!0}})),closeAlert:()=>s(o=>({alertConfig:{...o.alertConfig,isOpen:!1}}))})),hl=()=>{const s=rt(u=>u.openAlert);return{confirm:u=>new Promise(c=>{s({...u,onConfirm:()=>c(!0),onCancel:()=>c(!1)})})}},Cb=({type:s,className:o})=>{const c={[K.CURTAIN]:Eu,[K.WALLPAPER]:Ti,[K.REMOVAL]:ku,[K.WOODEN_BLIND]:Fs,[K.ROLLER_BLIND]:Bu,[K.VERTICAL_BLIND]:Uu,[K.ALUMINUM_BLIND]:Fs,[K.PARTITION]:Zs,[K.PLEATED_SCREEN]:Zs,set:Eu}[s]||Vp;return n.jsx("div",{className:F("flex items-center justify-center",o),children:n.jsx(c,{className:"w-full h-full"})})},Eb=({item:s,index:o,roomId:u,onEdit:c})=>{const d=se(T=>T.removeItem),m=se(T=>T.duplicateItem),p=se(T=>T.updateItem),{confirm:h}=hl(),g=st.calculatePrice(s),{title:y,specs:w}=j.useMemo(()=>{const T=Vl[s.type],S=st.getItemSpecs(s).filter(R=>R&&R.trim()!=="");return{title:T?.name||"",specs:S.join("  ")}},[s]),v=async()=>{await h({title:"?",description:` "${y}" ?`,confirmLabel:"",variant:"destructive"})&&d(u,s.id)},N=()=>{p(u,s.id,{is_suspended:!s.is_suspended})};return n.jsxs("div",{className:F("group relative flex flex-col gap-3 rounded-2xl border bg-card p-4 transition-all duration-200",s.is_suspended?"opacity-60 grayscale border-dashed border-border":"border-border shadow-sm hover:shadow-md hover:border-primary/20"),children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",onClick:c,children:[n.jsx("div",{className:F("flex h-10 w-10 shrink-0 items-center justify-center rounded-xl transition-colors",s.is_suspended?"bg-muted text-muted-foreground":"bg-primary/5 text-primary"),children:n.jsx(Cb,{type:s.type,className:"h-5 w-5"})}),n.jsxs("div",{className:"flex flex-col min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-xs font-bold text-muted-foreground/70 tracking-wider uppercase",children:["#",o+1]}),n.jsx("span",{className:"font-semibold text-foreground truncate text-[15px]",children:y})]}),n.jsx("div",{className:"text-xs text-muted-foreground truncate mt-0.5 font-medium leading-relaxed",children:w||""}),s.notes&&n.jsxs("div",{className:"text-[11px] text-amber-600/90 mt-1 flex items-center gap-1 font-medium",children:[n.jsx("span",{className:"w-1 h-1 rounded-full bg-amber-500"}),s.notes]})]})]}),n.jsxs(Ai,{as:"div",className:"relative shrink-0",children:[n.jsx(Di,{className:"flex h-8 w-8 items-center justify-center rounded-lg text-muted-foreground hover:bg-muted hover:text-foreground transition-colors focus:outline-none",children:n.jsx(Ri,{className:"h-5 w-5"})}),n.jsx(xa,{as:W.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:n.jsxs(Mi,{className:"absolute right-0 z-20 mt-1 w-48 origin-top-right divide-y divide-border rounded-xl bg-popover p-1 shadow-xl ring-1 ring-black/5 focus:outline-none",children:[n.jsxs("div",{className:"px-1 py-1",children:[n.jsx(Lt,{children:({active:T})=>n.jsxs("button",{onClick:c,className:F("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",T?"bg-primary/10 text-primary":"text-foreground"),children:[n.jsx(fv,{className:"h-4 w-4"})," "]})}),n.jsx(Lt,{children:({active:T})=>n.jsxs("button",{onClick:()=>m(u,s.id),className:F("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",T?"bg-accent text-accent-foreground":"text-foreground"),children:[n.jsx(Xp,{className:"h-4 w-4"})," "]})})]}),n.jsxs("div",{className:"px-1 py-1",children:[n.jsx(Lt,{children:({active:T})=>n.jsxs("button",{onClick:N,className:F("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",T?"bg-warning/10 text-warning-foreground":"text-foreground"),children:[s.is_suspended?n.jsx(Hu,{className:"h-4 w-4"}):n.jsx(Gp,{className:"h-4 w-4"}),s.is_suspended?"":""]})}),n.jsx(Lt,{children:({active:T})=>n.jsxs("button",{onClick:v,className:F("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm text-destructive",T?"bg-destructive/10":""),children:[n.jsx(Gn,{className:"h-4 w-4"})," "]})})]})]})})]})]}),n.jsxs("div",{className:"flex items-center justify-between border-t border-border/50 pt-3 mt-1",onClick:c,children:[n.jsx("div",{className:"text-[11px] text-muted-foreground font-medium",children:""}),n.jsx("div",{className:F("text-lg font-bold font-mono tracking-tight",s.is_suspended?"text-muted-foreground line-through":"text-primary"),children:Re(g)})]})]})},Tb=({room:s,onAddItem:o,onEditItem:u,onOpenDefaults:c,className:d})=>{const[m,p]=j.useState(!0),h=se(A=>A.removeRoom),g=se(A=>A.duplicateRoom),y=se(A=>A.toggleRoomSuspension),{confirm:w}=hl(),v=j.useMemo(()=>s.is_suspended?0:s.items.filter(A=>!A.is_suspended).reduce((A,S)=>A+st.calculatePrice(S),0),[s.items,s.is_suspended]),N=s.items.length,T=async()=>{await w({title:` "${s.name}"?`,description:"",confirmLabel:"",variant:"destructive"})&&h(s.id)};return n.jsxs("div",{className:F("flex flex-col gap-4",d),children:[n.jsx("div",{className:F("rounded-2xl border transition-all duration-300 bg-card",m?"border-primary/20 shadow-sm":"border-border opacity-80",s.is_suspended&&"grayscale opacity-60 border-dashed"),children:n.jsx("div",{className:"p-1",children:n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-muted/30 hover:bg-muted/50 transition-colors",children:[n.jsxs("button",{onClick:()=>p(!m),className:"flex items-center gap-3 flex-1 text-left min-w-0",children:[n.jsx("div",{className:F("h-8 w-8 shrink-0 rounded-lg flex items-center justify-center transition-transform duration-300 text-muted-foreground bg-background border border-border/50",m&&"rotate-180 text-primary border-primary/20 bg-primary/5"),children:n.jsx(Qp,{className:"w-5 h-5"})}),n.jsxs("div",{className:"min-w-0 flex-1 pr-2",children:[n.jsx("h3",{className:F("font-bold text-[17px] truncate",s.is_suspended&&"line-through text-muted-foreground"),children:s.name}),n.jsxs("div",{className:"text-xs text-muted-foreground font-medium mt-0.5 truncate",children:[N,"   ",n.jsx("span",{className:"text-emerald-600 dark:text-emerald-400",children:Re(v)})]})]})]}),n.jsxs(Ai,{as:"div",className:"relative z-10 shrink-0",children:[n.jsx(Di,{className:"p-2 rounded-lg text-muted-foreground hover:bg-background hover:text-foreground transition-colors focus:outline-none focus:ring-2 focus:ring-primary/20",children:n.jsx(Ri,{className:"w-5 h-5"})}),n.jsx(xa,{as:W.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:n.jsxs(Mi,{className:"absolute right-0 z-50 mt-2 w-48 origin-top-right divide-y divide-border rounded-xl bg-popover p-1 shadow-xl ring-1 ring-black/5 focus:outline-none border border-border/50",children:[n.jsxs("div",{className:"p-1",children:[n.jsx(Lt,{children:({active:A})=>n.jsxs("button",{onClick:()=>c(s.id),className:F("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",A?"bg-primary/10 text-primary":"text-foreground"),children:[n.jsx(Zp,{className:"w-4 h-4"})," "]})}),n.jsx(Lt,{children:({active:A})=>n.jsxs("button",{onClick:()=>g(s.id),className:F("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",A?"bg-accent":"text-foreground"),children:[n.jsx(Xp,{className:"w-4 h-4"})," "]})}),n.jsx(Lt,{children:({active:A})=>n.jsxs("button",{onClick:()=>y(s.id),className:F("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",A?"bg-warning/10 text-warning-foreground":"text-foreground"),children:[s.is_suspended?n.jsx(Hu,{className:"w-4 h-4"}):n.jsx(Gp,{className:"w-4 h-4"}),s.is_suspended?"":""]})})]}),n.jsx("div",{className:"p-1",children:n.jsx(Lt,{children:({active:A})=>n.jsxs("button",{onClick:T,className:F("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm text-destructive",A?"bg-destructive/10":""),children:[n.jsx(Gn,{className:"w-4 h-4"})," "]})})})]})})]})]})})}),m&&!s.is_suspended&&n.jsxs("div",{className:"space-y-3 animate-fade-in pl-2 border-l-2 border-border/40 ml-4 pb-2",children:[s.items.map((A,S)=>n.jsx(Eb,{item:A,index:S,roomId:s.id,onEdit:()=>u(s.id,A)},A.id)),n.jsxs("button",{onClick:()=>o(s.id),className:"w-full group flex flex-col items-center justify-center gap-2 h-24 rounded-2xl border-2 border-dashed border-border/60 hover:border-primary/50 bg-muted/20 hover:bg-primary/5 transition-all active:scale-[0.99]",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-background border border-border group-hover:border-primary group-hover:text-primary flex items-center justify-center shadow-sm transition-colors",children:n.jsx(Hl,{className:"w-6 h-6"})}),n.jsx("span",{className:"text-sm font-medium text-muted-foreground group-hover:text-primary",children:""})]})]})]})},Ab=({rooms:s,onAddItem:o,onEditItem:u,onOpenDefaults:c})=>{const d=j.useRef(null),[m,p]=j.useState(0),{trigger:h}=ka(),g=se(v=>v.addRoom);j.useEffect(()=>{const v=d.current;if(!v)return;const N=new IntersectionObserver(A=>{A.forEach(S=>{if(S.isIntersecting){const R=Number(S.target.getAttribute("data-index"));isNaN(R)||p(C=>C!==R?(h("selection"),R):C)}})},{root:v,threshold:.6});return v.querySelectorAll(".room-slide").forEach(A=>N.observe(A)),()=>N.disconnect()},[s.length,h]);const y=v=>{const N=d.current;if(!N)return;const T=Math.max(0,Math.min(v,s.length)),A=N.clientWidth;N.scrollTo({left:T*A,behavior:"smooth"})},w=()=>{h("medium"),g(),setTimeout(()=>y(s.length),100)};return n.jsxs("div",{className:"relative w-full",children:[n.jsx("div",{className:"sticky top-0 z-10 flex justify-center py-2 mb-2",children:n.jsxs("div",{className:"flex items-center gap-1.5 bg-black/10 dark:bg-white/10 backdrop-blur-md px-3 py-1.5 rounded-full border border-white/5 shadow-sm",children:[s.map((v,N)=>n.jsx("button",{onClick:()=>y(N),className:F("w-2 h-2 rounded-full transition-all duration-300",m===N?"bg-primary w-6":"bg-muted-foreground/30 hover:bg-muted-foreground/60")},`dot-${N}`)),n.jsx("div",{className:F("w-2 h-2 rounded-full transition-all duration-300",m===s.length?"bg-primary w-6":"bg-muted-foreground/30")})]})}),n.jsxs("div",{ref:d,className:F("flex overflow-x-auto snap-x snap-mandatory scrollbar-hide pb-4","overflow-y-hidden"),style:{scrollBehavior:"smooth"},children:[s.map((v,N)=>n.jsx("div",{"data-index":N,className:"room-slide min-w-full px-1 snap-center",children:n.jsx("div",{className:F("transition-all duration-500 ease-out h-full",m===N?"scale-100 opacity-100":"scale-[0.96] opacity-70 blur-[1px]"),children:n.jsx(Tb,{room:v,index:N,totalRooms:s.length,onAddItem:o,onEditItem:u,onOpenDefaults:c})})},v.id)),n.jsx("div",{"data-index":s.length,className:"room-slide min-w-full px-1 snap-center flex",children:n.jsxs("button",{onClick:w,className:F("w-full rounded-2xl border-2 border-dashed border-muted-foreground/20","flex flex-col items-center justify-center gap-4 min-h-[300px]","bg-muted/5 hover:bg-muted/10 active:scale-[0.98] transition-all","text-muted-foreground hover:text-primary group",m===s.length?"scale-100 opacity-100":"scale-[0.96] opacity-70"),children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-background shadow-sm border border-border flex items-center justify-center group-hover:shadow-md group-hover:scale-110 transition-all duration-300",children:n.jsx(Hl,{className:"w-8 h-8 text-primary/50 group-hover:text-primary"})}),n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-lg font-bold group-hover:text-primary transition-colors",children:""}),n.jsx("p",{className:"text-sm opacity-60",children:"Add New Room"})]})]})})]}),n.jsxs("div",{className:"hidden sm:block",children:[m>0&&n.jsx("button",{onClick:()=>y(m-1),className:"absolute top-1/2 -left-4 -translate-y-1/2 p-2 rounded-full bg-background border border-border shadow-lg hover:bg-accent transition-colors z-20",children:n.jsx(Fp,{className:"w-5 h-5"})}),m<s.length&&n.jsx("button",{onClick:()=>y(m+1),className:"absolute top-1/2 -right-4 -translate-y-1/2 p-2 rounded-full bg-background border border-border shadow-lg hover:bg-accent transition-colors z-20",children:n.jsx(Xn,{className:"w-5 h-5"})})]})]})},sx=Qu()(lx(s=>({theme:"light",toggleTheme:()=>s(o=>{const u=o.theme==="light"?"dark":"light";return mu(u),{theme:u}}),setTheme:o=>{mu(o),s({theme:o})}}),{name:"marnthara-theme",storage:Zu(()=>localStorage),onRehydrateStorage:()=>s=>{s&&mu(s.theme)}})),mu=s=>{const o=window.document.documentElement;o.classList.remove("light","dark"),o.classList.add(s);const u=document.querySelector('meta[name="theme-color"]');u&&u.setAttribute("content",s==="dark"?"#0D0814":"#FBFBFE")},Db=({toast:s,onDismiss:o})=>{const u={success:n.jsx("div",{className:"bg-success rounded-full p-1",children:n.jsx(Vn,{className:"w-3 h-3 text-white",strokeWidth:4})}),error:n.jsx(Oi,{className:"w-5 h-5 text-destructive"}),warning:n.jsx(Ql,{className:"w-5 h-5 text-warning"}),info:n.jsx(mv,{className:"w-5 h-5 text-info"})};return n.jsx(xa,{show:!0,appear:!0,enter:"transform ease-out duration-300 transition",enterFrom:"translate-y-[-150%] opacity-0 scale-90",enterTo:"translate-y-0 opacity-100 scale-100",leave:"transition ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:n.jsxs("div",{className:F("pointer-events-auto flex items-center gap-3 px-4 py-3 shadow-2xl mb-3 cursor-pointer select-none","bg-primary/95 backdrop-blur-md border border-primary-foreground/10","rounded-full min-w-[200px] max-w-[90vw]","text-primary-foreground"),onClick:()=>o(s.id),children:[n.jsx("div",{className:"shrink-0 flex items-center",children:u[s.type]}),n.jsxs("div",{className:"flex-1 min-w-0 text-center sm:text-left mr-2",children:[n.jsx("p",{className:"text-[14px] font-semibold leading-tight tracking-tight",children:s.title}),s.message&&n.jsx("p",{className:"text-[12px] text-primary-foreground/70 mt-0.5 truncate max-w-[240px]",children:s.message})]})]})})},Rb=()=>{const s=rt(u=>u.toasts),o=rt(u=>u.removeToast);return s.length===0?null:Kp.createPortal(n.jsx("div",{className:"fixed top-6 left-0 right-0 z-[100] flex flex-col items-center pointer-events-none px-4",children:s.map(u=>n.jsx(Db,{toast:u,onDismiss:o},u.id))}),document.body)},de=({className:s,variant:o="primary",size:u="md",disableHaptic:c=!1,onClick:d,ref:m,...p})=>{const{trigger:h}=ka(),g=v=>{c||h(o==="destructive"?"warning":"light"),d?.(v)},y={primary:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md shadow-primary/20 border border-transparent active:scale-[0.98]",secondary:"bg-secondary text-secondary-foreground border border-transparent hover:bg-secondary/80 active:scale-[0.98]",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground active:scale-[0.98]",ghost:"hover:bg-accent hover:text-accent-foreground border border-transparent active:scale-[0.98]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 border border-transparent shadow-sm active:scale-[0.98]"},w={sm:"h-9 px-3 text-xs rounded-lg",md:"h-12 px-5 py-2 rounded-xl text-base font-medium",lg:"h-14 px-8 rounded-2xl text-lg font-bold",icon:"h-12 w-12 p-0 rounded-xl flex items-center justify-center"};return n.jsx("button",{ref:m,onClick:g,className:F("inline-flex items-center justify-center whitespace-nowrap transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 select-none",y[o],w[u],s),...p})},Mb=()=>{const{isOpen:s,title:o,description:u,variant:c,confirmLabel:d,cancelLabel:m,onConfirm:p,onCancel:h}=rt(w=>w.alertConfig),g=rt(w=>w.closeAlert),y=w=>{g(),w?p():h()};return n.jsx(xa,{show:s,as:j.Fragment,children:n.jsxs(zi,{onClose:()=>y(!1),className:"relative z-[110]",children:[n.jsx(ml,{as:j.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:n.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-[2px]"})}),n.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:n.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:n.jsx(ml,{as:j.Fragment,enter:"ease-ios duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:n.jsxs(Li,{className:"w-full max-w-sm transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c==="destructive"&&n.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:n.jsx(Ql,{className:"w-5 h-5 text-red-600"})}),n.jsx("div",{children:n.jsx(qu,{as:"h3",className:"text-lg font-bold leading-6 text-slate-900",children:o})})]}),n.jsx("div",{className:"mt-2",children:n.jsx("p",{className:"text-sm text-slate-500",children:u})}),n.jsxs("div",{className:"mt-6 flex gap-3 justify-end",children:[n.jsx(de,{variant:"ghost",onClick:()=>y(!1),children:m}),n.jsx(de,{variant:c==="destructive"?"destructive":"primary",onClick:()=>y(!0),children:d})]})]})})})})]})})};function fl(s,o,{checkForDefaultPrevented:u=!0}={}){return function(d){if(s?.(d),u===!1||!d.defaultPrevented)return o?.(d)}}function dp(s,o){if(typeof s=="function")return s(o);s!=null&&(s.current=o)}function rx(...s){return o=>{let u=!1;const c=s.map(d=>{const m=dp(d,o);return!u&&typeof m=="function"&&(u=!0),m});if(u)return()=>{for(let d=0;d<c.length;d++){const m=c[d];typeof m=="function"?m():dp(s[d],null)}}}}function Zl(...s){return j.useCallback(rx(...s),s)}function Ob(s,o){const u=j.createContext(o),c=m=>{const{children:p,...h}=m,g=j.useMemo(()=>h,Object.values(h));return n.jsx(u.Provider,{value:g,children:p})};c.displayName=s+"Provider";function d(m){const p=j.useContext(u);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[c,d]}function zb(s,o=[]){let u=[];function c(m,p){const h=j.createContext(p),g=u.length;u=[...u,p];const y=v=>{const{scope:N,children:T,...A}=v,S=N?.[s]?.[g]||h,R=j.useMemo(()=>A,Object.values(A));return n.jsx(S.Provider,{value:R,children:T})};y.displayName=m+"Provider";function w(v,N){const T=N?.[s]?.[g]||h,A=j.useContext(T);if(A)return A;if(p!==void 0)return p;throw new Error(`\`${v}\` must be used within \`${m}\``)}return[y,w]}const d=()=>{const m=u.map(p=>j.createContext(p));return function(h){const g=h?.[s]||m;return j.useMemo(()=>({[`__scope${s}`]:{...h,[s]:g}}),[h,g])}};return d.scopeName=s,[c,Lb(d,...o)]}function Lb(...s){const o=s[0];if(s.length===1)return o;const u=()=>{const c=s.map(d=>({useScope:d(),scopeName:d.scopeName}));return function(m){const p=c.reduce((h,{useScope:g,scopeName:y})=>{const v=g(m)[`__scope${y}`];return{...h,...v}},{});return j.useMemo(()=>({[`__scope${o.scopeName}`]:p}),[p])}};return u.scopeName=o.scopeName,u}var Ks=globalThis?.document?j.useLayoutEffect:()=>{},Ub=Ip[" useId ".trim().toString()]||(()=>{}),Bb=0;function hu(s){const[o,u]=j.useState(Ub());return Ks(()=>{u(c=>c??String(Bb++))},[s]),s||(o?`radix-${o}`:"")}var kb=Ip[" useInsertionEffect ".trim().toString()]||Ks;function Hb({prop:s,defaultProp:o,onChange:u=()=>{},caller:c}){const[d,m,p]=qb({defaultProp:o,onChange:u}),h=s!==void 0,g=h?s:d;{const w=j.useRef(s!==void 0);j.useEffect(()=>{const v=w.current;v!==h&&console.warn(`${c} is changing from ${v?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),w.current=h},[h,c])}const y=j.useCallback(w=>{if(h){const v=Yb(w)?w(s):w;v!==s&&p.current?.(v)}else m(w)},[h,s,m,p]);return[g,y]}function qb({defaultProp:s,onChange:o}){const[u,c]=j.useState(s),d=j.useRef(u),m=j.useRef(o);return kb(()=>{m.current=o},[o]),j.useEffect(()=>{d.current!==u&&(m.current?.(u),d.current=u)},[u,d]),[u,c,m]}function Yb(s){return typeof s=="function"}function ix(s){const o=Vb(s),u=j.forwardRef((c,d)=>{const{children:m,...p}=c,h=j.Children.toArray(m),g=h.find(Gb);if(g){const y=g.props.children,w=h.map(v=>v===g?j.Children.count(y)>1?j.Children.only(null):j.isValidElement(y)?y.props.children:null:v);return n.jsx(o,{...p,ref:d,children:j.isValidElement(y)?j.cloneElement(y,void 0,w):null})}return n.jsx(o,{...p,ref:d,children:m})});return u.displayName=`${s}.Slot`,u}function Vb(s){const o=j.forwardRef((u,c)=>{const{children:d,...m}=u;if(j.isValidElement(d)){const p=Zb(d),h=Qb(m,d.props);return d.type!==j.Fragment&&(h.ref=c?rx(c,p):p),j.cloneElement(d,h)}return j.Children.count(d)>1?j.Children.only(null):null});return o.displayName=`${s}.SlotClone`,o}var Xb=Symbol("radix.slottable");function Gb(s){return j.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===Xb}function Qb(s,o){const u={...o};for(const c in o){const d=s[c],m=o[c];/^on[A-Z]/.test(c)?d&&m?u[c]=(...h)=>{const g=m(...h);return d(...h),g}:d&&(u[c]=d):c==="style"?u[c]={...d,...m}:c==="className"&&(u[c]=[d,m].filter(Boolean).join(" "))}return{...s,...u}}function Zb(s){let o=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,u=o&&"isReactWarning"in o&&o.isReactWarning;return u?s.ref:(o=Object.getOwnPropertyDescriptor(s,"ref")?.get,u=o&&"isReactWarning"in o&&o.isReactWarning,u?s.props.ref:s.props.ref||s.ref)}var Fb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ha=Fb.reduce((s,o)=>{const u=ix(`Primitive.${o}`),c=j.forwardRef((d,m)=>{const{asChild:p,...h}=d,g=p?u:o;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(g,{...h,ref:m})});return c.displayName=`Primitive.${o}`,{...s,[o]:c}},{});function Kb(s,o){s&&Kp.flushSync(()=>s.dispatchEvent(o))}function Is(s){const o=j.useRef(s);return j.useEffect(()=>{o.current=s}),j.useMemo(()=>(...u)=>o.current?.(...u),[])}function Ib(s,o=globalThis?.document){const u=Is(s);j.useEffect(()=>{const c=d=>{d.key==="Escape"&&u(d)};return o.addEventListener("keydown",c,{capture:!0}),()=>o.removeEventListener("keydown",c,{capture:!0})},[u,o])}var Jb="DismissableLayer",Mu="dismissableLayer.update",$b="dismissableLayer.pointerDownOutside",Wb="dismissableLayer.focusOutside",fp,cx=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ox=j.forwardRef((s,o)=>{const{disableOutsidePointerEvents:u=!1,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:m,onInteractOutside:p,onDismiss:h,...g}=s,y=j.useContext(cx),[w,v]=j.useState(null),N=w?.ownerDocument??globalThis?.document,[,T]=j.useState({}),A=Zl(o,k=>v(k)),S=Array.from(y.layers),[R]=[...y.layersWithOutsidePointerEventsDisabled].slice(-1),C=S.indexOf(R),B=w?S.indexOf(w):-1,M=y.layersWithOutsidePointerEventsDisabled.size>0,E=B>=C,b=ty(k=>{const G=k.target,I=[...y.branches].some(P=>P.contains(G));!E||I||(d?.(k),p?.(k),k.defaultPrevented||h?.())},N),z=ay(k=>{const G=k.target;[...y.branches].some(P=>P.contains(G))||(m?.(k),p?.(k),k.defaultPrevented||h?.())},N);return Ib(k=>{B===y.layers.size-1&&(c?.(k),!k.defaultPrevented&&h&&(k.preventDefault(),h()))},N),j.useEffect(()=>{if(w)return u&&(y.layersWithOutsidePointerEventsDisabled.size===0&&(fp=N.body.style.pointerEvents,N.body.style.pointerEvents="none"),y.layersWithOutsidePointerEventsDisabled.add(w)),y.layers.add(w),mp(),()=>{u&&y.layersWithOutsidePointerEventsDisabled.size===1&&(N.body.style.pointerEvents=fp)}},[w,N,u,y]),j.useEffect(()=>()=>{w&&(y.layers.delete(w),y.layersWithOutsidePointerEventsDisabled.delete(w),mp())},[w,y]),j.useEffect(()=>{const k=()=>T({});return document.addEventListener(Mu,k),()=>document.removeEventListener(Mu,k)},[]),n.jsx(Ha.div,{...g,ref:A,style:{pointerEvents:M?E?"auto":"none":void 0,...s.style},onFocusCapture:fl(s.onFocusCapture,z.onFocusCapture),onBlurCapture:fl(s.onBlurCapture,z.onBlurCapture),onPointerDownCapture:fl(s.onPointerDownCapture,b.onPointerDownCapture)})});ox.displayName=Jb;var Pb="DismissableLayerBranch",ey=j.forwardRef((s,o)=>{const u=j.useContext(cx),c=j.useRef(null),d=Zl(o,c);return j.useEffect(()=>{const m=c.current;if(m)return u.branches.add(m),()=>{u.branches.delete(m)}},[u.branches]),n.jsx(Ha.div,{...s,ref:d})});ey.displayName=Pb;function ty(s,o=globalThis?.document){const u=Is(s),c=j.useRef(!1),d=j.useRef(()=>{});return j.useEffect(()=>{const m=h=>{if(h.target&&!c.current){let g=function(){ux($b,u,y,{discrete:!0})};const y={originalEvent:h};h.pointerType==="touch"?(o.removeEventListener("click",d.current),d.current=g,o.addEventListener("click",d.current,{once:!0})):g()}else o.removeEventListener("click",d.current);c.current=!1},p=window.setTimeout(()=>{o.addEventListener("pointerdown",m)},0);return()=>{window.clearTimeout(p),o.removeEventListener("pointerdown",m),o.removeEventListener("click",d.current)}},[o,u]),{onPointerDownCapture:()=>c.current=!0}}function ay(s,o=globalThis?.document){const u=Is(s),c=j.useRef(!1);return j.useEffect(()=>{const d=m=>{m.target&&!c.current&&ux(Wb,u,{originalEvent:m},{discrete:!1})};return o.addEventListener("focusin",d),()=>o.removeEventListener("focusin",d)},[o,u]),{onFocusCapture:()=>c.current=!0,onBlurCapture:()=>c.current=!1}}function mp(){const s=new CustomEvent(Mu);document.dispatchEvent(s)}function ux(s,o,u,{discrete:c}){const d=u.originalEvent.target,m=new CustomEvent(s,{bubbles:!1,cancelable:!0,detail:u});o&&d.addEventListener(s,o,{once:!0}),c?Kb(d,m):d.dispatchEvent(m)}var pu="focusScope.autoFocusOnMount",xu="focusScope.autoFocusOnUnmount",hp={bubbles:!1,cancelable:!0},ly="FocusScope",dx=j.forwardRef((s,o)=>{const{loop:u=!1,trapped:c=!1,onMountAutoFocus:d,onUnmountAutoFocus:m,...p}=s,[h,g]=j.useState(null),y=Is(d),w=Is(m),v=j.useRef(null),N=Zl(o,S=>g(S)),T=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(c){let S=function(M){if(T.paused||!h)return;const E=M.target;h.contains(E)?v.current=E:dl(v.current,{select:!0})},R=function(M){if(T.paused||!h)return;const E=M.relatedTarget;E!==null&&(h.contains(E)||dl(v.current,{select:!0}))},C=function(M){if(document.activeElement===document.body)for(const b of M)b.removedNodes.length>0&&dl(h)};document.addEventListener("focusin",S),document.addEventListener("focusout",R);const B=new MutationObserver(C);return h&&B.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",R),B.disconnect()}}},[c,h,T.paused]),j.useEffect(()=>{if(h){xp.add(T);const S=document.activeElement;if(!h.contains(S)){const C=new CustomEvent(pu,hp);h.addEventListener(pu,y),h.dispatchEvent(C),C.defaultPrevented||(ny(oy(fx(h)),{select:!0}),document.activeElement===S&&dl(h))}return()=>{h.removeEventListener(pu,y),setTimeout(()=>{const C=new CustomEvent(xu,hp);h.addEventListener(xu,w),h.dispatchEvent(C),C.defaultPrevented||dl(S??document.body,{select:!0}),h.removeEventListener(xu,w),xp.remove(T)},0)}}},[h,y,w,T]);const A=j.useCallback(S=>{if(!u&&!c||T.paused)return;const R=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,C=document.activeElement;if(R&&C){const B=S.currentTarget,[M,E]=sy(B);M&&E?!S.shiftKey&&C===E?(S.preventDefault(),u&&dl(M,{select:!0})):S.shiftKey&&C===M&&(S.preventDefault(),u&&dl(E,{select:!0})):C===B&&S.preventDefault()}},[u,c,T.paused]);return n.jsx(Ha.div,{tabIndex:-1,...p,ref:N,onKeyDown:A})});dx.displayName=ly;function ny(s,{select:o=!1}={}){const u=document.activeElement;for(const c of s)if(dl(c,{select:o}),document.activeElement!==u)return}function sy(s){const o=fx(s),u=pp(o,s),c=pp(o.reverse(),s);return[u,c]}function fx(s){const o=[],u=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:c=>{const d=c.tagName==="INPUT"&&c.type==="hidden";return c.disabled||c.hidden||d?NodeFilter.FILTER_SKIP:c.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;u.nextNode();)o.push(u.currentNode);return o}function pp(s,o){for(const u of s)if(!ry(u,{upTo:o}))return u}function ry(s,{upTo:o}){if(getComputedStyle(s).visibility==="hidden")return!0;for(;s;){if(o!==void 0&&s===o)return!1;if(getComputedStyle(s).display==="none")return!0;s=s.parentElement}return!1}function iy(s){return s instanceof HTMLInputElement&&"select"in s}function dl(s,{select:o=!1}={}){if(s&&s.focus){const u=document.activeElement;s.focus({preventScroll:!0}),s!==u&&iy(s)&&o&&s.select()}}var xp=cy();function cy(){let s=[];return{add(o){const u=s[0];o!==u&&u?.pause(),s=gp(s,o),s.unshift(o)},remove(o){s=gp(s,o),s[0]?.resume()}}}function gp(s,o){const u=[...s],c=u.indexOf(o);return c!==-1&&u.splice(c,1),u}function oy(s){return s.filter(o=>o.tagName!=="A")}var uy="Portal",mx=j.forwardRef((s,o)=>{const{container:u,...c}=s,[d,m]=j.useState(!1);Ks(()=>m(!0),[]);const p=u||d&&globalThis?.document?.body;return p?hv.createPortal(n.jsx(Ha.div,{...c,ref:o}),p):null});mx.displayName=uy;function dy(s,o){return j.useReducer((u,c)=>o[u][c]??u,s)}var Xi=s=>{const{present:o,children:u}=s,c=fy(o),d=typeof u=="function"?u({present:c.isPresent}):j.Children.only(u),m=Zl(c.ref,my(d));return typeof u=="function"||c.isPresent?j.cloneElement(d,{ref:m}):null};Xi.displayName="Presence";function fy(s){const[o,u]=j.useState(),c=j.useRef(null),d=j.useRef(s),m=j.useRef("none"),p=s?"mounted":"unmounted",[h,g]=dy(p,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const y=pi(c.current);m.current=h==="mounted"?y:"none"},[h]),Ks(()=>{const y=c.current,w=d.current;if(w!==s){const N=m.current,T=pi(y);s?g("MOUNT"):T==="none"||y?.display==="none"?g("UNMOUNT"):g(w&&N!==T?"ANIMATION_OUT":"UNMOUNT"),d.current=s}},[s,g]),Ks(()=>{if(o){let y;const w=o.ownerDocument.defaultView??window,v=T=>{const S=pi(c.current).includes(CSS.escape(T.animationName));if(T.target===o&&S&&(g("ANIMATION_END"),!d.current)){const R=o.style.animationFillMode;o.style.animationFillMode="forwards",y=w.setTimeout(()=>{o.style.animationFillMode==="forwards"&&(o.style.animationFillMode=R)})}},N=T=>{T.target===o&&(m.current=pi(c.current))};return o.addEventListener("animationstart",N),o.addEventListener("animationcancel",v),o.addEventListener("animationend",v),()=>{w.clearTimeout(y),o.removeEventListener("animationstart",N),o.removeEventListener("animationcancel",v),o.removeEventListener("animationend",v)}}else g("ANIMATION_END")},[o,g]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:j.useCallback(y=>{c.current=y?getComputedStyle(y):null,u(y)},[])}}function pi(s){return s?.animationName||"none"}function my(s){let o=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,u=o&&"isReactWarning"in o&&o.isReactWarning;return u?s.ref:(o=Object.getOwnPropertyDescriptor(s,"ref")?.get,u=o&&"isReactWarning"in o&&o.isReactWarning,u?s.props.ref:s.props.ref||s.ref)}var gu=0;function hy(){j.useEffect(()=>{const s=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",s[0]??vp()),document.body.insertAdjacentElement("beforeend",s[1]??vp()),gu++,()=>{gu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(o=>o.remove()),gu--}},[])}function vp(){const s=document.createElement("span");return s.setAttribute("data-radix-focus-guard",""),s.tabIndex=0,s.style.outline="none",s.style.opacity="0",s.style.position="fixed",s.style.pointerEvents="none",s}var ha=function(){return ha=Object.assign||function(o){for(var u,c=1,d=arguments.length;c<d;c++){u=arguments[c];for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(o[m]=u[m])}return o},ha.apply(this,arguments)};function hx(s,o){var u={};for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&o.indexOf(c)<0&&(u[c]=s[c]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,c=Object.getOwnPropertySymbols(s);d<c.length;d++)o.indexOf(c[d])<0&&Object.prototype.propertyIsEnumerable.call(s,c[d])&&(u[c[d]]=s[c[d]]);return u}function py(s,o,u){if(u||arguments.length===2)for(var c=0,d=o.length,m;c<d;c++)(m||!(c in o))&&(m||(m=Array.prototype.slice.call(o,0,c)),m[c]=o[c]);return s.concat(m||Array.prototype.slice.call(o))}var ji="right-scroll-bar-position",wi="width-before-scroll-bar",xy="with-scroll-bars-hidden",gy="--removed-body-scroll-bar-size";function vu(s,o){return typeof s=="function"?s(o):s&&(s.current=o),s}function vy(s,o){var u=j.useState(function(){return{value:s,callback:o,facade:{get current(){return u.value},set current(c){var d=u.value;d!==c&&(u.value=c,u.callback(c,d))}}}})[0];return u.callback=o,u.facade}var by=typeof window<"u"?j.useLayoutEffect:j.useEffect,bp=new WeakMap;function yy(s,o){var u=vy(null,function(c){return s.forEach(function(d){return vu(d,c)})});return by(function(){var c=bp.get(u);if(c){var d=new Set(c),m=new Set(s),p=u.current;d.forEach(function(h){m.has(h)||vu(h,null)}),m.forEach(function(h){d.has(h)||vu(h,p)})}bp.set(u,s)},[s]),u}function Ny(s){return s}function jy(s,o){o===void 0&&(o=Ny);var u=[],c=!1,d={read:function(){if(c)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return u.length?u[u.length-1]:s},useMedium:function(m){var p=o(m,c);return u.push(p),function(){u=u.filter(function(h){return h!==p})}},assignSyncMedium:function(m){for(c=!0;u.length;){var p=u;u=[],p.forEach(m)}u={push:function(h){return m(h)},filter:function(){return u}}},assignMedium:function(m){c=!0;var p=[];if(u.length){var h=u;u=[],h.forEach(m),p=u}var g=function(){var w=p;p=[],w.forEach(m)},y=function(){return Promise.resolve().then(g)};y(),u={push:function(w){p.push(w),y()},filter:function(w){return p=p.filter(w),u}}}};return d}function wy(s){s===void 0&&(s={});var o=jy(null);return o.options=ha({async:!0,ssr:!1},s),o}var px=function(s){var o=s.sideCar,u=hx(s,["sideCar"]);if(!o)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var c=o.read();if(!c)throw new Error("Sidecar medium not found");return j.createElement(c,ha({},u))};px.isSideCarExport=!0;function _y(s,o){return s.useMedium(o),px}var xx=wy(),bu=function(){},Gi=j.forwardRef(function(s,o){var u=j.useRef(null),c=j.useState({onScrollCapture:bu,onWheelCapture:bu,onTouchMoveCapture:bu}),d=c[0],m=c[1],p=s.forwardProps,h=s.children,g=s.className,y=s.removeScrollBar,w=s.enabled,v=s.shards,N=s.sideCar,T=s.noRelative,A=s.noIsolation,S=s.inert,R=s.allowPinchZoom,C=s.as,B=C===void 0?"div":C,M=s.gapMode,E=hx(s,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=N,z=yy([u,o]),k=ha(ha({},E),d);return j.createElement(j.Fragment,null,w&&j.createElement(b,{sideCar:xx,removeScrollBar:y,shards:v,noRelative:T,noIsolation:A,inert:S,setCallbacks:m,allowPinchZoom:!!R,lockRef:u,gapMode:M}),p?j.cloneElement(j.Children.only(h),ha(ha({},k),{ref:z})):j.createElement(B,ha({},k,{className:g,ref:z}),h))});Gi.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gi.classNames={fullWidth:wi,zeroRight:ji};var Sy=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Cy(){if(!document)return null;var s=document.createElement("style");s.type="text/css";var o=Sy();return o&&s.setAttribute("nonce",o),s}function Ey(s,o){s.styleSheet?s.styleSheet.cssText=o:s.appendChild(document.createTextNode(o))}function Ty(s){var o=document.head||document.getElementsByTagName("head")[0];o.appendChild(s)}var Ay=function(){var s=0,o=null;return{add:function(u){s==0&&(o=Cy())&&(Ey(o,u),Ty(o)),s++},remove:function(){s--,!s&&o&&(o.parentNode&&o.parentNode.removeChild(o),o=null)}}},Dy=function(){var s=Ay();return function(o,u){j.useEffect(function(){return s.add(o),function(){s.remove()}},[o&&u])}},gx=function(){var s=Dy(),o=function(u){var c=u.styles,d=u.dynamic;return s(c,d),null};return o},Ry={left:0,top:0,right:0,gap:0},yu=function(s){return parseInt(s||"",10)||0},My=function(s){var o=window.getComputedStyle(document.body),u=o[s==="padding"?"paddingLeft":"marginLeft"],c=o[s==="padding"?"paddingTop":"marginTop"],d=o[s==="padding"?"paddingRight":"marginRight"];return[yu(u),yu(c),yu(d)]},Oy=function(s){if(s===void 0&&(s="margin"),typeof window>"u")return Ry;var o=My(s),u=document.documentElement.clientWidth,c=window.innerWidth;return{left:o[0],top:o[1],right:o[2],gap:Math.max(0,c-u+o[2]-o[0])}},zy=gx(),qn="data-scroll-locked",Ly=function(s,o,u,c){var d=s.left,m=s.top,p=s.right,h=s.gap;return u===void 0&&(u="margin"),`
  .`.concat(xy,` {
   overflow: hidden `).concat(c,`;
   padding-right: `).concat(h,"px ").concat(c,`;
  }
  body[`).concat(qn,`] {
    overflow: hidden `).concat(c,`;
    overscroll-behavior: contain;
    `).concat([o&&"position: relative ".concat(c,";"),u==="margin"&&`
    padding-left: `.concat(d,`px;
    padding-top: `).concat(m,`px;
    padding-right: `).concat(p,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(c,`;
    `),u==="padding"&&"padding-right: ".concat(h,"px ").concat(c,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ji,` {
    right: `).concat(h,"px ").concat(c,`;
  }
  
  .`).concat(wi,` {
    margin-right: `).concat(h,"px ").concat(c,`;
  }
  
  .`).concat(ji," .").concat(ji,` {
    right: 0 `).concat(c,`;
  }
  
  .`).concat(wi," .").concat(wi,` {
    margin-right: 0 `).concat(c,`;
  }
  
  body[`).concat(qn,`] {
    `).concat(gy,": ").concat(h,`px;
  }
`)},yp=function(){var s=parseInt(document.body.getAttribute(qn)||"0",10);return isFinite(s)?s:0},Uy=function(){j.useEffect(function(){return document.body.setAttribute(qn,(yp()+1).toString()),function(){var s=yp()-1;s<=0?document.body.removeAttribute(qn):document.body.setAttribute(qn,s.toString())}},[])},By=function(s){var o=s.noRelative,u=s.noImportant,c=s.gapMode,d=c===void 0?"margin":c;Uy();var m=j.useMemo(function(){return Oy(d)},[d]);return j.createElement(zy,{styles:Ly(m,!o,d,u?"":"!important")})},Ou=!1;if(typeof window<"u")try{var xi=Object.defineProperty({},"passive",{get:function(){return Ou=!0,!0}});window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{Ou=!1}var Un=Ou?{passive:!1}:!1,ky=function(s){return s.tagName==="TEXTAREA"},vx=function(s,o){if(!(s instanceof Element))return!1;var u=window.getComputedStyle(s);return u[o]!=="hidden"&&!(u.overflowY===u.overflowX&&!ky(s)&&u[o]==="visible")},Hy=function(s){return vx(s,"overflowY")},qy=function(s){return vx(s,"overflowX")},Np=function(s,o){var u=o.ownerDocument,c=o;do{typeof ShadowRoot<"u"&&c instanceof ShadowRoot&&(c=c.host);var d=bx(s,c);if(d){var m=yx(s,c),p=m[1],h=m[2];if(p>h)return!0}c=c.parentNode}while(c&&c!==u.body);return!1},Yy=function(s){var o=s.scrollTop,u=s.scrollHeight,c=s.clientHeight;return[o,u,c]},Vy=function(s){var o=s.scrollLeft,u=s.scrollWidth,c=s.clientWidth;return[o,u,c]},bx=function(s,o){return s==="v"?Hy(o):qy(o)},yx=function(s,o){return s==="v"?Yy(o):Vy(o)},Xy=function(s,o){return s==="h"&&o==="rtl"?-1:1},Gy=function(s,o,u,c,d){var m=Xy(s,window.getComputedStyle(o).direction),p=m*c,h=u.target,g=o.contains(h),y=!1,w=p>0,v=0,N=0;do{if(!h)break;var T=yx(s,h),A=T[0],S=T[1],R=T[2],C=S-R-m*A;(A||C)&&bx(s,h)&&(v+=C,N+=A);var B=h.parentNode;h=B&&B.nodeType===Node.DOCUMENT_FRAGMENT_NODE?B.host:B}while(!g&&h!==document.body||g&&(o.contains(h)||o===h));return(w&&Math.abs(v)<1||!w&&Math.abs(N)<1)&&(y=!0),y},gi=function(s){return"changedTouches"in s?[s.changedTouches[0].clientX,s.changedTouches[0].clientY]:[0,0]},jp=function(s){return[s.deltaX,s.deltaY]},wp=function(s){return s&&"current"in s?s.current:s},Qy=function(s,o){return s[0]===o[0]&&s[1]===o[1]},Zy=function(s){return`
  .block-interactivity-`.concat(s,` {pointer-events: none;}
  .allow-interactivity-`).concat(s,` {pointer-events: all;}
`)},Fy=0,Bn=[];function Ky(s){var o=j.useRef([]),u=j.useRef([0,0]),c=j.useRef(),d=j.useState(Fy++)[0],m=j.useState(gx)[0],p=j.useRef(s);j.useEffect(function(){p.current=s},[s]),j.useEffect(function(){if(s.inert){document.body.classList.add("block-interactivity-".concat(d));var S=py([s.lockRef.current],(s.shards||[]).map(wp),!0).filter(Boolean);return S.forEach(function(R){return R.classList.add("allow-interactivity-".concat(d))}),function(){document.body.classList.remove("block-interactivity-".concat(d)),S.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(d))})}}},[s.inert,s.lockRef.current,s.shards]);var h=j.useCallback(function(S,R){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!p.current.allowPinchZoom;var C=gi(S),B=u.current,M="deltaX"in S?S.deltaX:B[0]-C[0],E="deltaY"in S?S.deltaY:B[1]-C[1],b,z=S.target,k=Math.abs(M)>Math.abs(E)?"h":"v";if("touches"in S&&k==="h"&&z.type==="range")return!1;var G=window.getSelection(),I=G&&G.anchorNode,P=I?I===z||I.contains(z):!1;if(P)return!1;var ie=Np(k,z);if(!ie)return!0;if(ie?b=k:(b=k==="v"?"h":"v",ie=Np(k,z)),!ie)return!1;if(!c.current&&"changedTouches"in S&&(M||E)&&(c.current=b),!b)return!0;var xe=c.current||b;return Gy(xe,R,S,xe==="h"?M:E)},[]),g=j.useCallback(function(S){var R=S;if(!(!Bn.length||Bn[Bn.length-1]!==m)){var C="deltaY"in R?jp(R):gi(R),B=o.current.filter(function(b){return b.name===R.type&&(b.target===R.target||R.target===b.shadowParent)&&Qy(b.delta,C)})[0];if(B&&B.should){R.cancelable&&R.preventDefault();return}if(!B){var M=(p.current.shards||[]).map(wp).filter(Boolean).filter(function(b){return b.contains(R.target)}),E=M.length>0?h(R,M[0]):!p.current.noIsolation;E&&R.cancelable&&R.preventDefault()}}},[]),y=j.useCallback(function(S,R,C,B){var M={name:S,delta:R,target:C,should:B,shadowParent:Iy(C)};o.current.push(M),setTimeout(function(){o.current=o.current.filter(function(E){return E!==M})},1)},[]),w=j.useCallback(function(S){u.current=gi(S),c.current=void 0},[]),v=j.useCallback(function(S){y(S.type,jp(S),S.target,h(S,s.lockRef.current))},[]),N=j.useCallback(function(S){y(S.type,gi(S),S.target,h(S,s.lockRef.current))},[]);j.useEffect(function(){return Bn.push(m),s.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:N}),document.addEventListener("wheel",g,Un),document.addEventListener("touchmove",g,Un),document.addEventListener("touchstart",w,Un),function(){Bn=Bn.filter(function(S){return S!==m}),document.removeEventListener("wheel",g,Un),document.removeEventListener("touchmove",g,Un),document.removeEventListener("touchstart",w,Un)}},[]);var T=s.removeScrollBar,A=s.inert;return j.createElement(j.Fragment,null,A?j.createElement(m,{styles:Zy(d)}):null,T?j.createElement(By,{noRelative:s.noRelative,gapMode:s.gapMode}):null)}function Iy(s){for(var o=null;s!==null;)s instanceof ShadowRoot&&(o=s.host,s=s.host),s=s.parentNode;return o}const Jy=_y(xx,Ky);var Nx=j.forwardRef(function(s,o){return j.createElement(Gi,ha({},s,{ref:o,sideCar:Jy}))});Nx.classNames=Gi.classNames;var $y=function(s){if(typeof document>"u")return null;var o=Array.isArray(s)?s[0]:s;return o.ownerDocument.body},kn=new WeakMap,vi=new WeakMap,bi={},Nu=0,jx=function(s){return s&&(s.host||jx(s.parentNode))},Wy=function(s,o){return o.map(function(u){if(s.contains(u))return u;var c=jx(u);return c&&s.contains(c)?c:(console.error("aria-hidden",u,"in not contained inside",s,". Doing nothing"),null)}).filter(function(u){return!!u})},Py=function(s,o,u,c){var d=Wy(o,Array.isArray(s)?s:[s]);bi[u]||(bi[u]=new WeakMap);var m=bi[u],p=[],h=new Set,g=new Set(d),y=function(v){!v||h.has(v)||(h.add(v),y(v.parentNode))};d.forEach(y);var w=function(v){!v||g.has(v)||Array.prototype.forEach.call(v.children,function(N){if(h.has(N))w(N);else try{var T=N.getAttribute(c),A=T!==null&&T!=="false",S=(kn.get(N)||0)+1,R=(m.get(N)||0)+1;kn.set(N,S),m.set(N,R),p.push(N),S===1&&A&&vi.set(N,!0),R===1&&N.setAttribute(u,"true"),A||N.setAttribute(c,"true")}catch(C){console.error("aria-hidden: cannot operate on ",N,C)}})};return w(o),h.clear(),Nu++,function(){p.forEach(function(v){var N=kn.get(v)-1,T=m.get(v)-1;kn.set(v,N),m.set(v,T),N||(vi.has(v)||v.removeAttribute(c),vi.delete(v)),T||v.removeAttribute(u)}),Nu--,Nu||(kn=new WeakMap,kn=new WeakMap,vi=new WeakMap,bi={})}},eN=function(s,o,u){u===void 0&&(u="data-aria-hidden");var c=Array.from(Array.isArray(s)?s:[s]),d=$y(s);return d?(c.push.apply(c,Array.from(d.querySelectorAll("[aria-live], script"))),Py(c,d,u,"aria-hidden")):function(){return null}},Qi="Dialog",[wx]=zb(Qi),[tN,aa]=wx(Qi),_x=s=>{const{__scopeDialog:o,children:u,open:c,defaultOpen:d,onOpenChange:m,modal:p=!0}=s,h=j.useRef(null),g=j.useRef(null),[y,w]=Hb({prop:c,defaultProp:d??!1,onChange:m,caller:Qi});return n.jsx(tN,{scope:o,triggerRef:h,contentRef:g,contentId:hu(),titleId:hu(),descriptionId:hu(),open:y,onOpenChange:w,onOpenToggle:j.useCallback(()=>w(v=>!v),[w]),modal:p,children:u})};_x.displayName=Qi;var Sx="DialogTrigger",aN=j.forwardRef((s,o)=>{const{__scopeDialog:u,...c}=s,d=aa(Sx,u),m=Zl(o,d.triggerRef);return n.jsx(Ha.button,{type:"button","aria-haspopup":"dialog","aria-expanded":d.open,"aria-controls":d.contentId,"data-state":Ju(d.open),...c,ref:m,onClick:fl(s.onClick,d.onOpenToggle)})});aN.displayName=Sx;var Ku="DialogPortal",[lN,Cx]=wx(Ku,{forceMount:void 0}),Ex=s=>{const{__scopeDialog:o,forceMount:u,children:c,container:d}=s,m=aa(Ku,o);return n.jsx(lN,{scope:o,forceMount:u,children:j.Children.map(c,p=>n.jsx(Xi,{present:u||m.open,children:n.jsx(mx,{asChild:!0,container:d,children:p})}))})};Ex.displayName=Ku;var Ei="DialogOverlay",Tx=j.forwardRef((s,o)=>{const u=Cx(Ei,s.__scopeDialog),{forceMount:c=u.forceMount,...d}=s,m=aa(Ei,s.__scopeDialog);return m.modal?n.jsx(Xi,{present:c||m.open,children:n.jsx(sN,{...d,ref:o})}):null});Tx.displayName=Ei;var nN=ix("DialogOverlay.RemoveScroll"),sN=j.forwardRef((s,o)=>{const{__scopeDialog:u,...c}=s,d=aa(Ei,u);return n.jsx(Nx,{as:nN,allowPinchZoom:!0,shards:[d.contentRef],children:n.jsx(Ha.div,{"data-state":Ju(d.open),...c,ref:o,style:{pointerEvents:"auto",...c.style}})})}),Xl="DialogContent",Ax=j.forwardRef((s,o)=>{const u=Cx(Xl,s.__scopeDialog),{forceMount:c=u.forceMount,...d}=s,m=aa(Xl,s.__scopeDialog);return n.jsx(Xi,{present:c||m.open,children:m.modal?n.jsx(rN,{...d,ref:o}):n.jsx(iN,{...d,ref:o})})});Ax.displayName=Xl;var rN=j.forwardRef((s,o)=>{const u=aa(Xl,s.__scopeDialog),c=j.useRef(null),d=Zl(o,u.contentRef,c);return j.useEffect(()=>{const m=c.current;if(m)return eN(m)},[]),n.jsx(Dx,{...s,ref:d,trapFocus:u.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fl(s.onCloseAutoFocus,m=>{m.preventDefault(),u.triggerRef.current?.focus()}),onPointerDownOutside:fl(s.onPointerDownOutside,m=>{const p=m.detail.originalEvent,h=p.button===0&&p.ctrlKey===!0;(p.button===2||h)&&m.preventDefault()}),onFocusOutside:fl(s.onFocusOutside,m=>m.preventDefault())})}),iN=j.forwardRef((s,o)=>{const u=aa(Xl,s.__scopeDialog),c=j.useRef(!1),d=j.useRef(!1);return n.jsx(Dx,{...s,ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:m=>{s.onCloseAutoFocus?.(m),m.defaultPrevented||(c.current||u.triggerRef.current?.focus(),m.preventDefault()),c.current=!1,d.current=!1},onInteractOutside:m=>{s.onInteractOutside?.(m),m.defaultPrevented||(c.current=!0,m.detail.originalEvent.type==="pointerdown"&&(d.current=!0));const p=m.target;u.triggerRef.current?.contains(p)&&m.preventDefault(),m.detail.originalEvent.type==="focusin"&&d.current&&m.preventDefault()}})}),Dx=j.forwardRef((s,o)=>{const{__scopeDialog:u,trapFocus:c,onOpenAutoFocus:d,onCloseAutoFocus:m,...p}=s,h=aa(Xl,u),g=j.useRef(null),y=Zl(o,g);return hy(),n.jsxs(n.Fragment,{children:[n.jsx(dx,{asChild:!0,loop:!0,trapped:c,onMountAutoFocus:d,onUnmountAutoFocus:m,children:n.jsx(ox,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":Ju(h.open),...p,ref:y,onDismiss:()=>h.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(oN,{titleId:h.titleId}),n.jsx(dN,{contentRef:g,descriptionId:h.descriptionId})]})]})}),Iu="DialogTitle",Rx=j.forwardRef((s,o)=>{const{__scopeDialog:u,...c}=s,d=aa(Iu,u);return n.jsx(Ha.h2,{id:d.titleId,...c,ref:o})});Rx.displayName=Iu;var Mx="DialogDescription",Ox=j.forwardRef((s,o)=>{const{__scopeDialog:u,...c}=s,d=aa(Mx,u);return n.jsx(Ha.p,{id:d.descriptionId,...c,ref:o})});Ox.displayName=Mx;var zx="DialogClose",cN=j.forwardRef((s,o)=>{const{__scopeDialog:u,...c}=s,d=aa(zx,u);return n.jsx(Ha.button,{type:"button",...c,ref:o,onClick:fl(s.onClick,()=>d.onOpenChange(!1))})});cN.displayName=zx;function Ju(s){return s?"open":"closed"}var Lx="DialogTitleWarning",[l1,Ux]=Ob(Lx,{contentName:Xl,titleName:Iu,docsSlug:"dialog"}),oN=({titleId:s})=>{const o=Ux(Lx),u=`\`${o.contentName}\` requires a \`${o.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${o.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${o.docsSlug}`;return j.useEffect(()=>{s&&(document.getElementById(s)||console.error(u))},[u,s]),null},uN="DialogDescriptionWarning",dN=({contentRef:s,descriptionId:o})=>{const c=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ux(uN).contentName}}.`;return j.useEffect(()=>{const d=s.current?.getAttribute("aria-describedby");o&&d&&(document.getElementById(o)||console.warn(c))},[c,s,o]),null},fN=_x,mN=Ex,hN=Tx,pN=Ax,xN=Rx,gN=Ox;function vN(s){if(typeof document>"u")return;let o=document.head||document.getElementsByTagName("head")[0],u=document.createElement("style");u.type="text/css",o.appendChild(u),u.styleSheet?u.styleSheet.cssText=s:u.appendChild(document.createTextNode(s))}const Bx=W.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),$s=()=>{const s=W.useContext(Bx);if(!s)throw new Error("useDrawerContext must be used within a Drawer.Root");return s};vN(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function bN(){const s=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(s)&&/Mobile/.test(s)||/FxiOS/.test(s))}function yN(){return $u(/^Mac/)}function NN(){return $u(/^iPhone/)}function _p(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function jN(){return $u(/^iPad/)||yN()&&navigator.maxTouchPoints>1}function kx(){return NN()||jN()}function $u(s){return typeof window<"u"&&window.navigator!=null?s.test(window.navigator.platform):void 0}const wN=24,_N=typeof window<"u"?j.useLayoutEffect:j.useEffect;function Sp(...s){return(...o)=>{for(let u of s)typeof u=="function"&&u(...o)}}const ju=typeof document<"u"&&window.visualViewport;function Cp(s){let o=window.getComputedStyle(s);return/(auto|scroll)/.test(o.overflow+o.overflowX+o.overflowY)}function Hx(s){for(Cp(s)&&(s=s.parentElement);s&&!Cp(s);)s=s.parentElement;return s||document.scrollingElement||document.documentElement}const SN=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let yi=0,wu;function CN(s={}){let{isDisabled:o}=s;_N(()=>{if(!o)return yi++,yi===1&&kx()&&(wu=EN()),()=>{yi--,yi===0&&wu?.()}},[o])}function EN(){let s,o=0,u=v=>{s=Hx(v.target),!(s===document.documentElement&&s===document.body)&&(o=v.changedTouches[0].pageY)},c=v=>{if(!s||s===document.documentElement||s===document.body){v.preventDefault();return}let N=v.changedTouches[0].pageY,T=s.scrollTop,A=s.scrollHeight-s.clientHeight;A!==0&&((T<=0&&N>o||T>=A&&N<o)&&v.preventDefault(),o=N)},d=v=>{let N=v.target;zu(N)&&N!==document.activeElement&&(v.preventDefault(),N.style.transform="translateY(-2000px)",N.focus(),requestAnimationFrame(()=>{N.style.transform=""}))},m=v=>{let N=v.target;zu(N)&&(N.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{N.style.transform="",ju&&(ju.height<window.innerHeight?requestAnimationFrame(()=>{Ep(N)}):ju.addEventListener("resize",()=>Ep(N),{once:!0}))}))},p=()=>{window.scrollTo(0,0)},h=window.pageXOffset,g=window.pageYOffset,y=Sp(TN(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let w=Sp(Xs(document,"touchstart",u,{passive:!1,capture:!0}),Xs(document,"touchmove",c,{passive:!1,capture:!0}),Xs(document,"touchend",d,{passive:!1,capture:!0}),Xs(document,"focus",m,!0),Xs(window,"scroll",p));return()=>{y(),w(),window.scrollTo(h,g)}}function TN(s,o,u){let c=s.style[o];return s.style[o]=u,()=>{s.style[o]=c}}function Xs(s,o,u,c){return s.addEventListener(o,u,c),()=>{s.removeEventListener(o,u,c)}}function Ep(s){let o=document.scrollingElement||document.documentElement;for(;s&&s!==o;){let u=Hx(s);if(u!==document.documentElement&&u!==document.body&&u!==s){let c=u.getBoundingClientRect().top,d=s.getBoundingClientRect().top,m=s.getBoundingClientRect().bottom;const p=u.getBoundingClientRect().bottom+wN;m>p&&(u.scrollTop+=d-c)}s=u.parentElement}}function zu(s){return s instanceof HTMLInputElement&&!SN.has(s.type)||s instanceof HTMLTextAreaElement||s instanceof HTMLElement&&s.isContentEditable}function AN(s,o){typeof s=="function"?s(o):s!=null&&(s.current=o)}function DN(...s){return o=>s.forEach(u=>AN(u,o))}function qx(...s){return j.useCallback(DN(...s),s)}const Yx=new WeakMap;function nt(s,o,u=!1){if(!s||!(s instanceof HTMLElement))return;let c={};Object.entries(o).forEach(([d,m])=>{if(d.startsWith("--")){s.style.setProperty(d,m);return}c[d]=s.style[d],s.style[d]=m}),!u&&Yx.set(s,c)}function RN(s,o){if(!s||!(s instanceof HTMLElement))return;let u=Yx.get(s);u&&(s.style[o]=u[o])}const tt=s=>{switch(s){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return s}};function Ni(s,o){if(!s)return null;const u=window.getComputedStyle(s),c=u.transform||u.webkitTransform||u.mozTransform;let d=c.match(/^matrix3d\((.+)\)$/);return d?parseFloat(d[1].split(", ")[tt(o)?13:12]):(d=c.match(/^matrix\((.+)\)$/),d?parseFloat(d[1].split(", ")[tt(o)?5:4]):null)}function MN(s){return 8*(Math.log(s+1)-2)}function _u(s,o){if(!s)return()=>{};const u=s.style.cssText;return Object.assign(s.style,o),()=>{s.style.cssText=u}}function ON(...s){return(...o)=>{for(const u of s)typeof u=="function"&&u(...o)}}const Ge={DURATION:.5,EASE:[.32,.72,0,1]},Vx=.4,zN=.25,LN=100,Xx=8,Bl=16,Lu=26,Su="vaul-dragging";function Gx(s){const o=W.useRef(s);return W.useEffect(()=>{o.current=s}),W.useMemo(()=>(...u)=>o.current==null?void 0:o.current.call(o,...u),[])}function UN({defaultProp:s,onChange:o}){const u=W.useState(s),[c]=u,d=W.useRef(c),m=Gx(o);return W.useEffect(()=>{d.current!==c&&(m(c),d.current=c)},[c,d,m]),u}function Qx({prop:s,defaultProp:o,onChange:u=()=>{}}){const[c,d]=UN({defaultProp:o,onChange:u}),m=s!==void 0,p=m?s:c,h=Gx(u),g=W.useCallback(y=>{if(m){const v=typeof y=="function"?y(s):y;v!==s&&h(v)}else d(y)},[m,s,d,h]);return[p,g]}function BN({activeSnapPointProp:s,setActiveSnapPointProp:o,snapPoints:u,drawerRef:c,overlayRef:d,fadeFromIndex:m,onSnapPointChange:p,direction:h="bottom",container:g,snapToSequentialPoint:y}){const[w,v]=Qx({prop:s,defaultProp:u?.[0],onChange:o}),[N,T]=W.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);W.useEffect(()=>{function k(){T({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]);const A=W.useMemo(()=>w===u?.[u.length-1]||null,[u,w]),S=W.useMemo(()=>{var k;return(k=u?.findIndex(G=>G===w))!=null?k:null},[u,w]),R=u&&u.length>0&&(m||m===0)&&!Number.isNaN(m)&&u[m]===w||!u,C=W.useMemo(()=>{const k=g?{width:g.getBoundingClientRect().width,height:g.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var G;return(G=u?.map(I=>{const P=typeof I=="string";let ie=0;if(P&&(ie=parseInt(I,10)),tt(h)){const te=P?ie:N?I*k.height:0;return N?h==="bottom"?k.height-te:-k.height+te:te}const xe=P?ie:N?I*k.width:0;return N?h==="right"?k.width-xe:-k.width+xe:xe}))!=null?G:[]},[u,N,g]),B=W.useMemo(()=>S!==null?C?.[S]:null,[C,S]),M=W.useCallback(k=>{var G;const I=(G=C?.findIndex(P=>P===k))!=null?G:null;p(I),nt(c.current,{transition:`transform ${Ge.DURATION}s cubic-bezier(${Ge.EASE.join(",")})`,transform:tt(h)?`translate3d(0, ${k}px, 0)`:`translate3d(${k}px, 0, 0)`}),C&&I!==C.length-1&&m!==void 0&&I!==m&&I<m?nt(d.current,{transition:`opacity ${Ge.DURATION}s cubic-bezier(${Ge.EASE.join(",")})`,opacity:"0"}):nt(d.current,{transition:`opacity ${Ge.DURATION}s cubic-bezier(${Ge.EASE.join(",")})`,opacity:"1"}),v(u?.[Math.max(I,0)])},[c.current,u,C,m,d,v]);W.useEffect(()=>{if(w||s){var k;const G=(k=u?.findIndex(I=>I===s||I===w))!=null?k:-1;C&&G!==-1&&typeof C[G]=="number"&&M(C[G])}},[w,s,u,C,M]);function E({draggedDistance:k,closeDrawer:G,velocity:I,dismissible:P}){if(m===void 0)return;const ie=h==="bottom"||h==="right"?(B??0)-k:(B??0)+k,xe=S===m-1,te=S===0,ae=k>0;if(xe&&nt(d.current,{transition:`opacity ${Ge.DURATION}s cubic-bezier(${Ge.EASE.join(",")})`}),!y&&I>2&&!ae){P?G():M(C[0]);return}if(!y&&I>2&&ae&&C&&u){M(C[u.length-1]);return}const Ce=C?.reduce((q,$)=>typeof q!="number"||typeof $!="number"?q:Math.abs($-ie)<Math.abs(q-ie)?$:q),V=tt(h)?window.innerHeight:window.innerWidth;if(I>Vx&&Math.abs(k)<V*.4){const q=ae?1:-1;if(q>0&&A&&u){M(C[u.length-1]);return}if(te&&q<0&&P&&G(),S===null)return;M(C[S+q]);return}M(Ce)}function b({draggedDistance:k}){if(B===null)return;const G=h==="bottom"||h==="right"?B-k:B+k;(h==="bottom"||h==="right")&&G<C[C.length-1]||(h==="top"||h==="left")&&G>C[C.length-1]||nt(c.current,{transform:tt(h)?`translate3d(0, ${G}px, 0)`:`translate3d(${G}px, 0, 0)`})}function z(k,G){if(!u||typeof S!="number"||!C||m===void 0)return null;const I=S===m-1;if(S>=m&&G)return 0;if(I&&!G)return 1;if(!R&&!I)return null;const ie=I?S+1:S-1,xe=I?C[ie]-C[ie-1]:C[ie+1]-C[ie],te=k/Math.abs(xe);return I?1-te:te}return{isLastSnapPoint:A,activeSnapPoint:w,shouldFade:R,getPercentageDragged:z,setActiveSnapPoint:v,activeSnapPointIndex:S,onRelease:E,onDrag:b,snapPointsOffset:C}}const kN=()=>()=>{};function HN(){const{direction:s,isOpen:o,shouldScaleBackground:u,setBackgroundColorOnScale:c,noBodyStyles:d}=$s(),m=W.useRef(null),p=j.useMemo(()=>document.body.style.backgroundColor,[]);function h(){return(window.innerWidth-Lu)/window.innerWidth}W.useEffect(()=>{if(o&&u){m.current&&clearTimeout(m.current);const g=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!g)return;ON(c&&!d?_u(document.body,{background:"black"}):kN,_u(g,{transformOrigin:tt(s)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Ge.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Ge.EASE.join(",")})`}));const y=_u(g,{borderRadius:`${Xx}px`,overflow:"hidden",...tt(s)?{transform:`scale(${h()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${h()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{y(),m.current=window.setTimeout(()=>{p?document.body.style.background=p:document.body.style.removeProperty("background")},Ge.DURATION*1e3)}}},[o,u,p])}let Gs=null;function qN({isOpen:s,modal:o,nested:u,hasBeenOpened:c,preventScrollRestoration:d,noBodyStyles:m}){const[p,h]=W.useState(()=>typeof window<"u"?window.location.href:""),g=W.useRef(0),y=W.useCallback(()=>{if(_p()&&Gs===null&&s&&!m){Gs={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:v,innerHeight:N}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-g.current}px`,left:`${-v}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const T=N-window.innerHeight;T&&g.current>=N&&(document.body.style.top=`${-(g.current+T)}px`)}),300)}},[s]),w=W.useCallback(()=>{if(_p()&&Gs!==null&&!m){const v=-parseInt(document.body.style.top,10),N=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Gs),window.requestAnimationFrame(()=>{if(d&&p!==window.location.href){h(window.location.href);return}window.scrollTo(N,v)}),Gs=null}},[p]);return W.useEffect(()=>{function v(){g.current=window.scrollY}return v(),window.addEventListener("scroll",v),()=>{window.removeEventListener("scroll",v)}},[]),W.useEffect(()=>{if(o)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||w()}},[o,w]),W.useEffect(()=>{u||!c||(s?(!window.matchMedia("(display-mode: standalone)").matches&&y(),o||window.setTimeout(()=>{w()},500)):w())},[s,c,p,o,u,y,w]),{restorePositionSetting:w}}function YN({open:s,onOpenChange:o,children:u,onDrag:c,onRelease:d,snapPoints:m,shouldScaleBackground:p=!1,setBackgroundColorOnScale:h=!0,closeThreshold:g=zN,scrollLockTimeout:y=LN,dismissible:w=!0,handleOnly:v=!1,fadeFromIndex:N=m&&m.length-1,activeSnapPoint:T,setActiveSnapPoint:A,fixed:S,modal:R=!0,onClose:C,nested:B,noBodyStyles:M=!1,direction:E="bottom",defaultOpen:b=!1,disablePreventScroll:z=!0,snapToSequentialPoint:k=!1,preventScrollRestoration:G=!1,repositionInputs:I=!0,onAnimationEnd:P,container:ie,autoFocus:xe=!1}){var te,ae;const[Ce=!1,V]=Qx({defaultProp:b,prop:s,onChange:ue=>{o?.(ue),!ue&&!B&&tr(),setTimeout(()=>{P?.(ue)},Ge.DURATION*1e3),ue&&!R&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),ue||(document.body.style.pointerEvents="auto")}}),[q,$]=W.useState(!1),[oe,Ne]=W.useState(!1),[Qe,Me]=W.useState(!1),ge=W.useRef(null),Xe=W.useRef(null),vt=W.useRef(null),Bt=W.useRef(null),la=W.useRef(null),na=W.useRef(!1),sa=W.useRef(null),xl=W.useRef(0),Jt=W.useRef(!1),Fl=W.useRef(!b),Zn=W.useRef(0),fe=W.useRef(null),Kl=W.useRef(((te=fe.current)==null?void 0:te.getBoundingClientRect().height)||0),Il=W.useRef(((ae=fe.current)==null?void 0:ae.getBoundingClientRect().width)||0),Fn=W.useRef(0),Ws=W.useCallback(ue=>{m&&ue===gl.length-1&&(Xe.current=new Date)},[]),{activeSnapPoint:Kn,activeSnapPointIndex:ra,setActiveSnapPoint:Jl,onRelease:Zi,snapPointsOffset:gl,onDrag:ht,shouldFade:Ps,getPercentageDragged:er}=BN({snapPoints:m,activeSnapPointProp:T,setActiveSnapPointProp:A,drawerRef:fe,fadeFromIndex:N,overlayRef:ge,onSnapPointChange:Ws,direction:E,container:ie,snapToSequentialPoint:k});CN({isDisabled:!Ce||oe||!R||Qe||!q||!I||!z});const{restorePositionSetting:tr}=qN({isOpen:Ce,modal:R,nested:B??!1,hasBeenOpened:q,preventScrollRestoration:G,noBodyStyles:M});function ga(){return(window.innerWidth-Lu)/window.innerWidth}function Fi(ue){var Se,Ae;!w&&!m||fe.current&&!fe.current.contains(ue.target)||(Kl.current=((Se=fe.current)==null?void 0:Se.getBoundingClientRect().height)||0,Il.current=((Ae=fe.current)==null?void 0:Ae.getBoundingClientRect().width)||0,Ne(!0),vt.current=new Date,kx()&&window.addEventListener("touchend",()=>na.current=!1,{once:!0}),ue.target.setPointerCapture(ue.pointerId),xl.current=tt(E)?ue.pageY:ue.pageX)}function In(ue,Se){var Ae;let ve=ue;const Oe=(Ae=window.getSelection())==null?void 0:Ae.toString(),at=fe.current?Ni(fe.current,E):null,Ke=new Date;if(ve.tagName==="SELECT"||ve.hasAttribute("data-vaul-no-drag")||ve.closest("[data-vaul-no-drag]"))return!1;if(E==="right"||E==="left")return!0;if(Xe.current&&Ke.getTime()-Xe.current.getTime()<500)return!1;if(at!==null&&(E==="bottom"?at>0:at<0))return!0;if(Oe&&Oe.length>0)return!1;if(la.current&&Ke.getTime()-la.current.getTime()<y&&at===0||Se)return la.current=Ke,!1;for(;ve;){if(ve.scrollHeight>ve.clientHeight){if(ve.scrollTop!==0)return la.current=new Date,!1;if(ve.getAttribute("role")==="dialog")return!0}ve=ve.parentNode}return!0}function Ki(ue){if(fe.current&&oe){const Se=E==="bottom"||E==="right"?1:-1,Ae=(xl.current-(tt(E)?ue.pageY:ue.pageX))*Se,ve=Ae>0,Oe=m&&!w&&!ve;if(Oe&&ra===0)return;const at=Math.abs(Ae),Ke=document.querySelector("[data-vaul-drawer-wrapper]"),ca=E==="bottom"||E==="top"?Kl.current:Il.current;let bt=at/ca;const $t=er(at,ve);if($t!==null&&(bt=$t),Oe&&bt>=1||!na.current&&!In(ue.target,ve))return;if(fe.current.classList.add(Su),na.current=!0,nt(fe.current,{transition:"none"}),nt(ge.current,{transition:"none"}),m&&ht({draggedDistance:Ae}),ve&&!m){const kt=MN(Ae),bl=Math.min(kt*-1,0)*Se;nt(fe.current,{transform:tt(E)?`translate3d(0, ${bl}px, 0)`:`translate3d(${bl}px, 0, 0)`});return}const yt=1-bt;if((Ps||N&&ra===N-1)&&(c?.(ue,bt),nt(ge.current,{opacity:`${yt}`,transition:"none"},!0)),Ke&&ge.current&&p){const kt=Math.min(ga()+bt*(1-ga()),1),bl=8-bt*8,Jn=Math.max(0,14-bt*14);nt(Ke,{borderRadius:`${bl}px`,transform:tt(E)?`scale(${kt}) translate3d(0, ${Jn}px, 0)`:`scale(${kt}) translate3d(${Jn}px, 0, 0)`,transition:"none"},!0)}if(!m){const kt=at*Se;nt(fe.current,{transform:tt(E)?`translate3d(0, ${kt}px, 0)`:`translate3d(${kt}px, 0, 0)`})}}}W.useEffect(()=>{window.requestAnimationFrame(()=>{Fl.current=!0})},[]),W.useEffect(()=>{var ue;function Se(){if(!fe.current||!I)return;const Ae=document.activeElement;if(zu(Ae)||Jt.current){var ve;const Oe=((ve=window.visualViewport)==null?void 0:ve.height)||0,at=window.innerHeight;let Ke=at-Oe;const ca=fe.current.getBoundingClientRect().height||0,bt=ca>at*.8;Fn.current||(Fn.current=ca);const $t=fe.current.getBoundingClientRect().top;if(Math.abs(Zn.current-Ke)>60&&(Jt.current=!Jt.current),m&&m.length>0&&gl&&ra){const yt=gl[ra]||0;Ke+=yt}if(Zn.current=Ke,ca>Oe||Jt.current){const yt=fe.current.getBoundingClientRect().height;let kt=yt;yt>Oe&&(kt=Oe-(bt?$t:Lu)),S?fe.current.style.height=`${yt-Math.max(Ke,0)}px`:fe.current.style.height=`${Math.max(kt,Oe-$t)}px`}else bN()||(fe.current.style.height=`${Fn.current}px`);m&&m.length>0&&!Jt.current?fe.current.style.bottom="0px":fe.current.style.bottom=`${Math.max(Ke,0)}px`}}return(ue=window.visualViewport)==null||ue.addEventListener("resize",Se),()=>{var Ae;return(Ae=window.visualViewport)==null?void 0:Ae.removeEventListener("resize",Se)}},[ra,m,gl]);function vl(ue){pt(),C?.(),ue||V(!1),setTimeout(()=>{m&&Jl(m[0])},Ge.DURATION*1e3)}function qa(){if(!fe.current)return;const ue=document.querySelector("[data-vaul-drawer-wrapper]"),Se=Ni(fe.current,E);nt(fe.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Ge.DURATION}s cubic-bezier(${Ge.EASE.join(",")})`}),nt(ge.current,{transition:`opacity ${Ge.DURATION}s cubic-bezier(${Ge.EASE.join(",")})`,opacity:"1"}),p&&Se&&Se>0&&Ce&&nt(ue,{borderRadius:`${Xx}px`,overflow:"hidden",...tt(E)?{transform:`scale(${ga()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${ga()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Ge.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Ge.EASE.join(",")})`},!0)}function pt(){!oe||!fe.current||(fe.current.classList.remove(Su),na.current=!1,Ne(!1),Bt.current=new Date)}function ia(ue){if(!oe||!fe.current)return;fe.current.classList.remove(Su),na.current=!1,Ne(!1),Bt.current=new Date;const Se=Ni(fe.current,E);if(!ue||!In(ue.target,!1)||!Se||Number.isNaN(Se)||vt.current===null)return;const Ae=Bt.current.getTime()-vt.current.getTime(),ve=xl.current-(tt(E)?ue.pageY:ue.pageX),Oe=Math.abs(ve)/Ae;if(Oe>.05&&(Me(!0),setTimeout(()=>{Me(!1)},200)),m){Zi({draggedDistance:ve*(E==="bottom"||E==="right"?1:-1),closeDrawer:vl,velocity:Oe,dismissible:w}),d?.(ue,!0);return}if(E==="bottom"||E==="right"?ve>0:ve<0){qa(),d?.(ue,!0);return}if(Oe>Vx){vl(),d?.(ue,!1);return}var at;const Ke=Math.min((at=fe.current.getBoundingClientRect().height)!=null?at:0,window.innerHeight);var ca;const bt=Math.min((ca=fe.current.getBoundingClientRect().width)!=null?ca:0,window.innerWidth),$t=E==="left"||E==="right";if(Math.abs(Se)>=($t?bt:Ke)*g){vl(),d?.(ue,!1);return}d?.(ue,!0),qa()}W.useEffect(()=>(Ce&&(nt(document.documentElement,{scrollBehavior:"auto"}),Xe.current=new Date),()=>{RN(document.documentElement,"scrollBehavior")}),[Ce]);function xt(ue){const Se=ue?(window.innerWidth-Bl)/window.innerWidth:1,Ae=ue?-Bl:0;sa.current&&window.clearTimeout(sa.current),nt(fe.current,{transition:`transform ${Ge.DURATION}s cubic-bezier(${Ge.EASE.join(",")})`,transform:tt(E)?`scale(${Se}) translate3d(0, ${Ae}px, 0)`:`scale(${Se}) translate3d(${Ae}px, 0, 0)`}),!ue&&fe.current&&(sa.current=setTimeout(()=>{const ve=Ni(fe.current,E);nt(fe.current,{transition:"none",transform:tt(E)?`translate3d(0, ${ve}px, 0)`:`translate3d(${ve}px, 0, 0)`})},500))}function Ii(ue,Se){if(Se<0)return;const Ae=(window.innerWidth-Bl)/window.innerWidth,ve=Ae+Se*(1-Ae),Oe=-Bl+Se*Bl;nt(fe.current,{transform:tt(E)?`scale(${ve}) translate3d(0, ${Oe}px, 0)`:`scale(${ve}) translate3d(${Oe}px, 0, 0)`,transition:"none"})}function Ji(ue,Se){const Ae=tt(E)?window.innerHeight:window.innerWidth,ve=Se?(Ae-Bl)/Ae:1,Oe=Se?-Bl:0;Se&&nt(fe.current,{transition:`transform ${Ge.DURATION}s cubic-bezier(${Ge.EASE.join(",")})`,transform:tt(E)?`scale(${ve}) translate3d(0, ${Oe}px, 0)`:`scale(${ve}) translate3d(${Oe}px, 0, 0)`})}return W.useEffect(()=>{R||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[R]),W.createElement(fN,{defaultOpen:b,onOpenChange:ue=>{!w&&!ue||(ue?$(!0):vl(!0),V(ue))},open:Ce},W.createElement(Bx.Provider,{value:{activeSnapPoint:Kn,snapPoints:m,setActiveSnapPoint:Jl,drawerRef:fe,overlayRef:ge,onOpenChange:o,onPress:Fi,onRelease:ia,onDrag:Ki,dismissible:w,shouldAnimate:Fl,handleOnly:v,isOpen:Ce,isDragging:oe,shouldFade:Ps,closeDrawer:vl,onNestedDrag:Ii,onNestedOpenChange:xt,onNestedRelease:Ji,keyboardIsOpen:Jt,modal:R,snapPointsOffset:gl,activeSnapPointIndex:ra,direction:E,shouldScaleBackground:p,setBackgroundColorOnScale:h,noBodyStyles:M,container:ie,autoFocus:xe}},u))}const Zx=W.forwardRef(function({...s},o){const{overlayRef:u,snapPoints:c,onRelease:d,shouldFade:m,isOpen:p,modal:h,shouldAnimate:g}=$s(),y=qx(o,u),w=c&&c.length>0;if(!h)return null;const v=W.useCallback(N=>d(N),[d]);return W.createElement(hN,{onMouseUp:v,ref:y,"data-vaul-overlay":"","data-vaul-snap-points":p&&w?"true":"false","data-vaul-snap-points-overlay":p&&m?"true":"false","data-vaul-animate":g?.current?"true":"false",...s})});Zx.displayName="Drawer.Overlay";const Fx=W.forwardRef(function({onPointerDownOutside:s,style:o,onOpenAutoFocus:u,...c},d){const{drawerRef:m,onPress:p,onRelease:h,onDrag:g,keyboardIsOpen:y,snapPointsOffset:w,activeSnapPointIndex:v,modal:N,isOpen:T,direction:A,snapPoints:S,container:R,handleOnly:C,shouldAnimate:B,autoFocus:M}=$s(),[E,b]=W.useState(!1),z=qx(d,m),k=W.useRef(null),G=W.useRef(null),I=W.useRef(!1),P=S&&S.length>0;HN();const ie=(te,ae,Ce=0)=>{if(I.current)return!0;const V=Math.abs(te.y),q=Math.abs(te.x),$=q>V,oe=["bottom","right"].includes(ae)?1:-1;if(ae==="left"||ae==="right"){if(!(te.x*oe<0)&&q>=0&&q<=Ce)return $}else if(!(te.y*oe<0)&&V>=0&&V<=Ce)return!$;return I.current=!0,!0};W.useEffect(()=>{P&&window.requestAnimationFrame(()=>{b(!0)})},[]);function xe(te){k.current=null,I.current=!1,h(te)}return W.createElement(pN,{"data-vaul-drawer-direction":A,"data-vaul-drawer":"","data-vaul-delayed-snap-points":E?"true":"false","data-vaul-snap-points":T&&P?"true":"false","data-vaul-custom-container":R?"true":"false","data-vaul-animate":B?.current?"true":"false",...c,ref:z,style:w&&w.length>0?{"--snap-point-height":`${w[v??0]}px`,...o}:o,onPointerDown:te=>{C||(c.onPointerDown==null||c.onPointerDown.call(c,te),k.current={x:te.pageX,y:te.pageY},p(te))},onOpenAutoFocus:te=>{u?.(te),M||te.preventDefault()},onPointerDownOutside:te=>{if(s?.(te),!N||te.defaultPrevented){te.preventDefault();return}y.current&&(y.current=!1)},onFocusOutside:te=>{if(!N){te.preventDefault();return}},onPointerMove:te=>{if(G.current=te,C||(c.onPointerMove==null||c.onPointerMove.call(c,te),!k.current))return;const ae=te.pageY-k.current.y,Ce=te.pageX-k.current.x,V=te.pointerType==="touch"?10:2;ie({x:Ce,y:ae},A,V)?g(te):(Math.abs(Ce)>V||Math.abs(ae)>V)&&(k.current=null)},onPointerUp:te=>{c.onPointerUp==null||c.onPointerUp.call(c,te),k.current=null,I.current=!1,h(te)},onPointerOut:te=>{c.onPointerOut==null||c.onPointerOut.call(c,te),xe(G.current)},onContextMenu:te=>{c.onContextMenu==null||c.onContextMenu.call(c,te),G.current&&xe(G.current)}})});Fx.displayName="Drawer.Content";const VN=250,XN=120,GN=W.forwardRef(function({preventCycle:s=!1,children:o,...u},c){const{closeDrawer:d,isDragging:m,snapPoints:p,activeSnapPoint:h,setActiveSnapPoint:g,dismissible:y,handleOnly:w,isOpen:v,onPress:N,onDrag:T}=$s(),A=W.useRef(null),S=W.useRef(!1);function R(){if(S.current){M();return}window.setTimeout(()=>{C()},XN)}function C(){if(m||s||S.current){M();return}if(M(),!p||p.length===0){y||d();return}if(h===p[p.length-1]&&y){d();return}const b=p.findIndex(k=>k===h);if(b===-1)return;const z=p[b+1];g(z)}function B(){A.current=window.setTimeout(()=>{S.current=!0},VN)}function M(){A.current&&window.clearTimeout(A.current),S.current=!1}return W.createElement("div",{onClick:R,onPointerCancel:M,onPointerDown:E=>{w&&N(E),B()},onPointerMove:E=>{w&&T(E)},ref:c,"data-vaul-drawer-visible":v?"true":"false","data-vaul-handle":"","aria-hidden":"true",...u},W.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},o))});GN.displayName="Drawer.Handle";function QN(s){const o=$s(),{container:u=o.container,...c}=s;return W.createElement(mN,{container:u,...c})}const Hn={Root:YN,Content:Fx,Overlay:Zx,Portal:QN,Title:xN,Description:gN},ZN=(s,o)=>{j.useEffect(()=>{if(s){window.history.pushState({modalOpen:!0},"",window.location.href);const u=c=>{c.preventDefault(),o()};return window.addEventListener("popstate",u),()=>{window.removeEventListener("popstate",u)}}},[s,o])},It=({isOpen:s,onClose:o,title:u,children:c,footer:d,maxWidth:m="lg",variant:p="center",description:h})=>{if(ZN(s,o),p==="drawer")return n.jsx(Hn.Root,{open:s,onOpenChange:w=>!w&&o(),children:n.jsxs(Hn.Portal,{children:[n.jsx(Hn.Overlay,{className:"fixed inset-0 bg-black/40 backdrop-blur-[2px] z-[50]"}),n.jsxs(Hn.Content,{className:"bg-card flex flex-col rounded-t-[20px] h-[85vh] mt-24 fixed bottom-0 left-0 right-0 z-[51] focus:outline-none shadow-2xl border-t border-border/50",children:[n.jsx("div",{className:"mx-auto w-12 h-1.5 flex-shrink-0 rounded-full bg-muted-foreground/20 mt-4 mb-4"}),n.jsxs("div",{className:"px-6 pb-4 border-b border-border flex justify-between items-center shrink-0",children:[n.jsxs("div",{children:[n.jsx(Hn.Title,{className:"text-lg font-bold text-foreground",children:u}),h&&n.jsx(Hn.Description,{className:"text-sm text-muted-foreground",children:h})]}),n.jsx("button",{onClick:o,className:"p-2 rounded-full hover:bg-muted text-muted-foreground",children:n.jsx(ql,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 pb-safe-bottom",children:c}),d&&n.jsx("div",{className:"p-4 border-t border-border bg-card pb-safe-bottom",children:d})]})]})});const g=p==="fullscreen",y={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl"};return n.jsx(xa,{show:s,as:j.Fragment,children:n.jsxs(zi,{onClose:o,className:"relative z-[50]",children:[n.jsx(ml,{as:j.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:n.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-[2px]"})}),n.jsx("div",{className:F("fixed inset-0 overflow-y-auto",g?"p-0":"p-4"),children:n.jsx("div",{className:F("flex min-h-full items-center justify-center",g?"":"text-center"),children:n.jsx(ml,{as:j.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95 translate-y-4 sm:translate-y-0",enterTo:"opacity-100 scale-100 translate-y-0",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100 translate-y-0",leaveTo:"opacity-0 scale-95 translate-y-4 sm:translate-y-0",children:n.jsxs(Li,{className:F("relative flex flex-col w-full transform bg-card text-left align-middle shadow-xl transition-all",g?"h-[100dvh] w-screen rounded-none":`rounded-2xl ${y[m]}`),children:[n.jsxs("div",{className:F("shrink-0 flex items-center justify-between px-5 py-4 border-b border-border bg-card/50 backdrop-blur-md sticky top-0 z-10",g&&"pt-safe-top"),children:[n.jsxs("div",{children:[n.jsx(qu,{as:"h2",className:"text-lg font-bold tracking-tight text-foreground line-clamp-1",children:u}),h&&n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:h})]}),n.jsx("button",{onClick:o,className:"p-2 rounded-full text-muted-foreground hover:bg-muted hover:text-foreground transition-colors active:scale-95",children:n.jsx(ql,{className:"w-6 h-6"})})]}),n.jsx("div",{className:F("flex-1 overflow-y-auto p-5 sm:p-6 overscroll-contain",g&&"pb-32"),children:c}),d&&n.jsx("div",{className:F("shrink-0 px-5 py-4 border-t border-border bg-card z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]",g&&"pb-safe-bottom fixed bottom-0 left-0 right-0"),children:d})]})})})})]})})},ne=({className:s,label:o,suffix:u,prefix:c,isDimension:d=!1,id:m,ref:p,value:h,onChange:g,onClear:y,onBlur:w,type:v="text",error:N,warning:T,...A})=>{const S=j.useId(),R=m||S,C=j.useRef(null),B=p||C,M=k=>{if(d&&g){const G=k.target.value,I=Nb(G);if(I!==G&&I!==""){const P={...k,target:{...k.target,value:I}};g(P)}}w?.(k)},E=()=>{y&&(y(),requestAnimationFrame(()=>B.current?.focus()))},b=N?"border-destructive focus:ring-destructive text-destructive":T?"border-warning focus:ring-warning text-warning-foreground":"border-input focus:ring-primary",z=y&&h&&String(h).length>0;return n.jsxs("div",{className:"space-y-1.5 w-full group",children:[o&&n.jsx("label",{htmlFor:R,className:F("text-[15px] font-medium ml-1 transition-colors",N?"text-destructive":"text-foreground"),children:o}),n.jsxs("div",{className:"relative",children:[c&&n.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none",children:c}),n.jsx("input",{ref:B,id:R,type:v,value:h,onChange:g,onBlur:M,className:F("flex h-12 w-full rounded-xl border bg-background px-4 py-2 text-base shadow-sm transition-all","file:border-0 file:bg-transparent file:text-sm file:font-medium","placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:border-transparent","disabled:cursor-not-allowed disabled:opacity-50 disabled:bg-muted/50",b,u?"pr-12":z?"pr-10":"",c?"pl-10":"",s),...A}),u&&n.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground text-sm font-medium pointer-events-none",children:u}),z&&!u&&n.jsx("button",{type:"button",onClick:E,tabIndex:-1,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 rounded-full text-muted-foreground hover:bg-accent hover:text-foreground transition-colors focus:outline-none focus:ring-2 focus:ring-ring active:scale-90","aria-label":"Clear input",children:n.jsx(ql,{className:"w-4 h-4"})})]}),N?n.jsxs("div",{className:"flex items-center gap-1.5 px-1 animate-fade-in",role:"alert",children:[n.jsx(Oi,{className:"w-3.5 h-3.5 text-destructive"}),n.jsx("span",{className:"text-xs font-medium text-destructive",children:N})]}):T?n.jsxs("div",{className:"flex items-center gap-1.5 px-1 animate-fade-in",role:"alert",children:[n.jsx(Ql,{className:"w-3.5 h-3.5 text-warning"}),n.jsx("span",{className:"text-xs font-medium text-warning-foreground",children:T})]}):null]})},FN=({data:s,onChange:o,errors:u})=>n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[n.jsx(Jp,{className:"w-5 h-5 text-primary"}),n.jsx("h2",{children:" (.)"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(ne,{label:" (W)",placeholder:"0.00",value:s.width_m,onChange:c=>o("width_m",c.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-primary bg-primary/10",error:u.width_m}),n.jsx(ne,{label:" (H)",placeholder:"0.00",value:s.height_m,onChange:c=>o("height_m",c.target.value),isDimension:!0,className:"text-lg font-bold text-primary bg-primary/10",error:u.height_m})]})]}),Gl=({label:s,placeholder:o,value:u,onChange:c,onSelect:d,options:m,className:p,inputMode:h,prefix:g,id:y,error:w,warning:v})=>{const N=j.useId(),T=y||N,[A,S]=j.useState(""),R=w?"border-destructive focus:ring-destructive text-destructive":v?"border-warning focus:ring-warning text-warning-foreground":"border-input focus:ring-primary",C=A===""?m:m.filter(B=>B.label.toLowerCase().includes(A.toLowerCase()));return n.jsxs("div",{className:"space-y-1.5 w-full",children:[s&&n.jsx("label",{htmlFor:T,className:F("text-[15px] font-medium ml-1",w?"text-destructive":"text-foreground"),children:s}),n.jsx(pv,{value:u,onChange:B=>{c(B||"")},immediate:!0,children:n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"relative w-full cursor-default overflow-hidden rounded-xl bg-background text-left shadow-sm focus:outline-none",children:[g&&n.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none z-10",children:g}),n.jsx(xv,{className:F("w-full border py-2 text-base leading-5 focus:outline-none focus:ring-2 focus:border-transparent transition-all","h-12 bg-background",R,g?"pl-10":"pl-4","pr-10",p),displayValue:B=>B,onChange:B=>{S(B.target.value),c(B.target.value)},placeholder:o,id:T,inputMode:h,autoComplete:"off"}),n.jsx(gv,{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:n.jsx(vv,{className:"h-5 w-5 text-muted-foreground/50","aria-hidden":"true"})})]}),n.jsx(xa,{as:j.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:()=>S(""),children:n.jsx(bv,{className:"absolute mt-1 max-h-60 w-full overflow-auto rounded-xl bg-popover py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm z-50",children:C.length===0&&A!==""?n.jsxs("div",{className:"relative cursor-default select-none px-4 py-3 text-muted-foreground italic text-center",children:[' "',A,'"']}):C.map(B=>n.jsx(yv,{className:({active:M})=>F("relative cursor-default select-none py-3 pl-10 pr-4 transition-colors",M?"bg-primary/10 text-primary":"text-foreground"),value:B.label,onClick:()=>d?.(B),children:({selected:M,active:E})=>n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:F("block truncate font-medium",M?"font-bold":"font-normal"),children:B.label}),B.desc&&n.jsx("span",{className:F("text-xs truncate",E?"text-primary/70":"text-muted-foreground"),children:B.desc})]}),M?n.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-primary",children:n.jsx(Vn,{className:"h-4 w-4","aria-hidden":"true"})}):null]})},B.value))})})]})}),w?n.jsxs("div",{className:"flex items-center gap-1.5 px-1 animate-fade-in",children:[n.jsx(Oi,{className:"w-3.5 h-3.5 text-destructive"}),n.jsx("span",{className:"text-xs font-medium text-destructive",children:w})]}):v?n.jsxs("div",{className:"flex items-center gap-1.5 px-1 animate-fade-in",children:[n.jsx(Ql,{className:"w-3.5 h-3.5 text-warning"}),n.jsx("span",{className:"text-xs font-medium text-warning-foreground",children:v})]}):null]})},Tp=s=>{const{favorites:o}=se();return o[s]||[]},Ap=({status:s,masterPrice:o,onSync:u})=>s==="synced"||s==="empty"||s==="no_master"?null:n.jsxs("div",{className:"absolute -top-6 right-0 flex items-center gap-2 animate-fade-in z-10",children:[n.jsxs("span",{className:"text-[10px] font-bold text-amber-600 bg-amber-50 px-2 py-0.5 rounded-full border border-amber-100 flex items-center gap-1",children:[n.jsx(Ql,{className:"w-3 h-3"}),": ",Re(o)]}),n.jsxs("button",{type:"button",onClick:u,className:"text-[10px] flex items-center gap-1 text-primary hover:underline hover:text-primary/80 transition-colors",children:[n.jsx(Yu,{className:"w-3 h-3"})," "]})]}),KN=({data:s,onChange:o,onNumberChange:u,warnings:c})=>{const{updateFavorite:d,addFavorite:m}=se(),p=rt(b=>b.addToast),h=Tp(pe.CURTAIN_MAIN),g=Tp(pe.CURTAIN_SHEER),[y,w]=j.useState(null),v=(b,z)=>{const k=z?g:h;if(!b)return{status:"none",masterItem:null,masterPrice:0};const G=k.find(P=>P.code===b),I=G?.default_price_per_m||0;return{status:"found",masterItem:G,masterPrice:I}},N=(b,z)=>{const k=J(b);return k===0?"empty":z===0?"no_master":Math.abs(k-z)<.01?"synced":"mismatch"},T=j.useMemo(()=>v(s.code,!1),[s.code,h]),A=j.useMemo(()=>v(s.sheer_code,!0),[s.sheer_code,g]),S=N(s.price_per_m_raw,T.masterPrice),R=N(s.sheer_price_per_m,A.masterPrice),C=(b=!1)=>{const{masterItem:z}=b?A:T;z&&(u(b?"sheer_price_per_m":"price_per_m_raw",z.default_price_per_m.toString()),p("success",` ${z.code} `))},B=(b,z,k)=>{if(!b){p("error","");return}const G=J(z);if(G<=0){p("error"," 0");return}const P=(k===pe.CURTAIN_SHEER?g:h).find(ie=>ie.code===b);try{P?(d(k,P.id,{default_price_per_m:G}),p("success",` ${b}  ${Re(G)} `)):(m(k,{code:b,default_price_per_m:G,note:""}),p("success",` ${b} `)),w(k),setTimeout(()=>w(null),2e3)}catch(ie){console.error(ie),p("error","")}},M=(b,z=!1)=>{const k=typeof b=="string"?b:b.value;o(z?"sheer_code":"code",k);const P=(z?g:h).find(xe=>xe.code===k),ie=z?"sheer_price_per_m":"price_per_m_raw";P&&P.default_price_per_m>0&&u(ie,P.default_price_per_m.toString())},E=b=>b.map(z=>({label:z.code,value:z.code,desc:z.note,data:z}));return n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold border-b border-border/50 pb-2 mb-2",children:[n.jsx(_i,{className:"w-5 h-5 text-indigo-500"}),n.jsx("h2",{children:" ()"})]}),n.jsx(Gl,{label:" (Fabric Code)",placeholder:"...",value:s.code||"",onChange:b=>M(b,!1),options:E(h),warning:c.code,className:"w-full"}),n.jsxs("div",{className:"flex gap-2 items-end relative",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Ap,{status:S,masterPrice:T.masterPrice,onSync:()=>C(!1)}),n.jsx(ne,{label:" (/.)",placeholder:"0.00",value:s.price_per_m_raw||"",onChange:b=>u("price_per_m_raw",b.target.value),type:"number",inputMode:"decimal",className:F("w-full text-lg font-bold transition-all",S==="mismatch"?"text-amber-600 bg-amber-50 border-amber-200 focus:ring-amber-500":"text-primary bg-primary/5 border-transparent")})]}),s.code&&J(s.price_per_m_raw)>0&&n.jsx(de,{type:"button",variant:"outline",className:F("h-[50px] w-[50px] p-0 shrink-0 border-dashed transition-all",S==="mismatch"?"border-amber-400 text-amber-500 hover:bg-amber-50":"border-border text-muted-foreground hover:text-amber-500"),onClick:()=>B(s.code,s.price_per_m_raw,pe.CURTAIN_MAIN),title:"",children:y===pe.CURTAIN_MAIN?n.jsx(Vn,{className:"w-6 h-6 text-green-600 animate-in zoom-in"}):n.jsx(Yl,{className:F("w-6 h-6",S==="mismatch"&&"fill-amber-100 animate-pulse")})})]})]}),(s.layer_mode===Si.SHEER||s.layer_mode===Si.DOUBLE)&&n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-dashed border-border shadow-sm space-y-4 animate-fade-in relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-teal-500/10 rounded-full blur-xl -translate-y-1/2 translate-x-1/2"}),n.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold border-b border-border/50 pb-2 mb-2",children:[n.jsx(Vp,{className:"w-5 h-5 text-teal-500"}),n.jsx("h2",{children:""})]}),n.jsx(Gl,{label:"",placeholder:"...",value:s.sheer_code||"",onChange:b=>M(b,!0),options:E(g),warning:c.sheer_code,className:"w-full"}),n.jsxs("div",{className:"flex gap-2 items-end relative",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Ap,{status:R,masterPrice:A.masterPrice,onSync:()=>C(!0)}),n.jsx(ne,{label:" (/.)",placeholder:"0.00",value:s.sheer_price_per_m||"",onChange:b=>u("sheer_price_per_m",b.target.value),type:"number",inputMode:"decimal",className:F("w-full text-lg font-bold transition-all",R==="mismatch"?"text-amber-600 bg-amber-50 border-amber-200 focus:ring-amber-500":"text-teal-600 bg-teal-50/50 border-transparent")})]}),s.sheer_code&&J(s.sheer_price_per_m)>0&&n.jsx(de,{type:"button",variant:"outline",className:F("h-[50px] w-[50px] p-0 shrink-0 border-dashed transition-all",R==="mismatch"?"border-amber-400 text-amber-500 hover:bg-amber-50":"border-border text-muted-foreground hover:text-teal-500"),onClick:()=>B(s.sheer_code,s.sheer_price_per_m,pe.CURTAIN_SHEER),children:y===pe.CURTAIN_SHEER?n.jsx(Vn,{className:"w-6 h-6 text-green-600 animate-in zoom-in"}):n.jsx(Yl,{className:F("w-6 h-6",R==="mismatch"&&"fill-amber-100 animate-pulse")})})]})]})]})},Kx=W.forwardRef(({className:s,label:o,valueLabel:u,placeholder:c="...",hasError:d,id:m,...p},h)=>{const g=j.useId(),y=m||g;return n.jsxs("div",{className:"space-y-1.5 w-full",children:[o&&n.jsx("label",{htmlFor:y,className:F("text-[15px] font-medium ml-1",d?"text-destructive":"text-foreground"),children:o}),n.jsxs("button",{ref:h,id:y,type:"button",className:F("flex h-12 w-full items-center justify-between rounded-xl border bg-background px-4 py-2 text-base transition-all shadow-sm","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:border-transparent",d?"border-destructive text-destructive":"border-input text-foreground",!u&&"text-muted-foreground","active:scale-[0.99] active:bg-accent/50",s),...p,children:[n.jsx("span",{className:"truncate",children:u||c}),n.jsx(Qp,{className:F("h-5 w-5 opacity-50 shrink-0",d&&"text-destructive")})]}),d&&n.jsxs("div",{className:"flex items-center gap-1.5 px-1 animate-fade-in",children:[n.jsx(Oi,{className:"w-3.5 h-3.5 text-destructive"}),n.jsx("span",{className:"text-xs font-medium text-destructive",children:""})]})]})});Kx.displayName="SelectButton";const IN=({isOpen:s,onClose:o,title:u,options:c,value:d,onSelect:m,showCloseButton:p=!0,showDragIndicator:h=!0,maxHeight:g="85vh"})=>{const{trigger:y}=ka(),w=j.useCallback(N=>{y("selection"),N!==d&&m(N),setTimeout(()=>{o()},120)},[y,d,m,o]),v=j.useCallback(()=>{y("light"),o()},[y,o]);return n.jsx(xa,{show:s,as:j.Fragment,children:n.jsxs(zi,{as:"div",className:"relative z-50",onClose:v,"aria-labelledby":"option-sheet-title",children:[n.jsx(ml,{as:j.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:n.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-[2px]","aria-hidden":"true"})}),n.jsx("div",{className:"fixed inset-0 flex items-end justify-center pointer-events-none",children:n.jsx(ml,{as:j.Fragment,enter:"transform transition ease-ios duration-300",enterFrom:"translate-y-full opacity-0",enterTo:"translate-y-0 opacity-100",leave:"transform transition ease-ios duration-200",leaveFrom:"translate-y-0 opacity-100",leaveTo:"translate-y-full opacity-0",children:n.jsxs(Li,{className:"relative w-full bg-card rounded-t-2xl shadow-2xl flex flex-col pointer-events-auto",style:{maxHeight:g},children:[n.jsxs("div",{className:"sticky top-0 z-10 bg-card rounded-t-2xl border-b border-border/50",children:[h&&n.jsx("div",{className:"flex justify-center pt-3 pb-2",children:n.jsx("div",{className:"w-12 h-1.5 rounded-full bg-muted-foreground/30"})}),n.jsxs("div",{className:"px-5 pb-4 pt-1 flex items-center justify-between",children:[n.jsx(qu,{id:"option-sheet-title",className:"text-lg font-bold text-foreground",children:u}),p&&n.jsx("button",{onClick:v,className:"p-2 -mr-2 rounded-lg hover:bg-muted transition-colors focus:outline-none focus:ring-2 focus:ring-primary/50","aria-label":"Close",children:n.jsx(ql,{className:"w-5 h-5 text-muted-foreground"})})]})]}),n.jsxs("div",{className:"overflow-y-auto overscroll-contain px-4 pb-safe-bottom",children:[n.jsx("div",{className:"py-1 space-y-2",children:c.map(N=>{const T=d===N.value,A=N.icon,S=N.disabled;return n.jsxs("button",{type:"button",onClick:()=>!S&&w(N.value),disabled:S,className:F("w-full flex items-center gap-3 p-4 rounded-xl transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-primary/50 focus:ring-offset-2 focus:ring-offset-card",T?"bg-primary/10 border border-primary/20":"bg-background border border-border hover:bg-muted/80",S&&"opacity-50 cursor-not-allowed hover:bg-background"),"aria-current":T?"true":"false","aria-disabled":S,children:[A&&n.jsx("div",{className:F("w-10 h-10 rounded-full flex items-center justify-center shrink-0 transition-colors",T?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground",S&&"opacity-50"),children:n.jsx(A,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[n.jsx("div",{className:F("font-semibold text-base truncate",T?"text-primary":"text-foreground",S&&"text-muted-foreground"),children:N.label}),N.description&&n.jsx("div",{className:F("text-sm text-muted-foreground mt-0.5 truncate",S&&"opacity-70"),children:N.description})]}),n.jsx("div",{className:"flex-shrink-0 ml-2",children:T?n.jsx("div",{className:"w-6 h-6 rounded-full bg-primary flex items-center justify-center animate-in zoom-in-50 duration-200",children:n.jsx(Vn,{className:"w-3.5 h-3.5 text-primary-foreground",strokeWidth:3,"aria-hidden":"true"})}):n.jsx(Xn,{className:"w-5 h-5 text-muted-foreground/40","aria-hidden":"true"})})]},String(N.value))})}),n.jsx("div",{className:"h-6"})]})]})})})]})})},Cu=({value:s,label:o,icon:u,currentValue:c,onChange:d})=>{const m=c===s;return n.jsxs("button",{type:"button",onClick:()=>d(s),className:F("relative flex flex-col items-center justify-center h-20 rounded-xl border-2 transition-all active:scale-95",m?"border-primary bg-primary/10 text-primary shadow-md":"border-border bg-card text-muted-foreground hover:bg-muted/30"),children:[n.jsx(u,{className:F("w-8 h-8 mb-1",m?"text-primary":"text-slate-400"),strokeWidth:1.5}),n.jsx("span",{className:"text-[11px] font-medium",children:o}),m&&n.jsx("div",{className:"absolute top-1 right-1 bg-primary text-white rounded-full p-0.5",children:n.jsx(Vn,{className:"w-2 h-2"})})]})},JN=({data:s,onChange:o,warnings:u})=>{const[c,d]=j.useState(null),m=()=>Ph.find(h=>h.value===s.style)?.label||s.style,p=Du[s.style]||{hasRail:!0};return n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold pb-2 border-b border-border/50",children:[n.jsx(Zp,{className:"w-5 h-5 text-primary"}),n.jsx("h2",{children:" & "})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground ml-1",children:" (Style)"}),n.jsx(Kx,{valueLabel:m(),onClick:()=>d("style"),className:"w-full h-14 text-lg font-medium"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground ml-1",children:" (Opening)"}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsx(Cu,{value:"",label:"",icon:Ui,currentValue:s.opening_style,onChange:h=>o("opening_style",h)}),n.jsx(Cu,{value:"",label:"",icon:Vu,currentValue:s.opening_style,onChange:h=>o("opening_style",h)}),n.jsx(Cu,{value:"",label:"",icon:Bi,currentValue:s.opening_style,onChange:h=>o("opening_style",h)})]})]}),p.hasRail&&n.jsx("div",{className:"animate-fade-in pt-2",children:n.jsx(ne,{prefix:n.jsx(Nv,{className:"w-4 h-4 text-muted-foreground"}),label:" / ",placeholder:"...",value:s.rail_color||"",onChange:h=>o("rail_color",h.target.value),warning:u.rail_color,className:"h-12"})}),n.jsx(IN,{isOpen:c==="style",onClose:()=>d(null),title:"",options:Ph,value:s.style,onSelect:h=>o("style",h)})]})},Ut=({className:s,checked:o,onCheckedChange:u,disabled:c,ref:d,...m})=>n.jsxs("label",{className:F("group inline-flex items-center relative cursor-pointer tap-highlight-transparent",c&&"cursor-not-allowed opacity-50",s),children:[n.jsx("input",{ref:d,type:"checkbox",className:"sr-only",checked:o,onChange:p=>u(p.target.checked),disabled:c,...m}),n.jsx("div",{className:F("w-[51px] h-[31px] rounded-full transition-colors duration-300 ease-in-out border",o?"bg-primary border-primary":"bg-input border-border")}),n.jsx("div",{className:F("absolute left-[2px] top-[2px] w-[27px] h-[27px] bg-background rounded-full shadow-sm transition-transform duration-300 ease-in-out",o?"translate-x-[20px]":"translate-x-0")})]}),$N=({data:s,onChange:o,onNumberChange:u})=>{const c=j.useMemo(()=>st.calculatePrice({...s,type:K.CURTAIN,id:"temp"}),[s]);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-center py-2",children:[n.jsx("div",{className:"text-sm text-emerald-400 font-medium mb-1",children:" (Net Price)"}),n.jsx("div",{className:"text-4xl font-bold font-mono text-emerald-300 tracking-tight",children:Re(c)}),n.jsx("div",{className:"text-xs text-slate-400 mt-2",children:"(  )"})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ut,{checked:s.enable_set_price||!1,onCheckedChange:d=>o("enable_set_price",d),className:"data-[state=checked]:bg-emerald-500"}),n.jsx("span",{className:"text-sm text-slate-300",children:" (Manual Override)"})]}),s.enable_set_price&&n.jsx("div",{className:"w-36 animate-fade-in",children:n.jsx("input",{type:"text",inputMode:"decimal",value:s.set_price_override||"",onChange:d=>u("set_price_override",d.target.value),placeholder:"0.00",className:"w-full bg-slate-800 text-white border border-slate-600 rounded-lg px-3 py-2 text-right font-mono text-sm focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 transition-all"})})]})]})},WN=s=>{if(s===""||s===void 0||s===0)return"";const o=Number(s);return isNaN(o)?"":o.toLocaleString("en-US")},PN=s=>s.replace(/,/g,""),pl=(s,o)=>{const[u,c]=j.useState(s),[d,m]=j.useState({}),[p,h]=j.useState({}),g=j.useMemo(()=>JSON.stringify(u)!==JSON.stringify(s),[u,s]),y=j.useCallback((A,S)=>{c(R=>({...R,[A]:S})),o&&o[A]&&(m(R=>({...R,[A]:void 0})),h(R=>({...R,[A]:void 0})))},[o]),w=j.useCallback((A,S)=>{const R=PN(S);/^\d*\.?\d*$/.test(R)&&(c(C=>({...C,[A]:R})),o&&o[A]&&(m(C=>({...C,[A]:void 0})),h(C=>({...C,[A]:void 0}))))},[o]),v=j.useCallback(()=>{if(!o)return{isValid:!0,hasWarnings:!1};const A={},S={};let R=!0,C=!1;return Object.keys(o).forEach(B=>{const M=o[B];if(M){const E=M(u[B],u);E&&(E.level==="error"?(A[B]=E.message,R=!1):E.level==="warning"&&(S[B]=E.message,C=!0))}}),m(A),h(S),{isValid:R,hasWarnings:C}},[u,o]),N=j.useCallback(A=>{const S=u[A];return typeof S=="string"||typeof S=="number"?WN(S):""},[u]),T=j.useCallback(()=>{c(s),m({}),h({})},[s]);return{formData:u,errors:d,warnings:p,isDirty:g,handleChange:y,handleNumberChange:w,getFormattedNumber:N,setFormData:c,validate:v,resetForm:T}},ej={width_m:"",height_m:"",style:"",opening_style:"",layer_mode:Si.MAIN,fabric_variant:"",code:"",price_per_m_raw:"",sheer_code:"",sheer_price_per_m:"",rail_color:"",bracket_color:"",notes:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},Dp=s=>({level:"error",message:s}),Rp=s=>({level:"warning",message:s}),tj={width_m:s=>J(s)<=0?Dp(""):null,height_m:s=>J(s)<=0?Dp(""):null,code:(s,o)=>o.layer_mode===Si.SHEER||s?null:Rp(""),rail_color:(s,o)=>(Du[o.style]||Du.).hasRail&&!s?Rp(""):null},aj=(s,o)=>{const{addToast:u}=rt(),c=pl({...ej,...s},tj);return{...c,handleSubmit:m=>{m.preventDefault();const{isValid:p,hasWarnings:h}=c.validate();p?(o(c.formData),h&&u("warning"," ()")):u("error"," () ")}}},lj=({initialData:s,onSubmit:o,onCancel:u})=>{const{formData:c,errors:d,warnings:m,handleChange:p,handleNumberChange:h,handleSubmit:g}=aj(s,o);return n.jsxs("form",{onSubmit:g,className:"space-y-6",children:[n.jsx(FN,{data:c,onChange:h,errors:d}),n.jsx(KN,{data:c,onChange:p,onNumberChange:h,warnings:m}),n.jsx(JN,{data:c,onChange:p,warnings:m}),n.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),n.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold border-b border-border pb-3",children:[n.jsx(Xu,{className:"w-5 h-5"}),n.jsx("h3",{children:""})]}),n.jsx($N,{data:c,onChange:p,onNumberChange:h})]}),n.jsxs("div",{className:"space-y-4 pt-2",children:[n.jsx(ne,{label:"",value:c.notes||"",onChange:y=>p("notes",y.target.value),className:"bg-muted/30"}),n.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-border",children:[n.jsx(de,{variant:"ghost",type:"button",onClick:u,className:"h-12 px-6 text-muted-foreground",children:""}),n.jsx(de,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-brand-curtain/20 bg-brand-curtain text-white hover:bg-brand-curtain/90",children:""})]})]})]})},Mp={widths:[""],height_m:"",price_per_roll:"",install_cost_per_roll:"",wallpaper_code:"",notes:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},Op=s=>({level:"error",message:s}),nj=s=>({level:"warning",message:s}),sj={height_m:s=>J(s)<=0?Op(""):null,wallpaper_code:s=>s?null:nj(""),widths:s=>Array.isArray(s)&&s.some(o=>J(o)>0)?null:Op(" 1 ")},rj=({initialData:s,onSubmit:o,onCancel:u})=>{const{formData:c,errors:d,warnings:m,handleChange:p,handleNumberChange:h,validate:g}=pl({...Mp,...s},sj),{addFavorite:y,favorites:w,updateFavorite:v,openModal:N}=se(),{addToast:T}=rt(),{confirm:A}=hl(),S=(G,I)=>{const P=[...c.widths];P[G]=I,p("widths",P)},R=()=>{p("widths",[...c.widths,""])},C=G=>{const I=c.widths.filter((P,ie)=>ie!==G);p("widths",I.length?I:[""])},B=j.useMemo(()=>{const G={...Mp,...c,type:K.WALLPAPER,id:"preview"};return st.calculateDetailedPrice(G)},[c]),M=j.useMemo(()=>(w[pe.WALLPAPER]||[]).map(G=>({label:G.code,value:G.code,desc:`${G.default_price_per_m}`,data:G})),[w]),E=G=>{p("wallpaper_code",G);const I=M.find(P=>P.value.toLowerCase()===G.toLowerCase());I&&I.data?.default_price_per_m&&h("price_per_roll",String(I.data.default_price_per_m))},b=async()=>{const G=c.wallpaper_code,I=J(c.price_per_roll);if(!G||I<=0)return T("warning","");const P=(w[pe.WALLPAPER]||[]).find(ie=>ie.code===G);P?P.default_price_per_m!==I?await A({title:"",description:` ${P.default_price_per_m} ->  ${I}. ?`,confirmLabel:"",cancelLabel:""})&&(v(pe.WALLPAPER,P.id,{default_price_per_m:I}),T("success",` ${G} `)):T("info",""):(y(pe.WALLPAPER,{code:G,default_price_per_m:I}),T("success",` ${G} `))},z=G=>G?(w[pe.WALLPAPER]||[]).some(I=>I.code===G):!1,k=G=>{G.preventDefault();const{isValid:I,hasWarnings:P}=g();I?(o(c),P&&T("warning"," ()")):T("error","")};return n.jsxs("form",{onSubmit:k,className:"space-y-6",children:[n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[n.jsx(Jp,{className:"w-5 h-5 text-orange-500"}),n.jsx("h2",{children:""})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground ml-1",children:" (.)"}),c.widths.map((G,I)=>n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{placeholder:` ${I+1}`,value:G,onChange:P=>S(I,P.target.value),isDimension:!0,className:F(d.widths&&"border-red-300 bg-red-50")}),c.widths.length>1&&n.jsx("button",{type:"button",onClick:()=>C(I),className:"p-3 text-muted-foreground hover:text-red-500 hover:bg-red-50 rounded-xl transition-colors",children:n.jsx(Gn,{className:"w-5 h-5"})})]},I)),n.jsxs("button",{type:"button",onClick:R,className:"text-sm text-indigo-600 font-medium flex items-center gap-1 px-1 hover:underline",children:[n.jsx(Hl,{className:"w-4 h-4"})," "]})]}),n.jsx(ne,{label:" ()",placeholder:"0.00",value:c.height_m,onChange:G=>h("height_m",G.target.value),isDimension:!0,error:d.height_m})]})]}),n.jsx("div",{className:"space-y-4",children:n.jsx("div",{className:"bg-muted/50 p-4 rounded-xl border border-border space-y-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("label",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[n.jsx(Ti,{className:"w-4 h-4 text-muted-foreground"})," "]}),n.jsxs(de,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 gap-1 text-muted-foreground hover:text-orange-500",onClick:()=>N("favoriteManager",{initialTab:pe.WALLPAPER}),children:[n.jsx(ki,{className:"w-3.5 h-3.5"}),n.jsx("span",{className:"text-xs",children:""})]})]}),n.jsx(Gl,{placeholder:"...",value:c.wallpaper_code||"",onChange:E,options:M,warning:m.wallpaper_code}),n.jsxs("div",{className:"relative",children:[n.jsx(ne,{placeholder:" (/)",inputMode:"decimal",value:c.price_per_roll||"",onChange:G=>h("price_per_roll",G.target.value),prefix:n.jsx(Ba,{className:"w-4 h-4 text-muted-foreground"})}),c.wallpaper_code&&J(c.price_per_roll)>0&&n.jsx("button",{type:"button",onClick:b,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 z-10 hover:scale-110 transition-transform",children:n.jsx(Yl,{className:F("w-5 h-5 transition-colors",z(c.wallpaper_code)?"fill-amber-400 text-amber-400":"text-muted-foreground hover:text-amber-400")})})]}),n.jsx(ne,{label:" (/)",placeholder:"0",inputMode:"decimal",value:c.install_cost_per_roll||"",onChange:G=>h("install_cost_per_roll",G.target.value),prefix:n.jsx(jv,{className:"w-4 h-4 text-muted-foreground"})})]})})}),n.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 text-foreground relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-500/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex justify-between border-b border-border pb-2",children:[n.jsx("span",{className:"text-muted-foreground",children:" ():"}),n.jsxs("span",{className:"font-mono text-foreground text-lg font-bold",children:[B.breakdown?.rolls||0," "]})]}),n.jsxs("div",{className:"flex justify-between items-end pt-2 border-t border-border mt-2",children:[n.jsx("span",{className:"text-muted-foreground pb-1",children:""}),n.jsx("span",{className:"text-2xl font-bold font-mono text-orange-400",children:Re(B.total)})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ut,{checked:c.enable_set_price||!1,onCheckedChange:G=>p("enable_set_price",G),className:"data-[state=checked]:bg-orange-500"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),c.enable_set_price&&n.jsx("div",{className:"w-32",children:n.jsx("input",{type:"text",inputMode:"decimal",value:c.set_price_override||"",onChange:G=>h("set_price_override",G.target.value),className:"w-full bg-background text-foreground border border-border rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:border-orange-500"})})]})]})]}),n.jsxs("div",{className:"pt-2 space-y-4",children:[n.jsx(ne,{label:"",value:c.notes||"",onChange:G=>p("notes",G.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),n.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2",children:[n.jsx(de,{variant:"ghost",type:"button",onClick:u,className:"h-12 px-6 text-muted-foreground",children:""}),n.jsx(de,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-orange-500/20 bg-primary text-primary-foreground",children:""})]})]})]})},zp={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"Blackout",adjustment_side:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},ij={width_m:s=>J(s)<=0?{level:"error",message:""}:null,height_m:s=>J(s)<=0?{level:"error",message:""}:null,price_sqyd:(s,o)=>!o.enable_set_price&&J(s)<=0?{level:"warning",message:""}:null},cj=({initialData:s,onSubmit:o,onCancel:u})=>{const{formData:c,errors:d,warnings:m,handleChange:p,handleNumberChange:h,validate:g}=pl({...zp,...s},ij),{addFavorite:y,favorites:w,updateFavorite:v,openModal:N}=se(),{addToast:T}=rt(),{confirm:A}=hl(),S=j.useMemo(()=>{const b={...zp,...c,type:K.ROLLER_BLIND,id:"preview"};return st.calculateDetailedPrice(b)},[c]),R=j.useMemo(()=>(w[pe.ROLLER_BLIND]||[]).map(b=>({label:b.code,value:b.code,desc:`${b.default_price_per_m}`,data:b})),[w]),C=b=>{p("code",b);const z=R.find(k=>k.value.toLowerCase()===b.toLowerCase());z&&z.data?.default_price_per_m&&h("price_sqyd",String(z.data.default_price_per_m))},B=async()=>{const b=c.code,z=J(c.price_sqyd);if(!b||z<=0)return T("warning","");const k=(w[pe.ROLLER_BLIND]||[]).find(G=>G.code===b);k?k.default_price_per_m!==z&&await A({title:"",description:` ${k.default_price_per_m} ->  ${z}. ?`,confirmLabel:"",cancelLabel:""})&&v(pe.ROLLER_BLIND,k.id,{default_price_per_m:z}):(y(pe.ROLLER_BLIND,{code:b,default_price_per_m:z}),T("success",` ${b} `))},M=b=>!!b&&(w[pe.ROLLER_BLIND]||[]).some(z=>z.code===b),E=b=>{b.preventDefault();const{isValid:z,hasWarnings:k}=g();z?(o(c),k&&T("warning"," ()")):T("error","")};return n.jsxs("form",{onSubmit:E,className:"space-y-6",children:[n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[n.jsx(Bu,{className:"w-5 h-5 text-teal-500"}),n.jsx("h2",{children:" (.)"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(ne,{label:" (W)",placeholder:"0.00",value:c.width_m,onChange:b=>h("width_m",b.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-teal-600 dark:text-teal-400 bg-teal-500/10",error:d.width_m}),n.jsx(ne,{label:" (H)",placeholder:"0.00",value:c.height_m,onChange:b=>h("height_m",b.target.value),isDimension:!0,className:"text-lg font-bold text-teal-600 dark:text-teal-400 bg-teal-500/10",error:d.height_m})]})]}),n.jsxs("div",{className:"bg-muted/50 p-4 rounded-xl border border-border space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("label",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[n.jsx(Ba,{className:"w-4 h-4 text-muted-foreground"})," /"]}),n.jsxs(de,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 gap-1 text-muted-foreground hover:text-teal-600",onClick:()=>N("favoriteManager",{initialTab:pe.ROLLER_BLIND}),children:[n.jsx(ki,{className:"w-3.5 h-3.5"}),n.jsx("span",{className:"text-xs",children:""})]})]}),n.jsx(Gl,{placeholder:"/...",value:c.code||"",onChange:C,options:R}),n.jsxs("div",{className:"relative",children:[n.jsx(ne,{placeholder:" (/..)",inputMode:"decimal",value:c.price_sqyd||"",onChange:b=>h("price_sqyd",b.target.value),warning:m.price_sqyd}),c.code&&J(c.price_sqyd)>0&&n.jsx("button",{type:"button",onClick:B,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 z-10 hover:scale-110 transition-transform",children:n.jsx(Yl,{className:F("w-5 h-5 transition-colors",M(c.code)?"fill-amber-400 text-amber-400":"text-muted-foreground hover:text-amber-400")})})]})]}),n.jsxs("div",{className:"space-y-2 pt-2 border-t border-border",children:[n.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),n.jsx("div",{className:"grid grid-cols-3 gap-2 bg-muted/50 p-1 rounded-xl",children:["Blackout","Sunscreen","Dimout"].map(b=>n.jsx("button",{type:"button",onClick:()=>p("fabric_variant",b),className:F("flex items-center justify-center py-2 rounded-lg text-xs font-medium transition-all",c.fabric_variant===b?"bg-teal-600 text-white shadow-md":"text-muted-foreground hover:bg-background/50"),children:b},b))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:["",""].map(b=>n.jsxs("button",{type:"button",onClick:()=>p("adjustment_side",b),className:F("flex items-center justify-center gap-2 py-3 rounded-xl border transition-all",c.adjustment_side===b?"border-teal-500 bg-teal-500/10 text-teal-600 dark:text-teal-400":"border-border text-muted-foreground hover:bg-muted"),children:[b===""?n.jsx(Ui,{className:"w-4 h-4"}):n.jsx(Bi,{className:"w-4 h-4"}),b]},b))})]})]}),n.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 text-foreground relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-teal-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[n.jsx("span",{children:" (..):"}),n.jsx("span",{className:"text-foreground font-mono",children:S.breakdown?.areaSqyd?.toFixed(2)||"0.00"})]}),n.jsxs("div",{className:"flex justify-between items-end pt-2 border-t border-border mt-2",children:[n.jsx("span",{className:"text-muted-foreground pb-1",children:""}),n.jsx("span",{className:"text-2xl font-bold font-mono text-teal-600 dark:text-teal-400",children:Re(S.total)})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ut,{checked:c.enable_set_price||!1,onCheckedChange:b=>p("enable_set_price",b),className:"data-[state=checked]:bg-teal-500"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),c.enable_set_price&&n.jsx("div",{className:"w-32",children:n.jsx("input",{type:"text",inputMode:"decimal",value:c.set_price_override||"",onChange:b=>h("set_price_override",b.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"})})]})]})]}),n.jsxs("div",{className:"pt-2 space-y-4",children:[n.jsx(ne,{label:"",value:c.notes||"",onChange:b=>p("notes",b.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),n.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[n.jsx(de,{variant:"ghost",type:"button",onClick:u,className:"h-12 px-6 text-muted-foreground",children:""}),n.jsx(de,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-teal-500/20 bg-teal-600 hover:bg-teal-700 text-white",children:""})]})]})]})},Lp={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"",adjustment_side:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},oj={width_m:s=>J(s)<=0?{level:"error",message:""}:null,height_m:s=>J(s)<=0?{level:"error",message:""}:null,price_sqyd:(s,o)=>!o.enable_set_price&&J(s)<=0?{level:"warning",message:""}:null},uj=({initialData:s,onSubmit:o,onCancel:u,itemType:c=K.WOODEN_BLIND})=>{const{formData:d,errors:m,handleChange:p,handleNumberChange:h,validate:g}=pl({...Lp,...s},oj),{favorites:y}=se(),{addToast:w}=rt(),v=c===K.ROLLER_BLIND?pe.ROLLER_BLIND:c===K.ALUMINUM_BLIND?pe.ALUMINUM_BLIND:pe.WOODEN_BLIND,N=j.useMemo(()=>{const R={...Lp,...d,type:c,id:"preview"};return st.calculateDetailedPrice(R)},[d,c]),T=j.useMemo(()=>(y[v]||[]).map(R=>({label:R.code,value:R.code,desc:`${R.default_price_per_m}`,data:R})),[y,v]),A=R=>{p("code",R);const C=T.find(B=>B.value.toLowerCase()===R.toLowerCase());C&&C.data?.default_price_per_m&&h("price_sqyd",String(C.data.default_price_per_m))},S=R=>{R.preventDefault();const{isValid:C,hasWarnings:B}=g();C?(o(d),B&&w("warning"," ()")):w("error","")};return n.jsxs("form",{onSubmit:S,className:"space-y-6 pb-20 sm:pb-0",children:[n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[n.jsx(Fs,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"}),n.jsx("h2",{children:" (.)"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(ne,{label:" (W)",placeholder:"0.00",value:d.width_m,onChange:R=>h("width_m",R.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-amber-600 dark:text-amber-400 bg-amber-500/10",error:m.width_m}),n.jsx(ne,{label:" (H)",placeholder:"0.00",value:d.height_m,onChange:R=>h("height_m",R.target.value),isDimension:!0,className:"text-lg font-bold text-amber-600 dark:text-amber-400 bg-amber-500/10",error:m.height_m})]})]}),n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[n.jsx("div",{className:"grid grid-cols-2 gap-2 bg-muted/50 p-1 rounded-xl",children:["",""].map(R=>n.jsx("button",{type:"button",onClick:()=>p("fabric_variant",R),className:F("flex items-center justify-center py-2 rounded-lg text-xs font-medium transition-all",d.fabric_variant===R?"bg-amber-600 text-white shadow-md":"text-muted-foreground hover:bg-background/50"),children:R},R))}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(Gl,{label:"//",options:T,value:d.code||"",onChange:A,className:"bg-muted/50",placeholder:" BW-01"}),n.jsx(ne,{label:" (/..)",value:d.price_sqyd||"",onChange:R=>h("price_sqyd",R.target.value),className:"bg-muted/50",inputMode:"decimal",placeholder:"0.00"})]}),n.jsxs("div",{className:"pt-2",children:[n.jsx("label",{className:"text-sm font-bold text-foreground mb-2 block",children:" (Side)"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:["",""].map(R=>n.jsxs("button",{type:"button",onClick:()=>p("adjustment_side",R),className:F("flex items-center justify-center gap-2 py-3 rounded-xl border transition-all",d.adjustment_side===R?"border-amber-500 bg-amber-500/10 text-amber-600 dark:text-amber-400":"border-border text-muted-foreground hover:bg-muted"),children:[R===""?n.jsx(Ui,{className:"w-4 h-4"}):n.jsx(Bi,{className:"w-4 h-4"}),R]},R))})]})]}),n.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-amber-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),n.jsxs("div",{className:"flex items-center gap-2 text-amber-600 dark:text-amber-400 font-bold border-b border-border pb-3",children:[n.jsx(Ba,{className:"w-5 h-5"}),n.jsx("h3",{children:""})]}),n.jsxs("div",{className:"flex justify-between items-baseline",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:""}),n.jsx("span",{className:"text-2xl font-bold font-mono text-amber-600 dark:text-amber-400",children:Re(N.total)})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ut,{checked:d.enable_set_price||!1,onCheckedChange:R=>p("enable_set_price",R),className:"data-[state=checked]:bg-amber-500"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),d.enable_set_price&&n.jsx("div",{className:"w-32",children:n.jsx("input",{type:"text",inputMode:"decimal",value:d.set_price_override||"",onChange:R=>h("set_price_override",R.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"})})]})]}),n.jsxs("div",{className:"pt-2 space-y-4",children:[n.jsx(ne,{label:"",value:d.notes||"",onChange:R=>p("notes",R.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),n.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[n.jsx(de,{variant:"ghost",type:"button",onClick:u,className:"h-12 px-6 text-muted-foreground",children:""}),n.jsx(de,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-amber-500/20 bg-amber-600 hover:bg-amber-700 text-white",children:""})]})]})]})},Up={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"Dimout",adjustment_side:"",opening_style:pa.SIDE,is_suspended:!1,enable_set_price:!1,set_price_override:0},dj={width_m:s=>J(s)<=0?{level:"error",message:""}:null,height_m:s=>J(s)<=0?{level:"error",message:""}:null,price_sqyd:(s,o)=>!o.enable_set_price&&J(s)<=0?{level:"warning",message:""}:null},fj=({initialData:s,onSubmit:o,onCancel:u})=>{const{formData:c,errors:d,warnings:m,handleChange:p,handleNumberChange:h,validate:g}=pl({...Up,...s},dj),{addFavorite:y,favorites:w,updateFavorite:v,openModal:N}=se(),{addToast:T}=rt(),{confirm:A}=hl(),S=j.useMemo(()=>{const b={...Up,...c,type:K.VERTICAL_BLIND,id:"preview"};return st.calculateDetailedPrice(b)},[c]),R=j.useMemo(()=>(w[pe.VERTICAL_BLIND]||[]).map(b=>({label:b.code,value:b.code,desc:`${b.default_price_per_m}`,data:b})),[w]),C=b=>{p("code",b);const z=R.find(k=>k.value.toLowerCase()===b.toLowerCase());z&&z.data?.default_price_per_m&&h("price_sqyd",String(z.data.default_price_per_m))},B=async()=>{const b=c.code,z=J(c.price_sqyd);if(!b||z<=0)return T("warning","");const k=(w[pe.VERTICAL_BLIND]||[]).find(G=>G.code===b);k&&k.default_price_per_m!==z?await A({title:"?",description:` ${k.default_price_per_m}  ${z}?`})&&v(pe.VERTICAL_BLIND,k.id,{default_price_per_m:z}):k||(y(pe.VERTICAL_BLIND,{code:b,default_price_per_m:z}),T("success",""))},M=b=>!!b&&(w[pe.VERTICAL_BLIND]||[]).some(z=>z.code===b),E=b=>{b.preventDefault(),g().isValid?o(c):T("error","")};return n.jsxs("form",{onSubmit:E,className:"space-y-6 pb-20 sm:pb-0",children:[n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[n.jsx(Uu,{className:"w-5 h-5 text-cyan-500"}),n.jsx("h2",{children:" (.)"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(ne,{label:" (W)",value:c.width_m,onChange:b=>h("width_m",b.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-cyan-600 dark:text-cyan-400 bg-cyan-500/10",error:d.width_m}),n.jsx(ne,{label:" (H)",value:c.height_m,onChange:b=>h("height_m",b.target.value),isDimension:!0,className:"text-lg font-bold text-cyan-600 dark:text-cyan-400 bg-cyan-500/10",error:d.height_m})]})]}),n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("label",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[n.jsx(Ba,{className:"w-4 h-4 text-muted-foreground"}),"/"]}),n.jsxs(de,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 gap-1 text-muted-foreground hover:text-cyan-600",onClick:()=>N("favoriteManager",{initialTab:pe.VERTICAL_BLIND}),children:[n.jsx(ki,{className:"w-3.5 h-3.5"}),n.jsx("span",{className:"text-xs",children:""})]})]}),n.jsx(Gl,{placeholder:"/...",value:c.code||"",onChange:C,options:R}),n.jsxs("div",{className:"relative",children:[n.jsx(ne,{placeholder:" (/..)",inputMode:"decimal",value:c.price_sqyd||"",onChange:b=>h("price_sqyd",b.target.value),warning:m.price_sqyd}),c.code&&J(c.price_sqyd)>0&&n.jsx("button",{type:"button",onClick:B,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 z-10 hover:scale-110 transition-transform",children:n.jsx(Yl,{className:F("w-5 h-5",M(c.code)?"fill-amber-400 text-amber-400":"text-muted-foreground")})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-border",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("button",{type:"button",onClick:()=>p("opening_style",pa.SIDE),className:F("flex items-center gap-2 px-3 py-2 rounded-lg text-xs border transition-all",c.opening_style===pa.SIDE?"bg-cyan-500/10 border-cyan-500/50 text-cyan-600 dark:text-cyan-400":"border-transparent text-muted-foreground hover:bg-muted"),children:[n.jsx($p,{className:"w-3 h-3"}),""]}),n.jsxs("button",{type:"button",onClick:()=>p("opening_style",pa.CENTER),className:F("flex items-center gap-2 px-3 py-2 rounded-lg text-xs border transition-all",c.opening_style===pa.CENTER?"bg-cyan-500/10 border-cyan-500/50 text-cyan-600 dark:text-cyan-400":"border-transparent text-muted-foreground hover:bg-muted"),children:[n.jsx(Vu,{className:"w-3 h-3"}),""]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("button",{type:"button",onClick:()=>p("adjustment_side",""),className:F("flex items-center gap-2 px-3 py-2 rounded-lg text-xs border transition-all",c.adjustment_side===""?"bg-cyan-500/10 border-cyan-500/50 text-cyan-600 dark:text-cyan-400":"border-transparent text-muted-foreground hover:bg-muted"),children:[n.jsx(Bi,{className:"w-3 h-3"}),""]}),n.jsxs("button",{type:"button",onClick:()=>p("adjustment_side",""),className:F("flex items-center gap-2 px-3 py-2 rounded-lg text-xs border transition-all",c.adjustment_side===""?"bg-cyan-500/10 border-cyan-500/50 text-cyan-600 dark:text-cyan-400":"border-transparent text-muted-foreground hover:bg-muted"),children:[n.jsx(Ui,{className:"w-3 h-3"}),""]})]})]})]})]}),n.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-cyan-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),n.jsxs("div",{className:"flex items-center gap-2 text-cyan-600 dark:text-cyan-400 font-bold border-b border-border pb-3",children:[n.jsx(Ba,{className:"w-5 h-5"}),n.jsx("h3",{children:""})]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[n.jsx("span",{children:" (..):"}),n.jsx("span",{className:"text-foreground font-mono",children:S.breakdown?.areaSqyd?.toFixed(2)||"0.00"})]}),n.jsxs("div",{className:"flex justify-between items-end pt-2 border-t border-border mt-2",children:[n.jsx("span",{className:"text-muted-foreground pb-1",children:""}),n.jsx("span",{className:"text-2xl font-bold font-mono text-cyan-600 dark:text-cyan-400",children:Re(S.total)})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ut,{checked:c.enable_set_price||!1,onCheckedChange:b=>p("enable_set_price",b),className:"data-[state=checked]:bg-cyan-500"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),c.enable_set_price&&n.jsx("div",{className:"w-32",children:n.jsx("input",{type:"text",inputMode:"decimal",value:c.set_price_override||"",onChange:b=>h("set_price_override",b.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500"})})]})]})]}),n.jsxs("div",{className:"pt-2 space-y-4",children:[n.jsx(ne,{label:"",value:c.notes||"",onChange:b=>p("notes",b.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),n.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[n.jsx(de,{variant:"ghost",type:"button",onClick:u,className:"h-12 px-6 text-muted-foreground",children:""}),n.jsx(de,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-cyan-500/20 bg-cyan-600 hover:bg-cyan-700 text-white",children:""})]})]})]})},Bp={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"PVC ",opening_style:pa.SIDE,is_suspended:!1,enable_set_price:!1,set_price_override:0},mj={width_m:s=>J(s)<=0?{level:"error",message:""}:null,height_m:s=>J(s)<=0?{level:"error",message:""}:null,price_sqyd:(s,o)=>!o.enable_set_price&&J(s)<=0?{level:"warning",message:""}:null},hj=({initialData:s,onSubmit:o,onCancel:u})=>{const{formData:c,errors:d,warnings:m,handleChange:p,handleNumberChange:h,validate:g}=pl({...Bp,...s},mj),{addFavorite:y,favorites:w,updateFavorite:v,openModal:N}=se(),{addToast:T}=rt(),{confirm:A}=hl(),S=j.useMemo(()=>{const b={...Bp,...c,type:K.PARTITION,id:"preview"};return st.calculateDetailedPrice(b)},[c]),R=j.useMemo(()=>(w[pe.PARTITION]||[]).map(b=>({label:b.code,value:b.code,desc:`${b.default_price_per_m}`,data:b})),[w]),C=b=>{p("code",b);const z=R.find(k=>k.value.toLowerCase()===b.toLowerCase());z&&z.data?.default_price_per_m&&h("price_sqyd",String(z.data.default_price_per_m))},B=async()=>{const b=c.code,z=J(c.price_sqyd);if(!b||z<=0)return T("warning","");const k=(w[pe.PARTITION]||[]).find(G=>G.code===b);k&&k.default_price_per_m!==z?await A({title:"?",description:` ${k.default_price_per_m} -> ${z}?`})&&v(pe.PARTITION,k.id,{default_price_per_m:z}):k||(y(pe.PARTITION,{code:b,default_price_per_m:z}),T("success",""))},M=b=>!!b&&(w[pe.PARTITION]||[]).some(z=>z.code===b),E=b=>{b.preventDefault(),g().isValid?o(c):T("error","")};return n.jsxs("form",{onSubmit:E,className:"space-y-6",children:[n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[n.jsx(Zs,{className:"w-5 h-5 text-emerald-500"}),n.jsx("h2",{children:" (.)"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(ne,{label:" (W)",placeholder:"0.00",value:c.width_m,onChange:b=>h("width_m",b.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-500/10",error:d.width_m}),n.jsx(ne,{label:" (H)",placeholder:"0.00",value:c.height_m,onChange:b=>h("height_m",b.target.value),isDimension:!0,className:"text-lg font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-500/10",error:d.height_m})]})]}),n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("label",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[n.jsx(Ba,{className:"w-4 h-4 text-muted-foreground"}),"/"]}),n.jsxs(de,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 gap-1 text-muted-foreground hover:text-emerald-600",onClick:()=>N("favoriteManager",{initialTab:pe.PARTITION}),children:[n.jsx(ki,{className:"w-3.5 h-3.5"}),n.jsx("span",{className:"text-xs",children:""})]})]}),n.jsx(Gl,{placeholder:" ( PVC )...",value:c.code||"",onChange:C,options:R}),n.jsxs("div",{className:"relative",children:[n.jsx(ne,{placeholder:" (/..)",inputMode:"decimal",value:c.price_sqyd||"",onChange:b=>h("price_sqyd",b.target.value),warning:m.price_sqyd,className:"bg-muted/50"}),c.code&&J(c.price_sqyd)>0&&n.jsx("button",{type:"button",onClick:B,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 z-10 hover:scale-110 transition-transform",children:n.jsx(Yl,{className:F("w-5 h-5",M(c.code)?"fill-amber-400 text-amber-400":"text-muted-foreground")})})]})]}),n.jsxs("div",{className:"space-y-2 pt-2 border-t border-border",children:[n.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),n.jsx("div",{className:"flex gap-2",children:[{l:"",v:pa.SIDE,i:$p},{l:"",v:pa.CENTER,i:Vu}].map(b=>n.jsxs("button",{type:"button",onClick:()=>p("opening_style",b.v),className:F("flex-1 flex items-center justify-center gap-2 py-2 rounded-lg text-sm border transition-all",c.opening_style===b.v?"bg-emerald-500/10 border-emerald-500/50 text-emerald-600 dark:text-emerald-400 font-medium":"bg-background border-border text-muted-foreground hover:bg-muted"),children:[n.jsx(b.i,{className:"w-4 h-4"}),b.l]},b.v))})]})]}),n.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),n.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 dark:text-emerald-400 font-bold border-b border-border pb-3",children:[n.jsx(Ba,{className:"w-5 h-5"}),n.jsx("h3",{children:""})]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[n.jsx("span",{children:" (..):"}),n.jsx("span",{className:"text-foreground font-mono",children:S.breakdown?.areaSqyd?.toFixed(2)||"0.00"})]}),n.jsxs("div",{className:"flex justify-between items-end pt-2 border-t border-border mt-2",children:[n.jsx("span",{className:"text-muted-foreground pb-1",children:""}),n.jsx("span",{className:"text-2xl font-bold font-mono text-emerald-600 dark:text-emerald-400",children:Re(S.total)})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ut,{checked:c.enable_set_price||!1,onCheckedChange:b=>p("enable_set_price",b),className:"data-[state=checked]:bg-emerald-500"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),c.enable_set_price&&n.jsx("div",{className:"w-32",children:n.jsx("input",{type:"text",inputMode:"decimal",value:c.set_price_override||"",onChange:b=>h("set_price_override",b.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"})})]})]}),n.jsxs("div",{className:"pt-2 space-y-4",children:[n.jsx(ne,{label:"",value:c.notes||"",onChange:b=>p("notes",b.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),n.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[n.jsx(de,{variant:"ghost",type:"button",onClick:u,className:"h-12 px-6 text-muted-foreground",children:""}),n.jsx(de,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-emerald-500/20 bg-emerald-600 hover:bg-emerald-700 text-white",children:""})]})]})]})},kp={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"",opening_style:pa.SIDE,is_suspended:!1,enable_set_price:!1,set_price_override:0},pj={width_m:s=>J(s)<=0?{level:"error",message:""}:null,height_m:s=>J(s)<=0?{level:"error",message:""}:null,price_sqyd:(s,o)=>!o.enable_set_price&&J(s)<=0?{level:"warning",message:""}:null},xj=({initialData:s,onSubmit:o,onCancel:u})=>{const{formData:c,errors:d,handleChange:m,handleNumberChange:p,validate:h}=pl({...kp,...s},pj),{addToast:g}=rt(),y=j.useMemo(()=>{const v={...kp,...c,type:K.PLEATED_SCREEN,id:"preview"};return st.calculateDetailedPrice(v)},[c]),w=v=>{v.preventDefault(),h().isValid?o(c):g("error","")};return n.jsxs("form",{onSubmit:w,className:"space-y-6 pb-20 sm:pb-0",children:[n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[n.jsx(Zs,{className:"w-5 h-5 text-pink-500"}),n.jsx("h2",{children:" (.)"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(ne,{label:" (W)",value:c.width_m,onChange:v=>p("width_m",v.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-pink-600 dark:text-pink-400 bg-pink-500/10",error:d.width_m}),n.jsx(ne,{label:" (H)",value:c.height_m,onChange:v=>p("height_m",v.target.value),isDimension:!0,className:"text-lg font-bold text-pink-600 dark:text-pink-400 bg-pink-500/10",error:d.height_m})]})]}),n.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(ne,{label:"",value:c.code||"",onChange:v=>m("code",v.target.value),className:"bg-muted/50",placeholder:"..."}),n.jsx(ne,{label:" (/..)",value:c.price_sqyd||"",onChange:v=>p("price_sqyd",v.target.value),className:"bg-muted/50",inputMode:"decimal"})]}),n.jsxs("div",{className:"pt-2",children:[n.jsx("label",{className:"text-sm font-bold text-foreground mb-2 block",children:""}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.values(pa).map(v=>n.jsx("button",{type:"button",onClick:()=>m("opening_style",v),className:F("py-2 px-3 rounded-lg text-xs font-medium border transition-all",c.opening_style===v?"bg-pink-500/10 border-pink-500/50 text-pink-600 dark:text-pink-400":"bg-background border-border text-muted-foreground hover:bg-muted"),children:v},v))})]})]}),n.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-pink-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),n.jsxs("div",{className:"flex items-center gap-2 text-pink-600 dark:text-pink-400 font-bold border-b border-border pb-3",children:[n.jsx(Ba,{className:"w-5 h-5"}),n.jsx("h3",{children:""})]}),n.jsxs("div",{className:"flex justify-between items-baseline",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:""}),n.jsx("span",{className:"text-2xl font-bold font-mono text-pink-600 dark:text-pink-400",children:Re(y.total)})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ut,{checked:c.enable_set_price||!1,onCheckedChange:v=>m("enable_set_price",v),className:"data-[state=checked]:bg-pink-500"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),c.enable_set_price&&n.jsx("div",{className:"w-32",children:n.jsx("input",{type:"text",inputMode:"decimal",value:c.set_price_override||"",onChange:v=>p("set_price_override",v.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-pink-500"})})]})]}),n.jsxs("div",{className:"pt-2 space-y-4",children:[n.jsx(ne,{label:"",value:c.notes||"",onChange:v=>m("notes",v.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),n.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[n.jsx(de,{variant:"ghost",type:"button",onClick:u,className:"h-12 px-6 text-muted-foreground",children:""}),n.jsx(de,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-pink-500/20 bg-pink-600 hover:bg-pink-700 text-white",children:""})]})]})]})},gj={quantity:1,price_per_item:0,description:"",notes:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},vj={description:s=>s?null:{level:"error",message:""},price_per_item:s=>J(s)<=0?{level:"error",message:""}:null},bj=({initialData:s,onSubmit:o,onCancel:u})=>{const{formData:c,errors:d,isDirty:m,validate:p,handleChange:h,handleNumberChange:g,getFormattedNumber:y}=pl({...gj,...s},vj),w=j.useMemo(()=>{const N={...c,type:K.REMOVAL,id:"preview"};return st.calculateDetailedPrice(N)},[c]),v=N=>{if(N.preventDefault(),p().isValid){const T={...c,quantity:J(c.quantity),price_per_item:J(c.price_per_item),set_price_override:J(c.set_price_override)};o(T)}};return n.jsxs("form",{onSubmit:v,className:"space-y-6 pb-20 sm:pb-0",children:[n.jsxs("section",{className:"space-y-4 bg-card p-5 rounded-2xl border border-border shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold mb-2",children:[n.jsx(ku,{className:"w-5 h-5 text-destructive"}),n.jsx("h2",{children:""})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ne,{label:" / ",placeholder:" , ...",value:c.description,onChange:N=>h("description",N.target.value),autoFocus:!0,className:"bg-muted/50",error:d.description}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"text-sm font-bold text-foreground mb-1.5 block",children:""}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("button",{type:"button",onClick:()=>g("quantity",String(Math.max(1,J(c.quantity)-1))),className:"w-10 h-10 rounded-l-xl bg-muted text-muted-foreground hover:bg-accent flex items-center justify-center border-y border-l border-input",children:"-"}),n.jsx("input",{type:"number",value:c.quantity,onChange:N=>g("quantity",N.target.value),className:"w-full h-10 text-center border-y border-input bg-background text-foreground font-bold"}),n.jsx("button",{type:"button",onClick:()=>g("quantity",String(J(c.quantity)+1)),className:"w-10 h-10 rounded-r-xl bg-muted text-muted-foreground hover:bg-accent flex items-center justify-center border-y border-r border-input",children:"+"})]})]}),n.jsx(ne,{label:"",placeholder:"0.00",value:c.price_per_item,onChange:N=>g("price_per_item",N.target.value),inputMode:"decimal",className:"bg-muted/50",error:d.price_per_item})]})]})]}),n.jsxs("section",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-destructive/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),n.jsxs("div",{className:"flex items-center gap-2 text-destructive font-bold border-b border-border pb-3",children:[n.jsx(Wp,{className:"w-5 h-5"}),n.jsx("h3",{children:""})]}),n.jsxs("div",{className:"flex justify-between items-baseline",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:""}),n.jsx("span",{className:"text-3xl font-bold font-mono text-destructive",children:Re(w.total)})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ut,{checked:c.enable_set_price||!1,onCheckedChange:N=>h("enable_set_price",N),className:"data-[state=checked]:bg-primary"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:" (Override)"})]}),c.enable_set_price&&n.jsx("div",{className:"w-32",children:n.jsx("input",{type:"text",inputMode:"decimal",value:y("set_price_override"),onChange:N=>g("set_price_override",N.target.value),placeholder:"",className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-primary transition-colors"})})]})]}),n.jsxs("div",{className:"pt-2",children:[n.jsx(ne,{label:"",value:c.notes,onChange:N=>h("notes",N.target.value),className:"bg-muted/50 border-transparent focus:bg-background transition-colors"}),n.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-border mt-4",children:[n.jsx(de,{variant:"ghost",type:"button",onClick:u,className:"text-muted-foreground",children:""}),n.jsx(de,{type:"submit",className:"min-w-[120px] bg-destructive hover:bg-destructive/90 text-destructive-foreground",disabled:!m&&!s?.description,children:""})]})]})]})},ma=s=>({container:`bg-[hsl(var(${s})_/_0.05)] dark:bg-[hsl(var(${s})_/_0.1)] border-[hsl(var(${s})_/_0.2)]`,iconWrapper:`bg-white dark:bg-[hsl(var(${s})_/_0.15)] text-[hsl(var(${s}))] shadow-sm`,title:"text-foreground font-semibold",icon:`text-[hsl(var(${s}))]`,hover:`hover:border-[hsl(var(${s})_/_0.5)] hover:bg-[hsl(var(${s})_/_0.08)] dark:hover:bg-[hsl(var(${s})_/_0.15)]`,badge:`bg-[hsl(var(${s})_/_0.1)] text-[hsl(var(${s}))]`,text:`text-[hsl(var(${s}))]`,bgSoft:`bg-[hsl(var(${s})_/_0.1)]`,border:`border-[hsl(var(${s}))]`,ring:`focus:ring-[hsl(var(${s}))]`}),yj={[K.CURTAIN]:ma("--brand-curtain"),[K.WALLPAPER]:ma("--brand-wallpaper"),[K.ROLLER_BLIND]:ma("--brand-roller"),[K.WOODEN_BLIND]:ma("--brand-wood"),[K.VERTICAL_BLIND]:ma("--brand-vertical"),[K.ALUMINUM_BLIND]:ma("--brand-alum"),[K.PARTITION]:ma("--brand-partition"),[K.PLEATED_SCREEN]:ma("--brand-screen"),[K.REMOVAL]:ma("--brand-removal")},Nj=s=>yj[s]||ma("--foreground"),jj=[{id:K.CURTAIN,icon:Eu},{id:K.WOODEN_BLIND,icon:Fs},{id:K.ROLLER_BLIND,icon:Bu},{id:K.VERTICAL_BLIND,icon:Uu},{id:K.PARTITION,icon:Zs},{id:K.PLEATED_SCREEN,icon:wv},{id:K.WALLPAPER,icon:Ti},{id:K.REMOVAL,icon:Pp}],wj=({isOpen:s,onClose:o,roomId:u,itemId:c,itemType:d=K.CURTAIN,initialData:m,mode:p="add",onSubmit:h})=>{const{trigger:g}=ka(),y=C=>C==="set"?K.CURTAIN:C,[w,v]=j.useState(y(d)),[N,T]=j.useState(!0);j.useEffect(()=>{if(s){if(p==="add")T(!0),v(y(d));else if(p==="edit"&&m){T(!1);const C=m.type||d;v(y(C))}}},[s,p,d]);const A=C=>{g("selection"),v(C),T(!1)},S=(C,B=!0)=>{const M={...C,type:w,...u&&{roomId:u},...c&&{id:c}};h?h(M,B):o()},R=()=>{if(N)return"";const C=Vl[w]?.name||w;return p==="add"?`${C}`:`${C}`};return n.jsx(It,{isOpen:s,onClose:o,title:R(),variant:"fullscreen",children:N?n.jsx("div",{className:"pb-safe-area",children:n.jsx("div",{className:"grid grid-cols-2 gap-3 p-1",children:jj.map(C=>{const B=Vl[C.id]?.name||C.id,M=Nj(C.id);return n.jsxs("button",{onClick:()=>A(C.id),className:F("group relative flex flex-col items-start p-4 rounded-2xl border bg-card text-card-foreground transition-all duration-300 ease-out",M.container,M.hover),children:[n.jsx("div",{className:F("w-10 h-10 rounded-xl flex items-center justify-center mb-3 transition-colors duration-300",M.iconWrapper),children:n.jsx(C.icon,{className:"w-5 h-5 transition-colors",strokeWidth:2})}),n.jsx("span",{className:F("text-[14px] font-bold",M.title),children:B}),n.jsx("div",{className:F("absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none","bg-gradient-to-tr from-white/0 via-white/0 to-white/5 dark:to-white/5")})]},C.id)})})}):n.jsxs("div",{className:"relative pb-safe-bottom",children:[p==="add"&&n.jsxs("button",{onClick:()=>T(!0),className:F("absolute -top-[52px] right-0 z-10","flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold transition-all","bg-secondary text-secondary-foreground hover:bg-secondary/80 active:scale-95","dark:bg-secondary/50 dark:hover:bg-secondary/70"),children:[n.jsx(Fp,{className:"w-3.5 h-3.5"})," "]}),n.jsxs("div",{className:"animate-fade-in",children:[w===K.CURTAIN&&n.jsx(lj,{initialData:m,onSubmit:S,onCancel:o}),w===K.WALLPAPER&&n.jsx(rj,{initialData:m,onSubmit:S,onCancel:o}),w===K.ROLLER_BLIND&&n.jsx(cj,{initialData:m,onSubmit:S,onCancel:o}),(w===K.WOODEN_BLIND||w===K.ALUMINUM_BLIND)&&n.jsx(uj,{itemType:w,initialData:m,onSubmit:S,onCancel:o}),w===K.VERTICAL_BLIND&&n.jsx(fj,{initialData:m,onSubmit:S,onCancel:o}),w===K.PARTITION&&n.jsx(hj,{initialData:m,onSubmit:S,onCancel:o}),w===K.PLEATED_SCREEN&&n.jsx(xj,{initialData:m,onSubmit:S,onCancel:o}),w===K.REMOVAL&&n.jsx(bj,{initialData:m,onSubmit:S,onCancel:o})]})]})})},_j=({isOpen:s,onClose:o})=>{const u=se(m=>m.customer),c=se(m=>m.setCustomer),d=(m,p)=>{c({[m]:p})};return n.jsx(It,{isOpen:s,onClose:o,title:" (Customer Info)",children:n.jsxs("div",{className:"space-y-6 pb-safe-area",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(ne,{prefix:n.jsx(_v,{className:"w-4 h-4 text-muted-foreground"}),label:" /  (Name)",placeholder:"...",value:u.name,onChange:m=>d("name",m.target.value),autoFocus:!0}),n.jsx(ne,{prefix:n.jsx(Sv,{className:"w-4 h-4 text-muted-foreground"}),label:" (Phone)",placeholder:"08X-XXX-XXXX",value:u.phone,onChange:m=>d("phone",m.target.value),inputMode:"tel"}),n.jsx(ne,{prefix:n.jsx(Hi,{className:"w-4 h-4 text-muted-foreground"}),label:" (Tax ID)",placeholder:"...",value:u.taxId||"",onChange:m=>d("taxId",m.target.value)}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("label",{className:"text-base font-medium text-foreground ml-1 flex items-center gap-2",children:[n.jsx(Cv,{className:"w-4 h-4"}),"  (Billing Address)"]}),n.jsx("textarea",{className:"w-full p-3 rounded-xl border border-input bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-ring min-h-[80px] resize-none text-[16px] placeholder:text-muted-foreground",placeholder:", , /...",value:u.address,onChange:m=>d("address",m.target.value)})]})]}),n.jsx("hr",{className:"border-border"}),n.jsxs("div",{className:"space-y-4 bg-muted/30 p-4 rounded-2xl border border-border",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h3",{className:"font-semibold text-foreground flex items-center gap-2",children:[n.jsx(ex,{className:"w-4 h-4"}),"  (Site Location)"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-xs text-muted-foreground cursor-pointer",htmlFor:"show-site",children:""}),n.jsx(Ut,{id:"show-site",checked:u.showInstallationAddress!==!1,onCheckedChange:m=>d("showInstallationAddress",m)})]})]}),n.jsxs("div",{className:"flex items-center justify-between py-1",children:[n.jsx("span",{className:"text-base text-foreground/80",children:""}),n.jsx(Ut,{checked:u.useSameAddress!==!1,onCheckedChange:m=>d("useSameAddress",m)})]}),u.useSameAddress===!1&&n.jsx("div",{className:"animate-fade-in",children:n.jsx("textarea",{className:"w-full p-3 rounded-xl border border-input bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-ring min-h-[80px] resize-none text-[16px] placeholder:text-muted-foreground",placeholder:"...",value:u.installationAddress||"",onChange:m=>d("installationAddress",m.target.value)})}),u.useSameAddress!==!1&&n.jsx("div",{className:"p-3 border border-dashed border-border rounded-xl text-center text-muted-foreground text-xs",children:""})]}),n.jsx("div",{className:"pt-2 flex justify-end",children:n.jsx(de,{onClick:o,className:"w-full sm:w-auto bg-primary text-primary-foreground min-w-[120px]",children:""})})]})})};var Ix=tb();const kl=s=>s.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2}),Sj=()=>{const s=new Date,o=s.getFullYear().toString().slice(-2),u=(s.getMonth()+1).toString().padStart(2,"0"),c=Math.floor(Math.random()*1e3).toString().padStart(4,"0");return`QT-${o}${u}-${c}`},Cj=s=>{const o=[];return s.forEach(u=>{if(u.is_suspended)return;const c=st.calculatePrice(u),{id:d,...m}=u,p=JSON.stringify(m),h=o.find(g=>{const{id:y,...w}=g.item;return JSON.stringify(w)===p});h?(h.count+=1,h.totalPrice+=c):o.push({item:u,count:1,unitPrice:c,totalPrice:c})}),o},Ej=W.forwardRef(({docType:s},o)=>{const{shopConfig:u,customer:c,rooms:d}=se(C=>C),{grandTotal:m,discountAmount:p,vatAmount:h,finalTotal:g}=Fu(),y=s==="delivery",w=!y,[v]=j.useState(Sj),N={quotation:" (QUOTATION)",delivery:" /  (DELIVERY NOTE)",receipt:" (RECEIPT)"},T=`
      @page { size: A4; margin: 10mm 15mm; }
      @media print {
        body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
        html, body { height: auto !important; overflow: visible !important; }
        #root { display: block !important; }
        thead { display: table-header-group; }
        tfoot { display: table-footer-group; }
        tr { break-inside: avoid; page-break-inside: avoid; }
        .room-header { break-after: avoid; page-break-after: avoid; }
        .no-print { display: none !important; }
      }
    `,A=c.showInstallationAddress!==!1,S=c.useSameAddress!==!1,R=S?"()":c.installationAddress||"-";return n.jsxs("div",{ref:o,className:"bg-white text-slate-900 font-sans leading-normal text-[12px]",children:[n.jsx("style",{children:T}),n.jsxs("div",{className:"w-[210mm] min-h-[297mm] px-[10mm] py-[10mm] mx-auto flex flex-col bg-white",children:[n.jsxs("header",{className:"flex justify-between items-start border-b-2 border-slate-800 pb-4 mb-4",children:[n.jsxs("div",{className:"flex gap-4 items-start",children:[u.logoUrl?n.jsx("img",{src:u.logoUrl,alt:"Logo",className:"w-[80px] h-[80px] object-contain border border-slate-100 rounded"}):n.jsx("div",{className:"w-[80px] h-[80px] bg-slate-100 flex items-center justify-center text-slate-300 font-bold rounded",children:"LOGO"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-slate-900",children:u.name||""}),n.jsx("div",{className:"text-slate-600 whitespace-pre-line mt-1 leading-tight",children:u.address}),n.jsxs("div",{className:"text-slate-600 mt-2",children:[n.jsx("span",{className:"font-bold",children:":"})," ",u.phone,u.taxId&&n.jsxs("span",{className:"ml-3",children:[n.jsx("span",{className:"font-bold",children:":"})," ",u.taxId]})]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:F("inline-block px-4 py-1.5 text-sm font-bold rounded border mb-3",y?"bg-slate-100 border-slate-300":"bg-slate-900 text-white border-slate-900"),children:N[s]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-end items-center gap-2",children:[n.jsx("span",{className:"font-bold text-slate-500",children:":"}),n.jsx("span",{className:"font-mono font-bold text-base",children:v})]}),n.jsxs("div",{className:"flex justify-end items-center gap-2",children:[n.jsx("span",{className:"font-bold text-slate-500",children:":"}),n.jsx("div",{className:"w-[100px] border-b border-slate-400 h-5"})]})]})]})]}),n.jsxs("section",{className:"mb-5 border border-slate-300 rounded-xl flex overflow-hidden bg-white",children:[n.jsxs("div",{className:F("p-4",A?"flex-[1.2]":"flex-1"),children:[n.jsx("div",{className:"flex items-center gap-2 mb-3",children:n.jsx("h3",{className:"font-bold text-slate-900 text-xs uppercase tracking-wider bg-slate-100 px-2 py-0.5 rounded",children:" (Customer)"})}),n.jsxs("div",{className:"space-y-1.5 text-sm",children:[n.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2",children:[n.jsx("span",{className:"text-slate-500 font-medium",children:":"}),n.jsx("span",{className:"font-bold text-slate-900 text-[13px]",children:c.name||"-"})]}),n.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2",children:[n.jsx("span",{className:"text-slate-500 font-medium",children:":"}),n.jsx("span",{className:"text-slate-800 leading-snug",children:c.address||"-"})]}),n.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2",children:[n.jsx("span",{className:"text-slate-500 font-medium",children:":"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("span",{className:"font-mono text-slate-800",children:c.phone||"-"}),c.taxId&&n.jsxs("span",{className:"text-slate-600",children:[n.jsx("span",{className:"font-medium text-slate-500 mr-1",children:"Tax ID:"}),c.taxId]})]})]})]})]}),A&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-px bg-slate-200 my-3"}),n.jsxs("div",{className:"flex-1 p-4 bg-slate-50/30",children:[n.jsx("div",{className:"flex items-center gap-2 mb-3",children:n.jsx("h3",{className:"font-bold text-slate-900 text-xs uppercase tracking-wider bg-slate-100 px-2 py-0.5 rounded",children:" (Site Location)"})}),n.jsx("div",{className:F("text-sm leading-relaxed",S?"text-slate-400 italic":"text-slate-700"),children:R})]})]})]}),n.jsx("div",{className:"flex-1",children:n.jsxs("table",{className:"w-full border border-slate-300 border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-slate-100 text-slate-900 text-xs border-b border-slate-300",children:[n.jsx("th",{className:"py-2 w-[45px] text-center font-bold border-r border-slate-300",children:""}),n.jsx("th",{className:"py-2 px-2 text-left font-bold border-r border-slate-300",children:" (Description)"}),n.jsx("th",{className:"py-2 px-2 w-[60px] text-center font-bold border-r border-slate-300",children:""}),w?n.jsxs(n.Fragment,{children:[n.jsx("th",{className:"py-2 px-2 w-[110px] text-right font-bold border-r border-slate-300",children:"/"}),n.jsx("th",{className:"py-2 pr-2 w-[120px] text-right font-bold",children:""})]}):n.jsx("th",{className:"py-2 px-2 w-[150px] text-center font-bold",children:""})]})}),d.map((C,B)=>{if(C.items.length===0)return null;const M=Cj(C.items);return n.jsxs("tbody",{className:"border-b border-slate-300 last:border-0",children:[n.jsxs("tr",{className:"bg-slate-50/80 room-header border-b border-slate-300",children:[n.jsx("td",{className:"py-1.5 px-1 text-center font-bold text-slate-600 border-r border-slate-300 bg-slate-100",children:B+1}),n.jsxs("td",{colSpan:w?4:3,className:"py-1.5 px-2 font-bold text-slate-900",children:[" ",C.name]})]}),M.map((E,b)=>{const{item:z,count:k,unitPrice:G,totalPrice:I}=E,P=Vl[z.type];let ie=P?P.name:"",xe="",te="";return qi(z)?(ie="",xe=`${z.style||"-"} (${z.fabric_variant||"-"}) ${z.code?`: ${z.code}`:""}`,te=`${ta(z.width_m)}  ${ta(z.height_m)} .`):Yi(z)?(ie="",xe=z.wallpaper_code?`Code: ${z.wallpaper_code}`:"",te="-"):nx(z)?(ie="/",xe=z.description||"",te="-"):Vi(z)&&(xe=z.code?`: ${z.code}`:"",te=`${ta(z.width_m)}  ${ta(z.height_m)} .`),n.jsxs("tr",{className:"border-b border-slate-200 text-xs even:bg-slate-50 hover:bg-slate-100/50",children:[n.jsxs("td",{className:"py-2.5 px-1 text-center text-slate-500 align-top border-r border-slate-300",children:[B+1,".",b+1]}),n.jsxs("td",{className:"py-2.5 px-2 align-top border-r border-slate-300",children:[n.jsx("div",{className:"font-bold text-slate-800 text-[13px]",children:ie}),n.jsx("div",{className:"text-slate-600",children:xe}),te!=="-"&&n.jsx("div",{className:"text-slate-500 font-mono mt-0.5 text-[11px]",children:te}),z.notes&&n.jsxs("div",{className:"text-[10px] text-red-500 mt-0.5",children:["* ",z.notes]})]}),n.jsx("td",{className:"py-2.5 px-2 text-center align-top font-mono text-slate-900 border-r border-slate-300 font-bold text-[13px]",children:k}),w?n.jsxs(n.Fragment,{children:[n.jsx("td",{className:"py-2.5 px-2 text-right align-top font-mono text-slate-700 border-r border-slate-300 text-[13px]",children:kl(G)}),n.jsx("td",{className:"py-2.5 pr-2 text-right align-top font-mono font-bold text-slate-900 text-[13px]",children:kl(I)})]}):n.jsx("td",{className:"py-2.5 px-2 text-center align-top text-slate-400",children:"-"})]},b)})]},C.id)})]})}),n.jsxs("div",{className:"mt-6 break-inside-avoid page-break-inside-avoid",children:[n.jsxs("div",{className:"flex items-start border-t-2 border-slate-800 pt-4 gap-6",children:[n.jsxs("div",{className:"flex-1",children:[w&&n.jsxs("div",{className:"bg-slate-100 p-2 rounded mb-3 text-center border border-slate-200",children:[n.jsx("span",{className:"text-[10px] text-slate-500 block uppercase tracking-wider mb-1",children:""}),n.jsx("span",{className:"font-bold text-slate-800 text-sm",children:wb(g)})]}),n.jsxs("div",{className:"text-[10px] text-slate-600 space-y-1",children:[n.jsx("div",{className:"font-bold text-slate-800 text-xs",children:" / :"}),n.jsxs("ul",{className:"list-disc list-inside pl-1",children:[u.pdf?.priceValidity&&n.jsxs("li",{children:[" ",u.pdf.priceValidity]}),u.pdf?.paymentTerms&&n.jsx("li",{children:u.pdf.paymentTerms}),u.pdf?.notes?.map((C,B)=>C.trim()&&n.jsx("li",{children:C},B))]}),u.bankAccount?.isEnabled!==!1&&u.bankAccount?.accountNumber&&n.jsxs("div",{className:"mt-2 p-2 border border-slate-300 rounded bg-white inline-block min-w-[250px]",children:[n.jsx("div",{className:"font-bold text-slate-900 mb-1 border-b border-slate-200 pb-1",children:""}),n.jsxs("div",{className:"grid grid-cols-[60px_1fr] gap-1",children:[n.jsx("span",{className:"text-slate-500",children:":"}),n.jsx("span",{children:u.bankAccount.bankName}),n.jsx("span",{className:"text-slate-500",children:":"}),n.jsx("span",{children:u.bankAccount.accountName}),n.jsx("span",{className:"text-slate-500",children:":"}),n.jsx("span",{className:"font-mono font-bold text-slate-900 text-[13px]",children:u.bankAccount.accountNumber}),u.bankAccount.branch&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-slate-500",children:":"}),n.jsx("span",{children:u.bankAccount.branch})]})]})]})]})]}),w&&n.jsxs("div",{className:"w-[260px] text-sm",children:[n.jsxs("div",{className:"space-y-1 border-b border-slate-300 pb-2 mb-2",children:[n.jsxs("div",{className:"flex justify-between text-slate-600",children:[n.jsx("span",{children:""}),n.jsx("span",{className:"font-mono font-medium text-[13px]",children:kl(m)})]}),p>0&&n.jsxs("div",{className:"flex justify-between text-green-700",children:[n.jsx("span",{children:""}),n.jsxs("span",{className:"font-mono font-medium text-[13px]",children:["-",kl(p)]})]}),u.baseVatRate>0&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between text-slate-600 text-xs",children:[n.jsx("span",{children:""}),n.jsx("span",{className:"font-mono",children:kl(m-p)})]}),n.jsxs("div",{className:"flex justify-between text-slate-600",children:[n.jsxs("span",{children:["VAT ",u.baseVatRate,"%"]}),n.jsx("span",{className:"font-mono",children:kl(h)})]})]})]}),n.jsxs("div",{className:"flex justify-between items-center bg-slate-900 text-white p-3 rounded shadow-sm",children:[n.jsx("span",{className:"font-bold",children:""}),n.jsx("span",{className:"font-bold text-xl font-mono",children:kl(g)})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-8 mt-10",children:[n.jsxs("div",{className:"border border-slate-300 rounded-xl p-4 flex flex-col items-center justify-between min-h-[180px]",children:[n.jsx("div",{className:"text-xs font-bold text-slate-900 uppercase tracking-wide",children:" / "}),n.jsxs("div",{className:"w-full flex flex-col items-center mt-auto",children:[n.jsx("div",{className:"border-b border-slate-900 w-[160px] h-8 mb-6"}),n.jsxs("div",{className:"flex gap-1 text-slate-500 text-[11px]",children:["(",n.jsx("div",{className:"w-[140px] text-center relative top-[2px]",children:".................................................."}),")"]})]}),n.jsxs("div",{className:"flex items-center justify-center gap-2 text-[11px] text-slate-500 mt-4",children:[n.jsx("span",{children:":"}),n.jsx("div",{className:"w-8 border-b border-slate-400 h-4"}),n.jsx("span",{children:"/"}),n.jsx("div",{className:"w-8 border-b border-slate-400 h-4"}),n.jsx("span",{children:"/"}),n.jsx("div",{className:"w-10 border-b border-slate-400 h-4"})]})]}),n.jsxs("div",{className:"border border-slate-300 rounded-xl p-4 flex flex-col items-center justify-between min-h-[180px]",children:[n.jsx("div",{className:"text-xs font-bold text-slate-900 uppercase tracking-wide",children:" / "}),n.jsxs("div",{className:"w-full flex flex-col items-center mt-auto",children:[n.jsx("div",{className:"border-b border-slate-900 w-[160px] h-8 mb-6"}),n.jsxs("div",{className:"flex gap-1 text-slate-500 text-[11px]",children:["(",n.jsx("div",{className:"w-[140px] text-center relative top-[2px]",children:".................................................."}),")"]})]}),n.jsxs("div",{className:"flex items-center justify-center gap-2 text-[11px] text-slate-500 mt-4",children:[n.jsx("span",{children:":"}),n.jsx("div",{className:"w-8 border-b border-slate-400 h-4"}),n.jsx("span",{children:"/"}),n.jsx("div",{className:"w-8 border-b border-slate-400 h-4"}),n.jsx("span",{children:"/"}),n.jsx("div",{className:"w-10 border-b border-slate-400 h-4"})]})]})]})]})]})]})}),Tj=({isOpen:s,onClose:o})=>{const u=j.useRef(null),[c,d]=j.useState("quotation"),[m,p]=j.useState(!1),h=Ix.useReactToPrint({contentRef:u,documentTitle:`Marnthara_${c}_${new Date().toISOString().split("T")[0]}`,onBeforeGetContent:()=>new Promise(y=>{p(!0),setTimeout(y,300)}),onAfterPrint:()=>{p(!1)}}),g=[{id:"quotation",label:"1. ",icon:Hi},{id:"delivery",label:"2. ",icon:ex},{id:"receipt",label:"3. ",icon:Ev}];return n.jsx(xa,{show:s,as:W.Fragment,children:n.jsxs(zi,{onClose:o,className:"relative z-50",children:[n.jsx(ml,{as:W.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:n.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm"})}),n.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 sm:p-6",children:n.jsx(ml,{as:W.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95 translate-y-4",enterTo:"opacity-100 scale-100 translate-y-0",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100 translate-y-0",leaveTo:"opacity-0 scale-95 translate-y-4",children:n.jsxs(Li,{className:"w-full max-w-6xl h-[90vh] bg-slate-100 rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[n.jsxs("div",{className:"bg-white border-b border-slate-200 p-4 flex flex-col sm:flex-row items-center justify-between gap-4 shrink-0 z-10",children:[n.jsx("div",{className:"flex p-1 bg-slate-100 rounded-xl w-full sm:w-auto overflow-x-auto",children:g.map(y=>{const w=y.icon,v=c===y.id;return n.jsxs("button",{onClick:()=>d(y.id),className:F("flex-1 sm:flex-none flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-all whitespace-nowrap",v?"bg-white text-slate-900 shadow-sm font-semibold":"text-slate-500 hover:text-slate-700"),children:[n.jsx(w,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:y.label})]},y.id)})}),n.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[n.jsx(de,{variant:"ghost",onClick:o,className:"flex-1 sm:flex-none",children:""}),n.jsxs(de,{onClick:()=>h(),className:"flex-1 sm:flex-none bg-slate-900 text-white hover:bg-slate-800 shadow-lg",children:[n.jsx(Tv,{className:"w-4 h-4 mr-2"})," "]})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-500/10 p-4 sm:p-8 flex justify-center items-start",children:n.jsx("div",{className:F("shadow-2xl origin-top transition-all duration-300 bg-white",m?"scale-100":"scale-[0.6] sm:scale-[0.75] lg:scale-[0.85]"),children:n.jsx(Ej,{ref:u,docType:c})})})]})})})]})})},Aj=(s,o=500)=>new Promise((u,c)=>{const d=new FileReader;d.readAsDataURL(s),d.onload=m=>{const p=new Image;p.src=m.target?.result,p.onload=()=>{const h=o/p.width,g=o,y=p.height*h,w=document.createElement("canvas");w.width=g,w.height=y;const v=w.getContext("2d");if(!v){c(new Error("Canvas context not available"));return}v.drawImage(p,0,0,g,y);const N=w.toDataURL("image/jpeg",.7);u(N)},p.onerror=h=>c(h)},d.onerror=m=>c(m)}),Dj=({isOpen:s,onClose:o})=>{const u=se(E=>E.shopConfig),c=se(E=>E.updateShopConfig),d=se(E=>E.factoryReset),{confirm:m}=hl(),p=rt(E=>E.addToast),[h,g]=j.useState(u),[y,w]=j.useState("general"),v=j.useRef(null),N=()=>{c(h),p("success",""),o()},T=async()=>{await m({title:"?",description:"   ",confirmLabel:"",variant:"destructive"})&&(d(),p("success",""),o())},A=(E,b)=>{g(z=>({...z,[E]:b}))},S=(E,b)=>{g(z=>({...z,pdf:{...z.pdf,[E]:b}}))},R=E=>{const b=E.split(`
`);g(z=>({...z,pdf:{...z.pdf,notes:b}}))},C=(E,b)=>{g(z=>({...z,bankAccount:{...z.bankAccount,[E]:b}}))},B=async E=>{const b=E.target.files?.[0];if(b)try{const z=await Aj(b);g(k=>({...k,logoUrl:z})),p("success","")}catch{p("error","")}},M=()=>{g(E=>({...E,logoUrl:""})),v.current&&(v.current.value="")};return n.jsxs(It,{isOpen:s,onClose:o,title:" (Shop Settings)",variant:"drawer",children:[n.jsxs("div",{className:"flex p-1 bg-muted rounded-xl mb-6",children:[n.jsxs("button",{onClick:()=>w("general"),className:F("flex-1 py-2 text-sm font-medium rounded-lg transition-all flex items-center justify-center gap-2",y==="general"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"),children:[n.jsx(Av,{className:"w-4 h-4"})," "]}),n.jsxs("button",{onClick:()=>w("payment"),className:F("flex-1 py-2 text-sm font-medium rounded-lg transition-all flex items-center justify-center gap-2",y==="payment"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"),children:[n.jsx(Dv,{className:"w-4 h-4"})," "]})]}),n.jsx("div",{className:"space-y-4 pb-safe-area",children:y==="general"?n.jsxs("div",{className:"space-y-6 animate-fade-in",children:[n.jsxs("div",{className:"flex flex-col items-center gap-4 py-4",children:[n.jsxs("div",{className:"relative w-24 h-24 rounded-2xl border-2 border-dashed border-border flex items-center justify-center overflow-hidden bg-muted/20 cursor-pointer hover:bg-muted/40 transition-colors group",onClick:()=>v.current?.click(),children:[h.logoUrl?n.jsx("img",{src:h.logoUrl,alt:"Shop Logo",className:"w-full h-full object-contain p-2"}):n.jsxs("div",{className:"flex flex-col items-center gap-1 text-muted-foreground",children:[n.jsx(Rv,{className:"w-6 h-6"}),n.jsx("span",{className:"text-[10px]",children:""})]}),n.jsx("input",{ref:v,type:"file",accept:"image/*",className:"hidden",onChange:B})]}),h.logoUrl&&n.jsxs("button",{onClick:E=>{E.stopPropagation(),M()},className:"text-xs text-destructive flex items-center gap-1 hover:underline",children:[n.jsx(Gn,{className:"w-3 h-3"})," "]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(ne,{label:"",value:h.name,onChange:E=>A("name",E.target.value)}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(ne,{label:"",value:h.phone,onChange:E=>A("phone",E.target.value)}),n.jsx(ne,{label:"",value:h.taxId,onChange:E=>A("taxId",E.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-1 block",children:""}),n.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl text-[16px] focus:outline-none focus:ring-2 focus:ring-slate-900 resize-none h-20",value:h.address,onChange:E=>A("address",E.target.value)})]}),n.jsx(ne,{label:"Logo URL",placeholder:"https://...",value:h.logoUrl,onChange:E=>A("logoUrl",E.target.value)})]}),n.jsxs("div",{className:"pt-4 border-t border-border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Hi,{className:"w-5 h-5 text-info"}),n.jsx("h3",{className:"font-bold text-foreground",children:" (Document Footer)"})]}),n.jsxs("div",{className:"space-y-4 bg-muted/30 p-4 rounded-2xl border border-border",children:[n.jsx(ne,{label:"1. ",placeholder:" 30 ",value:h.pdf?.priceValidity||"",onChange:E=>S("priceValidity",E.target.value)}),n.jsx(ne,{label:"2. ",placeholder:"  50%...",value:h.pdf?.paymentTerms||"",onChange:E=>S("paymentTerms",E.target.value)}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-1 block",children:"3.  ()"}),n.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl text-[16px] focus:outline-none focus:ring-2 focus:ring-slate-900 resize-none h-24",placeholder:" ...",value:h.pdf?.notes?.join(`
`)||"",onChange:E=>R(E.target.value)})]})]})]})]}):n.jsxs("div",{className:"space-y-5 animate-fade-in",children:[n.jsxs("div",{className:"flex items-center justify-between bg-muted/30 p-4 rounded-xl border border-border",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-bold text-foreground",children:""}),n.jsx("span",{className:"text-xs text-muted-foreground",children:""})]}),n.jsx(Ut,{checked:h.bankAccount?.isEnabled!==!1,onCheckedChange:E=>C("isEnabled",E)})]}),n.jsxs("div",{className:F("space-y-4 transition-opacity",h.bankAccount?.isEnabled===!1&&"opacity-50 pointer-events-none"),children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(ne,{label:"",placeholder:" , SCB",value:h.bankAccount?.bankName||"",onChange:E=>C("bankName",E.target.value)}),n.jsx(ne,{label:" ()",value:h.bankAccount?.branch||"",onChange:E=>C("branch",E.target.value)})]}),n.jsx(ne,{label:"",placeholder:"...",value:h.bankAccount?.accountName||"",onChange:E=>C("accountName",E.target.value)}),n.jsx(ne,{label:"",placeholder:"XXX-X-XXXXX-X",className:"font-mono",value:h.bankAccount?.accountNumber||"",onChange:E=>C("accountNumber",E.target.value)})]})]})}),n.jsxs("div",{className:"flex justify-between mt-4 pt-4 border-t border-border",children:[n.jsxs(de,{variant:"ghost",onClick:T,className:"text-destructive hover:bg-destructive/10 hover:text-destructive",children:[n.jsx(Ql,{className:"w-4 h-4 mr-2"}),""]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(de,{variant:"ghost",onClick:o,children:""}),n.jsxs(de,{onClick:N,className:"bg-primary text-primary-foreground w-32",children:[n.jsx(Js,{className:"w-4 h-4 mr-2"})," "]})]})]})]})},Rj=[],Mj=s=>{const o=se(h=>h.favorites[s]||Rj),u=se(h=>h.fabricCosts),c=se(h=>h.addFavorite),d=se(h=>h.updateFavorite),m=se(h=>h.removeFavorite);return{items:j.useMemo(()=>o.map(h=>({...h,cost_per_yard:u[h.code]||0})),[o,u]),addItem:h=>c(s,h),updateItem:(h,g)=>d(s,h,g),removeItem:h=>m(s,h)}},Hp=768,Jx=()=>{const[s,o]=j.useState(()=>typeof window>"u"?!1:window.innerWidth<Hp);return j.useEffect(()=>{const u=()=>{o(window.innerWidth<Hp)};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),s},Oj=({item:s,onClick:o})=>n.jsxs("button",{onClick:o,className:"w-full text-left bg-card p-4 rounded-xl border border-border shadow-sm active:scale-[0.98] transition-all flex justify-between items-center group relative overflow-hidden","aria-label":` ${s.code}`,children:[n.jsxs("div",{className:"flex-1 min-w-0 pr-4 flex flex-col gap-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-mono font-bold text-base text-foreground truncate",children:s.code}),s.note&&n.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded text-muted-foreground truncate max-w-[120px]",children:s.note})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex items-center gap-1",children:n.jsx("span",{className:"text-base font-bold text-emerald-600 dark:text-emerald-400",children:Re(s.default_price_per_m)})}),J(s.cost_per_yard)>0&&n.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground/70",children:["( ",Re(s.cost_per_yard),")"]})]})]}),n.jsx("div",{className:"flex flex-col items-end justify-center h-full text-muted-foreground/30 group-hover:text-primary transition-colors",children:n.jsx(Xn,{className:"w-5 h-5"})})]}),qp=({data:s,setData:o,onSave:u,onCancel:c,isEdit:d})=>{const m=Jx();return n.jsxs("div",{className:F("bg-card border border-border rounded-xl shadow-lg animate-in zoom-in-95 duration-200",m?"p-4":"p-6"),children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[n.jsx(tx,{className:"w-4 h-4 text-primary"}),d?"":""]}),m&&n.jsx("button",{onClick:c,className:"p-1 rounded-full hover:bg-muted","aria-label":"",children:n.jsx(ql,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(ne,{label:" (Code)",value:s.code,onChange:p=>o({...s,code:p.target.value}),className:"font-mono text-lg font-bold",autoFocus:!d,placeholder:": C1001"}),n.jsxs("div",{className:F("grid gap-3",m?"grid-cols-1":"grid-cols-2"),children:[n.jsx(ne,{label:" (Default Price)",type:"number",value:s.price,onChange:p=>o({...s,price:p.target.value}),className:"text-emerald-600 font-bold",placeholder:"0.00"}),n.jsx(ne,{label:" (Cost)",type:"number",value:s.cost_per_yard,onChange:p=>o({...s,cost_per_yard:p.target.value}),placeholder:"0.00",className:"text-rose-600"})]}),n.jsx(ne,{label:" (Note)",value:s.note,onChange:p=>o({...s,note:p.target.value}),placeholder:" ()"}),n.jsxs("div",{className:F("flex gap-2 pt-4",m?"flex-col":"flex-row"),children:[n.jsx(de,{variant:"ghost",className:m?"w-full":"flex-1",onClick:c,children:""}),n.jsxs(de,{className:m?"w-full":"flex-1",onClick:u,children:[n.jsx(Js,{className:"w-4 h-4 mr-2"})," "]})]})]})]})},zj=({isOpen:s,onClose:o})=>{const{favorites:u,addFavorite:c,updateFavorite:d,importFavorites:m,updateUnifiedCost:p}=se(),h=rt(ae=>ae.addToast),g=Jx(),[y,w]=j.useState(pe.CURTAIN_MAIN),[v,N]=j.useState(""),[T,A]=j.useState(null),[S,R]=j.useState(!1),[C,B]=j.useState({code:"",price:"",cost_per_yard:"",note:""}),M=j.useRef(null);j.useEffect(()=>{s||(N(""),A(null),R(!1),B({code:"",price:"",cost_per_yard:"",note:""}))},[s]);const{items:E}=Mj(y),b=(E||[]).filter(ae=>ae.code.toLowerCase().includes(v.toLowerCase())||ae.note?.toLowerCase().includes(v.toLowerCase())),z=ae=>{A(ae.id),R(!1),B({code:ae.code,price:ae.default_price_per_m.toString(),cost_per_yard:ae.cost_per_yard?.toString()||"",note:ae.note||""}),g&&M.current&&(M.current.scrollTop=0)},k=()=>{R(!0),A(null),B({code:"",price:"",cost_per_yard:"",note:""}),M.current&&(M.current.scrollTop=0)},G=()=>{if(!C.code.trim())return h("error","");const ae={code:C.code.trim(),default_price_per_m:J(C.price),cost_per_yard:J(C.cost_per_yard),note:C.note.trim()};S?(c(y,ae),h("success",""),R(!1),B({code:"",price:"",cost_per_yard:"",note:""})):T&&(d(y,T,ae),J(C.cost_per_yard)>0&&p(C.code.trim(),J(C.cost_per_yard)),h("success",""),A(null))},I=j.useRef(null),P=()=>{try{const ae=JSON.stringify({favorites:u},null,2),Ce=new Blob([ae],{type:"application/json"}),V=URL.createObjectURL(Ce),q=document.createElement("a");q.href=V,q.download=`marnthara_inventory_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(q),q.click(),document.body.removeChild(q),URL.revokeObjectURL(V),h("success","")}catch{h("error","")}},ie=()=>I.current?.click(),xe=ae=>{const Ce=ae.target.files?.[0];if(!Ce)return;if(Ce.size>5*1024*1024){h("error"," ( 5MB)"),ae.target.value="";return}const V=new FileReader;V.onload=q=>{try{const $=q.target?.result;m($)?h("success",""):h("error","")}catch{h("error","")}},V.onerror=()=>{h("error","")},V.readAsText(Ce),ae.target.value=""},te=[{id:pe.CURTAIN_MAIN,label:" ()"},{id:pe.CURTAIN_SHEER,label:""},{id:pe.WALLPAPER,label:""}];return n.jsx(It,{isOpen:s,onClose:o,title:"",variant:"fullscreen",children:n.jsxs("div",{className:F("flex flex-col h-full",g?"p-0":"p-1"),children:[n.jsxs("div",{className:F("bg-background border-b border-border space-y-3 z-10 shadow-sm sticky top-0",g?"p-4":"p-6 pb-4"),children:[n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 scrollbar-hide",children:te.map(ae=>n.jsx("button",{onClick:()=>{w(ae.id),R(!1),A(null)},className:F("px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition-all border",y===ae.id?"bg-primary text-primary-foreground border-primary shadow-sm":"bg-muted text-muted-foreground border-transparent hover:bg-muted/80"),children:ae.label},ae.id))}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Yn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx("input",{type:"text",placeholder:" / ...",value:v,onChange:ae=>N(ae.target.value),className:"w-full h-10 pl-9 pr-4 rounded-lg bg-muted/50 border-none focus:ring-2 focus:ring-primary/20 text-sm","aria-label":""})]}),n.jsxs(Ai,{as:"div",className:"relative",children:[n.jsx(Di,{className:"h-10 w-10 flex items-center justify-center rounded-lg border border-border hover:bg-muted","aria-label":"",children:n.jsx(Ri,{className:"w-5 h-5 text-muted-foreground"})}),n.jsx(xa,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:n.jsxs(Mi,{className:"absolute right-0 mt-2 w-48 bg-popover rounded-xl shadow-xl border border-border focus:outline-none z-50 p-1",children:[n.jsx(Lt,{children:({active:ae})=>n.jsxs("button",{onClick:k,className:F("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",ae?"bg-muted":""),children:[n.jsx(Hl,{className:"w-4 h-4"})," "]})}),n.jsx("div",{className:"h-px bg-border my-1"}),n.jsx(Lt,{children:({active:ae})=>n.jsxs("button",{onClick:P,className:F("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",ae?"bg-muted":""),children:[n.jsx(Mv,{className:"w-4 h-4"}),"  (Backup)"]})}),n.jsx(Lt,{children:({active:ae})=>n.jsxs("button",{onClick:ie,className:F("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",ae?"bg-muted":""),children:[n.jsx(Qs,{className:"w-4 h-4"}),"  (Restore)"]})})]})})]}),n.jsx("input",{type:"file",ref:I,className:"hidden",accept:".json",onChange:xe,"aria-label":""})]})]}),n.jsxs("div",{ref:M,className:F("flex-1 overflow-y-auto bg-muted/10",g?"p-4 space-y-3":"p-6 space-y-4"),children:[S&&n.jsx(qp,{data:C,setData:B,onSave:G,onCancel:()=>R(!1),isEdit:!1}),b.length===0&&!S?n.jsxs("div",{className:"flex flex-col items-center justify-center h-full min-h-[300px] text-muted-foreground",children:[n.jsx(Yn,{className:"w-12 h-12 mb-4 opacity-50"}),n.jsx("p",{className:"text-lg font-medium",children:""}),n.jsx("p",{className:"text-sm text-center mt-1",children:v?"":" +"}),!v&&n.jsxs(de,{variant:"outline",className:"mt-4",onClick:k,children:[n.jsx(Hl,{className:"w-4 h-4 mr-2"})," "]})]}):b.map(ae=>n.jsx(W.Fragment,{children:T===ae.id?n.jsx(qp,{data:C,setData:B,onSave:G,onCancel:()=>A(null),isEdit:!0,hasCost:J(ae.cost_per_yard)>0}):n.jsx(Oj,{item:ae,onClick:()=>z(ae)})},ae.id)),n.jsx("div",{className:g?"h-20":"h-10"})]})]})})},Lj=({isOpen:s,onClose:o})=>{const u=se(C=>C.discount),c=se(C=>C.setDiscount),d=se(C=>C.shopConfig),m=se(C=>C.updateShopConfig),{grandTotal:p}=Fu(),{trigger:h}=ka(),[g,y]=j.useState(u.is_enabled??u.value>0),[w,v]=j.useState(u.type),[N,T]=j.useState(u.value===0?"":u.value.toString()),A=()=>{h("selection");const C=J(N);if(C>0&&p>0)if(w==="amount"){const B=C/p*100;T(B.toFixed(2))}else{const B=C*p/100;T(B.toFixed(0))}v(B=>B==="amount"?"percent":"amount")},S=()=>{h("success"),c({type:w,value:J(N),is_enabled:g}),o()},R=(()=>{const C=J(N);let B=0;g&&C>0&&(B=w==="percent"?p*C/100:C);const M=Math.max(0,p-B),E=d.baseVatRate>0?M*d.baseVatRate/100:0;return{discountAmt:B,afterDiscount:M,vatAmt:E,netTotal:M+E}})();return n.jsx(It,{isOpen:s,onClose:o,title:" &  (Discount & Tax)",variant:"drawer",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:F("relative overflow-hidden rounded-2xl border transition-all duration-300",g?"bg-success/10 border-success/30":"bg-muted/40 border-border"),children:n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:F("p-2 rounded-lg",g?"bg-success/20 text-success":"bg-muted text-muted-foreground"),children:n.jsx(Xu,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:F("font-semibold text-sm",g?"text-success-foreground":"text-foreground"),children:""}),n.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Apply Discount"})]})]}),n.jsx(Ut,{checked:g,onCheckedChange:C=>{h("light"),y(C)}})]}),n.jsxs("div",{className:F("transition-all duration-300 grid grid-cols-[1fr_auto] gap-2",g?"opacity-100 translate-y-0":"opacity-30 pointer-events-none translate-y-2"),children:[n.jsxs("div",{className:"relative",children:[n.jsx(ne,{type:"number",inputMode:"decimal",placeholder:"0.00",value:N,onChange:C=>T(C.target.value),className:"pr-12 text-lg font-mono font-bold text-success border-success/30 focus:border-success"}),n.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs font-bold text-success/70 pointer-events-none",children:w==="percent"?"%":"THB"})]}),n.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 rounded-xl bg-card border border-success/30 shadow-sm text-success hover:bg-success/10 active:scale-95 transition-all",children:[w==="percent"?n.jsx(Tu,{className:"w-4 h-4"}):n.jsx(Ov,{className:"w-4 h-4"}),n.jsx(zv,{className:"w-3 h-3 opacity-50"})]})]})]})}),n.jsx("div",{className:"rounded-2xl border border-border bg-card p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-info/10 text-info",children:n.jsx(Tu,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-sm text-foreground",children:" (VAT 7%)"}),n.jsx("div",{className:"text-[10px] text-muted-foreground",children:""})]})]}),n.jsx(Ut,{checked:d.baseVatRate>0,onCheckedChange:C=>{h("light"),m({baseVatRate:C?7:0})}})]})}),n.jsxs("div",{className:"bg-primary text-primary-foreground/80 rounded-2xl p-5 space-y-3 shadow-xl shadow-primary/10",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:""}),n.jsx("span",{className:"font-mono text-primary-foreground",children:Re(p)})]}),g&&R.discountAmt>0&&n.jsxs("div",{className:"flex justify-between text-sm text-success animate-fade-in font-medium",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Hu,{className:"w-3 h-3"}),"  (",w==="percent"?`${N}%`:"",")"]}),n.jsxs("span",{className:"font-mono font-bold",children:["-",Re(R.discountAmt)]})]}),R.vatAmt>0&&n.jsxs("div",{className:"flex justify-between text-sm text-info animate-fade-in font-medium",children:[n.jsx("span",{children:"VAT 7%"}),n.jsxs("span",{className:"font-mono font-bold",children:["+",Re(R.vatAmt)]})]}),n.jsx("div",{className:"h-px bg-primary-foreground/10 my-2"}),n.jsxs("div",{className:"flex justify-between items-end",children:[n.jsx("span",{className:"text-primary-foreground font-medium",children:" (Net Total)"}),n.jsx("span",{className:"text-2xl font-bold text-primary-foreground tracking-tight font-mono",children:Re(R.netTotal)})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(de,{variant:"ghost",onClick:o,className:"h-12",children:""}),n.jsx(de,{onClick:S,className:"h-12 bg-primary text-primary-foreground shadow-xl shadow-primary/20 hover:bg-primary/90",children:""})]})]})})},Uj=({isOpen:s,onClose:o,roomId:u})=>{const c=se(C=>C.rooms.find(B=>B.id===u)),d=se(C=>C.updateRoomDefaults),m=c?.room_defaults||{},[p,h]=j.useState(String(m.width_m||"")),[g,y]=j.useState(String(m.height_m||"")),[w,v]=j.useState(String(m.default_fabric_price||"")),[N,T]=j.useState(String(m.default_wallpaper_price||"")),[A,S]=j.useState(String(m.default_blind_price||"")),R=()=>{u&&d(u,{width_m:p,height_m:g,default_fabric_price:w,default_wallpaper_price:N,default_blind_price:A}),o()};return n.jsx(It,{isOpen:s,onClose:o,title:"",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(ne,{label:" (.)",value:p,onChange:C=>h(C.target.value)}),n.jsx(ne,{label:" (.)",value:g,onChange:C=>y(C.target.value)}),n.jsxs("div",{className:"pt-2 border-t border-slate-100",children:[n.jsx("h4",{className:"text-sm font-medium text-slate-900 mb-2",children:" (Defaults)"}),n.jsx(ne,{label:" (/.)",value:w,onChange:C=>v(C.target.value)}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[n.jsx(ne,{label:" (/)",value:N,onChange:C=>T(C.target.value)}),n.jsx(ne,{label:" (/..)",value:A,onChange:C=>S(C.target.value)})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx(de,{variant:"ghost",onClick:o,children:""}),n.jsxs(de,{onClick:R,className:"gap-2",children:[n.jsx(Js,{className:"w-4"})," "]})]})]})})},Bj=({isOpen:s,onClose:o})=>{const{resetProject:u,factoryReset:c,importFavorites:d,importSecrets:m}=se(),p=rt(b=>b.addToast),{confirm:h}=hl(),[g,y]=j.useState(""),[w,v]=j.useState(!1),[N,T]=j.useState(""),[A,S]=j.useState("favorites"),R=()=>{try{const b=se.getState(),z={customer:b.customer,rooms:b.rooms,shopConfig:b.shopConfig,discount:b.discount,favorites:b.favorites,production:{laborCosts:b.laborCosts,accessoryCosts:b.accessoryCosts,fabricCosts:b.fabricCosts},version:"1.0.0",exportDate:new Date().toISOString()},k=new Blob([JSON.stringify(z,null,2)],{type:"application/json"}),G=URL.createObjectURL(k),I=document.createElement("a");I.href=G;const P=new Date,ie=P.toISOString().slice(0,10)+"-"+P.getHours().toString().padStart(2,"0")+P.getMinutes().toString().padStart(2,"0");I.download=`mtr-backup-${ie}.json`,document.body.appendChild(I),I.click(),document.body.removeChild(I),p("success","Backup ")}catch(b){console.error(b),p("error"," Backup")}},C=b=>{const z=b.target.files?.[0];if(!z)return;const k=new FileReader;k.onload=G=>{try{const I=JSON.parse(G.target?.result);se.setState(I),I.production&&se.setState(P=>({...P,laborCosts:I.production.laborCosts||P.laborCosts,accessoryCosts:I.production.accessoryCosts||P.accessoryCosts,fabricCosts:I.production.fabricCosts||P.fabricCosts})),p("success",""),o()}catch{p("error"," ")}},k.readAsText(z)},B=()=>{if(!N.trim()){p("warning"," JSON");return}try{let b=!1;A==="favorites"?(b=d(N),b&&(p("success",""),T(""))):(b=m(N),b&&(p("success",""),T(""))),b?o():p("error"," JSON ")}catch(b){console.error("Import error:",b),p("error","")}},M=async()=>{await h({title:"?",description:'  ""  "" ',confirmLabel:"",variant:"default"})&&(u(),p("success",""),o())},E=async()=>{if(g!=="RESET")return;await h({title:" (Factory Reset)?",description:" , ,  ! ?",confirmLabel:"",variant:"destructive"})&&(c(),p("success",""),o())};return n.jsx(It,{isOpen:s,onClose:o,title:" (Data Management)",maxWidth:"lg",children:n.jsxs("div",{className:"space-y-6 pb-safe-area",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h3",{className:"text-sm font-bold text-muted-foreground uppercase tracking-wider flex items-center gap-2",children:[n.jsx(Lv,{className:"w-4 h-4"})," "]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs(de,{variant:"outline",onClick:R,className:"h-auto py-4 flex flex-col gap-2 border-border hover:bg-primary/5 hover:border-primary/20 hover:text-primary",children:[n.jsx("div",{className:"p-2 bg-primary/10 text-primary rounded-full",children:n.jsx(ax,{className:"w-5 h-5"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-bold text-foreground",children:"Backup"}),n.jsx("div",{className:"text-xs text-muted-foreground font-normal",children:" .json"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsxs(de,{variant:"outline",onClick:()=>document.getElementById("data-importer")?.click(),className:"w-full h-full py-4 flex flex-col gap-2 border-border hover:bg-success/5 hover:border-success/20 hover:text-success",children:[n.jsx("div",{className:"p-2 bg-success/10 text-success rounded-full",children:n.jsx(Qs,{className:"w-5 h-5"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-bold text-foreground",children:"Restore"}),n.jsx("div",{className:"text-xs text-muted-foreground font-normal",children:" .json"})]})]}),n.jsx("input",{type:"file",id:"data-importer",className:"hidden",accept:".json,application/json",onChange:C})]})]})]}),n.jsx("div",{className:"h-px bg-border my-2"}),n.jsxs("div",{className:"bg-warning/5 border border-warning/20 rounded-2xl p-5 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qs,{className:"w-5 h-5 text-warning"}),n.jsx("h4",{className:"font-bold text-foreground",children:" (JSON)"})]}),n.jsxs("div",{className:"flex border-b border-warning/20",children:[n.jsx("button",{className:F("flex-1 py-2 text-sm font-medium border-b-2 transition-colors",A==="favorites"?"border-warning text-warning":"border-transparent text-muted-foreground hover:text-foreground"),onClick:()=>S("favorites"),children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(Yl,{className:"w-4 h-4"})," (Favorites)"]})}),n.jsx("button",{className:F("flex-1 py-2 text-sm font-medium border-b-2 transition-colors",A==="cost"?"border-warning text-warning":"border-transparent text-muted-foreground hover:text-foreground"),onClick:()=>S("cost"),children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(Wp,{className:"w-4 h-4"})," (Cost)"]})})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:A==="favorites"?" JSON  (Favorites) ":" JSON  (Labor, Accessory, Fabric)"}),n.jsx("textarea",{className:`w-full h-32 p-3 text-sm font-mono border border-warning/20 rounded-lg 
                       focus:outline-none focus:ring-2 focus:ring-warning focus:border-transparent
                       bg-background resize-none text-foreground`,placeholder:` JSON ${A==="favorites"?"":""} ...`,value:N,onChange:b=>T(b.target.value)}),n.jsxs(de,{onClick:B,className:`w-full bg-warning hover:bg-warning/90 text-white 
                     shadow-lg shadow-warning/20`,disabled:!N.trim(),children:[n.jsx(Qs,{className:"w-4 h-4 mr-2"})," ",A==="favorites"?"":""]})]}),n.jsx("div",{className:"h-px bg-border my-2"}),n.jsx("div",{className:"bg-info/10 border border-info/20 rounded-2xl p-5 space-y-3",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-3 bg-card rounded-xl shadow-sm border border-info/20",children:n.jsx(Uv,{className:"w-6 h-6 text-info"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-bold text-foreground",children:" (New Project)"}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1 leading-relaxed",children:[" ",n.jsx("br",{}),n.jsx("span",{className:"text-info font-medium text-xs bg-info/20 px-1.5 py-0.5 rounded",children:""})," ",""]}),n.jsx(de,{onClick:M,className:"mt-4 bg-info hover:bg-info/90 text-white shadow-lg shadow-info/20 w-full sm:w-auto",children:""})]})]})}),n.jsx("div",{className:"pt-4",children:w?n.jsxs("div",{className:"border border-destructive/30 bg-destructive/5 rounded-2xl p-5 animate-fade-in",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3 text-destructive font-bold",children:[n.jsx(Gn,{className:"w-5 h-5"})," (Danger Zone)"]}),n.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[" ",n.jsx("strong",{children:'"Factory Reset"'}),"   ()"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase",children:' "RESET" '}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:g,onChange:b=>y(b.target.value),placeholder:"RESET",className:"flex-1 px-4 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-destructive font-mono uppercase placeholder:text-muted-foreground"}),n.jsxs(de,{disabled:g!=="RESET",variant:"destructive",onClick:E,className:"whitespace-nowrap",children:[n.jsx(Yu,{className:"w-4 h-4 mr-2"})," "]})]})]})]}):n.jsxs("button",{onClick:()=>v(!0),className:"w-full py-3 text-xs font-medium text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded-lg transition-all border border-dashed border-border hover:border-destructive/30 flex items-center justify-center gap-2",children:[n.jsx(Ql,{className:"w-3 h-3"})," ()"]})})]})})},kj=s=>{const{width:o=0,height:u=0}=s,m=o>0&&u>0?Math.min(80/o,80/u):1,p=o*m||50,h=u*m||50,g=(100-p)/2,y=(90-h)/2;return{x:g,y,w:p,h}},Hj=(s,o)=>{const u=s.style==="";let c="";if(u){const p=o.h/4;for(let h=0;h<4;h++)c+=`<rect x="${o.x}" y="${o.y+h*p}" width="${o.w}" height="${p-1}" fill="#e2e8f0" stroke="#94a3b8" stroke-width="0.5" />`}else{c=`<rect x="${o.x}" y="${o.y}" width="${o.w}" height="${o.h}" fill="#f1f5f9" stroke="#cbd5e1" rx="2" />`;for(let m=1;m<4;m++)c+=`<path d="M${o.x+o.w/4*m} ${o.y} L${o.x+o.w/4*m} ${o.y+o.h}" stroke="#e2e8f0" stroke-width="1" />`}return`<rect x="${o.x-2}" y="${o.y-2}" width="${o.w+4}" height="2" fill="#64748b" />`+c},qj=(s,o)=>{const u=`<pattern id="p-${s.wallpaper_code}" width="4" height="4" patternUnits="userSpaceOnUse">
      <path d="M0 4L4 0M-1 1L1 -1M3 5L5 3" stroke="#cbd5e1" stroke-width="0.5"/>
  </pattern>`,c=`<rect x="${o.x}" y="${o.y}" width="${o.w}" height="${o.h}" fill="url(#p-${s.wallpaper_code})" stroke="#94a3b8" />`;return`<defs>${u}</defs>${c}`},Yj=(s,o)=>{const c=o.h/8;let d="";for(let p=0;p<8;p++)d+=`<line x1="${o.x}" y1="${o.y+p*c}" x2="${o.x+o.w}" y2="${o.y+p*c}" stroke="#cbd5e1" stroke-width="1" />`;return`<rect x="${o.x}" y="${o.y}" width="${o.w}" height="${o.h}" fill="none" stroke="#94a3b8" stroke-width="1" />`+d},Vj=s=>{if(s.type===K.REMOVAL||s.is_suspended)return'<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="20" fill="#f1f5f9"/><path d="M40 60 L60 40 M40 40 L60 60" stroke="#cbd5e1" stroke-width="2"/></svg>';let o=0,u=0;"width_m"in s&&"height_m"in s?(o=J(s.width_m),u=J(s.height_m)):s.type===K.WALLPAPER&&(o=3,u=2.6);const c=kj({width:o,height:u});let d="";return s.type===K.CURTAIN?d=Hj(s,c):s.type===K.WALLPAPER?d=qj(s,c):d=Yj(s,c),`<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">${d}</svg>`},Xj=W.forwardRef((s,o)=>{const{shopConfig:u,rooms:c}=se(p=>p),d=new Date().toLocaleDateString("th-TH",{dateStyle:"long"}),m=p=>({__html:Vj(p)});return n.jsxs("div",{ref:o,className:"w-[210mm] min-h-[297mm] bg-white p-[15mm] mx-auto text-slate-900 relative flex flex-col font-sans",children:[n.jsxs("div",{className:"flex justify-between items-center border-b-2 border-slate-800 pb-4 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[u.logoUrl&&n.jsx("img",{src:u.logoUrl,className:"h-12 w-auto object-contain",alt:"Logo"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:u.name}),n.jsx("p",{className:"text-xs text-slate-500",children:"Lookbook / "})]})]}),n.jsx("div",{className:"text-right text-sm text-slate-500",children:n.jsx("div",{children:d})})]}),n.jsx("div",{className:"grid grid-cols-2 gap-6 content-start",children:c.map(p=>p.items.length===0?null:p.items.map((h,g)=>{if(h.is_suspended)return null;let y=Vl[h.type]?.name||"",w="";const v=[];if(h.type===K.CURTAIN){const N=h;y=`${N.style||""} (${N.fabric_variant})`,N.code&&v.push(`: ${N.code}`),N.sheer_code&&v.push(`: ${N.sheer_code}`),N.bracket_color&&v.push(`: ${N.bracket_color}`),w=`${ta(N.width_m)} x ${ta(N.height_m)} .`}else if(h.type===K.WALLPAPER){const N=h;y="",N.wallpaper_code&&v.push(`: ${N.wallpaper_code}`),w=`${N.widths.length}  ( ${ta(N.height_m)} .)`}else if([K.WOODEN_BLIND,K.ROLLER_BLIND,K.VERTICAL_BLIND,K.ALUMINUM_BLIND,K.PARTITION,K.PLEATED_SCREEN].includes(h.type)){const N=h;N.code&&v.push(`: ${N.code}`),w=`${ta(N.width_m)} x ${ta(N.height_m)} .`,h.type===K.WOODEN_BLIND?y=`${N.fabric_variant||""}`:h.type===K.ROLLER_BLIND?y=` (${N.fabric_variant||""})`:h.type===K.PARTITION?y=` (${N.opening_style||""})`:h.type===K.PLEATED_SCREEN&&(y=` (${N.opening_style||""})`),N.adjustment_side&&v.push(N.adjustment_side)}else h.type===K.REMOVAL&&(y=h.description||"");return n.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden flex bg-white break-inside-avoid",children:[n.jsx("div",{className:"w-1/2 bg-slate-50 flex items-center justify-center p-2 min-h-[140px]",dangerouslySetInnerHTML:m(h)}),n.jsxs("div",{className:"w-1/2 p-3 flex flex-col relative",children:[n.jsxs("div",{className:"inline-block self-start px-2 py-0.5 bg-slate-100 text-[10px] font-bold text-slate-500 rounded mb-1",children:[" ",p.name]}),n.jsx("div",{className:"font-bold text-sm text-slate-900 leading-tight mb-1",children:y}),n.jsx("div",{className:"text-sm font-mono font-bold text-slate-800 border-b border-dashed border-slate-300 pb-1 mb-2",children:w}),n.jsx("ul",{className:"text-xs text-slate-600 space-y-1",children:v.map((N,T)=>n.jsxs("li",{className:"truncate",children:[" ",N]},T))}),h.notes&&n.jsxs("div",{className:"mt-auto pt-1 text-[10px] text-orange-600 line-clamp-2",children:[" ",h.notes]})]})]},`${p.id}-${h.id}-${g}`)}))}),n.jsx("div",{className:"mt-auto pt-8 text-center text-[10px] text-slate-400",children:" Marnthara QOL   1/1"})]})}),Gj=({isOpen:s,onClose:o})=>{const u=se(h=>h.rooms),c=j.useRef(null),[d,m]=j.useState(!1),p=Ix.useReactToPrint({contentRef:c,documentTitle:`QC_Lookbook_${new Date().toISOString().split("T")[0]}`,onBeforeGetContent:()=>(m(!0),Promise.resolve()),onAfterPrint:()=>m(!1)});return n.jsxs(It,{isOpen:s,onClose:o,title:"Lookbook /  (Preview)",maxWidth:"2xl",children:[n.jsx("div",{className:"space-y-6 pb-safe-area",children:u.map(h=>n.jsxs("div",{className:"bg-muted/20 rounded-2xl p-4 border border-border",children:[n.jsxs("h3",{className:"font-bold text-foreground mb-3 flex items-center gap-2",children:[" ",h.name]}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:h.items.filter(g=>!g.is_suspended).map(g=>n.jsxs("div",{className:"bg-card p-3 rounded-xl border border-border shadow-sm flex flex-col",children:[n.jsx("div",{className:"aspect-[4/3] bg-muted/30 rounded-lg mb-2 flex items-center justify-center overflow-hidden relative",children:n.jsx("div",{className:"text-xs text-muted-foreground",children:"Preview"})}),n.jsxs("div",{className:"mt-auto",children:[n.jsxs("div",{className:"flex justify-between items-start mb-1",children:[n.jsx("span",{className:"font-semibold text-sm text-card-foreground",children:Vl[g.type]?.name}),"width_m"in g&&n.jsxs("div",{className:"bg-primary text-primary-foreground text-xs font-mono px-1.5 py-0.5 rounded",children:[ta(g.width_m),"  ",ta(g.height_m)]})]}),n.jsxs("div",{className:"text-xs text-muted-foreground space-y-1 mt-auto",children:["fabric_variant"in g&&n.jsxs("div",{children:[" /: ",g.fabric_variant]}),"code"in g&&g.code&&n.jsxs("div",{children:[" : ",n.jsx("span",{className:"font-mono font-bold",children:g.code})]}),"adjustment_side"in g&&n.jsxs("div",{children:[" : ",g.adjustment_side]}),g.notes&&n.jsxs("div",{className:"text-warning mt-1",children:[" ",g.notes]})]})]})]},g.id))})]},h.id))}),n.jsxs("div",{className:"flex justify-end pt-4 border-t border-border",children:[n.jsx(de,{onClick:o,children:""}),n.jsx(de,{onClick:()=>p(),disabled:d,className:"ml-2 bg-primary text-primary-foreground",children:d?"...":" Lookbook"})]}),n.jsx("div",{style:{display:"none"},children:n.jsx("div",{ref:c,children:n.jsx(Xj,{})})})]})},Qj=({isOpen:s,onClose:o})=>{const u=se(g=>g.rooms),c=se(g=>g.openModal),d=u.map(g=>({...g,items:g.items.filter(y=>!y.is_suspended),total:g.items.filter(y=>!y.is_suspended).reduce((y,w)=>y+st.calculatePrice(w),0)})).filter(g=>g.items.length>0),m=d.reduce((g,y)=>g+y.total,0),p=(g,y)=>{o(),setTimeout(()=>{c("item",{mode:"edit",roomId:g,itemId:y.id,itemType:y.type,initialData:y})},150)},h=g=>{const y=st.getItemSpecs(g);return y.length>0?y[0]:""};return n.jsx(It,{isOpen:s,onClose:o,variant:"drawer",title:" (Project Overview)",description:` ${Re(m)}`,children:n.jsxs("div",{className:"space-y-6 pb-6",children:[n.jsx("div",{className:"bg-primary/5 rounded-2xl p-4 flex items-center justify-between border border-primary/10",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-full text-primary",children:n.jsx(Gu,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:""}),n.jsx("span",{className:"text-xl font-bold text-foreground font-mono",children:Re(m)})]})]})}),n.jsxs("div",{className:"space-y-6",children:[d.map(g=>n.jsxs("div",{className:"animate-fade-in",children:[n.jsxs("div",{className:"flex items-center justify-between px-1 mb-2",children:[n.jsxs("h3",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[n.jsx("span",{className:"w-1 h-4 bg-primary rounded-full"}),g.name]}),n.jsx("span",{className:"text-xs font-mono font-medium text-muted-foreground",children:Re(g.total)})]}),n.jsx("div",{className:"bg-card border border-border rounded-xl overflow-hidden divide-y divide-border/50 shadow-sm",children:g.items.map((y,w)=>n.jsxs("button",{onClick:()=>p(g.id,y),className:"w-full text-left px-4 py-3 flex justify-between items-center hover:bg-muted/50 transition-colors group active:bg-muted",children:[n.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-lg bg-muted flex items-center justify-center text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary transition-colors",children:n.jsx("span",{className:"text-xs font-bold",children:w+1})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm font-medium text-foreground truncate group-hover:text-primary transition-colors",children:Vl[y.type]?.name}),n.jsx("div",{className:"text-[11px] text-muted-foreground truncate opacity-80",children:h(y)})]})]}),n.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[n.jsx("span",{className:"text-sm font-bold font-mono text-foreground/80",children:Re(st.calculatePrice(y))}),n.jsx(Xn,{className:"w-4 h-4 text-muted-foreground/30"})]})]},y.id))})]},g.id)),d.length===0&&n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground space-y-2",children:[n.jsx(Bv,{className:"w-12 h-12 opacity-20"}),n.jsx("p",{children:""})]})]})]})})},Ua=({icon:s,label:o,desc:u,onClick:c,accentColor:d="primary",isWide:m=!1})=>{const{trigger:p}=ka(),h={primary:"bg-primary/5 text-primary group-hover:bg-primary/10",emerald:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 group-hover:bg-emerald-500/20",orange:"bg-orange-500/10 text-orange-600 dark:text-orange-400 group-hover:bg-orange-500/20",rose:"bg-rose-500/10 text-rose-600 dark:text-rose-400 group-hover:bg-rose-500/20",indigo:"bg-indigo-500/10 text-indigo-600 dark:text-indigo-400 group-hover:bg-indigo-500/20"};return n.jsxs("button",{onClick:()=>{p("light"),c()},className:F("group relative flex items-center p-4 rounded-2xl border border-border bg-card shadow-sm transition-all duration-200 active:scale-[0.98]",m?"col-span-2":"col-span-1 flex-col justify-center text-center gap-3 h-32 sm:h-auto sm:flex-row sm:justify-start sm:text-left"),children:[n.jsx("div",{className:F("p-3 rounded-xl transition-colors",h[d]),children:n.jsx(s,{className:"w-6 h-6",strokeWidth:2})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-semibold text-foreground text-[15px] leading-tight",children:o}),u&&n.jsx("div",{className:"text-[13px] text-muted-foreground mt-0.5 font-medium truncate",children:u})]}),m&&n.jsx(Xn,{className:"w-5 h-5 text-muted-foreground/30 group-hover:text-foreground/50"})]})},Zj=({isOpen:s,onClose:o,onOpenPdf:u,onOpenLookbook:c,onOpenCustomer:d,onOpenShopSettings:m,onOpenDiscount:p,onOpenData:h,onOpenFavorites:g,onOpenProductionSettings:y,onOpenCostDashboard:w})=>{const{theme:v,toggleTheme:N}=sx(),{trigger:T}=ka();return n.jsx(It,{isOpen:s,onClose:o,title:" (Main Menu)",maxWidth:"lg",variant:"drawer",children:n.jsxs("div",{className:"space-y-6 pb-safe-bottom",children:[n.jsxs("div",{className:"flex items-center justify-between px-1",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:","}),n.jsx("span",{className:"text-lg font-bold text-foreground",children:"Marnthara User"})]}),n.jsx("button",{onClick:()=>{T("medium"),N()},className:F("relative p-2 rounded-full transition-all duration-500 border overflow-hidden w-12 h-12 flex items-center justify-center",v==="dark"?"bg-slate-800 border-slate-700 text-yellow-400":"bg-amber-100 border-amber-200 text-amber-600"),children:n.jsx("div",{className:F("transition-transform duration-500",v==="dark"?"rotate-0":"rotate-180"),children:v==="dark"?n.jsx(kv,{className:"w-6 h-6"}):n.jsx(Hv,{className:"w-6 h-6"})})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground px-1",children:" & "}),n.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[n.jsx(Ua,{icon:Hi,label:" (Quotation)",desc:" / ",onClick:u,accentColor:"primary",isWide:!0}),n.jsx(Ua,{icon:qv,label:"Lookbook ()",desc:"",onClick:c,accentColor:"indigo",isWide:!0})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground px-1",children:""}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(Ua,{icon:Yv,label:"",desc:"",onClick:d,accentColor:"orange"}),n.jsx(Ua,{icon:Ba,label:"",desc:"",onClick:g,accentColor:"rose"}),n.jsx(Ua,{icon:Vv,label:"",desc:"/",onClick:m,accentColor:"primary"}),n.jsx(Ua,{icon:Tu,label:"",desc:"",onClick:p,accentColor:"emerald"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground px-1",children:" (Pro)"}),n.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[n.jsx(Ua,{icon:Gu,label:" (Cost Analysis)",desc:" Margin ",onClick:w,accentColor:"emerald",isWide:!0}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(Ua,{icon:Xv,label:"",desc:"/",onClick:y,accentColor:"primary"}),n.jsx(Ua,{icon:Gv,label:"",desc:"Import/Export",onClick:h,accentColor:"primary"})]})]})]}),n.jsx("div",{className:"pt-6 text-center",children:n.jsx("div",{className:"inline-flex items-center justify-center px-3 py-1 rounded-full bg-muted/50 text-[10px] text-muted-foreground font-mono",children:"Marnthara v6.7.0 (Strict Mode)"})})]})})},Fj=[{id:"labor",label:" (Labor)",icon:ku},{id:"accessories",label:" (Accessory)",icon:Pp},{id:"fabrics",label:" (Fabric)",icon:_i}],Yp={rail_wave:" ()",rail_pleated:" ( M)",rail_eyelet:" ()",rail_roman:" ()",rail_rod:" ()",rail_louis:"/ ",eyelet_ring:"",tape_wave:"/",install_point:" ()",install_min:" ()",transport_base:"/"},Kj=({isOpen:s,onClose:o})=>{const{laborCosts:u,accessoryCosts:c,fabricCosts:d,favorites:m,updateLaborCost:p,updateAccessoryCost:h,updateFabricCost:g,removeAccessoryCost:y,removeFabricCost:w,exportSecrets:v,importSecrets:N}=se(),T=rt(q=>q.addToast),[A,S]=j.useState("labor"),[R,C]=j.useState(""),[B,M]=j.useState(!0),[E,b]=j.useState(null),[z,k]=j.useState({code:"",cost:"",unit:"",note:"",priceRef:""}),[G,I]=j.useState(!1),P=j.useRef(null),ie=j.useMemo(()=>{let q=[];if(A==="labor"?q=Object.entries(u).map(([$,oe])=>({key:$,name:$,cost:oe.rate,unit:oe.unit,note:` ${oe.min_price}`,priceRef:0})):A==="accessories"?q=Object.entries(c).map(([$,oe])=>({key:$,name:Yp[$]||$,cost:oe,note:Yp[$]?$:"",priceRef:0})):q=Object.entries(d).map(([$,oe])=>{let Ne=0,Qe="";return Object.values(m).flat().forEach(Me=>{Me.code===$&&(Ne=Me.default_price_per_m,Qe=Me.note||"")}),{key:$,name:$,cost:oe,note:Qe,priceRef:Ne}}),R){const $=R.toLowerCase();q=q.filter(oe=>oe.key.toLowerCase().includes($)||oe.name.toLowerCase().includes($))}return q.sort(($,oe)=>$.name.localeCompare(oe.name))},[A,u,c,d,R,m]),xe=q=>{B||(b(q.key),k({code:q.key,cost:q.cost.toString(),unit:q.unit||"",note:q.note||"",priceRef:q.priceRef?q.priceRef.toString():""}),I(!1))},te=()=>{const q=parseFloat(z.cost);if(!z.code||isNaN(q)){T("error"," ");return}A==="labor"?p(z.code,{rate:q,unit:z.unit||"meter",min_price:0}):A==="accessories"?(E&&z.code!==E&&y(E),h(z.code,q)):(E&&z.code!==E&&w(E),g(z.code,q)),b(null),I(!1),T("success","")},ae=q=>{confirm(` "${q}"?`)&&(A==="accessories"?(y(q),T("success","")):A==="fabrics"?(w(q),T("success","")):T("warning","  ( 0 )"),b(null))},Ce=q=>{const $=q.target.files?.[0];if($){const oe=new FileReader;oe.onload=Ne=>{const Qe=Ne.target?.result;N(Qe)?T("success",""):T("error","")},oe.readAsText($)}q.target.value=""},V=q=>n.jsx("div",{className:"p-3 rounded-lg border transition-all bg-card border-primary shadow-md ring-1 ring-primary/20 animate-in fade-in zoom-in-95 duration-200 mb-2",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1.5 w-full",children:[n.jsx("label",{className:"text-[15px] font-medium text-foreground ml-1",children:A==="labor"?"":" / "}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{className:"flex h-12 w-full rounded-xl border px-4 py-2 text-[16px] focus:outline-none focus:ring-2 focus:ring-ring bg-background text-foreground border-input focus:border-primary pr-10",value:z.code,onChange:$=>k({...z,code:$.target.value}),placeholder:A==="labor"?" ":"",autoFocus:!q}),z.code&&n.jsx("button",{type:"button",onClick:()=>k({...z,code:""}),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1.5 text-muted-foreground hover:text-foreground",children:n.jsx(ql,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"space-y-1.5 w-full",children:[n.jsx("label",{className:"text-[15px] font-medium text-foreground ml-1",children:A==="labor"?" (Unit)":"Note"}),n.jsx("input",{className:"flex h-12 w-full rounded-xl border px-4 py-2 text-[16px] focus:outline-none bg-background text-foreground border-input focus:border-primary disabled:opacity-70 disabled:bg-muted/30",value:A==="labor"?z.unit:z.note,onChange:$=>A==="labor"?k({...z,unit:$.target.value}):null,disabled:A!=="labor",placeholder:A==="labor"?"meter":"-"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 p-3 bg-muted/30 rounded-lg",children:[n.jsxs("div",{className:"space-y-1.5 w-full",children:[n.jsxs("label",{className:"text-[15px] font-medium text-foreground ml-1",children:[" (Cost) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",className:"flex h-12 w-full rounded-xl border px-4 py-2 text-[16px] focus:outline-none focus:ring-2 focus:ring-ring bg-background border-input focus:border-primary text-amber-600 font-mono font-bold",value:z.cost,onChange:$=>k({...z,cost:$.target.value}),autoFocus:q}),n.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground text-xs",children:""})]})]}),n.jsxs("div",{className:"space-y-1.5 w-full",children:[n.jsx("label",{className:"text-[15px] font-medium text-foreground ml-1",children:" (Ref)"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{className:"flex h-12 w-full rounded-xl border px-4 py-2 text-[16px] bg-background disabled:bg-muted/30 disabled:opacity-70 border-input text-emerald-600 font-bold",value:z.priceRef?Re(parseFloat(z.priceRef)):"-",disabled:!0}),n.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground text-xs",children:""})]})]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-border/50",children:[q?n.jsxs("button",{onClick:()=>ae(E),className:"inline-flex items-center justify-center h-8 px-3 text-xs rounded-lg text-red-500 hover:bg-red-50 border border-transparent transition-colors",children:[n.jsx(Gn,{className:"w-4 h-4 mr-1"})," "]}):n.jsx("div",{}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>{b(null),I(!1)},className:"inline-flex items-center justify-center h-8 px-3 text-xs rounded-lg hover:bg-accent text-muted-foreground hover:text-foreground transition-colors",children:[n.jsx(ql,{className:"w-4 h-4 mr-1"})," "]}),n.jsxs("button",{onClick:te,className:"inline-flex items-center justify-center h-8 px-3 text-xs rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm transition-colors",children:[n.jsx(Js,{className:"w-4 h-4 mr-1"})," "]})]})]})]})});return n.jsxs(It,{isOpen:s,onClose:o,title:" (Vault)",maxWidth:"2xl",children:[n.jsx("input",{type:"file",ref:P,accept:".json,.key,.txt",className:"hidden",onChange:Ce}),n.jsxs("div",{className:"space-y-4 pb-safe-area h-[600px] flex flex-col",children:[n.jsxs("div",{className:"flex gap-2 items-center bg-card p-1.5 rounded-xl border border-border shadow-sm",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Yn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx("input",{type:"text",placeholder:"...",value:R,onChange:q=>C(q.target.value),className:"w-full pl-9 h-10 bg-muted/50 rounded-lg text-sm border-transparent focus:border-primary focus:ring-0"})]}),n.jsx(de,{variant:B?"outline":"destructive",size:"icon",onClick:()=>{M(!B),b(null),I(!1)},className:"w-10 h-10 shrink-0",title:B?"":"",children:B?n.jsx(Qv,{className:"w-4 h-4"}):n.jsx(Zv,{className:"w-4 h-4"})}),!B&&n.jsxs(de,{onClick:()=>{I(!0),b(null),k({code:"",cost:"",unit:"",note:"",priceRef:""})},className:"h-10 shrink-0 bg-primary text-primary-foreground shadow-sm px-3 flex items-center gap-1",children:[n.jsx(Hl,{className:"w-5 h-5"}),n.jsx("span",{className:"hidden sm:inline font-medium",children:""})]}),n.jsxs(Ai,{as:"div",className:"relative",children:[n.jsx(Di,{as:de,variant:"ghost",size:"icon",className:"w-10 h-10",children:n.jsx(Ri,{className:"w-5 h-5"})}),n.jsx(xa,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:n.jsxs(Mi,{className:"absolute right-0 mt-2 w-48 bg-popover border border-border rounded-xl shadow-lg z-50 p-1 focus:outline-none",children:[n.jsx(Lt,{children:({active:q})=>n.jsxs("button",{onClick:()=>P.current?.click(),className:F("flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm",q&&"bg-accent"),children:[n.jsx(Qs,{className:"w-4 h-4"}),"  (.json/.key)"]})}),n.jsx(Lt,{children:({active:q})=>n.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(v()),T("success","")},className:F("flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm",q&&"bg-accent"),children:[n.jsx(ax,{className:"w-4 h-4"}),"  (Copy)"]})})]})})]})]}),n.jsx("div",{className:"flex p-1 bg-muted rounded-xl shrink-0",children:Fj.map(q=>n.jsxs("button",{onClick:()=>{S(q.id),b(null),I(!1)},className:F("flex-1 flex items-center justify-center gap-2 py-2 text-sm font-medium rounded-lg transition-all",A===q.id?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[n.jsx(q.icon,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:q.label})]},q.id))}),n.jsxs("div",{className:"flex-1 overflow-y-auto space-y-2 pr-1 border border-t-0 border-border rounded-b-lg p-1 bg-background",children:[G&&V(!1),ie.length===0&&!G&&n.jsxs("div",{className:"text-center py-10 text-muted-foreground opacity-60",children:[n.jsx(Yn,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:""})]}),ie.map(q=>E===q.key?n.jsx("div",{children:V(!0)},q.key):n.jsx("div",{className:"p-3 rounded-lg border transition-all bg-card border-border hover:border-primary/30 group",children:n.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[n.jsxs("div",{className:"col-span-7 sm:col-span-8 min-w-0",children:[n.jsx("div",{className:"font-bold text-sm truncate text-foreground",children:q.name}),n.jsx("div",{className:"text-[11px] text-muted-foreground truncate font-mono",children:A==="labor"?q.unit:q.note||q.key})]}),n.jsxs("div",{className:"col-span-3 sm:col-span-3 text-right flex flex-col justify-center min-w-0",children:[n.jsx("div",{className:"font-mono text-sm font-bold text-amber-600 dark:text-amber-500 leading-tight",children:Re(q.cost)}),J(q.priceRef)>0&&n.jsx("div",{className:"text-[10px] text-emerald-600/70 dark:text-emerald-400/60 leading-tight",children:Re(q.priceRef||0)})]}),n.jsx("div",{className:"col-span-2 sm:col-span-1 flex justify-end",children:!B&&n.jsx("button",{onClick:()=>xe(q),className:"p-2 rounded-lg bg-muted hover:bg-primary/10 text-muted-foreground hover:text-primary transition-colors flex items-center justify-center w-8 h-8",title:"",children:n.jsx(tx,{className:"w-4 h-4"})})})]})},q.key))]})]})]})},Ij={analyze:s=>{const o=se.getState(),{fabricCosts:u,laborCosts:c,accessoryCosts:d}=o,m=st.calculatePrice(s);let p=0,h=0,g=0,y=0,w=0;const v=0;let N=0,T="";if(qi(s)){if(T="",s.code){const E=u[s.code]||0,b=Ci(s.style,J(s.width_m));h=b*E,N+=b}if(s.sheer_code&&(s.layer_mode==="double"||s.layer_mode==="sheer")){const E=u[s.sheer_code]||0;g=Ci(s.style,J(s.width_m))*E}const C=J(s.width_m),B=d.rail_standard||120;w=C*B;const M=c[s.style]?.rate||60;y=C*M,p=h+g+y+w+v}else if(Yi(s)){T="";const C=s.wallpaper_code;if(C){const M=u[C]||0,E=s.widths.reduce((z,k)=>z+J(k),0),b=Math.ceil(E/Ru.ROLL_WIDTH_M);h=b*M,N=b}y=J(s.install_cost_per_roll)*N,p=h+y}else if(Vi(s)){if(T="..",s.code){const C=u[s.code]||0,M=J(s.width_m)*J(s.height_m)*1.2;h=M*C,N=M}p=h}const A=m-p;let S=0;m>0&&(S=A/m*100);let R="profit";return A<0?R="loss":S<20&&(R="warning"),{totalCost:p,sellingPrice:m,profitAmount:A,marginPercent:S,status:R,fabricCost:h,sheerCost:g,laborCost:y,railCost:w,accCost:v,usedQuantity:Number(N.toFixed(2)),unit:T}}},Jj=({isOpen:s,onClose:o})=>{const u=se(M=>M.rooms),c=se(M=>M.fabricCosts),d=se(M=>M.batchUpdateFabricCosts),m=rt(M=>M.addToast),[p,h]=j.useState(""),[g,y]=j.useState({}),[w,v]=j.useState(!1);j.useEffect(()=>{s&&(y({}),v(!1),h(""))},[s]);const N=j.useMemo(()=>{const M={};return u.forEach(E=>{E.is_suspended||E.items.forEach(b=>{if(b.is_suspended)return;let z="",k="curtain";if(qi(b)?(z=b.code||"N/A",k="curtain"):Yi(b)?(z=b.wallpaper_code||"N/A",k="wallpaper"):Vi(b)&&(z=b.code||"N/A",k="blind"),!z||z==="N/A"||b.type===K.REMOVAL)return;const G=Ij.analyze(b),I=st.calculatePrice(b);M[z]||(M[z]={code:z,totalQty:0,unit:G.unit,usageCount:0,itemIds:[],type:k,avgCost:0,avgPrice:0,totalRevenue:0,totalCost:0,profit:0,margin:0,status:"profit"});const P=M[z];P.totalQty+=G.usedQuantity,P.usageCount+=1,P.itemIds.push(b.id),P.totalRevenue+=I,P.totalCost+=G.totalCost})}),Object.values(M).map(E=>{const b=c[E.code]||0;return E.avgCost=b,E.profit=E.totalRevenue-E.totalCost,E.margin=E.totalRevenue>0?E.profit/E.totalRevenue*100:0,E.profit<0?E.status="loss":E.margin<20?E.status="warning":E.status="profit",E})},[u,c]),T=j.useMemo(()=>N.filter(M=>M.code.toLowerCase().includes(p.toLowerCase())).sort((M,E)=>M.margin-E.margin),[N,p]),A=j.useMemo(()=>N.reduce((M,E)=>({revenue:M.revenue+E.totalRevenue,cost:M.cost+E.totalCost,profit:M.profit+E.profit}),{revenue:0,cost:0,profit:0}),[N]),S=A.revenue>0?A.profit/A.revenue*100:0,R=(M,E)=>{y(b=>({...b,[M]:E})),v(!0)},C=()=>{const M={};Object.entries(g).forEach(([E,b])=>{const z=parseFloat(b.replace(/,/g,""));isNaN(z)||(M[E]=z)}),Object.keys(M).length>0&&(d(M),m("success","",""),y({}),v(!1))},B=()=>{y({}),v(!1)};return n.jsx(It,{isOpen:s,onClose:()=>{w?window.confirm(" ?")&&o():o()},title:" &  (Cost Intelligence)",variant:"fullscreen",children:n.jsxs("div",{className:"flex flex-col h-full space-y-6 pb-20",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-2xl bg-primary/5 border border-primary/10",children:[n.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2 mb-1",children:[n.jsx(Gu,{className:"w-4 h-4"}),"  (Revenue)"]}),n.jsx("div",{className:"text-2xl font-bold text-primary",children:Re(A.revenue)})]}),n.jsxs("div",{className:"p-4 rounded-2xl bg-red-500/5 border border-red-500/10 dark:bg-red-900/10",children:[n.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2 mb-1",children:[n.jsx(_i,{className:"w-4 h-4"}),"  (Total Cost)"]}),n.jsx("div",{className:"text-2xl font-bold text-destructive",children:Re(A.cost)})]}),n.jsxs("div",{className:"p-4 rounded-2xl bg-emerald-500/5 border border-emerald-500/10 dark:bg-emerald-900/10",children:[n.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2 mb-1",children:[n.jsx(Fv,{className:"w-4 h-4"}),"  (Net Profit)"]}),n.jsx("div",{className:F("text-2xl font-bold",A.profit>0?"text-emerald-600":"text-red-600"),children:Re(A.profit)})]}),n.jsxs("div",{className:"p-4 rounded-2xl bg-card border border-border shadow-sm",children:[n.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2 mb-1",children:[n.jsx(Xu,{className:"w-4 h-4"})," Margin %"]}),n.jsxs("div",{className:F("text-2xl font-bold",S<20?"text-amber-500":"text-emerald-500"),children:[S.toFixed(1),"%"]})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between sticky top-0 bg-background/95 backdrop-blur z-10 py-2 border-b border-border",children:[n.jsxs("div",{className:"relative w-full sm:w-80",children:[n.jsx(Yn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(ne,{placeholder:"...",value:p,onChange:M=>h(M.target.value),className:"pl-9 h-10"})]}),n.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[w&&n.jsxs(de,{variant:"ghost",onClick:B,className:"flex-1 sm:flex-none",children:[n.jsx(Yu,{className:"w-4 h-4 mr-2"})," "]}),n.jsxs(de,{onClick:C,disabled:!w,className:F("flex-1 sm:flex-none transition-all",w?"bg-emerald-600 hover:bg-emerald-700 shadow-lg scale-105":""),children:[n.jsx(Js,{className:"w-4 h-4 mr-2"})," "]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:T.length===0?n.jsx("div",{className:"col-span-full text-center py-20 text-muted-foreground",children:""}):T.map(M=>{const E=g[M.code]!==void 0,z=(E?parseFloat(g[M.code]||"0"):M.avgCost)>0;return n.jsxs("div",{className:F("relative group bg-card border rounded-xl p-4 transition-all hover:shadow-md",M.status==="loss"?"border-red-500/30 bg-red-500/5":M.status==="warning"?"border-amber-500/30 bg-amber-500/5":"border-border"),children:[n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:F("w-10 h-10 rounded-lg flex items-center justify-center",M.type==="curtain"?"bg-indigo-100 text-indigo-600":M.type==="wallpaper"?"bg-orange-100 text-orange-600":"bg-teal-100 text-teal-600"),children:[M.type==="curtain"&&n.jsx(_i,{className:"w-5 h-5"}),M.type==="wallpaper"&&n.jsx(Ti,{className:"w-5 h-5"}),M.type==="blind"&&n.jsx(Fs,{className:"w-5 h-5"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"font-bold text-lg leading-none",children:M.code}),n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[" ",M.totalQty.toFixed(2)," ",M.unit," (",M.usageCount," )"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm font-medium text-foreground",children:Re(M.totalRevenue)}),n.jsxs("div",{className:F("text-xs font-bold flex items-center justify-end gap-1",M.margin>0?"text-emerald-600":"text-red-600"),children:[M.margin>0?n.jsx(Kv,{className:"w-3 h-3"}):n.jsx(Iv,{className:"w-3 h-3"}),M.margin.toFixed(1),"%"]})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50 flex items-end justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("label",{className:"text-[10px] text-muted-foreground font-medium uppercase tracking-wider mb-1 block",children:[" (",M.unit,")"]}),n.jsxs("div",{className:"relative",children:[n.jsx(ne,{value:E?g[M.code]:M.avgCost>0?M.avgCost:"",onChange:k=>R(M.code,k.target.value),placeholder:"0.00",className:F("h-9 font-mono text-right pr-2",!z&&"border-amber-500/50 bg-amber-500/5 focus:border-amber-500")}),!z&&!E&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none text-xs text-amber-600/70",children:""})]})]}),n.jsxs("div",{className:"flex-1 text-right",children:[n.jsx("div",{className:"text-[10px] text-muted-foreground",children:""}),n.jsx("div",{className:F("text-lg font-bold",M.profit>0?"text-emerald-600":"text-red-600"),children:Re(M.profit)})]})]})]},M.code)})})]})})},$j=()=>{const{activeModal:s,modalProps:o,closeModal:u,openModal:c,addItem:d,updateItem:m}=se(),p=rt(B=>B.addToast),h=B=>s===B,g=B=>{const{roomId:M,mode:E,itemId:b}=o;M&&(E==="edit"&&b?(m(M,b,B),p("success","")):(d(M,B),p("success","")),u())},y=()=>c("pdf"),w=()=>c("lookbook"),v=()=>c("customer"),N=()=>c("shopSettings"),T=()=>c("discount"),A=()=>c("data"),S=()=>c("favoriteManager"),R=()=>c("productionSettings"),C=()=>c("costDashboard");return s?n.jsxs(n.Fragment,{children:[n.jsx(wj,{isOpen:h("item"),onClose:u,roomId:o.roomId,itemId:o.itemId,itemType:o.itemType,initialData:o.initialData,mode:o.mode,onSubmit:g}),n.jsx(_j,{isOpen:h("customer"),onClose:u}),n.jsx(Tj,{isOpen:h("pdf"),onClose:u}),n.jsx(Dj,{isOpen:h("shopSettings"),onClose:u}),n.jsx(zj,{isOpen:h("favoriteManager"),onClose:u}),n.jsx(Lj,{isOpen:h("discount"),onClose:u},h("discount")?"discount-open":"discount-closed"),n.jsx(Bj,{isOpen:h("data"),onClose:u}),n.jsx(Gj,{isOpen:h("lookbook"),onClose:u}),n.jsx(Qj,{isOpen:h("projectOverview"),onClose:u}),n.jsx(Uj,{isOpen:h("roomDefaults"),onClose:u,roomId:o.roomId},o.roomId||"defaults"),n.jsx(Kj,{isOpen:h("productionSettings"),onClose:u}),n.jsx(Jj,{isOpen:h("costDashboard"),onClose:u}),n.jsx(Zj,{isOpen:h("mainMenu"),onClose:u,onOpenPdf:y,onOpenLookbook:w,onOpenCustomer:v,onOpenShopSettings:N,onOpenDiscount:T,onOpenData:A,onOpenFavorites:S,onOpenProductionSettings:R,onOpenCostDashboard:C})]}):null};function Wj(){const s=se(T=>T.rooms),o=se(T=>T.openModal),u=se(T=>T.favorites),c=se(T=>T.fabricCosts),d=se(T=>T.batchUpdateFabricCosts),m=sx(T=>T.theme);j.useEffect(()=>{document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(m)},[m]);const p=j.useRef(!1);j.useEffect(()=>{if(p.current)return;const T={};let A=!1;Object.values(u).flat().forEach(S=>{S.cost_per_yard&&S.cost_per_yard>0&&(c[S.code]||(T[S.code]=S.cost_per_yard,A=!0))}),A&&(console.log(" System: Migrating legacy costs to vault...",T),d(T)),p.current=!0},[u,c,d]);const h=()=>o("mainMenu"),g=()=>o("discount"),y=()=>o("projectOverview"),w=T=>{o("item",{mode:"add",roomId:T,itemType:K.CURTAIN})},v=(T,A)=>{o("item",{mode:"edit",roomId:T,itemId:A.id,itemType:A.type,initialData:A})},N=T=>{o("roomDefaults",{roomId:T})};return n.jsxs(n.Fragment,{children:[n.jsx(Sb,{onOpenMainMenu:h,onOpenDiscount:g,onOpenOverview:y,children:s.length>0?n.jsx(Ab,{rooms:s,onAddItem:w,onEditItem:v,onOpenDefaults:N}):n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center space-y-4 animate-fade-in",children:[n.jsx("div",{className:"w-20 h-20 bg-muted rounded-full flex items-center justify-center mb-2",children:n.jsx("span",{className:"text-4xl",children:""})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-foreground",children:""}),n.jsx("p",{className:"text-muted-foreground",children:" + "})]})]})}),n.jsx($j,{}),n.jsx(Rb,{}),n.jsx(Mb,{})]})}const $x=()=>{document.documentElement.style.setProperty("--app-height",`${window.innerHeight}px`)};window.addEventListener("resize",$x);$x();cb.createRoot(document.getElementById("root")).render(n.jsx(j.StrictMode,{children:n.jsx(Wj,{})}));
