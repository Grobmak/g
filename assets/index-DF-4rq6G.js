import{r as j,C as rr,L as Fb,S as Ji,P as Ka,H as Qb,M as Kb,T as Wi,G as us,B as Pi,a as eo,b as bd,c as so,d as io,e as Jb,l as Pg,f as ev,E as tv,K as Sa,R as J,y as nv,g as Na,h as Wb,i as av,j as oo,k as lv,m as sr,n as yd,o as Pb,p as rv,q as sv,I as ey,s as tl,t as co,u as uo,v as fo,O as wa,z as mo,Q as Nd,w as iv,x as ty,X as ds,A as ny,D as ay,F as ly,J as ry,U as sy,N as iy,V as oy,W as cy,Y as _d,Z as ov,_ as jd,$ as xs,a0 as ho,a1 as po,a2 as wd,a3 as cv,a4 as tr,a5 as uv,a6 as Sd,a7 as dv,a8 as fv,a9 as uy,aa as dy,ab as Cd,ac as Ed,ad as fy,ae as my,af as hy,ag as py,ah as mv,ai as gy,aj as vy,ak as xy,al as by,am as yy,an as Ny,ao as Td,ap as rd,aq as _y,ar as jy,as as wy,at as hv,au as cs,av as Sy,aw as Ad,ax as to,ay as sd,az as Cy,aA as Ey,aB as Ty,aC as id,aD as Ay}from"./vendor-ui-DN3roEKf.js";import{r as zy,a as Dy}from"./vendor-react-Cgg2GOmP.js";import{c as zd,t as Oy,a as Ry}from"./vendor-utils-BAyI5amM.js";import{r as My}from"./vendor-print-BiDPhipv.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function i(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(d){if(d.ep)return;d.ep=!0;const f=i(d);fetch(d.href,f)}})();var Zu={exports:{}},ls={};var Vp;function ky(){if(Vp)return ls;Vp=1;var n=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function i(o,d,f){var m=null;if(f!==void 0&&(m=""+f),d.key!==void 0&&(m=""+d.key),"key"in d){f={};for(var h in d)h!=="key"&&(f[h]=d[h])}else f=d;return d=f.ref,{$$typeof:n,type:o,key:m,ref:d!==void 0?d:null,props:f}}return ls.Fragment=l,ls.jsx=i,ls.jsxs=i,ls}var Ip;function Ly(){return Ip||(Ip=1,Zu.exports=ky()),Zu.exports}var s=Ly(),Hu={exports:{}},rs={},qu={exports:{}},$u={};var Yp;function Uy(){return Yp||(Yp=1,(function(n){function l(Z,Q){var le=Z.length;Z.push(Q);e:for(;0<le;){var je=le-1>>>1,Ee=Z[je];if(0<d(Ee,Q))Z[je]=Q,Z[le]=Ee,le=je;else break e}}function i(Z){return Z.length===0?null:Z[0]}function o(Z){if(Z.length===0)return null;var Q=Z[0],le=Z.pop();if(le!==Q){Z[0]=le;e:for(var je=0,Ee=Z.length,pt=Ee>>>1;je<pt;){var Be=2*(je+1)-1,he=Z[Be],Ge=Be+1,Et=Z[Ge];if(0>d(he,le))Ge<Ee&&0>d(Et,he)?(Z[je]=Et,Z[Ge]=le,je=Ge):(Z[je]=he,Z[Be]=le,je=Be);else if(Ge<Ee&&0>d(Et,le))Z[je]=Et,Z[Ge]=le,je=Ge;else break e}}return Q}function d(Z,Q){var le=Z.sortIndex-Q.sortIndex;return le!==0?le:Z.id-Q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var m=Date,h=m.now();n.unstable_now=function(){return m.now()-h}}var g=[],v=[],N=1,b=null,y=3,_=!1,w=!1,E=!1,z=!1,T=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function D(Z){for(var Q=i(v);Q!==null;){if(Q.callback===null)o(v);else if(Q.startTime<=Z)o(v),Q.sortIndex=Q.expirationTime,l(g,Q);else break;Q=i(v)}}function S(Z){if(E=!1,D(Z),!w)if(i(g)!==null)w=!0,Y||(Y=!0,_e());else{var Q=i(v);Q!==null&&$e(S,Q.startTime-Z)}}var Y=!1,q=-1,K=5,X=-1;function de(){return z?!0:!(n.unstable_now()-X<K)}function ye(){if(z=!1,Y){var Z=n.unstable_now();X=Z;var Q=!0;try{e:{w=!1,E&&(E=!1,R(q),q=-1),_=!0;var le=y;try{t:{for(D(Z),b=i(g);b!==null&&!(b.expirationTime>Z&&de());){var je=b.callback;if(typeof je=="function"){b.callback=null,y=b.priorityLevel;var Ee=je(b.expirationTime<=Z);if(Z=n.unstable_now(),typeof Ee=="function"){b.callback=Ee,D(Z),Q=!0;break t}b===i(g)&&o(g),D(Z)}else o(g);b=i(g)}if(b!==null)Q=!0;else{var pt=i(v);pt!==null&&$e(S,pt.startTime-Z),Q=!1}}break e}finally{b=null,y=le,_=!1}Q=void 0}}finally{Q?_e():Y=!1}}}var _e;if(typeof B=="function")_e=function(){B(ye)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,qe=ne.port2;ne.port1.onmessage=ye,_e=function(){qe.postMessage(null)}}else _e=function(){T(ye,0)};function $e(Z,Q){q=T(function(){Z(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(Z){switch(y){case 1:case 2:case 3:var Q=3;break;default:Q=y}var le=y;y=Q;try{return Z()}finally{y=le}},n.unstable_requestPaint=function(){z=!0},n.unstable_runWithPriority=function(Z,Q){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var le=y;y=Z;try{return Q()}finally{y=le}},n.unstable_scheduleCallback=function(Z,Q,le){var je=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?je+le:je):le=je,Z){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=le+Ee,Z={id:N++,callback:Q,priorityLevel:Z,startTime:le,expirationTime:Ee,sortIndex:-1},le>je?(Z.sortIndex=le,l(v,Z),i(g)===null&&Z===i(v)&&(E?(R(q),q=-1):E=!0,$e(S,le-je))):(Z.sortIndex=Ee,l(g,Z),w||_||(w=!0,Y||(Y=!0,_e()))),Z},n.unstable_shouldYield=de,n.unstable_wrapCallback=function(Z){var Q=y;return function(){var le=y;y=Q;try{return Z.apply(this,arguments)}finally{y=le}}}})($u)),$u}var Xp;function By(){return Xp||(Xp=1,qu.exports=Uy()),qu.exports}var Gp;function Zy(){if(Gp)return rs;Gp=1;var n=By(),l=zy(),i=Dy();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(o(188))}function v(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(o(188));return t!==e?null:e}for(var a=e,r=t;;){var c=a.return;if(c===null)break;var u=c.alternate;if(u===null){if(r=c.return,r!==null){a=r;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===a)return g(c),e;if(u===r)return g(c),t;u=u.sibling}throw Error(o(188))}if(a.return!==r.return)a=c,r=u;else{for(var p=!1,x=c.child;x;){if(x===a){p=!0,a=c,r=u;break}if(x===r){p=!0,r=c,a=u;break}x=x.sibling}if(!p){for(x=u.child;x;){if(x===a){p=!0,a=u,r=c;break}if(x===r){p=!0,r=u,a=c;break}x=x.sibling}if(!p)throw Error(o(189))}}if(a.alternate!==r)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:t}function N(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=N(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),B=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),ye=Symbol.iterator;function _e(e){return e===null||typeof e!="object"?null:(e=ye&&e[ye]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Symbol.for("react.client.reference");function qe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ne?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case T:return"Profiler";case z:return"StrictMode";case S:return"Suspense";case Y:return"SuspenseList";case X:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case B:return e.displayName||"Context";case R:return(e._context.displayName||"Context")+".Consumer";case D:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return t=e.displayName||null,t!==null?t:qe(e.type)||"Memo";case K:t=e._payload,e=e._init;try{return qe(e(t))}catch{}}return null}var $e=Array.isArray,Z=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},je=[],Ee=-1;function pt(e){return{current:e}}function Be(e){0>Ee||(e.current=je[Ee],je[Ee]=null,Ee--)}function he(e,t){Ee++,je[Ee]=e.current,e.current=t}var Ge=pt(null),Et=pt(null),Yt=pt(null),mn=pt(null);function hn(e,t){switch(he(Yt,t),he(Et,e),he(Ge,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?fp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=fp(t),e=mp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Be(Ge),he(Ge,e)}function pn(){Be(Ge),Be(Et),Be(Yt)}function Ea(e){e.memoizedState!==null&&he(mn,e);var t=Ge.current,a=mp(t,e.type);t!==a&&(he(Et,e),he(Ge,a))}function rn(e){Et.current===e&&(Be(Ge),Be(Et)),mn.current===e&&(Be(mn),es._currentValue=le)}var sl,ur;function ue(e){if(sl===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);sl=t&&t[1]||"",ur=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sl+e+ur}var il=!1;function ol(e,t){if(!e||il)return"";il=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(U){var L=U}Reflect.construct(e,[],I)}else{try{I.call()}catch(U){L=U}e.call(I.prototype)}}else{try{throw Error()}catch(U){L=U}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(U){if(U&&L&&typeof U.stack=="string")return[U.stack,L.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=r.DetermineComponentFrameRoot(),p=u[0],x=u[1];if(p&&x){var C=p.split(`
`),k=x.split(`
`);for(c=r=0;r<C.length&&!C[r].includes("DetermineComponentFrameRoot");)r++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(r===C.length||c===k.length)for(r=C.length-1,c=k.length-1;1<=r&&0<=c&&C[r]!==k[c];)c--;for(;1<=r&&0<=c;r--,c--)if(C[r]!==k[c]){if(r!==1||c!==1)do if(r--,c--,0>c||C[r]!==k[c]){var H=`
`+C[r].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=r&&0<=c);break}}}finally{il=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ue(a):""}function dr(e,t){switch(e.tag){case 26:case 27:case 5:return ue(e.type);case 16:return ue("Lazy");case 13:return e.child!==t&&t!==null?ue("Suspense Fallback"):ue("Suspense");case 19:return ue("SuspenseList");case 0:case 15:return ol(e.type,!1);case 11:return ol(e.type.render,!1);case 1:return ol(e.type,!0);case 31:return ue("Activity");default:return""}}function Ns(e){try{var t="",a=null;do t+=dr(e,a),a=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var fr=Object.prototype.hasOwnProperty,gn=n.unstable_scheduleCallback,cl=n.unstable_cancelCallback,jo=n.unstable_shouldYield,Ta=n.unstable_requestPaint,_t=n.unstable_now,_s=n.unstable_getCurrentPriorityLevel,js=n.unstable_ImmediatePriority,ws=n.unstable_UserBlockingPriority,An=n.unstable_NormalPriority,wo=n.unstable_LowPriority,mr=n.unstable_IdlePriority,So=n.log,Aa=n.unstable_setDisableYieldValue,Qn=null,jt=null;function vn(e){if(typeof So=="function"&&Aa(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Qn,e)}catch{}}var wt=Math.clz32?Math.clz32:oe,Co=Math.log,Eo=Math.LN2;function oe(e){return e>>>=0,e===0?32:31-(Co(e)/Eo|0)|0}var we=256,Te=262144,pe=4194304;function De(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ut(e,t,a){var r=e.pendingLanes;if(r===0)return 0;var c=0,u=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var x=r&134217727;return x!==0?(r=x&~u,r!==0?c=De(r):(p&=x,p!==0?c=De(p):a||(a=x&~e,a!==0&&(c=De(a))))):(x=r&~u,x!==0?c=De(x):p!==0?c=De(p):a||(a=r&~e,a!==0&&(c=De(a)))),c===0?0:t!==0&&t!==c&&(t&u)===0&&(u=c&-c,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:c}function tt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function xn(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tt(){var e=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),e}function sn(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function At(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Xt(e,t,a,r,c,u){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var x=e.entanglements,C=e.expirationTimes,k=e.hiddenUpdates;for(a=p&~a;0<a;){var H=31-wt(a),I=1<<H;x[H]=0,C[H]=-1;var L=k[H];if(L!==null)for(k[H]=null,H=0;H<L.length;H++){var U=L[H];U!==null&&(U.lane&=-536870913)}a&=~I}r!==0&&za(e,r,0),u!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=u&~(p&~t))}function za(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-wt(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|a&261930}function hr(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var r=31-wt(a),c=1<<r;c&t|e[r]&t&&(e[r]|=t),a&=~c}}function Qd(e,t){var a=t&-t;return a=(a&42)!==0?1:To(a),(a&(e.suspendedLanes|t))!==0?0:a}function To(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ao(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Kd(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:Lp(e.type))}function Jd(e,t){var a=Q.p;try{return Q.p=e,t()}finally{Q.p=a}}var Kn=Math.random().toString(36).slice(2),gt="__reactFiber$"+Kn,zt="__reactProps$"+Kn,ul="__reactContainer$"+Kn,zo="__reactEvents$"+Kn,Ux="__reactListeners$"+Kn,Bx="__reactHandles$"+Kn,Wd="__reactResources$"+Kn,pr="__reactMarker$"+Kn;function Do(e){delete e[gt],delete e[zt],delete e[zo],delete e[Ux],delete e[Bx]}function dl(e){var t=e[gt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[ul]||a[gt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=yp(e);e!==null;){if(a=e[gt])return a;e=yp(e)}return t}e=a,a=e.parentNode}return null}function fl(e){if(e=e[gt]||e[ul]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function gr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function ml(e){var t=e[Wd];return t||(t=e[Wd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function mt(e){e[pr]=!0}var Pd=new Set,ef={};function Da(e,t){hl(e,t),hl(e+"Capture",t)}function hl(e,t){for(ef[e]=t,e=0;e<t.length;e++)Pd.add(t[e])}var Zx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tf={},nf={};function Hx(e){return fr.call(nf,e)?!0:fr.call(tf,e)?!1:Zx.test(e)?nf[e]=!0:(tf[e]=!0,!1)}function Ss(e,t,a){if(Hx(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Cs(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function zn(e,t,a,r){if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+r)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function af(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qx(e,t,a){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(p){a=""+p,u.call(this,p)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Oo(e){if(!e._valueTracker){var t=af(e)?"checked":"value";e._valueTracker=qx(e,t,""+e[t])}}function lf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),r="";return e&&(r=af(e)?e.checked?"true":"false":e.value),e=r,e!==a?(t.setValue(e),!0):!1}function Es(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $x=/[\n"\\]/g;function Ft(e){return e.replace($x,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ro(e,t,a,r,c,u,p,x){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Gt(t)):e.value!==""+Gt(t)&&(e.value=""+Gt(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?Mo(e,p,Gt(t)):a!=null?Mo(e,p,Gt(a)):r!=null&&e.removeAttribute("value"),c==null&&u!=null&&(e.defaultChecked=!!u),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Gt(x):e.removeAttribute("name")}function rf(e,t,a,r,c,u,p,x){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Oo(e);return}a=a!=null?""+Gt(a):"",t=t!=null?""+Gt(t):a,x||t===e.value||(e.value=t),e.defaultValue=t}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=x?e.checked:!!r,e.defaultChecked=!!r,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Oo(e)}function Mo(e,t,a){t==="number"&&Es(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function pl(e,t,a,r){if(e=e.options,t){t={};for(var c=0;c<a.length;c++)t["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=t.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&r&&(e[a].defaultSelected=!0)}else{for(a=""+Gt(a),t=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function sf(e,t,a){if(t!=null&&(t=""+Gt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Gt(a):""}function of(e,t,a,r){if(t==null){if(r!=null){if(a!=null)throw Error(o(92));if($e(r)){if(1<r.length)throw Error(o(93));r=r[0]}a=r}a==null&&(a=""),t=a}a=Gt(t),e.defaultValue=a,r=e.textContent,r===a&&r!==""&&r!==null&&(e.value=r),Oo(e)}function gl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Vx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cf(e,t,a){var r=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,a):typeof a!="number"||a===0||Vx.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function uf(e,t,a){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in t)r=t[c],t.hasOwnProperty(c)&&a[c]!==r&&cf(e,c,r)}else for(var u in t)t.hasOwnProperty(u)&&cf(e,u,t[u])}function ko(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ix=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ts(e){return Yx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Dn(){}var Lo=null;function Uo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vl=null,xl=null;function df(e){var t=fl(e);if(t&&(e=t.stateNode)){var a=e[zt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ro(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ft(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var r=a[t];if(r!==e&&r.form===e.form){var c=r[zt]||null;if(!c)throw Error(o(90));Ro(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<a.length;t++)r=a[t],r.form===e.form&&lf(r)}break e;case"textarea":sf(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&pl(e,!!a.multiple,t,!1)}}}var Bo=!1;function ff(e,t,a){if(Bo)return e(t,a);Bo=!0;try{var r=e(t);return r}finally{if(Bo=!1,(vl!==null||xl!==null)&&(pi(),vl&&(t=vl,e=xl,xl=vl=null,df(t),e)))for(t=0;t<e.length;t++)df(e[t])}}function vr(e,t){var a=e.stateNode;if(a===null)return null;var r=a[zt]||null;if(r===null)return null;a=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,t,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zo=!1;if(On)try{var xr={};Object.defineProperty(xr,"passive",{get:function(){Zo=!0}}),window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{Zo=!1}var Jn=null,Ho=null,As=null;function mf(){if(As)return As;var e,t=Ho,a=t.length,r,c="value"in Jn?Jn.value:Jn.textContent,u=c.length;for(e=0;e<a&&t[e]===c[e];e++);var p=a-e;for(r=1;r<=p&&t[a-r]===c[u-r];r++);return As=c.slice(e,1<r?1-r:void 0)}function zs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ds(){return!0}function hf(){return!1}function Dt(e){function t(a,r,c,u,p){this._reactName=a,this._targetInst=c,this.type=r,this.nativeEvent=u,this.target=p,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(a=e[x],this[x]=a?a(u):u[x]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Ds:hf,this.isPropagationStopped=hf,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),t}var Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Os=Dt(Oa),br=b({},Oa,{view:0,detail:0}),Xx=Dt(br),qo,$o,yr,Rs=b({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Io,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yr&&(yr&&e.type==="mousemove"?(qo=e.screenX-yr.screenX,$o=e.screenY-yr.screenY):$o=qo=0,yr=e),qo)},movementY:function(e){return"movementY"in e?e.movementY:$o}}),pf=Dt(Rs),Gx=b({},Rs,{dataTransfer:0}),Fx=Dt(Gx),Qx=b({},br,{relatedTarget:0}),Vo=Dt(Qx),Kx=b({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),Jx=Dt(Kx),Wx=b({},Oa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Px=Dt(Wx),e0=b({},Oa,{data:0}),gf=Dt(e0),t0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=a0[e])?!!t[e]:!1}function Io(){return l0}var r0=b({},br,{key:function(e){if(e.key){var t=t0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?n0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Io,charCode:function(e){return e.type==="keypress"?zs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),s0=Dt(r0),i0=b({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vf=Dt(i0),o0=b({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Io}),c0=Dt(o0),u0=b({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),d0=Dt(u0),f0=b({},Rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),m0=Dt(f0),h0=b({},Oa,{newState:0,oldState:0}),p0=Dt(h0),g0=[9,13,27,32],Yo=On&&"CompositionEvent"in window,Nr=null;On&&"documentMode"in document&&(Nr=document.documentMode);var v0=On&&"TextEvent"in window&&!Nr,xf=On&&(!Yo||Nr&&8<Nr&&11>=Nr),bf=" ",yf=!1;function Nf(e,t){switch(e){case"keyup":return g0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _f(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bl=!1;function x0(e,t){switch(e){case"compositionend":return _f(t);case"keypress":return t.which!==32?null:(yf=!0,bf);case"textInput":return e=t.data,e===bf&&yf?null:e;default:return null}}function b0(e,t){if(bl)return e==="compositionend"||!Yo&&Nf(e,t)?(e=mf(),As=Ho=Jn=null,bl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xf&&t.locale!=="ko"?null:t.data;default:return null}}var y0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!y0[e.type]:t==="textarea"}function wf(e,t,a,r){vl?xl?xl.push(r):xl=[r]:vl=r,t=_i(t,"onChange"),0<t.length&&(a=new Os("onChange","change",null,a,r),e.push({event:a,listeners:t}))}var _r=null,jr=null;function N0(e){sp(e,0)}function Ms(e){var t=gr(e);if(lf(t))return e}function Sf(e,t){if(e==="change")return t}var Cf=!1;if(On){var Xo;if(On){var Go="oninput"in document;if(!Go){var Ef=document.createElement("div");Ef.setAttribute("oninput","return;"),Go=typeof Ef.oninput=="function"}Xo=Go}else Xo=!1;Cf=Xo&&(!document.documentMode||9<document.documentMode)}function Tf(){_r&&(_r.detachEvent("onpropertychange",Af),jr=_r=null)}function Af(e){if(e.propertyName==="value"&&Ms(jr)){var t=[];wf(t,jr,e,Uo(e)),ff(N0,t)}}function _0(e,t,a){e==="focusin"?(Tf(),_r=t,jr=a,_r.attachEvent("onpropertychange",Af)):e==="focusout"&&Tf()}function j0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ms(jr)}function w0(e,t){if(e==="click")return Ms(t)}function S0(e,t){if(e==="input"||e==="change")return Ms(t)}function C0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:C0;function wr(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var c=a[r];if(!fr.call(t,c)||!Bt(e[c],t[c]))return!1}return!0}function zf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Df(e,t){var a=zf(e);e=0;for(var r;a;){if(a.nodeType===3){if(r=e+a.textContent.length,e<=t&&r>=t)return{node:a,offset:t-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zf(a)}}function Of(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Of(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Es(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Es(e.document)}return t}function Fo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var E0=On&&"documentMode"in document&&11>=document.documentMode,yl=null,Qo=null,Sr=null,Ko=!1;function Mf(e,t,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ko||yl==null||yl!==Es(r)||(r=yl,"selectionStart"in r&&Fo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sr&&wr(Sr,r)||(Sr=r,r=_i(Qo,"onSelect"),0<r.length&&(t=new Os("onSelect","select",null,t,a),e.push({event:t,listeners:r}),t.target=yl)))}function Ra(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Nl={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionrun:Ra("Transition","TransitionRun"),transitionstart:Ra("Transition","TransitionStart"),transitioncancel:Ra("Transition","TransitionCancel"),transitionend:Ra("Transition","TransitionEnd")},Jo={},kf={};On&&(kf=document.createElement("div").style,"AnimationEvent"in window||(delete Nl.animationend.animation,delete Nl.animationiteration.animation,delete Nl.animationstart.animation),"TransitionEvent"in window||delete Nl.transitionend.transition);function Ma(e){if(Jo[e])return Jo[e];if(!Nl[e])return e;var t=Nl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in kf)return Jo[e]=t[a];return e}var Lf=Ma("animationend"),Uf=Ma("animationiteration"),Bf=Ma("animationstart"),T0=Ma("transitionrun"),A0=Ma("transitionstart"),z0=Ma("transitioncancel"),Zf=Ma("transitionend"),Hf=new Map,Wo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wo.push("scrollEnd");function on(e,t){Hf.set(e,t),Da(t,[e])}var ks=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Qt=[],_l=0,Po=0;function Ls(){for(var e=_l,t=Po=_l=0;t<e;){var a=Qt[t];Qt[t++]=null;var r=Qt[t];Qt[t++]=null;var c=Qt[t];Qt[t++]=null;var u=Qt[t];if(Qt[t++]=null,r!==null&&c!==null){var p=r.pending;p===null?c.next=c:(c.next=p.next,p.next=c),r.pending=c}u!==0&&qf(a,c,u)}}function Us(e,t,a,r){Qt[_l++]=e,Qt[_l++]=t,Qt[_l++]=a,Qt[_l++]=r,Po|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function ec(e,t,a,r){return Us(e,t,a,r),Bs(e)}function ka(e,t){return Us(e,null,null,t),Bs(e)}function qf(e,t,a){e.lanes|=a;var r=e.alternate;r!==null&&(r.lanes|=a);for(var c=!1,u=e.return;u!==null;)u.childLanes|=a,r=u.alternate,r!==null&&(r.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(c=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,c&&t!==null&&(c=31-wt(a),e=u.hiddenUpdates,r=e[c],r===null?e[c]=[t]:r.push(t),t.lane=a|536870912),u):null}function Bs(e){if(50<Gr)throw Gr=0,cu=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var jl={};function D0(e,t,a,r){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(e,t,a,r){return new D0(e,t,a,r)}function tc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rn(e,t){var a=e.alternate;return a===null?(a=Zt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function $f(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Zs(e,t,a,r,c,u){var p=0;if(r=e,typeof e=="function")tc(e)&&(p=1);else if(typeof e=="string")p=Lb(e,a,Ge.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case X:return e=Zt(31,a,t,c),e.elementType=X,e.lanes=u,e;case E:return La(a.children,c,u,t);case z:p=8,c|=24;break;case T:return e=Zt(12,a,t,c|2),e.elementType=T,e.lanes=u,e;case S:return e=Zt(13,a,t,c),e.elementType=S,e.lanes=u,e;case Y:return e=Zt(19,a,t,c),e.elementType=Y,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:p=10;break e;case R:p=9;break e;case D:p=11;break e;case q:p=14;break e;case K:p=16,r=null;break e}p=29,a=Error(o(130,e===null?"null":typeof e,"")),r=null}return t=Zt(p,a,t,c),t.elementType=e,t.type=r,t.lanes=u,t}function La(e,t,a,r){return e=Zt(7,e,r,t),e.lanes=a,e}function nc(e,t,a){return e=Zt(6,e,null,t),e.lanes=a,e}function Vf(e){var t=Zt(18,null,null,0);return t.stateNode=e,t}function ac(e,t,a){return t=Zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var If=new WeakMap;function Kt(e,t){if(typeof e=="object"&&e!==null){var a=If.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Ns(t)},If.set(e,t),t)}return{value:e,source:t,stack:Ns(t)}}var wl=[],Sl=0,Hs=null,Cr=0,Jt=[],Wt=0,Wn=null,bn=1,yn="";function Mn(e,t){wl[Sl++]=Cr,wl[Sl++]=Hs,Hs=e,Cr=t}function Yf(e,t,a){Jt[Wt++]=bn,Jt[Wt++]=yn,Jt[Wt++]=Wn,Wn=e;var r=bn;e=yn;var c=32-wt(r)-1;r&=~(1<<c),a+=1;var u=32-wt(t)+c;if(30<u){var p=c-c%5;u=(r&(1<<p)-1).toString(32),r>>=p,c-=p,bn=1<<32-wt(t)+c|a<<c|r,yn=u+e}else bn=1<<u|a<<c|r,yn=e}function lc(e){e.return!==null&&(Mn(e,1),Yf(e,1,0))}function rc(e){for(;e===Hs;)Hs=wl[--Sl],wl[Sl]=null,Cr=wl[--Sl],wl[Sl]=null;for(;e===Wn;)Wn=Jt[--Wt],Jt[Wt]=null,yn=Jt[--Wt],Jt[Wt]=null,bn=Jt[--Wt],Jt[Wt]=null}function Xf(e,t){Jt[Wt++]=bn,Jt[Wt++]=yn,Jt[Wt++]=Wn,bn=t.id,yn=t.overflow,Wn=e}var vt=null,Ve=null,Ne=!1,Pn=null,Pt=!1,sc=Error(o(519));function ea(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Er(Kt(t,e)),sc}function Gf(e){var t=e.stateNode,a=e.type,r=e.memoizedProps;switch(t[gt]=e,t[zt]=r,a){case"dialog":ve("cancel",t),ve("close",t);break;case"iframe":case"object":case"embed":ve("load",t);break;case"video":case"audio":for(a=0;a<Qr.length;a++)ve(Qr[a],t);break;case"source":ve("error",t);break;case"img":case"image":case"link":ve("error",t),ve("load",t);break;case"details":ve("toggle",t);break;case"input":ve("invalid",t),rf(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":ve("invalid",t);break;case"textarea":ve("invalid",t),of(t,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||r.suppressHydrationWarning===!0||up(t.textContent,a)?(r.popover!=null&&(ve("beforetoggle",t),ve("toggle",t)),r.onScroll!=null&&ve("scroll",t),r.onScrollEnd!=null&&ve("scrollend",t),r.onClick!=null&&(t.onclick=Dn),t=!0):t=!1,t||ea(e,!0)}function Ff(e){for(vt=e.return;vt;)switch(vt.tag){case 5:case 31:case 13:Pt=!1;return;case 27:case 3:Pt=!0;return;default:vt=vt.return}}function Cl(e){if(e!==vt)return!1;if(!Ne)return Ff(e),Ne=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||wu(e.type,e.memoizedProps)),a=!a),a&&Ve&&ea(e),Ff(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ve=bp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ve=bp(e)}else t===27?(t=Ve,ha(e.type)?(e=Au,Au=null,Ve=e):Ve=t):Ve=vt?tn(e.stateNode.nextSibling):null;return!0}function Ua(){Ve=vt=null,Ne=!1}function ic(){var e=Pn;return e!==null&&(kt===null?kt=e:kt.push.apply(kt,e),Pn=null),e}function Er(e){Pn===null?Pn=[e]:Pn.push(e)}var oc=pt(null),Ba=null,kn=null;function ta(e,t,a){he(oc,t._currentValue),t._currentValue=a}function Ln(e){e._currentValue=oc.current,Be(oc)}function cc(e,t,a){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===a)break;e=e.return}}function uc(e,t,a,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var u=c.dependencies;if(u!==null){var p=c.child;u=u.firstContext;e:for(;u!==null;){var x=u;u=c;for(var C=0;C<t.length;C++)if(x.context===t[C]){u.lanes|=a,x=u.alternate,x!==null&&(x.lanes|=a),cc(u.return,a,e),r||(p=null);break e}u=x.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(o(341));p.lanes|=a,u=p.alternate,u!==null&&(u.lanes|=a),cc(p,a,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function El(e,t,a,r){e=null;for(var c=t,u=!1;c!==null;){if(!u){if((c.flags&524288)!==0)u=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(o(387));if(p=p.memoizedProps,p!==null){var x=c.type;Bt(c.pendingProps.value,p.value)||(e!==null?e.push(x):e=[x])}}else if(c===mn.current){if(p=c.alternate,p===null)throw Error(o(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(es):e=[es])}c=c.return}e!==null&&uc(t,e,a,r),t.flags|=262144}function qs(e){for(e=e.firstContext;e!==null;){if(!Bt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Za(e){Ba=e,kn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function xt(e){return Qf(Ba,e)}function $s(e,t){return Ba===null&&Za(e),Qf(e,t)}function Qf(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},kn===null){if(e===null)throw Error(o(308));kn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else kn=kn.next=t;return a}var O0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},R0=n.unstable_scheduleCallback,M0=n.unstable_NormalPriority,rt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dc(){return{controller:new O0,data:new Map,refCount:0}}function Tr(e){e.refCount--,e.refCount===0&&R0(M0,function(){e.controller.abort()})}var Ar=null,fc=0,Tl=0,Al=null;function k0(e,t){if(Ar===null){var a=Ar=[];fc=0,Tl=pu(),Al={status:"pending",value:void 0,then:function(r){a.push(r)}}}return fc++,t.then(Kf,Kf),t}function Kf(){if(--fc===0&&Ar!==null){Al!==null&&(Al.status="fulfilled");var e=Ar;Ar=null,Tl=0,Al=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function L0(e,t){var a=[],r={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var c=0;c<a.length;c++)(0,a[c])(t)},function(c){for(r.status="rejected",r.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),r}var Jf=Z.S;Z.S=function(e,t){Mh=_t(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&k0(e,t),Jf!==null&&Jf(e,t)};var Ha=pt(null);function mc(){var e=Ha.current;return e!==null?e:Ue.pooledCache}function Vs(e,t){t===null?he(Ha,Ha.current):he(Ha,t.pool)}function Wf(){var e=mc();return e===null?null:{parent:rt._currentValue,pool:e}}var zl=Error(o(460)),hc=Error(o(474)),Is=Error(o(542)),Ys={then:function(){}};function Pf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function em(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Dn,Dn),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nm(e),e;default:if(typeof t.status=="string")t.then(Dn,Dn);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=r}},function(r){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nm(e),e}throw $a=t,zl}}function qa(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?($a=a,zl):a}}var $a=null;function tm(){if($a===null)throw Error(o(459));var e=$a;return $a=null,e}function nm(e){if(e===zl||e===Is)throw Error(o(483))}var Dl=null,zr=0;function Xs(e){var t=zr;return zr+=1,Dl===null&&(Dl=[]),em(Dl,e,t)}function Dr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Gs(e,t){throw t.$$typeof===y?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function am(e){function t(O,A){if(e){var M=O.deletions;M===null?(O.deletions=[A],O.flags|=16):M.push(A)}}function a(O,A){if(!e)return null;for(;A!==null;)t(O,A),A=A.sibling;return null}function r(O){for(var A=new Map;O!==null;)O.key!==null?A.set(O.key,O):A.set(O.index,O),O=O.sibling;return A}function c(O,A){return O=Rn(O,A),O.index=0,O.sibling=null,O}function u(O,A,M){return O.index=M,e?(M=O.alternate,M!==null?(M=M.index,M<A?(O.flags|=67108866,A):M):(O.flags|=67108866,A)):(O.flags|=1048576,A)}function p(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function x(O,A,M,$){return A===null||A.tag!==6?(A=nc(M,O.mode,$),A.return=O,A):(A=c(A,M),A.return=O,A)}function C(O,A,M,$){var re=M.type;return re===E?H(O,A,M.props.children,$,M.key):A!==null&&(A.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===K&&qa(re)===A.type)?(A=c(A,M.props),Dr(A,M),A.return=O,A):(A=Zs(M.type,M.key,M.props,null,O.mode,$),Dr(A,M),A.return=O,A)}function k(O,A,M,$){return A===null||A.tag!==4||A.stateNode.containerInfo!==M.containerInfo||A.stateNode.implementation!==M.implementation?(A=ac(M,O.mode,$),A.return=O,A):(A=c(A,M.children||[]),A.return=O,A)}function H(O,A,M,$,re){return A===null||A.tag!==7?(A=La(M,O.mode,$,re),A.return=O,A):(A=c(A,M),A.return=O,A)}function I(O,A,M){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=nc(""+A,O.mode,M),A.return=O,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case _:return M=Zs(A.type,A.key,A.props,null,O.mode,M),Dr(M,A),M.return=O,M;case w:return A=ac(A,O.mode,M),A.return=O,A;case K:return A=qa(A),I(O,A,M)}if($e(A)||_e(A))return A=La(A,O.mode,M,null),A.return=O,A;if(typeof A.then=="function")return I(O,Xs(A),M);if(A.$$typeof===B)return I(O,$s(O,A),M);Gs(O,A)}return null}function L(O,A,M,$){var re=A!==null?A.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return re!==null?null:x(O,A,""+M,$);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case _:return M.key===re?C(O,A,M,$):null;case w:return M.key===re?k(O,A,M,$):null;case K:return M=qa(M),L(O,A,M,$)}if($e(M)||_e(M))return re!==null?null:H(O,A,M,$,null);if(typeof M.then=="function")return L(O,A,Xs(M),$);if(M.$$typeof===B)return L(O,A,$s(O,M),$);Gs(O,M)}return null}function U(O,A,M,$,re){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return O=O.get(M)||null,x(A,O,""+$,re);if(typeof $=="object"&&$!==null){switch($.$$typeof){case _:return O=O.get($.key===null?M:$.key)||null,C(A,O,$,re);case w:return O=O.get($.key===null?M:$.key)||null,k(A,O,$,re);case K:return $=qa($),U(O,A,M,$,re)}if($e($)||_e($))return O=O.get(M)||null,H(A,O,$,re,null);if(typeof $.then=="function")return U(O,A,M,Xs($),re);if($.$$typeof===B)return U(O,A,M,$s(A,$),re);Gs(A,$)}return null}function P(O,A,M,$){for(var re=null,Se=null,ee=A,me=A=0,be=null;ee!==null&&me<M.length;me++){ee.index>me?(be=ee,ee=null):be=ee.sibling;var Ce=L(O,ee,M[me],$);if(Ce===null){ee===null&&(ee=be);break}e&&ee&&Ce.alternate===null&&t(O,ee),A=u(Ce,A,me),Se===null?re=Ce:Se.sibling=Ce,Se=Ce,ee=be}if(me===M.length)return a(O,ee),Ne&&Mn(O,me),re;if(ee===null){for(;me<M.length;me++)ee=I(O,M[me],$),ee!==null&&(A=u(ee,A,me),Se===null?re=ee:Se.sibling=ee,Se=ee);return Ne&&Mn(O,me),re}for(ee=r(ee);me<M.length;me++)be=U(ee,O,me,M[me],$),be!==null&&(e&&be.alternate!==null&&ee.delete(be.key===null?me:be.key),A=u(be,A,me),Se===null?re=be:Se.sibling=be,Se=be);return e&&ee.forEach(function(ba){return t(O,ba)}),Ne&&Mn(O,me),re}function ie(O,A,M,$){if(M==null)throw Error(o(151));for(var re=null,Se=null,ee=A,me=A=0,be=null,Ce=M.next();ee!==null&&!Ce.done;me++,Ce=M.next()){ee.index>me?(be=ee,ee=null):be=ee.sibling;var ba=L(O,ee,Ce.value,$);if(ba===null){ee===null&&(ee=be);break}e&&ee&&ba.alternate===null&&t(O,ee),A=u(ba,A,me),Se===null?re=ba:Se.sibling=ba,Se=ba,ee=be}if(Ce.done)return a(O,ee),Ne&&Mn(O,me),re;if(ee===null){for(;!Ce.done;me++,Ce=M.next())Ce=I(O,Ce.value,$),Ce!==null&&(A=u(Ce,A,me),Se===null?re=Ce:Se.sibling=Ce,Se=Ce);return Ne&&Mn(O,me),re}for(ee=r(ee);!Ce.done;me++,Ce=M.next())Ce=U(ee,O,me,Ce.value,$),Ce!==null&&(e&&Ce.alternate!==null&&ee.delete(Ce.key===null?me:Ce.key),A=u(Ce,A,me),Se===null?re=Ce:Se.sibling=Ce,Se=Ce);return e&&ee.forEach(function(Gb){return t(O,Gb)}),Ne&&Mn(O,me),re}function Le(O,A,M,$){if(typeof M=="object"&&M!==null&&M.type===E&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case _:e:{for(var re=M.key;A!==null;){if(A.key===re){if(re=M.type,re===E){if(A.tag===7){a(O,A.sibling),$=c(A,M.props.children),$.return=O,O=$;break e}}else if(A.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===K&&qa(re)===A.type){a(O,A.sibling),$=c(A,M.props),Dr($,M),$.return=O,O=$;break e}a(O,A);break}else t(O,A);A=A.sibling}M.type===E?($=La(M.props.children,O.mode,$,M.key),$.return=O,O=$):($=Zs(M.type,M.key,M.props,null,O.mode,$),Dr($,M),$.return=O,O=$)}return p(O);case w:e:{for(re=M.key;A!==null;){if(A.key===re)if(A.tag===4&&A.stateNode.containerInfo===M.containerInfo&&A.stateNode.implementation===M.implementation){a(O,A.sibling),$=c(A,M.children||[]),$.return=O,O=$;break e}else{a(O,A);break}else t(O,A);A=A.sibling}$=ac(M,O.mode,$),$.return=O,O=$}return p(O);case K:return M=qa(M),Le(O,A,M,$)}if($e(M))return P(O,A,M,$);if(_e(M)){if(re=_e(M),typeof re!="function")throw Error(o(150));return M=re.call(M),ie(O,A,M,$)}if(typeof M.then=="function")return Le(O,A,Xs(M),$);if(M.$$typeof===B)return Le(O,A,$s(O,M),$);Gs(O,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,A!==null&&A.tag===6?(a(O,A.sibling),$=c(A,M),$.return=O,O=$):(a(O,A),$=nc(M,O.mode,$),$.return=O,O=$),p(O)):a(O,A)}return function(O,A,M,$){try{zr=0;var re=Le(O,A,M,$);return Dl=null,re}catch(ee){if(ee===zl||ee===Is)throw ee;var Se=Zt(29,ee,null,O.mode);return Se.lanes=$,Se.return=O,Se}finally{}}}var Va=am(!0),lm=am(!1),na=!1;function pc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function aa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function la(e,t,a){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ae&2)!==0){var c=r.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),r.pending=t,t=Bs(e),qf(e,null,a),t}return Us(e,r,t,a),Bs(e)}function Or(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,hr(e,a)}}function vc(e,t){var a=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var c=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?c=u=p:u=u.next=p,a=a.next}while(a!==null);u===null?c=u=t:u=u.next=t}else c=u=t;a={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:r.shared,callbacks:r.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var xc=!1;function Rr(){if(xc){var e=Al;if(e!==null)throw e}}function Mr(e,t,a,r){xc=!1;var c=e.updateQueue;na=!1;var u=c.firstBaseUpdate,p=c.lastBaseUpdate,x=c.shared.pending;if(x!==null){c.shared.pending=null;var C=x,k=C.next;C.next=null,p===null?u=k:p.next=k,p=C;var H=e.alternate;H!==null&&(H=H.updateQueue,x=H.lastBaseUpdate,x!==p&&(x===null?H.firstBaseUpdate=k:x.next=k,H.lastBaseUpdate=C))}if(u!==null){var I=c.baseState;p=0,H=k=C=null,x=u;do{var L=x.lane&-536870913,U=L!==x.lane;if(U?(xe&L)===L:(r&L)===L){L!==0&&L===Tl&&(xc=!0),H!==null&&(H=H.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var P=e,ie=x;L=t;var Le=a;switch(ie.tag){case 1:if(P=ie.payload,typeof P=="function"){I=P.call(Le,I,L);break e}I=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=ie.payload,L=typeof P=="function"?P.call(Le,I,L):P,L==null)break e;I=b({},I,L);break e;case 2:na=!0}}L=x.callback,L!==null&&(e.flags|=64,U&&(e.flags|=8192),U=c.callbacks,U===null?c.callbacks=[L]:U.push(L))}else U={lane:L,tag:x.tag,payload:x.payload,callback:x.callback,next:null},H===null?(k=H=U,C=I):H=H.next=U,p|=L;if(x=x.next,x===null){if(x=c.shared.pending,x===null)break;U=x,x=U.next,U.next=null,c.lastBaseUpdate=U,c.shared.pending=null}}while(!0);H===null&&(C=I),c.baseState=C,c.firstBaseUpdate=k,c.lastBaseUpdate=H,u===null&&(c.shared.lanes=0),ca|=p,e.lanes=p,e.memoizedState=I}}function rm(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function sm(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)rm(a[e],t)}var Ol=pt(null),Fs=pt(0);function im(e,t){e=Yn,he(Fs,e),he(Ol,t),Yn=e|t.baseLanes}function bc(){he(Fs,Yn),he(Ol,Ol.current)}function yc(){Yn=Fs.current,Be(Ol),Be(Fs)}var Ht=pt(null),en=null;function ra(e){var t=e.alternate;he(nt,nt.current&1),he(Ht,e),en===null&&(t===null||Ol.current!==null||t.memoizedState!==null)&&(en=e)}function Nc(e){he(nt,nt.current),he(Ht,e),en===null&&(en=e)}function om(e){e.tag===22?(he(nt,nt.current),he(Ht,e),en===null&&(en=e)):sa()}function sa(){he(nt,nt.current),he(Ht,Ht.current)}function qt(e){Be(Ht),en===e&&(en=null),Be(nt)}var nt=pt(0);function Qs(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Eu(a)||Tu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Un=0,fe=null,Me=null,st=null,Ks=!1,Rl=!1,Ia=!1,Js=0,kr=0,Ml=null,U0=0;function We(){throw Error(o(321))}function _c(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Bt(e[a],t[a]))return!1;return!0}function jc(e,t,a,r,c,u){return Un=u,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Z.H=e===null||e.memoizedState===null?Ym:Bc,Ia=!1,u=a(r,c),Ia=!1,Rl&&(u=um(t,a,r,c)),cm(e),u}function cm(e){Z.H=Br;var t=Me!==null&&Me.next!==null;if(Un=0,st=Me=fe=null,Ks=!1,kr=0,Ml=null,t)throw Error(o(300));e===null||it||(e=e.dependencies,e!==null&&qs(e)&&(it=!0))}function um(e,t,a,r){fe=e;var c=0;do{if(Rl&&(Ml=null),kr=0,Rl=!1,25<=c)throw Error(o(301));if(c+=1,st=Me=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}Z.H=Xm,u=t(a,r)}while(Rl);return u}function B0(){var e=Z.H,t=e.useState()[0];return t=typeof t.then=="function"?Lr(t):t,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(fe.flags|=1024),t}function wc(){var e=Js!==0;return Js=0,e}function Sc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Cc(e){if(Ks){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ks=!1}Un=0,st=Me=fe=null,Rl=!1,kr=Js=0,Ml=null}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?fe.memoizedState=st=e:st=st.next=e,st}function at(){if(Me===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=st===null?fe.memoizedState:st.next;if(t!==null)st=t,Me=e;else{if(e===null)throw fe.alternate===null?Error(o(467)):Error(o(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},st===null?fe.memoizedState=st=e:st=st.next=e}return st}function Ws(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lr(e){var t=kr;return kr+=1,Ml===null&&(Ml=[]),e=em(Ml,e,t),t=fe,(st===null?t.memoizedState:st.next)===null&&(t=t.alternate,Z.H=t===null||t.memoizedState===null?Ym:Bc),e}function Ps(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Lr(e);if(e.$$typeof===B)return xt(e)}throw Error(o(438,String(e)))}function Ec(e){var t=null,a=fe.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var r=fe.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ws(),fe.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),r=0;r<e;r++)a[r]=de;return t.index++,a}function Bn(e,t){return typeof t=="function"?t(e):t}function ei(e){var t=at();return Tc(t,Me,e)}function Tc(e,t,a){var r=e.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=a;var c=e.baseQueue,u=r.pending;if(u!==null){if(c!==null){var p=c.next;c.next=u.next,u.next=p}t.baseQueue=c=u,r.pending=null}if(u=e.baseState,c===null)e.memoizedState=u;else{t=c.next;var x=p=null,C=null,k=t,H=!1;do{var I=k.lane&-536870913;if(I!==k.lane?(xe&I)===I:(Un&I)===I){var L=k.revertLane;if(L===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),I===Tl&&(H=!0);else if((Un&L)===L){k=k.next,L===Tl&&(H=!0);continue}else I={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(x=C=I,p=u):C=C.next=I,fe.lanes|=L,ca|=L;I=k.action,Ia&&a(u,I),u=k.hasEagerState?k.eagerState:a(u,I)}else L={lane:I,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(x=C=L,p=u):C=C.next=L,fe.lanes|=I,ca|=I;k=k.next}while(k!==null&&k!==t);if(C===null?p=u:C.next=x,!Bt(u,e.memoizedState)&&(it=!0,H&&(a=Al,a!==null)))throw a;e.memoizedState=u,e.baseState=p,e.baseQueue=C,r.lastRenderedState=u}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ac(e){var t=at(),a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var r=a.dispatch,c=a.pending,u=t.memoizedState;if(c!==null){a.pending=null;var p=c=c.next;do u=e(u,p.action),p=p.next;while(p!==c);Bt(u,t.memoizedState)||(it=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,r]}function dm(e,t,a){var r=fe,c=at(),u=Ne;if(u){if(a===void 0)throw Error(o(407));a=a()}else a=t();var p=!Bt((Me||c).memoizedState,a);if(p&&(c.memoizedState=a,it=!0),c=c.queue,Oc(hm.bind(null,r,c,e),[e]),c.getSnapshot!==t||p||st!==null&&st.memoizedState.tag&1){if(r.flags|=2048,kl(9,{destroy:void 0},mm.bind(null,r,c,a,t),null),Ue===null)throw Error(o(349));u||(Un&127)!==0||fm(r,t,a)}return a}function fm(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=fe.updateQueue,t===null?(t=Ws(),fe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function mm(e,t,a,r){t.value=a,t.getSnapshot=r,pm(t)&&gm(e)}function hm(e,t,a){return a(function(){pm(t)&&gm(e)})}function pm(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Bt(e,a)}catch{return!0}}function gm(e){var t=ka(e,2);t!==null&&Lt(t,e,2)}function zc(e){var t=St();if(typeof e=="function"){var a=e;if(e=a(),Ia){vn(!0);try{a()}finally{vn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:e},t}function vm(e,t,a,r){return e.baseState=a,Tc(e,Me,typeof r=="function"?r:Bn)}function Z0(e,t,a,r,c){if(ai(e))throw Error(o(485));if(e=t.action,e!==null){var u={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){u.listeners.push(p)}};Z.T!==null?a(!0):u.isTransition=!1,r(u),a=t.pending,a===null?(u.next=t.pending=u,xm(t,u)):(u.next=a.next,t.pending=a.next=u)}}function xm(e,t){var a=t.action,r=t.payload,c=e.state;if(t.isTransition){var u=Z.T,p={};Z.T=p;try{var x=a(c,r),C=Z.S;C!==null&&C(p,x),bm(e,t,x)}catch(k){Dc(e,t,k)}finally{u!==null&&p.types!==null&&(u.types=p.types),Z.T=u}}else try{u=a(c,r),bm(e,t,u)}catch(k){Dc(e,t,k)}}function bm(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){ym(e,t,r)},function(r){return Dc(e,t,r)}):ym(e,t,a)}function ym(e,t,a){t.status="fulfilled",t.value=a,Nm(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,xm(e,a)))}function Dc(e,t,a){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=a,Nm(t),t=t.next;while(t!==r)}e.action=null}function Nm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function _m(e,t){return t}function jm(e,t){if(Ne){var a=Ue.formState;if(a!==null){e:{var r=fe;if(Ne){if(Ve){t:{for(var c=Ve,u=Pt;c.nodeType!==8;){if(!u){c=null;break t}if(c=tn(c.nextSibling),c===null){c=null;break t}}u=c.data,c=u==="F!"||u==="F"?c:null}if(c){Ve=tn(c.nextSibling),r=c.data==="F!";break e}}ea(r)}r=!1}r&&(t=a[0])}}return a=St(),a.memoizedState=a.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_m,lastRenderedState:t},a.queue=r,a=$m.bind(null,fe,r),r.dispatch=a,r=zc(!1),u=Uc.bind(null,fe,!1,r.queue),r=St(),c={state:t,dispatch:null,action:e,pending:null},r.queue=c,a=Z0.bind(null,fe,c,u,a),c.dispatch=a,r.memoizedState=e,[t,a,!1]}function wm(e){var t=at();return Sm(t,Me,e)}function Sm(e,t,a){if(t=Tc(e,t,_m)[0],e=ei(Bn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Lr(t)}catch(p){throw p===zl?Is:p}else r=t;t=at();var c=t.queue,u=c.dispatch;return a!==t.memoizedState&&(fe.flags|=2048,kl(9,{destroy:void 0},H0.bind(null,c,a),null)),[r,u,e]}function H0(e,t){e.action=t}function Cm(e){var t=at(),a=Me;if(a!==null)return Sm(t,a,e);at(),t=t.memoizedState,a=at();var r=a.queue.dispatch;return a.memoizedState=e,[t,r,!1]}function kl(e,t,a,r){return e={tag:e,create:a,deps:r,inst:t,next:null},t=fe.updateQueue,t===null&&(t=Ws(),fe.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(r=a.next,a.next=e,e.next=r,t.lastEffect=e),e}function Em(){return at().memoizedState}function ti(e,t,a,r){var c=St();fe.flags|=e,c.memoizedState=kl(1|t,{destroy:void 0},a,r===void 0?null:r)}function ni(e,t,a,r){var c=at();r=r===void 0?null:r;var u=c.memoizedState.inst;Me!==null&&r!==null&&_c(r,Me.memoizedState.deps)?c.memoizedState=kl(t,u,a,r):(fe.flags|=e,c.memoizedState=kl(1|t,u,a,r))}function Tm(e,t){ti(8390656,8,e,t)}function Oc(e,t){ni(2048,8,e,t)}function q0(e){fe.flags|=4;var t=fe.updateQueue;if(t===null)t=Ws(),fe.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Am(e){var t=at().memoizedState;return q0({ref:t,nextImpl:e}),function(){if((Ae&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function zm(e,t){return ni(4,2,e,t)}function Dm(e,t){return ni(4,4,e,t)}function Om(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rm(e,t,a){a=a!=null?a.concat([e]):null,ni(4,4,Om.bind(null,t,e),a)}function Rc(){}function Mm(e,t){var a=at();t=t===void 0?null:t;var r=a.memoizedState;return t!==null&&_c(t,r[1])?r[0]:(a.memoizedState=[e,t],e)}function km(e,t){var a=at();t=t===void 0?null:t;var r=a.memoizedState;if(t!==null&&_c(t,r[1]))return r[0];if(r=e(),Ia){vn(!0);try{e()}finally{vn(!1)}}return a.memoizedState=[r,t],r}function Mc(e,t,a){return a===void 0||(Un&1073741824)!==0&&(xe&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Lh(),fe.lanes|=e,ca|=e,a)}function Lm(e,t,a,r){return Bt(a,t)?a:Ol.current!==null?(e=Mc(e,a,r),Bt(e,t)||(it=!0),e):(Un&42)===0||(Un&1073741824)!==0&&(xe&261930)===0?(it=!0,e.memoizedState=a):(e=Lh(),fe.lanes|=e,ca|=e,t)}function Um(e,t,a,r,c){var u=Q.p;Q.p=u!==0&&8>u?u:8;var p=Z.T,x={};Z.T=x,Uc(e,!1,t,a);try{var C=c(),k=Z.S;if(k!==null&&k(x,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var H=L0(C,r);Ur(e,t,H,It(e))}else Ur(e,t,r,It(e))}catch(I){Ur(e,t,{then:function(){},status:"rejected",reason:I},It())}finally{Q.p=u,p!==null&&x.types!==null&&(p.types=x.types),Z.T=p}}function $0(){}function kc(e,t,a,r){if(e.tag!==5)throw Error(o(476));var c=Bm(e).queue;Um(e,c,t,le,a===null?$0:function(){return Zm(e),a(r)})}function Bm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:le},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Zm(e){var t=Bm(e);t.next===null&&(t=e.alternate.memoizedState),Ur(e,t.next.queue,{},It())}function Lc(){return xt(es)}function Hm(){return at().memoizedState}function qm(){return at().memoizedState}function V0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=It();e=aa(a);var r=la(t,e,a);r!==null&&(Lt(r,t,a),Or(r,t,a)),t={cache:dc()},e.payload=t;return}t=t.return}}function I0(e,t,a){var r=It();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ai(e)?Vm(t,a):(a=ec(e,t,a,r),a!==null&&(Lt(a,e,r),Im(a,t,r)))}function $m(e,t,a){var r=It();Ur(e,t,a,r)}function Ur(e,t,a,r){var c={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ai(e))Vm(t,c);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var p=t.lastRenderedState,x=u(p,a);if(c.hasEagerState=!0,c.eagerState=x,Bt(x,p))return Us(e,t,c,0),Ue===null&&Ls(),!1}catch{}finally{}if(a=ec(e,t,c,r),a!==null)return Lt(a,e,r),Im(a,t,r),!0}return!1}function Uc(e,t,a,r){if(r={lane:2,revertLane:pu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ai(e)){if(t)throw Error(o(479))}else t=ec(e,a,r,2),t!==null&&Lt(t,e,2)}function ai(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function Vm(e,t){Rl=Ks=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Im(e,t,a){if((a&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,hr(e,a)}}var Br={readContext:xt,use:Ps,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We};Br.useEffectEvent=We;var Ym={readContext:xt,use:Ps,useCallback:function(e,t){return St().memoizedState=[e,t===void 0?null:t],e},useContext:xt,useEffect:Tm,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,ti(4194308,4,Om.bind(null,t,e),a)},useLayoutEffect:function(e,t){return ti(4194308,4,e,t)},useInsertionEffect:function(e,t){ti(4,2,e,t)},useMemo:function(e,t){var a=St();t=t===void 0?null:t;var r=e();if(Ia){vn(!0);try{e()}finally{vn(!1)}}return a.memoizedState=[r,t],r},useReducer:function(e,t,a){var r=St();if(a!==void 0){var c=a(t);if(Ia){vn(!0);try{a(t)}finally{vn(!1)}}}else c=t;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=I0.bind(null,fe,e),[r.memoizedState,e]},useRef:function(e){var t=St();return e={current:e},t.memoizedState=e},useState:function(e){e=zc(e);var t=e.queue,a=$m.bind(null,fe,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Rc,useDeferredValue:function(e,t){var a=St();return Mc(a,e,t)},useTransition:function(){var e=zc(!1);return e=Um.bind(null,fe,e.queue,!0,!1),St().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var r=fe,c=St();if(Ne){if(a===void 0)throw Error(o(407));a=a()}else{if(a=t(),Ue===null)throw Error(o(349));(xe&127)!==0||fm(r,t,a)}c.memoizedState=a;var u={value:a,getSnapshot:t};return c.queue=u,Tm(hm.bind(null,r,u,e),[e]),r.flags|=2048,kl(9,{destroy:void 0},mm.bind(null,r,u,a,t),null),a},useId:function(){var e=St(),t=Ue.identifierPrefix;if(Ne){var a=yn,r=bn;a=(r&~(1<<32-wt(r)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Js++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=U0++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Lc,useFormState:jm,useActionState:jm,useOptimistic:function(e){var t=St();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Uc.bind(null,fe,!0,a),a.dispatch=t,[e,t]},useMemoCache:Ec,useCacheRefresh:function(){return St().memoizedState=V0.bind(null,fe)},useEffectEvent:function(e){var t=St(),a={impl:e};return t.memoizedState=a,function(){if((Ae&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},Bc={readContext:xt,use:Ps,useCallback:Mm,useContext:xt,useEffect:Oc,useImperativeHandle:Rm,useInsertionEffect:zm,useLayoutEffect:Dm,useMemo:km,useReducer:ei,useRef:Em,useState:function(){return ei(Bn)},useDebugValue:Rc,useDeferredValue:function(e,t){var a=at();return Lm(a,Me.memoizedState,e,t)},useTransition:function(){var e=ei(Bn)[0],t=at().memoizedState;return[typeof e=="boolean"?e:Lr(e),t]},useSyncExternalStore:dm,useId:Hm,useHostTransitionStatus:Lc,useFormState:wm,useActionState:wm,useOptimistic:function(e,t){var a=at();return vm(a,Me,e,t)},useMemoCache:Ec,useCacheRefresh:qm};Bc.useEffectEvent=Am;var Xm={readContext:xt,use:Ps,useCallback:Mm,useContext:xt,useEffect:Oc,useImperativeHandle:Rm,useInsertionEffect:zm,useLayoutEffect:Dm,useMemo:km,useReducer:Ac,useRef:Em,useState:function(){return Ac(Bn)},useDebugValue:Rc,useDeferredValue:function(e,t){var a=at();return Me===null?Mc(a,e,t):Lm(a,Me.memoizedState,e,t)},useTransition:function(){var e=Ac(Bn)[0],t=at().memoizedState;return[typeof e=="boolean"?e:Lr(e),t]},useSyncExternalStore:dm,useId:Hm,useHostTransitionStatus:Lc,useFormState:Cm,useActionState:Cm,useOptimistic:function(e,t){var a=at();return Me!==null?vm(a,Me,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ec,useCacheRefresh:qm};Xm.useEffectEvent=Am;function Zc(e,t,a,r){t=e.memoizedState,a=a(r,t),a=a==null?t:b({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Hc={enqueueSetState:function(e,t,a){e=e._reactInternals;var r=It(),c=aa(r);c.payload=t,a!=null&&(c.callback=a),t=la(e,c,r),t!==null&&(Lt(t,e,r),Or(t,e,r))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var r=It(),c=aa(r);c.tag=1,c.payload=t,a!=null&&(c.callback=a),t=la(e,c,r),t!==null&&(Lt(t,e,r),Or(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=It(),r=aa(a);r.tag=2,t!=null&&(r.callback=t),t=la(e,r,a),t!==null&&(Lt(t,e,a),Or(t,e,a))}};function Gm(e,t,a,r,c,u,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,p):t.prototype&&t.prototype.isPureReactComponent?!wr(a,r)||!wr(c,u):!0}function Fm(e,t,a,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,r),t.state!==e&&Hc.enqueueReplaceState(t,t.state,null)}function Ya(e,t){var a=t;if("ref"in t){a={};for(var r in t)r!=="ref"&&(a[r]=t[r])}if(e=e.defaultProps){a===t&&(a=b({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}function Qm(e){ks(e)}function Km(e){console.error(e)}function Jm(e){ks(e)}function li(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Wm(e,t,a){try{var r=e.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function qc(e,t,a){return a=aa(a),a.tag=3,a.payload={element:null},a.callback=function(){li(e,t)},a}function Pm(e){return e=aa(e),e.tag=3,e}function eh(e,t,a,r){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var u=r.value;e.payload=function(){return c(u)},e.callback=function(){Wm(t,a,r)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Wm(t,a,r),typeof c!="function"&&(ua===null?ua=new Set([this]):ua.add(this));var x=r.stack;this.componentDidCatch(r.value,{componentStack:x!==null?x:""})})}function Y0(e,t,a,r,c){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=a.alternate,t!==null&&El(t,a,c,!0),a=Ht.current,a!==null){switch(a.tag){case 31:case 13:return en===null?gi():a.alternate===null&&Pe===0&&(Pe=3),a.flags&=-257,a.flags|=65536,a.lanes=c,r===Ys?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([r]):t.add(r),fu(e,r,c)),!1;case 22:return a.flags|=65536,r===Ys?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([r]):a.add(r)),fu(e,r,c)),!1}throw Error(o(435,a.tag))}return fu(e,r,c),gi(),!1}if(Ne)return t=Ht.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,r!==sc&&(e=Error(o(422),{cause:r}),Er(Kt(e,a)))):(r!==sc&&(t=Error(o(423),{cause:r}),Er(Kt(t,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=Kt(r,a),c=qc(e.stateNode,r,c),vc(e,c),Pe!==4&&(Pe=2)),!1;var u=Error(o(520),{cause:r});if(u=Kt(u,a),Xr===null?Xr=[u]:Xr.push(u),Pe!==4&&(Pe=2),t===null)return!0;r=Kt(r,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=qc(a.stateNode,r,e),vc(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(ua===null||!ua.has(u))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Pm(c),eh(c,e,a,r),vc(a,c),!1}a=a.return}while(a!==null);return!1}var $c=Error(o(461)),it=!1;function bt(e,t,a,r){t.child=e===null?lm(t,null,a,r):Va(t,e.child,a,r)}function th(e,t,a,r,c){a=a.render;var u=t.ref;if("ref"in r){var p={};for(var x in r)x!=="ref"&&(p[x]=r[x])}else p=r;return Za(t),r=jc(e,t,a,p,u,c),x=wc(),e!==null&&!it?(Sc(e,t,c),Zn(e,t,c)):(Ne&&x&&lc(t),t.flags|=1,bt(e,t,r,c),t.child)}function nh(e,t,a,r,c){if(e===null){var u=a.type;return typeof u=="function"&&!tc(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,ah(e,t,u,r,c)):(e=Zs(a.type,null,r,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Kc(e,c)){var p=u.memoizedProps;if(a=a.compare,a=a!==null?a:wr,a(p,r)&&e.ref===t.ref)return Zn(e,t,c)}return t.flags|=1,e=Rn(u,r),e.ref=t.ref,e.return=t,t.child=e}function ah(e,t,a,r,c){if(e!==null){var u=e.memoizedProps;if(wr(u,r)&&e.ref===t.ref)if(it=!1,t.pendingProps=r=u,Kc(e,c))(e.flags&131072)!==0&&(it=!0);else return t.lanes=e.lanes,Zn(e,t,c)}return Vc(e,t,a,r,c)}function lh(e,t,a,r){var c=r.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(r=t.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~u}else r=0,t.child=null;return rh(e,t,u,a,r)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vs(t,u!==null?u.cachePool:null),u!==null?im(t,u):bc(),om(t);else return r=t.lanes=536870912,rh(e,t,u!==null?u.baseLanes|a:a,a,r)}else u!==null?(Vs(t,u.cachePool),im(t,u),sa(),t.memoizedState=null):(e!==null&&Vs(t,null),bc(),sa());return bt(e,t,c,a),t.child}function Zr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function rh(e,t,a,r,c){var u=mc();return u=u===null?null:{parent:rt._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&Vs(t,null),bc(),om(t),e!==null&&El(e,t,r,!0),t.childLanes=c,null}function ri(e,t){return t=ii({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function sh(e,t,a){return Va(t,e.child,null,a),e=ri(t,t.pendingProps),e.flags|=2,qt(t),t.memoizedState=null,e}function X0(e,t,a){var r=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ne){if(r.mode==="hidden")return e=ri(t,r),t.lanes=536870912,Zr(null,e);if(Nc(t),(e=Ve)?(e=xp(e,Pt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Wn!==null?{id:bn,overflow:yn}:null,retryLane:536870912,hydrationErrors:null},a=Vf(e),a.return=t,t.child=a,vt=t,Ve=null)):e=null,e===null)throw ea(t);return t.lanes=536870912,null}return ri(t,r)}var u=e.memoizedState;if(u!==null){var p=u.dehydrated;if(Nc(t),c)if(t.flags&256)t.flags&=-257,t=sh(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(it||El(e,t,a,!1),c=(a&e.childLanes)!==0,it||c){if(r=Ue,r!==null&&(p=Qd(r,a),p!==0&&p!==u.retryLane))throw u.retryLane=p,ka(e,p),Lt(r,e,p),$c;gi(),t=sh(e,t,a)}else e=u.treeContext,Ve=tn(p.nextSibling),vt=t,Ne=!0,Pn=null,Pt=!1,e!==null&&Xf(t,e),t=ri(t,r),t.flags|=4096;return t}return e=Rn(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function si(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Vc(e,t,a,r,c){return Za(t),a=jc(e,t,a,r,void 0,c),r=wc(),e!==null&&!it?(Sc(e,t,c),Zn(e,t,c)):(Ne&&r&&lc(t),t.flags|=1,bt(e,t,a,c),t.child)}function ih(e,t,a,r,c,u){return Za(t),t.updateQueue=null,a=um(t,r,a,c),cm(e),r=wc(),e!==null&&!it?(Sc(e,t,u),Zn(e,t,u)):(Ne&&r&&lc(t),t.flags|=1,bt(e,t,a,u),t.child)}function oh(e,t,a,r,c){if(Za(t),t.stateNode===null){var u=jl,p=a.contextType;typeof p=="object"&&p!==null&&(u=xt(p)),u=new a(r,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Hc,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=r,u.state=t.memoizedState,u.refs={},pc(t),p=a.contextType,u.context=typeof p=="object"&&p!==null?xt(p):jl,u.state=t.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Zc(t,a,p,r),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(p=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),p!==u.state&&Hc.enqueueReplaceState(u,u.state,null),Mr(t,r,u,c),Rr(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){u=t.stateNode;var x=t.memoizedProps,C=Ya(a,x);u.props=C;var k=u.context,H=a.contextType;p=jl,typeof H=="object"&&H!==null&&(p=xt(H));var I=a.getDerivedStateFromProps;H=typeof I=="function"||typeof u.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,H||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(x||k!==p)&&Fm(t,u,r,p),na=!1;var L=t.memoizedState;u.state=L,Mr(t,r,u,c),Rr(),k=t.memoizedState,x||L!==k||na?(typeof I=="function"&&(Zc(t,a,I,r),k=t.memoizedState),(C=na||Gm(t,a,C,r,L,k,p))?(H||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=k),u.props=r,u.state=k,u.context=p,r=C):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,gc(e,t),p=t.memoizedProps,H=Ya(a,p),u.props=H,I=t.pendingProps,L=u.context,k=a.contextType,C=jl,typeof k=="object"&&k!==null&&(C=xt(k)),x=a.getDerivedStateFromProps,(k=typeof x=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(p!==I||L!==C)&&Fm(t,u,r,C),na=!1,L=t.memoizedState,u.state=L,Mr(t,r,u,c),Rr();var U=t.memoizedState;p!==I||L!==U||na||e!==null&&e.dependencies!==null&&qs(e.dependencies)?(typeof x=="function"&&(Zc(t,a,x,r),U=t.memoizedState),(H=na||Gm(t,a,H,r,L,U,C)||e!==null&&e.dependencies!==null&&qs(e.dependencies))?(k||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,U,C),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,U,C)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||p===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=U),u.props=r,u.state=U,u.context=C,r=H):(typeof u.componentDidUpdate!="function"||p===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),r=!1)}return u=r,si(e,t),r=(t.flags&128)!==0,u||r?(u=t.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&r?(t.child=Va(t,e.child,null,c),t.child=Va(t,null,a,c)):bt(e,t,a,c),t.memoizedState=u.state,e=t.child):e=Zn(e,t,c),e}function ch(e,t,a,r){return Ua(),t.flags|=256,bt(e,t,a,r),t.child}var Ic={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yc(e){return{baseLanes:e,cachePool:Wf()}}function Xc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Vt),e}function uh(e,t,a){var r=t.pendingProps,c=!1,u=(t.flags&128)!==0,p;if((p=u)||(p=e!==null&&e.memoizedState===null?!1:(nt.current&2)!==0),p&&(c=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ne){if(c?ra(t):sa(),(e=Ve)?(e=xp(e,Pt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Wn!==null?{id:bn,overflow:yn}:null,retryLane:536870912,hydrationErrors:null},a=Vf(e),a.return=t,t.child=a,vt=t,Ve=null)):e=null,e===null)throw ea(t);return Tu(e)?t.lanes=32:t.lanes=536870912,null}var x=r.children;return r=r.fallback,c?(sa(),c=t.mode,x=ii({mode:"hidden",children:x},c),r=La(r,c,a,null),x.return=t,r.return=t,x.sibling=r,t.child=x,r=t.child,r.memoizedState=Yc(a),r.childLanes=Xc(e,p,a),t.memoizedState=Ic,Zr(null,r)):(ra(t),Gc(t,x))}var C=e.memoizedState;if(C!==null&&(x=C.dehydrated,x!==null)){if(u)t.flags&256?(ra(t),t.flags&=-257,t=Fc(e,t,a)):t.memoizedState!==null?(sa(),t.child=e.child,t.flags|=128,t=null):(sa(),x=r.fallback,c=t.mode,r=ii({mode:"visible",children:r.children},c),x=La(x,c,a,null),x.flags|=2,r.return=t,x.return=t,r.sibling=x,t.child=r,Va(t,e.child,null,a),r=t.child,r.memoizedState=Yc(a),r.childLanes=Xc(e,p,a),t.memoizedState=Ic,t=Zr(null,r));else if(ra(t),Tu(x)){if(p=x.nextSibling&&x.nextSibling.dataset,p)var k=p.dgst;p=k,r=Error(o(419)),r.stack="",r.digest=p,Er({value:r,source:null,stack:null}),t=Fc(e,t,a)}else if(it||El(e,t,a,!1),p=(a&e.childLanes)!==0,it||p){if(p=Ue,p!==null&&(r=Qd(p,a),r!==0&&r!==C.retryLane))throw C.retryLane=r,ka(e,r),Lt(p,e,r),$c;Eu(x)||gi(),t=Fc(e,t,a)}else Eu(x)?(t.flags|=192,t.child=e.child,t=null):(e=C.treeContext,Ve=tn(x.nextSibling),vt=t,Ne=!0,Pn=null,Pt=!1,e!==null&&Xf(t,e),t=Gc(t,r.children),t.flags|=4096);return t}return c?(sa(),x=r.fallback,c=t.mode,C=e.child,k=C.sibling,r=Rn(C,{mode:"hidden",children:r.children}),r.subtreeFlags=C.subtreeFlags&65011712,k!==null?x=Rn(k,x):(x=La(x,c,a,null),x.flags|=2),x.return=t,r.return=t,r.sibling=x,t.child=r,Zr(null,r),r=t.child,x=e.child.memoizedState,x===null?x=Yc(a):(c=x.cachePool,c!==null?(C=rt._currentValue,c=c.parent!==C?{parent:C,pool:C}:c):c=Wf(),x={baseLanes:x.baseLanes|a,cachePool:c}),r.memoizedState=x,r.childLanes=Xc(e,p,a),t.memoizedState=Ic,Zr(e.child,r)):(ra(t),a=e.child,e=a.sibling,a=Rn(a,{mode:"visible",children:r.children}),a.return=t,a.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=a,t.memoizedState=null,a)}function Gc(e,t){return t=ii({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ii(e,t){return e=Zt(22,e,null,t),e.lanes=0,e}function Fc(e,t,a){return Va(t,e.child,null,a),e=Gc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dh(e,t,a){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),cc(e.return,t,a)}function Qc(e,t,a,r,c,u){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:c,treeForkCount:u}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=r,p.tail=a,p.tailMode=c,p.treeForkCount=u)}function fh(e,t,a){var r=t.pendingProps,c=r.revealOrder,u=r.tail;r=r.children;var p=nt.current,x=(p&2)!==0;if(x?(p=p&1|2,t.flags|=128):p&=1,he(nt,p),bt(e,t,r,a),r=Ne?Cr:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dh(e,a,t);else if(e.tag===19)dh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(a=t.child,c=null;a!==null;)e=a.alternate,e!==null&&Qs(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=t.child,t.child=null):(c=a.sibling,a.sibling=null),Qc(t,!1,c,a,u,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Qs(e)===null){t.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}Qc(t,!0,a,null,u,r);break;case"together":Qc(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Zn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ca|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(El(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,a=Rn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Rn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Kc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&qs(e)))}function G0(e,t,a){switch(t.tag){case 3:hn(t,t.stateNode.containerInfo),ta(t,rt,e.memoizedState.cache),Ua();break;case 27:case 5:Ea(t);break;case 4:hn(t,t.stateNode.containerInfo);break;case 10:ta(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Nc(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(ra(t),t.flags|=128,null):(a&t.child.childLanes)!==0?uh(e,t,a):(ra(t),e=Zn(e,t,a),e!==null?e.sibling:null);ra(t);break;case 19:var c=(e.flags&128)!==0;if(r=(a&t.childLanes)!==0,r||(El(e,t,a,!1),r=(a&t.childLanes)!==0),c){if(r)return fh(e,t,a);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),he(nt,nt.current),r)break;return null;case 22:return t.lanes=0,lh(e,t,a,t.pendingProps);case 24:ta(t,rt,e.memoizedState.cache)}return Zn(e,t,a)}function mh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)it=!0;else{if(!Kc(e,a)&&(t.flags&128)===0)return it=!1,G0(e,t,a);it=(e.flags&131072)!==0}else it=!1,Ne&&(t.flags&1048576)!==0&&Yf(t,Cr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=qa(t.elementType),t.type=e,typeof e=="function")tc(e)?(r=Ya(e,r),t.tag=1,t=oh(null,t,e,r,a)):(t.tag=0,t=Vc(null,t,e,r,a));else{if(e!=null){var c=e.$$typeof;if(c===D){t.tag=11,t=th(null,t,e,r,a);break e}else if(c===q){t.tag=14,t=nh(null,t,e,r,a);break e}}throw t=qe(e)||e,Error(o(306,t,""))}}return t;case 0:return Vc(e,t,t.type,t.pendingProps,a);case 1:return r=t.type,c=Ya(r,t.pendingProps),oh(e,t,r,c,a);case 3:e:{if(hn(t,t.stateNode.containerInfo),e===null)throw Error(o(387));r=t.pendingProps;var u=t.memoizedState;c=u.element,gc(e,t),Mr(t,r,null,a);var p=t.memoizedState;if(r=p.cache,ta(t,rt,r),r!==u.cache&&uc(t,[rt],a,!0),Rr(),r=p.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=ch(e,t,r,a);break e}else if(r!==c){c=Kt(Error(o(424)),t),Er(c),t=ch(e,t,r,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ve=tn(e.firstChild),vt=t,Ne=!0,Pn=null,Pt=!0,a=lm(t,null,r,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ua(),r===c){t=Zn(e,t,a);break e}bt(e,t,r,a)}t=t.child}return t;case 26:return si(e,t),e===null?(a=wp(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ne||(a=t.type,e=t.pendingProps,r=ji(Yt.current).createElement(a),r[gt]=t,r[zt]=e,yt(r,a,e),mt(r),t.stateNode=r):t.memoizedState=wp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ea(t),e===null&&Ne&&(r=t.stateNode=Np(t.type,t.pendingProps,Yt.current),vt=t,Pt=!0,c=Ve,ha(t.type)?(Au=c,Ve=tn(r.firstChild)):Ve=c),bt(e,t,t.pendingProps.children,a),si(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ne&&((c=r=Ve)&&(r=jb(r,t.type,t.pendingProps,Pt),r!==null?(t.stateNode=r,vt=t,Ve=tn(r.firstChild),Pt=!1,c=!0):c=!1),c||ea(t)),Ea(t),c=t.type,u=t.pendingProps,p=e!==null?e.memoizedProps:null,r=u.children,wu(c,u)?r=null:p!==null&&wu(c,p)&&(t.flags|=32),t.memoizedState!==null&&(c=jc(e,t,B0,null,null,a),es._currentValue=c),si(e,t),bt(e,t,r,a),t.child;case 6:return e===null&&Ne&&((e=a=Ve)&&(a=wb(a,t.pendingProps,Pt),a!==null?(t.stateNode=a,vt=t,Ve=null,e=!0):e=!1),e||ea(t)),null;case 13:return uh(e,t,a);case 4:return hn(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Va(t,null,r,a):bt(e,t,r,a),t.child;case 11:return th(e,t,t.type,t.pendingProps,a);case 7:return bt(e,t,t.pendingProps,a),t.child;case 8:return bt(e,t,t.pendingProps.children,a),t.child;case 12:return bt(e,t,t.pendingProps.children,a),t.child;case 10:return r=t.pendingProps,ta(t,t.type,r.value),bt(e,t,r.children,a),t.child;case 9:return c=t.type._context,r=t.pendingProps.children,Za(t),c=xt(c),r=r(c),t.flags|=1,bt(e,t,r,a),t.child;case 14:return nh(e,t,t.type,t.pendingProps,a);case 15:return ah(e,t,t.type,t.pendingProps,a);case 19:return fh(e,t,a);case 31:return X0(e,t,a);case 22:return lh(e,t,a,t.pendingProps);case 24:return Za(t),r=xt(rt),e===null?(c=mc(),c===null&&(c=Ue,u=dc(),c.pooledCache=u,u.refCount++,u!==null&&(c.pooledCacheLanes|=a),c=u),t.memoizedState={parent:r,cache:c},pc(t),ta(t,rt,c)):((e.lanes&a)!==0&&(gc(e,t),Mr(t,null,null,a),Rr()),c=e.memoizedState,u=t.memoizedState,c.parent!==r?(c={parent:r,cache:r},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),ta(t,rt,r)):(r=u.cache,ta(t,rt,r),r!==c.cache&&uc(t,[rt],a,!0))),bt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Hn(e){e.flags|=4}function Jc(e,t,a,r,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Hh())e.flags|=8192;else throw $a=Ys,hc}else e.flags&=-16777217}function hh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ap(t))if(Hh())e.flags|=8192;else throw $a=Ys,hc}function oi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Tt():536870912,e.lanes|=t,Zl|=t)}function Hr(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,r=0;if(t)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=a,t}function F0(e,t,a){var r=t.pendingProps;switch(rc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return Ie(t),null;case 3:return a=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ln(rt),pn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Cl(t)?Hn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ic())),Ie(t),null;case 26:var c=t.type,u=t.memoizedState;return e===null?(Hn(t),u!==null?(Ie(t),hh(t,u)):(Ie(t),Jc(t,c,null,r,a))):u?u!==e.memoizedState?(Hn(t),Ie(t),hh(t,u)):(Ie(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&Hn(t),Ie(t),Jc(t,c,e,r,a)),null;case 27:if(rn(t),a=Yt.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Hn(t);else{if(!r){if(t.stateNode===null)throw Error(o(166));return Ie(t),null}e=Ge.current,Cl(t)?Gf(t):(e=Np(c,r,a),t.stateNode=e,Hn(t))}return Ie(t),null;case 5:if(rn(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Hn(t);else{if(!r){if(t.stateNode===null)throw Error(o(166));return Ie(t),null}if(u=Ge.current,Cl(t))Gf(t);else{var p=ji(Yt.current);switch(u){case 1:u=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:u=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":u=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":u=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":u=p.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof r.is=="string"?p.createElement("select",{is:r.is}):p.createElement("select"),r.multiple?u.multiple=!0:r.size&&(u.size=r.size);break;default:u=typeof r.is=="string"?p.createElement(c,{is:r.is}):p.createElement(c)}}u[gt]=t,u[zt]=r;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)u.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=u;e:switch(yt(u,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Hn(t)}}return Ie(t),Jc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Hn(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(o(166));if(e=Yt.current,Cl(t)){if(e=t.stateNode,a=t.memoizedProps,r=null,c=vt,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[gt]=t,e=!!(e.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||up(e.nodeValue,a)),e||ea(t,!0)}else e=ji(e).createTextNode(r),e[gt]=t,t.stateNode=e}return Ie(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(r=Cl(t),a!==null){if(e===null){if(!r)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[gt]=t}else Ua(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ie(t),e=!1}else a=ic(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(qt(t),t):(qt(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Ie(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Cl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[gt]=t}else Ua(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ie(t),c=!1}else c=ic(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(qt(t),t):(qt(t),null)}return qt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=r!==null,e=e!==null&&e.memoizedState!==null,a&&(r=t.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==c&&(r.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),oi(t,t.updateQueue),Ie(t),null);case 4:return pn(),e===null&&bu(t.stateNode.containerInfo),Ie(t),null;case 10:return Ln(t.type),Ie(t),null;case 19:if(Be(nt),r=t.memoizedState,r===null)return Ie(t),null;if(c=(t.flags&128)!==0,u=r.rendering,u===null)if(c)Hr(r,!1);else{if(Pe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Qs(e),u!==null){for(t.flags|=128,Hr(r,!1),e=u.updateQueue,t.updateQueue=e,oi(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)$f(a,e),a=a.sibling;return he(nt,nt.current&1|2),Ne&&Mn(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&_t()>mi&&(t.flags|=128,c=!0,Hr(r,!1),t.lanes=4194304)}else{if(!c)if(e=Qs(u),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,oi(t,e),Hr(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!Ne)return Ie(t),null}else 2*_t()-r.renderingStartTime>mi&&a!==536870912&&(t.flags|=128,c=!0,Hr(r,!1),t.lanes=4194304);r.isBackwards?(u.sibling=t.child,t.child=u):(e=r.last,e!==null?e.sibling=u:t.child=u,r.last=u)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=_t(),e.sibling=null,a=nt.current,he(nt,c?a&1|2:a&1),Ne&&Mn(t,r.treeForkCount),e):(Ie(t),null);case 22:case 23:return qt(t),yc(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(a&536870912)!==0&&(t.flags&128)===0&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),a=t.updateQueue,a!==null&&oi(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==a&&(t.flags|=2048),e!==null&&Be(Ha),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ln(rt),Ie(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Q0(e,t){switch(rc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ln(rt),pn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return rn(t),null;case 31:if(t.memoizedState!==null){if(qt(t),t.alternate===null)throw Error(o(340));Ua()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(qt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Ua()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(nt),null;case 4:return pn(),null;case 10:return Ln(t.type),null;case 22:case 23:return qt(t),yc(),e!==null&&Be(Ha),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ln(rt),null;case 25:return null;default:return null}}function ph(e,t){switch(rc(t),t.tag){case 3:Ln(rt),pn();break;case 26:case 27:case 5:rn(t);break;case 4:pn();break;case 31:t.memoizedState!==null&&qt(t);break;case 13:qt(t);break;case 19:Be(nt);break;case 10:Ln(t.type);break;case 22:case 23:qt(t),yc(),e!==null&&Be(Ha);break;case 24:Ln(rt)}}function qr(e,t){try{var a=t.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var c=r.next;a=c;do{if((a.tag&e)===e){r=void 0;var u=a.create,p=a.inst;r=u(),p.destroy=r}a=a.next}while(a!==c)}}catch(x){Re(t,t.return,x)}}function ia(e,t,a){try{var r=t.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var u=c.next;r=u;do{if((r.tag&e)===e){var p=r.inst,x=p.destroy;if(x!==void 0){p.destroy=void 0,c=t;var C=a,k=x;try{k()}catch(H){Re(c,C,H)}}}r=r.next}while(r!==u)}}catch(H){Re(t,t.return,H)}}function gh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{sm(t,a)}catch(r){Re(e,e.return,r)}}}function vh(e,t,a){a.props=Ya(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(r){Re(e,t,r)}}function $r(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof a=="function"?e.refCleanup=a(r):a.current=r}}catch(c){Re(e,t,c)}}function Nn(e,t){var a=e.ref,r=e.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(c){Re(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Re(e,t,c)}else a.current=null}function xh(e){var t=e.type,a=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(c){Re(e,e.return,c)}}function Wc(e,t,a){try{var r=e.stateNode;vb(r,e.type,a,t),r[zt]=t}catch(c){Re(e,e.return,c)}}function bh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ha(e.type)||e.tag===4}function Pc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ha(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function eu(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Dn));else if(r!==4&&(r===27&&ha(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(eu(e,t,a),e=e.sibling;e!==null;)eu(e,t,a),e=e.sibling}function ci(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(r!==4&&(r===27&&ha(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ci(e,t,a),e=e.sibling;e!==null;)ci(e,t,a),e=e.sibling}function yh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var r=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);yt(t,r,a),t[gt]=e,t[zt]=a}catch(u){Re(e,e.return,u)}}var qn=!1,ot=!1,tu=!1,Nh=typeof WeakSet=="function"?WeakSet:Set,ht=null;function K0(e,t){if(e=e.containerInfo,_u=zi,e=Rf(e),Fo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var c=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var p=0,x=-1,C=-1,k=0,H=0,I=e,L=null;t:for(;;){for(var U;I!==a||c!==0&&I.nodeType!==3||(x=p+c),I!==u||r!==0&&I.nodeType!==3||(C=p+r),I.nodeType===3&&(p+=I.nodeValue.length),(U=I.firstChild)!==null;)L=I,I=U;for(;;){if(I===e)break t;if(L===a&&++k===c&&(x=p),L===u&&++H===r&&(C=p),(U=I.nextSibling)!==null)break;I=L,L=I.parentNode}I=U}a=x===-1||C===-1?null:{start:x,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(ju={focusedElem:e,selectionRange:a},zi=!1,ht=t;ht!==null;)if(t=ht,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ht=e;else for(;ht!==null;){switch(t=ht,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)c=e[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,c=u.memoizedProps,u=u.memoizedState,r=a.stateNode;try{var P=Ya(a.type,c);e=r.getSnapshotBeforeUpdate(P,u),r.__reactInternalSnapshotBeforeUpdate=e}catch(ie){Re(a,a.return,ie)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Cu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,ht=e;break}ht=t.return}}function _h(e,t,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:Vn(e,a),r&4&&qr(5,a);break;case 1:if(Vn(e,a),r&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(p){Re(a,a.return,p)}else{var c=Ya(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Re(a,a.return,p)}}r&64&&gh(a),r&512&&$r(a,a.return);break;case 3:if(Vn(e,a),r&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{sm(e,t)}catch(p){Re(a,a.return,p)}}break;case 27:t===null&&r&4&&yh(a);case 26:case 5:Vn(e,a),t===null&&r&4&&xh(a),r&512&&$r(a,a.return);break;case 12:Vn(e,a);break;case 31:Vn(e,a),r&4&&Sh(e,a);break;case 13:Vn(e,a),r&4&&Ch(e,a),r&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=rb.bind(null,a),Sb(e,a))));break;case 22:if(r=a.memoizedState!==null||qn,!r){t=t!==null&&t.memoizedState!==null||ot,c=qn;var u=ot;qn=r,(ot=t)&&!u?In(e,a,(a.subtreeFlags&8772)!==0):Vn(e,a),qn=c,ot=u}break;case 30:break;default:Vn(e,a)}}function jh(e){var t=e.alternate;t!==null&&(e.alternate=null,jh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Do(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ye=null,Ot=!1;function $n(e,t,a){for(a=a.child;a!==null;)wh(e,t,a),a=a.sibling}function wh(e,t,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Qn,a)}catch{}switch(a.tag){case 26:ot||Nn(a,t),$n(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ot||Nn(a,t);var r=Ye,c=Ot;ha(a.type)&&(Ye=a.stateNode,Ot=!1),$n(e,t,a),Jr(a.stateNode),Ye=r,Ot=c;break;case 5:ot||Nn(a,t);case 6:if(r=Ye,c=Ot,Ye=null,$n(e,t,a),Ye=r,Ot=c,Ye!==null)if(Ot)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(a.stateNode)}catch(u){Re(a,t,u)}else try{Ye.removeChild(a.stateNode)}catch(u){Re(a,t,u)}break;case 18:Ye!==null&&(Ot?(e=Ye,gp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Gl(e)):gp(Ye,a.stateNode));break;case 4:r=Ye,c=Ot,Ye=a.stateNode.containerInfo,Ot=!0,$n(e,t,a),Ye=r,Ot=c;break;case 0:case 11:case 14:case 15:ia(2,a,t),ot||ia(4,a,t),$n(e,t,a);break;case 1:ot||(Nn(a,t),r=a.stateNode,typeof r.componentWillUnmount=="function"&&vh(a,t,r)),$n(e,t,a);break;case 21:$n(e,t,a);break;case 22:ot=(r=ot)||a.memoizedState!==null,$n(e,t,a),ot=r;break;default:$n(e,t,a)}}function Sh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Gl(e)}catch(a){Re(t,t.return,a)}}}function Ch(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Gl(e)}catch(a){Re(t,t.return,a)}}function J0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Nh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Nh),t;default:throw Error(o(435,e.tag))}}function ui(e,t){var a=J0(e);t.forEach(function(r){if(!a.has(r)){a.add(r);var c=sb.bind(null,e,r);r.then(c,c)}})}function Rt(e,t){var a=t.deletions;if(a!==null)for(var r=0;r<a.length;r++){var c=a[r],u=e,p=t,x=p;e:for(;x!==null;){switch(x.tag){case 27:if(ha(x.type)){Ye=x.stateNode,Ot=!1;break e}break;case 5:Ye=x.stateNode,Ot=!1;break e;case 3:case 4:Ye=x.stateNode.containerInfo,Ot=!0;break e}x=x.return}if(Ye===null)throw Error(o(160));wh(u,p,c),Ye=null,Ot=!1,u=c.alternate,u!==null&&(u.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Eh(t,e),t=t.sibling}var cn=null;function Eh(e,t){var a=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rt(t,e),Mt(e),r&4&&(ia(3,e,e.return),qr(3,e),ia(5,e,e.return));break;case 1:Rt(t,e),Mt(e),r&512&&(ot||a===null||Nn(a,a.return)),r&64&&qn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var c=cn;if(Rt(t,e),Mt(e),r&512&&(ot||a===null||Nn(a,a.return)),r&4){var u=a!==null?a.memoizedState:null;if(r=e.memoizedState,a===null)if(r===null)if(e.stateNode===null){e:{r=e.type,a=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":u=c.getElementsByTagName("title")[0],(!u||u[pr]||u[gt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=c.createElement(r),c.head.insertBefore(u,c.querySelector("head > title"))),yt(u,r,a),u[gt]=e,mt(u),r=u;break e;case"link":var p=Ep("link","href",c).get(r+(a.href||""));if(p){for(var x=0;x<p.length;x++)if(u=p[x],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(x,1);break t}}u=c.createElement(r),yt(u,r,a),c.head.appendChild(u);break;case"meta":if(p=Ep("meta","content",c).get(r+(a.content||""))){for(x=0;x<p.length;x++)if(u=p[x],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(x,1);break t}}u=c.createElement(r),yt(u,r,a),c.head.appendChild(u);break;default:throw Error(o(468,r))}u[gt]=e,mt(u),r=u}e.stateNode=r}else Tp(c,e.type,e.stateNode);else e.stateNode=Cp(c,r,e.memoizedProps);else u!==r?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,r===null?Tp(c,e.type,e.stateNode):Cp(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Wc(e,e.memoizedProps,a.memoizedProps)}break;case 27:Rt(t,e),Mt(e),r&512&&(ot||a===null||Nn(a,a.return)),a!==null&&r&4&&Wc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Rt(t,e),Mt(e),r&512&&(ot||a===null||Nn(a,a.return)),e.flags&32){c=e.stateNode;try{gl(c,"")}catch(P){Re(e,e.return,P)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,Wc(e,c,a!==null?a.memoizedProps:c)),r&1024&&(tu=!0);break;case 6:if(Rt(t,e),Mt(e),r&4){if(e.stateNode===null)throw Error(o(162));r=e.memoizedProps,a=e.stateNode;try{a.nodeValue=r}catch(P){Re(e,e.return,P)}}break;case 3:if(Ci=null,c=cn,cn=wi(t.containerInfo),Rt(t,e),cn=c,Mt(e),r&4&&a!==null&&a.memoizedState.isDehydrated)try{Gl(t.containerInfo)}catch(P){Re(e,e.return,P)}tu&&(tu=!1,Th(e));break;case 4:r=cn,cn=wi(e.stateNode.containerInfo),Rt(t,e),Mt(e),cn=r;break;case 12:Rt(t,e),Mt(e);break;case 31:Rt(t,e),Mt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ui(e,r)));break;case 13:Rt(t,e),Mt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fi=_t()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ui(e,r)));break;case 22:c=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,k=qn,H=ot;if(qn=k||c,ot=H||C,Rt(t,e),ot=H,qn=k,Mt(e),r&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(a===null||C||qn||ot||Xa(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){C=a=t;try{if(u=C.stateNode,c)p=u.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{x=C.stateNode;var I=C.memoizedProps.style,L=I!=null&&I.hasOwnProperty("display")?I.display:null;x.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(P){Re(C,C.return,P)}}}else if(t.tag===6){if(a===null){C=t;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(P){Re(C,C.return,P)}}}else if(t.tag===18){if(a===null){C=t;try{var U=C.stateNode;c?vp(U,!0):vp(C.stateNode,!1)}catch(P){Re(C,C.return,P)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,ui(e,a))));break;case 19:Rt(t,e),Mt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ui(e,r)));break;case 30:break;case 21:break;default:Rt(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{for(var a,r=e.return;r!==null;){if(bh(r)){a=r;break}r=r.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var c=a.stateNode,u=Pc(e);ci(e,u,c);break;case 5:var p=a.stateNode;a.flags&32&&(gl(p,""),a.flags&=-33);var x=Pc(e);ci(e,x,p);break;case 3:case 4:var C=a.stateNode.containerInfo,k=Pc(e);eu(e,k,C);break;default:throw Error(o(161))}}catch(H){Re(e,e.return,H)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Th(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Th(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Vn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)_h(e,t.alternate,t),t=t.sibling}function Xa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ia(4,t,t.return),Xa(t);break;case 1:Nn(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&vh(t,t.return,a),Xa(t);break;case 27:Jr(t.stateNode);case 26:case 5:Nn(t,t.return),Xa(t);break;case 22:t.memoizedState===null&&Xa(t);break;case 30:Xa(t);break;default:Xa(t)}e=e.sibling}}function In(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,c=e,u=t,p=u.flags;switch(u.tag){case 0:case 11:case 15:In(c,u,a),qr(4,u);break;case 1:if(In(c,u,a),r=u,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){Re(r,r.return,k)}if(r=u,c=r.updateQueue,c!==null){var x=r.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)rm(C[c],x)}catch(k){Re(r,r.return,k)}}a&&p&64&&gh(u),$r(u,u.return);break;case 27:yh(u);case 26:case 5:In(c,u,a),a&&r===null&&p&4&&xh(u),$r(u,u.return);break;case 12:In(c,u,a);break;case 31:In(c,u,a),a&&p&4&&Sh(c,u);break;case 13:In(c,u,a),a&&p&4&&Ch(c,u);break;case 22:u.memoizedState===null&&In(c,u,a),$r(u,u.return);break;case 30:break;default:In(c,u,a)}t=t.sibling}}function nu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Tr(a))}function au(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Tr(e))}function un(e,t,a,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ah(e,t,a,r),t=t.sibling}function Ah(e,t,a,r){var c=t.flags;switch(t.tag){case 0:case 11:case 15:un(e,t,a,r),c&2048&&qr(9,t);break;case 1:un(e,t,a,r);break;case 3:un(e,t,a,r),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Tr(e)));break;case 12:if(c&2048){un(e,t,a,r),e=t.stateNode;try{var u=t.memoizedProps,p=u.id,x=u.onPostCommit;typeof x=="function"&&x(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Re(t,t.return,C)}}else un(e,t,a,r);break;case 31:un(e,t,a,r);break;case 13:un(e,t,a,r);break;case 23:break;case 22:u=t.stateNode,p=t.alternate,t.memoizedState!==null?u._visibility&2?un(e,t,a,r):Vr(e,t):u._visibility&2?un(e,t,a,r):(u._visibility|=2,Ll(e,t,a,r,(t.subtreeFlags&10256)!==0||!1)),c&2048&&nu(p,t);break;case 24:un(e,t,a,r),c&2048&&au(t.alternate,t);break;default:un(e,t,a,r)}}function Ll(e,t,a,r,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,p=t,x=a,C=r,k=p.flags;switch(p.tag){case 0:case 11:case 15:Ll(u,p,x,C,c),qr(8,p);break;case 23:break;case 22:var H=p.stateNode;p.memoizedState!==null?H._visibility&2?Ll(u,p,x,C,c):Vr(u,p):(H._visibility|=2,Ll(u,p,x,C,c)),c&&k&2048&&nu(p.alternate,p);break;case 24:Ll(u,p,x,C,c),c&&k&2048&&au(p.alternate,p);break;default:Ll(u,p,x,C,c)}t=t.sibling}}function Vr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,r=t,c=r.flags;switch(r.tag){case 22:Vr(a,r),c&2048&&nu(r.alternate,r);break;case 24:Vr(a,r),c&2048&&au(r.alternate,r);break;default:Vr(a,r)}t=t.sibling}}var Ir=8192;function Ul(e,t,a){if(e.subtreeFlags&Ir)for(e=e.child;e!==null;)zh(e,t,a),e=e.sibling}function zh(e,t,a){switch(e.tag){case 26:Ul(e,t,a),e.flags&Ir&&e.memoizedState!==null&&Ub(a,cn,e.memoizedState,e.memoizedProps);break;case 5:Ul(e,t,a);break;case 3:case 4:var r=cn;cn=wi(e.stateNode.containerInfo),Ul(e,t,a),cn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Ir,Ir=16777216,Ul(e,t,a),Ir=r):Ul(e,t,a));break;default:Ul(e,t,a)}}function Dh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Yr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var r=t[a];ht=r,Rh(r,e)}Dh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Oh(e),e=e.sibling}function Oh(e){switch(e.tag){case 0:case 11:case 15:Yr(e),e.flags&2048&&ia(9,e,e.return);break;case 3:Yr(e);break;case 12:Yr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,di(e)):Yr(e);break;default:Yr(e)}}function di(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var r=t[a];ht=r,Rh(r,e)}Dh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ia(8,t,t.return),di(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,di(t));break;default:di(t)}e=e.sibling}}function Rh(e,t){for(;ht!==null;){var a=ht;switch(a.tag){case 0:case 11:case 15:ia(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Tr(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,ht=r;else e:for(a=e;ht!==null;){r=ht;var c=r.sibling,u=r.return;if(jh(r),r===a){ht=null;break e}if(c!==null){c.return=u,ht=c;break e}ht=u}}}var W0={getCacheForType:function(e){var t=xt(rt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return xt(rt).controller.signal}},P0=typeof WeakMap=="function"?WeakMap:Map,Ae=0,Ue=null,ge=null,xe=0,Oe=0,$t=null,oa=!1,Bl=!1,lu=!1,Yn=0,Pe=0,ca=0,Ga=0,ru=0,Vt=0,Zl=0,Xr=null,kt=null,su=!1,fi=0,Mh=0,mi=1/0,hi=null,ua=null,dt=0,da=null,Hl=null,Xn=0,iu=0,ou=null,kh=null,Gr=0,cu=null;function It(){return(Ae&2)!==0&&xe!==0?xe&-xe:Z.T!==null?pu():Kd()}function Lh(){if(Vt===0)if((xe&536870912)===0||Ne){var e=Te;Te<<=1,(Te&3932160)===0&&(Te=262144),Vt=e}else Vt=536870912;return e=Ht.current,e!==null&&(e.flags|=32),Vt}function Lt(e,t,a){(e===Ue&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&(ql(e,0),fa(e,xe,Vt,!1)),At(e,a),((Ae&2)===0||e!==Ue)&&(e===Ue&&((Ae&2)===0&&(Ga|=a),Pe===4&&fa(e,xe,Vt,!1)),_n(e))}function Uh(e,t,a){if((Ae&6)!==0)throw Error(o(327));var r=!a&&(t&127)===0&&(t&e.expiredLanes)===0||tt(e,t),c=r?nb(e,t):du(e,t,!0),u=r;do{if(c===0){Bl&&!r&&fa(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!eb(a)){c=du(e,t,!1),u=!1;continue}if(c===2){if(u=t,e.errorRecoveryDisabledLanes&u)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var x=e;c=Xr;var C=x.current.memoizedState.isDehydrated;if(C&&(ql(x,p).flags|=256),p=du(x,p,!1),p!==2){if(lu&&!C){x.errorRecoveryDisabledLanes|=u,Ga|=u,c=4;break e}u=kt,kt=c,u!==null&&(kt===null?kt=u:kt.push.apply(kt,u))}c=p}if(u=!1,c!==2)continue}}if(c===1){ql(e,0),fa(e,t,0,!0);break}e:{switch(r=e,u=c,u){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:fa(r,t,Vt,!oa);break e;case 2:kt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(c=fi+300-_t(),10<c)){if(fa(r,t,Vt,!oa),ut(r,0,!0)!==0)break e;Xn=t,r.timeoutHandle=hp(Bh.bind(null,r,a,kt,hi,su,t,Vt,Ga,Zl,oa,u,"Throttled",-0,0),c);break e}Bh(r,a,kt,hi,su,t,Vt,Ga,Zl,oa,u,null,-0,0)}}break}while(!0);_n(e)}function Bh(e,t,a,r,c,u,p,x,C,k,H,I,L,U){if(e.timeoutHandle=-1,I=t.subtreeFlags,I&8192||(I&16785408)===16785408){I={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dn},zh(t,u,I);var P=(u&62914560)===u?fi-_t():(u&4194048)===u?Mh-_t():0;if(P=Bb(I,P),P!==null){Xn=u,e.cancelPendingCommit=P(Xh.bind(null,e,t,u,a,r,c,p,x,C,H,I,null,L,U)),fa(e,u,p,!k);return}}Xh(e,t,u,a,r,c,p,x,C)}function eb(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var c=a[r],u=c.getSnapshot;c=c.value;try{if(!Bt(u(),c))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fa(e,t,a,r){t&=~ru,t&=~Ga,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var c=t;0<c;){var u=31-wt(c),p=1<<u;r[u]=-1,c&=~p}a!==0&&za(e,a,t)}function pi(){return(Ae&6)===0?(Fr(0),!1):!0}function uu(){if(ge!==null){if(Oe===0)var e=ge.return;else e=ge,kn=Ba=null,Cc(e),Dl=null,zr=0,e=ge;for(;e!==null;)ph(e.alternate,e),e=e.return;ge=null}}function ql(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,yb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Xn=0,uu(),Ue=e,ge=a=Rn(e.current,null),xe=t,Oe=0,$t=null,oa=!1,Bl=tt(e,t),lu=!1,Zl=Vt=ru=Ga=ca=Pe=0,kt=Xr=null,su=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var c=31-wt(r),u=1<<c;t|=e[c],r&=~u}return Yn=t,Ls(),a}function Zh(e,t){fe=null,Z.H=Br,t===zl||t===Is?(t=tm(),Oe=3):t===hc?(t=tm(),Oe=4):Oe=t===$c?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,$t=t,ge===null&&(Pe=1,li(e,Kt(t,e.current)))}function Hh(){var e=Ht.current;return e===null?!0:(xe&4194048)===xe?en===null:(xe&62914560)===xe||(xe&536870912)!==0?e===en:!1}function qh(){var e=Z.H;return Z.H=Br,e===null?Br:e}function $h(){var e=Z.A;return Z.A=W0,e}function gi(){Pe=4,oa||(xe&4194048)!==xe&&Ht.current!==null||(Bl=!0),(ca&134217727)===0&&(Ga&134217727)===0||Ue===null||fa(Ue,xe,Vt,!1)}function du(e,t,a){var r=Ae;Ae|=2;var c=qh(),u=$h();(Ue!==e||xe!==t)&&(hi=null,ql(e,t)),t=!1;var p=Pe;e:do try{if(Oe!==0&&ge!==null){var x=ge,C=$t;switch(Oe){case 8:uu(),p=6;break e;case 3:case 2:case 9:case 6:Ht.current===null&&(t=!0);var k=Oe;if(Oe=0,$t=null,$l(e,x,C,k),a&&Bl){p=0;break e}break;default:k=Oe,Oe=0,$t=null,$l(e,x,C,k)}}tb(),p=Pe;break}catch(H){Zh(e,H)}while(!0);return t&&e.shellSuspendCounter++,kn=Ba=null,Ae=r,Z.H=c,Z.A=u,ge===null&&(Ue=null,xe=0,Ls()),p}function tb(){for(;ge!==null;)Vh(ge)}function nb(e,t){var a=Ae;Ae|=2;var r=qh(),c=$h();Ue!==e||xe!==t?(hi=null,mi=_t()+500,ql(e,t)):Bl=tt(e,t);e:do try{if(Oe!==0&&ge!==null){t=ge;var u=$t;t:switch(Oe){case 1:Oe=0,$t=null,$l(e,t,u,1);break;case 2:case 9:if(Pf(u)){Oe=0,$t=null,Ih(t);break}t=function(){Oe!==2&&Oe!==9||Ue!==e||(Oe=7),_n(e)},u.then(t,t);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Pf(u)?(Oe=0,$t=null,Ih(t)):(Oe=0,$t=null,$l(e,t,u,7));break;case 5:var p=null;switch(ge.tag){case 26:p=ge.memoizedState;case 5:case 27:var x=ge;if(p?Ap(p):x.stateNode.complete){Oe=0,$t=null;var C=x.sibling;if(C!==null)ge=C;else{var k=x.return;k!==null?(ge=k,vi(k)):ge=null}break t}}Oe=0,$t=null,$l(e,t,u,5);break;case 6:Oe=0,$t=null,$l(e,t,u,6);break;case 8:uu(),Pe=6;break e;default:throw Error(o(462))}}ab();break}catch(H){Zh(e,H)}while(!0);return kn=Ba=null,Z.H=r,Z.A=c,Ae=a,ge!==null?0:(Ue=null,xe=0,Ls(),Pe)}function ab(){for(;ge!==null&&!jo();)Vh(ge)}function Vh(e){var t=mh(e.alternate,e,Yn);e.memoizedProps=e.pendingProps,t===null?vi(e):ge=t}function Ih(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=ih(a,t,t.pendingProps,t.type,void 0,xe);break;case 11:t=ih(a,t,t.pendingProps,t.type.render,t.ref,xe);break;case 5:Cc(t);default:ph(a,t),t=ge=$f(t,Yn),t=mh(a,t,Yn)}e.memoizedProps=e.pendingProps,t===null?vi(e):ge=t}function $l(e,t,a,r){kn=Ba=null,Cc(t),Dl=null,zr=0;var c=t.return;try{if(Y0(e,c,t,a,xe)){Pe=1,li(e,Kt(a,e.current)),ge=null;return}}catch(u){if(c!==null)throw ge=c,u;Pe=1,li(e,Kt(a,e.current)),ge=null;return}t.flags&32768?(Ne||r===1?e=!0:Bl||(xe&536870912)!==0?e=!1:(oa=e=!0,(r===2||r===9||r===3||r===6)&&(r=Ht.current,r!==null&&r.tag===13&&(r.flags|=16384))),Yh(t,e)):vi(t)}function vi(e){var t=e;do{if((t.flags&32768)!==0){Yh(t,oa);return}e=t.return;var a=F0(t.alternate,t,Yn);if(a!==null){ge=a;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);Pe===0&&(Pe=5)}function Yh(e,t){do{var a=Q0(e.alternate,e);if(a!==null){a.flags&=32767,ge=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ge=e;return}ge=e=a}while(e!==null);Pe=6,ge=null}function Xh(e,t,a,r,c,u,p,x,C){e.cancelPendingCommit=null;do xi();while(dt!==0);if((Ae&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(u=t.lanes|t.childLanes,u|=Po,Xt(e,a,u,p,x,C),e===Ue&&(ge=Ue=null,xe=0),Hl=t,da=e,Xn=a,iu=u,ou=c,kh=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ib(An,function(){return Jh(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=Z.T,Z.T=null,c=Q.p,Q.p=2,p=Ae,Ae|=4;try{K0(e,t,a)}finally{Ae=p,Q.p=c,Z.T=r}}dt=1,Gh(),Fh(),Qh()}}function Gh(){if(dt===1){dt=0;var e=da,t=Hl,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=Z.T,Z.T=null;var r=Q.p;Q.p=2;var c=Ae;Ae|=4;try{Eh(t,e);var u=ju,p=Rf(e.containerInfo),x=u.focusedElem,C=u.selectionRange;if(p!==x&&x&&x.ownerDocument&&Of(x.ownerDocument.documentElement,x)){if(C!==null&&Fo(x)){var k=C.start,H=C.end;if(H===void 0&&(H=k),"selectionStart"in x)x.selectionStart=k,x.selectionEnd=Math.min(H,x.value.length);else{var I=x.ownerDocument||document,L=I&&I.defaultView||window;if(L.getSelection){var U=L.getSelection(),P=x.textContent.length,ie=Math.min(C.start,P),Le=C.end===void 0?ie:Math.min(C.end,P);!U.extend&&ie>Le&&(p=Le,Le=ie,ie=p);var O=Df(x,ie),A=Df(x,Le);if(O&&A&&(U.rangeCount!==1||U.anchorNode!==O.node||U.anchorOffset!==O.offset||U.focusNode!==A.node||U.focusOffset!==A.offset)){var M=I.createRange();M.setStart(O.node,O.offset),U.removeAllRanges(),ie>Le?(U.addRange(M),U.extend(A.node,A.offset)):(M.setEnd(A.node,A.offset),U.addRange(M))}}}}for(I=[],U=x;U=U.parentNode;)U.nodeType===1&&I.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<I.length;x++){var $=I[x];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}zi=!!_u,ju=_u=null}finally{Ae=c,Q.p=r,Z.T=a}}e.current=t,dt=2}}function Fh(){if(dt===2){dt=0;var e=da,t=Hl,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=Z.T,Z.T=null;var r=Q.p;Q.p=2;var c=Ae;Ae|=4;try{_h(e,t.alternate,t)}finally{Ae=c,Q.p=r,Z.T=a}}dt=3}}function Qh(){if(dt===4||dt===3){dt=0,Ta();var e=da,t=Hl,a=Xn,r=kh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?dt=5:(dt=0,Hl=da=null,Kh(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ua=null),Ao(a),t=t.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Qn,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=Z.T,c=Q.p,Q.p=2,Z.T=null;try{for(var u=e.onRecoverableError,p=0;p<r.length;p++){var x=r[p];u(x.value,{componentStack:x.stack})}}finally{Z.T=t,Q.p=c}}(Xn&3)!==0&&xi(),_n(e),c=e.pendingLanes,(a&261930)!==0&&(c&42)!==0?e===cu?Gr++:(Gr=0,cu=e):Gr=0,Fr(0)}}function Kh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Tr(t)))}function xi(){return Gh(),Fh(),Qh(),Jh()}function Jh(){if(dt!==5)return!1;var e=da,t=iu;iu=0;var a=Ao(Xn),r=Z.T,c=Q.p;try{Q.p=32>a?32:a,Z.T=null,a=ou,ou=null;var u=da,p=Xn;if(dt=0,Hl=da=null,Xn=0,(Ae&6)!==0)throw Error(o(331));var x=Ae;if(Ae|=4,Oh(u.current),Ah(u,u.current,p,a),Ae=x,Fr(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Qn,u)}catch{}return!0}finally{Q.p=c,Z.T=r,Kh(e,t)}}function Wh(e,t,a){t=Kt(a,t),t=qc(e.stateNode,t,2),e=la(e,t,2),e!==null&&(At(e,2),_n(e))}function Re(e,t,a){if(e.tag===3)Wh(e,e,a);else for(;t!==null;){if(t.tag===3){Wh(t,e,a);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ua===null||!ua.has(r))){e=Kt(a,e),a=Pm(2),r=la(t,a,2),r!==null&&(eh(a,r,t,e),At(r,2),_n(r));break}}t=t.return}}function fu(e,t,a){var r=e.pingCache;if(r===null){r=e.pingCache=new P0;var c=new Set;r.set(t,c)}else c=r.get(t),c===void 0&&(c=new Set,r.set(t,c));c.has(a)||(lu=!0,c.add(a),e=lb.bind(null,e,t,a),t.then(e,e))}function lb(e,t,a){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ue===e&&(xe&a)===a&&(Pe===4||Pe===3&&(xe&62914560)===xe&&300>_t()-fi?(Ae&2)===0&&ql(e,0):ru|=a,Zl===xe&&(Zl=0)),_n(e)}function Ph(e,t){t===0&&(t=Tt()),e=ka(e,t),e!==null&&(At(e,t),_n(e))}function rb(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Ph(e,a)}function sb(e,t){var a=0;switch(e.tag){case 31:case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}r!==null&&r.delete(t),Ph(e,a)}function ib(e,t){return gn(e,t)}var bi=null,Vl=null,mu=!1,yi=!1,hu=!1,ma=0;function _n(e){e!==Vl&&e.next===null&&(Vl===null?bi=Vl=e:Vl=Vl.next=e),yi=!0,mu||(mu=!0,cb())}function Fr(e,t){if(!hu&&yi){hu=!0;do for(var a=!1,r=bi;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var u=0;else{var p=r.suspendedLanes,x=r.pingedLanes;u=(1<<31-wt(42|e)+1)-1,u&=c&~(p&~x),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,ap(r,u))}else u=xe,u=ut(r,r===Ue?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(u&3)===0||tt(r,u)||(a=!0,ap(r,u));r=r.next}while(a);hu=!1}}function ob(){ep()}function ep(){yi=mu=!1;var e=0;ma!==0&&bb()&&(e=ma);for(var t=_t(),a=null,r=bi;r!==null;){var c=r.next,u=tp(r,t);u===0?(r.next=null,a===null?bi=c:a.next=c,c===null&&(Vl=a)):(a=r,(e!==0||(u&3)!==0)&&(yi=!0)),r=c}dt!==0&&dt!==5||Fr(e),ma!==0&&(ma=0)}function tp(e,t){for(var a=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var p=31-wt(u),x=1<<p,C=c[p];C===-1?((x&a)===0||(x&r)!==0)&&(c[p]=xn(x,t)):C<=t&&(e.expiredLanes|=x),u&=~x}if(t=Ue,a=xe,a=ut(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,a===0||e===t&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&cl(r),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||tt(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(r!==null&&cl(r),Ao(a)){case 2:case 8:a=ws;break;case 32:a=An;break;case 268435456:a=mr;break;default:a=An}return r=np.bind(null,e),a=gn(a,r),e.callbackPriority=t,e.callbackNode=a,t}return r!==null&&r!==null&&cl(r),e.callbackPriority=2,e.callbackNode=null,2}function np(e,t){if(dt!==0&&dt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(xi()&&e.callbackNode!==a)return null;var r=xe;return r=ut(e,e===Ue?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Uh(e,r,t),tp(e,_t()),e.callbackNode!=null&&e.callbackNode===a?np.bind(null,e):null)}function ap(e,t){if(xi())return null;Uh(e,t,!0)}function cb(){Nb(function(){(Ae&6)!==0?gn(js,ob):ep()})}function pu(){if(ma===0){var e=Tl;e===0&&(e=we,we<<=1,(we&261888)===0&&(we=256)),ma=e}return ma}function lp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ts(""+e)}function rp(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function ub(e,t,a,r,c){if(t==="submit"&&a&&a.stateNode===c){var u=lp((c[zt]||null).action),p=r.submitter;p&&(t=(t=p[zt]||null)?lp(t.formAction):p.getAttribute("formAction"),t!==null&&(u=t,p=null));var x=new Os("action","action",null,r,c);e.push({event:x,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ma!==0){var C=p?rp(c,p):new FormData(c);kc(a,{pending:!0,data:C,method:c.method,action:u},null,C)}}else typeof u=="function"&&(x.preventDefault(),C=p?rp(c,p):new FormData(c),kc(a,{pending:!0,data:C,method:c.method,action:u},u,C))},currentTarget:c}]})}}for(var gu=0;gu<Wo.length;gu++){var vu=Wo[gu],db=vu.toLowerCase(),fb=vu[0].toUpperCase()+vu.slice(1);on(db,"on"+fb)}on(Lf,"onAnimationEnd"),on(Uf,"onAnimationIteration"),on(Bf,"onAnimationStart"),on("dblclick","onDoubleClick"),on("focusin","onFocus"),on("focusout","onBlur"),on(T0,"onTransitionRun"),on(A0,"onTransitionStart"),on(z0,"onTransitionCancel"),on(Zf,"onTransitionEnd"),hl("onMouseEnter",["mouseout","mouseover"]),hl("onMouseLeave",["mouseout","mouseover"]),hl("onPointerEnter",["pointerout","pointerover"]),hl("onPointerLeave",["pointerout","pointerover"]),Da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Da("onBeforeInput",["compositionend","keypress","textInput","paste"]),Da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qr));function sp(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var r=e[a],c=r.event;r=r.listeners;e:{var u=void 0;if(t)for(var p=r.length-1;0<=p;p--){var x=r[p],C=x.instance,k=x.currentTarget;if(x=x.listener,C!==u&&c.isPropagationStopped())break e;u=x,c.currentTarget=k;try{u(c)}catch(H){ks(H)}c.currentTarget=null,u=C}else for(p=0;p<r.length;p++){if(x=r[p],C=x.instance,k=x.currentTarget,x=x.listener,C!==u&&c.isPropagationStopped())break e;u=x,c.currentTarget=k;try{u(c)}catch(H){ks(H)}c.currentTarget=null,u=C}}}}function ve(e,t){var a=t[zo];a===void 0&&(a=t[zo]=new Set);var r=e+"__bubble";a.has(r)||(ip(t,e,2,!1),a.add(r))}function xu(e,t,a){var r=0;t&&(r|=4),ip(a,e,r,t)}var Ni="_reactListening"+Math.random().toString(36).slice(2);function bu(e){if(!e[Ni]){e[Ni]=!0,Pd.forEach(function(a){a!=="selectionchange"&&(mb.has(a)||xu(a,!1,e),xu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ni]||(t[Ni]=!0,xu("selectionchange",!1,t))}}function ip(e,t,a,r){switch(Lp(t)){case 2:var c=qb;break;case 8:c=$b;break;default:c=Mu}a=c.bind(null,t,a,e),c=void 0,!Zo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(t,a,{capture:!0,passive:c}):e.addEventListener(t,a,!0):c!==void 0?e.addEventListener(t,a,{passive:c}):e.addEventListener(t,a,!1)}function yu(e,t,a,r,c){var u=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var p=r.tag;if(p===3||p===4){var x=r.stateNode.containerInfo;if(x===c)break;if(p===4)for(p=r.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;x!==null;){if(p=dl(x),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){r=u=p;continue e}x=x.parentNode}}r=r.return}ff(function(){var k=u,H=Uo(a),I=[];e:{var L=Hf.get(e);if(L!==void 0){var U=Os,P=e;switch(e){case"keypress":if(zs(a)===0)break e;case"keydown":case"keyup":U=s0;break;case"focusin":P="focus",U=Vo;break;case"focusout":P="blur",U=Vo;break;case"beforeblur":case"afterblur":U=Vo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=pf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Fx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=c0;break;case Lf:case Uf:case Bf:U=Jx;break;case Zf:U=d0;break;case"scroll":case"scrollend":U=Xx;break;case"wheel":U=m0;break;case"copy":case"cut":case"paste":U=Px;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=vf;break;case"toggle":case"beforetoggle":U=p0}var ie=(t&4)!==0,Le=!ie&&(e==="scroll"||e==="scrollend"),O=ie?L!==null?L+"Capture":null:L;ie=[];for(var A=k,M;A!==null;){var $=A;if(M=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||M===null||O===null||($=vr(A,O),$!=null&&ie.push(Kr(A,$,M))),Le)break;A=A.return}0<ie.length&&(L=new U(L,P,null,a,H),I.push({event:L,listeners:ie}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",L&&a!==Lo&&(P=a.relatedTarget||a.fromElement)&&(dl(P)||P[ul]))break e;if((U||L)&&(L=H.window===H?H:(L=H.ownerDocument)?L.defaultView||L.parentWindow:window,U?(P=a.relatedTarget||a.toElement,U=k,P=P?dl(P):null,P!==null&&(Le=f(P),ie=P.tag,P!==Le||ie!==5&&ie!==27&&ie!==6)&&(P=null)):(U=null,P=k),U!==P)){if(ie=pf,$="onMouseLeave",O="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(ie=vf,$="onPointerLeave",O="onPointerEnter",A="pointer"),Le=U==null?L:gr(U),M=P==null?L:gr(P),L=new ie($,A+"leave",U,a,H),L.target=Le,L.relatedTarget=M,$=null,dl(H)===k&&(ie=new ie(O,A+"enter",P,a,H),ie.target=M,ie.relatedTarget=Le,$=ie),Le=$,U&&P)t:{for(ie=hb,O=U,A=P,M=0,$=O;$;$=ie($))M++;$=0;for(var re=A;re;re=ie(re))$++;for(;0<M-$;)O=ie(O),M--;for(;0<$-M;)A=ie(A),$--;for(;M--;){if(O===A||A!==null&&O===A.alternate){ie=O;break t}O=ie(O),A=ie(A)}ie=null}else ie=null;U!==null&&op(I,L,U,ie,!1),P!==null&&Le!==null&&op(I,Le,P,ie,!0)}}e:{if(L=k?gr(k):window,U=L.nodeName&&L.nodeName.toLowerCase(),U==="select"||U==="input"&&L.type==="file")var Se=Sf;else if(jf(L))if(Cf)Se=S0;else{Se=j0;var ee=_0}else U=L.nodeName,!U||U.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?k&&ko(k.elementType)&&(Se=Sf):Se=w0;if(Se&&(Se=Se(e,k))){wf(I,Se,a,H);break e}ee&&ee(e,L,k),e==="focusout"&&k&&L.type==="number"&&k.memoizedProps.value!=null&&Mo(L,"number",L.value)}switch(ee=k?gr(k):window,e){case"focusin":(jf(ee)||ee.contentEditable==="true")&&(yl=ee,Qo=k,Sr=null);break;case"focusout":Sr=Qo=yl=null;break;case"mousedown":Ko=!0;break;case"contextmenu":case"mouseup":case"dragend":Ko=!1,Mf(I,a,H);break;case"selectionchange":if(E0)break;case"keydown":case"keyup":Mf(I,a,H)}var me;if(Yo)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else bl?Nf(e,a)&&(be="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(xf&&a.locale!=="ko"&&(bl||be!=="onCompositionStart"?be==="onCompositionEnd"&&bl&&(me=mf()):(Jn=H,Ho="value"in Jn?Jn.value:Jn.textContent,bl=!0)),ee=_i(k,be),0<ee.length&&(be=new gf(be,e,null,a,H),I.push({event:be,listeners:ee}),me?be.data=me:(me=_f(a),me!==null&&(be.data=me)))),(me=v0?x0(e,a):b0(e,a))&&(be=_i(k,"onBeforeInput"),0<be.length&&(ee=new gf("onBeforeInput","beforeinput",null,a,H),I.push({event:ee,listeners:be}),ee.data=me)),ub(I,e,k,a,H)}sp(I,t)})}function Kr(e,t,a){return{instance:e,listener:t,currentTarget:a}}function _i(e,t){for(var a=t+"Capture",r=[];e!==null;){var c=e,u=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||u===null||(c=vr(e,a),c!=null&&r.unshift(Kr(e,c,u)),c=vr(e,t),c!=null&&r.push(Kr(e,c,u))),e.tag===3)return r;e=e.return}return[]}function hb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function op(e,t,a,r,c){for(var u=t._reactName,p=[];a!==null&&a!==r;){var x=a,C=x.alternate,k=x.stateNode;if(x=x.tag,C!==null&&C===r)break;x!==5&&x!==26&&x!==27||k===null||(C=k,c?(k=vr(a,u),k!=null&&p.unshift(Kr(a,k,C))):c||(k=vr(a,u),k!=null&&p.push(Kr(a,k,C)))),a=a.return}p.length!==0&&e.push({event:t,listeners:p})}var pb=/\r\n?/g,gb=/\u0000|\uFFFD/g;function cp(e){return(typeof e=="string"?e:""+e).replace(pb,`
`).replace(gb,"")}function up(e,t){return t=cp(t),cp(e)===t}function ke(e,t,a,r,c,u){switch(a){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||gl(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&gl(e,""+r);break;case"className":Cs(e,"class",r);break;case"tabIndex":Cs(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Cs(e,a,r);break;case"style":uf(e,r,u);break;case"data":if(t!=="object"){Cs(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=Ts(""+r),e.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&ke(e,t,"name",c.name,c,null),ke(e,t,"formEncType",c.formEncType,c,null),ke(e,t,"formMethod",c.formMethod,c,null),ke(e,t,"formTarget",c.formTarget,c,null)):(ke(e,t,"encType",c.encType,c,null),ke(e,t,"method",c.method,c,null),ke(e,t,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=Ts(""+r),e.setAttribute(a,r);break;case"onClick":r!=null&&(e.onclick=Dn);break;case"onScroll":r!=null&&ve("scroll",e);break;case"onScrollEnd":r!=null&&ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(a=r.__html,a!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}a=Ts(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""+r):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":r===!0?e.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,r):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(a,r):e.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(a):e.setAttribute(a,r);break;case"popover":ve("beforetoggle",e),ve("toggle",e),Ss(e,"popover",r);break;case"xlinkActuate":zn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":zn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":zn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":zn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":zn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":zn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":zn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":zn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":zn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Ss(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ix.get(a)||a,Ss(e,a,r))}}function Nu(e,t,a,r,c,u){switch(a){case"style":uf(e,r,u);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(a=r.__html,a!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof r=="string"?gl(e,r):(typeof r=="number"||typeof r=="bigint")&&gl(e,""+r);break;case"onScroll":r!=null&&ve("scroll",e);break;case"onScrollEnd":r!=null&&ve("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ef.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),t=a.slice(2,c?a.length-7:void 0),u=e[zt]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,c),typeof r=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,r,c);break e}a in e?e[a]=r:r===!0?e.setAttribute(a,""):Ss(e,a,r)}}}function yt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",e),ve("load",e);var r=!1,c=!1,u;for(u in a)if(a.hasOwnProperty(u)){var p=a[u];if(p!=null)switch(u){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ke(e,t,u,p,a,null)}}c&&ke(e,t,"srcSet",a.srcSet,a,null),r&&ke(e,t,"src",a.src,a,null);return;case"input":ve("invalid",e);var x=u=p=c=null,C=null,k=null;for(r in a)if(a.hasOwnProperty(r)){var H=a[r];if(H!=null)switch(r){case"name":c=H;break;case"type":p=H;break;case"checked":C=H;break;case"defaultChecked":k=H;break;case"value":u=H;break;case"defaultValue":x=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(o(137,t));break;default:ke(e,t,r,H,a,null)}}rf(e,u,x,C,k,p,c,!1);return;case"select":ve("invalid",e),r=p=u=null;for(c in a)if(a.hasOwnProperty(c)&&(x=a[c],x!=null))switch(c){case"value":u=x;break;case"defaultValue":p=x;break;case"multiple":r=x;default:ke(e,t,c,x,a,null)}t=u,a=p,e.multiple=!!r,t!=null?pl(e,!!r,t,!1):a!=null&&pl(e,!!r,a,!0);return;case"textarea":ve("invalid",e),u=c=r=null;for(p in a)if(a.hasOwnProperty(p)&&(x=a[p],x!=null))switch(p){case"value":r=x;break;case"defaultValue":c=x;break;case"children":u=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(o(91));break;default:ke(e,t,p,x,a,null)}of(e,r,c,u);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(r=a[C],r!=null))switch(C){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:ke(e,t,C,r,a,null)}return;case"dialog":ve("beforetoggle",e),ve("toggle",e),ve("cancel",e),ve("close",e);break;case"iframe":case"object":ve("load",e);break;case"video":case"audio":for(r=0;r<Qr.length;r++)ve(Qr[r],e);break;case"image":ve("error",e),ve("load",e);break;case"details":ve("toggle",e);break;case"embed":case"source":case"link":ve("error",e),ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(r=a[k],r!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ke(e,t,k,r,a,null)}return;default:if(ko(t)){for(H in a)a.hasOwnProperty(H)&&(r=a[H],r!==void 0&&Nu(e,t,H,r,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(r=a[x],r!=null&&ke(e,t,x,r,a,null))}function vb(e,t,a,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,u=null,p=null,x=null,C=null,k=null,H=null;for(U in a){var I=a[U];if(a.hasOwnProperty(U)&&I!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":C=I;default:r.hasOwnProperty(U)||ke(e,t,U,null,r,I)}}for(var L in r){var U=r[L];if(I=a[L],r.hasOwnProperty(L)&&(U!=null||I!=null))switch(L){case"type":u=U;break;case"name":c=U;break;case"checked":k=U;break;case"defaultChecked":H=U;break;case"value":p=U;break;case"defaultValue":x=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(o(137,t));break;default:U!==I&&ke(e,t,L,U,r,I)}}Ro(e,p,x,C,k,H,u,c);return;case"select":U=p=x=L=null;for(u in a)if(C=a[u],a.hasOwnProperty(u)&&C!=null)switch(u){case"value":break;case"multiple":U=C;default:r.hasOwnProperty(u)||ke(e,t,u,null,r,C)}for(c in r)if(u=r[c],C=a[c],r.hasOwnProperty(c)&&(u!=null||C!=null))switch(c){case"value":L=u;break;case"defaultValue":x=u;break;case"multiple":p=u;default:u!==C&&ke(e,t,c,u,r,C)}t=x,a=p,r=U,L!=null?pl(e,!!a,L,!1):!!r!=!!a&&(t!=null?pl(e,!!a,t,!0):pl(e,!!a,a?[]:"",!1));return;case"textarea":U=L=null;for(x in a)if(c=a[x],a.hasOwnProperty(x)&&c!=null&&!r.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:ke(e,t,x,null,r,c)}for(p in r)if(c=r[p],u=a[p],r.hasOwnProperty(p)&&(c!=null||u!=null))switch(p){case"value":L=c;break;case"defaultValue":U=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==u&&ke(e,t,p,c,r,u)}sf(e,L,U);return;case"option":for(var P in a)if(L=a[P],a.hasOwnProperty(P)&&L!=null&&!r.hasOwnProperty(P))switch(P){case"selected":e.selected=!1;break;default:ke(e,t,P,null,r,L)}for(C in r)if(L=r[C],U=a[C],r.hasOwnProperty(C)&&L!==U&&(L!=null||U!=null))switch(C){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:ke(e,t,C,L,r,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in a)L=a[ie],a.hasOwnProperty(ie)&&L!=null&&!r.hasOwnProperty(ie)&&ke(e,t,ie,null,r,L);for(k in r)if(L=r[k],U=a[k],r.hasOwnProperty(k)&&L!==U&&(L!=null||U!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(o(137,t));break;default:ke(e,t,k,L,r,U)}return;default:if(ko(t)){for(var Le in a)L=a[Le],a.hasOwnProperty(Le)&&L!==void 0&&!r.hasOwnProperty(Le)&&Nu(e,t,Le,void 0,r,L);for(H in r)L=r[H],U=a[H],!r.hasOwnProperty(H)||L===U||L===void 0&&U===void 0||Nu(e,t,H,L,r,U);return}}for(var O in a)L=a[O],a.hasOwnProperty(O)&&L!=null&&!r.hasOwnProperty(O)&&ke(e,t,O,null,r,L);for(I in r)L=r[I],U=a[I],!r.hasOwnProperty(I)||L===U||L==null&&U==null||ke(e,t,I,L,r,U)}function dp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var c=a[r],u=c.transferSize,p=c.initiatorType,x=c.duration;if(u&&x&&dp(p)){for(p=0,x=c.responseEnd,r+=1;r<a.length;r++){var C=a[r],k=C.startTime;if(k>x)break;var H=C.transferSize,I=C.initiatorType;H&&dp(I)&&(C=C.responseEnd,p+=H*(C<x?1:(x-k)/(C-k)))}if(--r,t+=8*(u+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _u=null,ju=null;function ji(e){return e.nodeType===9?e:e.ownerDocument}function fp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function wu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Su=null;function bb(){var e=window.event;return e&&e.type==="popstate"?e===Su?!1:(Su=e,!0):(Su=null,!1)}var hp=typeof setTimeout=="function"?setTimeout:void 0,yb=typeof clearTimeout=="function"?clearTimeout:void 0,pp=typeof Promise=="function"?Promise:void 0,Nb=typeof queueMicrotask=="function"?queueMicrotask:typeof pp<"u"?function(e){return pp.resolve(null).then(e).catch(_b)}:hp;function _b(e){setTimeout(function(){throw e})}function ha(e){return e==="head"}function gp(e,t){var a=t,r=0;do{var c=a.nextSibling;if(e.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(r===0){e.removeChild(c),Gl(t);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")Jr(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Jr(a);for(var u=a.firstChild;u;){var p=u.nextSibling,x=u.nodeName;u[pr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=p}}else a==="body"&&Jr(e.ownerDocument.body);a=c}while(a);Gl(t)}function vp(e,t){var a=e;e=0;do{var r=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=r}while(a)}function Cu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Cu(a),Do(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function jb(e,t,a,r){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[pr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=tn(e.nextSibling),e===null)break}return null}function wb(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=tn(e.nextSibling),e===null))return null;return e}function xp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=tn(e.nextSibling),e===null))return null;return e}function Eu(e){return e.data==="$?"||e.data==="$~"}function Tu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Sb(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var r=function(){t(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Au=null;function bp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return tn(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function yp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Np(e,t,a){switch(t=ji(a),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Jr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Do(e)}var nn=new Map,_p=new Set;function wi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Gn=Q.d;Q.d={f:Cb,r:Eb,D:Tb,C:Ab,L:zb,m:Db,X:Rb,S:Ob,M:Mb};function Cb(){var e=Gn.f(),t=pi();return e||t}function Eb(e){var t=fl(e);t!==null&&t.tag===5&&t.type==="form"?Zm(t):Gn.r(e)}var Il=typeof document>"u"?null:document;function jp(e,t,a){var r=Il;if(r&&typeof t=="string"&&t){var c=Ft(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),_p.has(c)||(_p.add(c),e={rel:e,crossOrigin:a,href:t},r.querySelector(c)===null&&(t=r.createElement("link"),yt(t,"link",e),mt(t),r.head.appendChild(t)))}}function Tb(e){Gn.D(e),jp("dns-prefetch",e,null)}function Ab(e,t){Gn.C(e,t),jp("preconnect",e,t)}function zb(e,t,a){Gn.L(e,t,a);var r=Il;if(r&&e&&t){var c='link[rel="preload"][as="'+Ft(t)+'"]';t==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Ft(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Ft(a.imageSizes)+'"]')):c+='[href="'+Ft(e)+'"]';var u=c;switch(t){case"style":u=Yl(e);break;case"script":u=Xl(e)}nn.has(u)||(e=b({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),nn.set(u,e),r.querySelector(c)!==null||t==="style"&&r.querySelector(Wr(u))||t==="script"&&r.querySelector(Pr(u))||(t=r.createElement("link"),yt(t,"link",e),mt(t),r.head.appendChild(t)))}}function Db(e,t){Gn.m(e,t);var a=Il;if(a&&e){var r=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Ft(r)+'"][href="'+Ft(e)+'"]',u=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Xl(e)}if(!nn.has(u)&&(e=b({rel:"modulepreload",href:e},t),nn.set(u,e),a.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pr(u)))return}r=a.createElement("link"),yt(r,"link",e),mt(r),a.head.appendChild(r)}}}function Ob(e,t,a){Gn.S(e,t,a);var r=Il;if(r&&e){var c=ml(r).hoistableStyles,u=Yl(e);t=t||"default";var p=c.get(u);if(!p){var x={loading:0,preload:null};if(p=r.querySelector(Wr(u)))x.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},a),(a=nn.get(u))&&zu(e,a);var C=p=r.createElement("link");mt(C),yt(C,"link",e),C._p=new Promise(function(k,H){C.onload=k,C.onerror=H}),C.addEventListener("load",function(){x.loading|=1}),C.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Si(p,t,r)}p={type:"stylesheet",instance:p,count:1,state:x},c.set(u,p)}}}function Rb(e,t){Gn.X(e,t);var a=Il;if(a&&e){var r=ml(a).hoistableScripts,c=Xl(e),u=r.get(c);u||(u=a.querySelector(Pr(c)),u||(e=b({src:e,async:!0},t),(t=nn.get(c))&&Du(e,t),u=a.createElement("script"),mt(u),yt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(c,u))}}function Mb(e,t){Gn.M(e,t);var a=Il;if(a&&e){var r=ml(a).hoistableScripts,c=Xl(e),u=r.get(c);u||(u=a.querySelector(Pr(c)),u||(e=b({src:e,async:!0,type:"module"},t),(t=nn.get(c))&&Du(e,t),u=a.createElement("script"),mt(u),yt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(c,u))}}function wp(e,t,a,r){var c=(c=Yt.current)?wi(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Yl(a.href),a=ml(c).hoistableStyles,r=a.get(t),r||(r={type:"style",instance:null,count:0,state:null},a.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Yl(a.href);var u=ml(c).hoistableStyles,p=u.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,p),(u=c.querySelector(Wr(e)))&&!u._p&&(p.instance=u,p.state.loading=5),nn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},nn.set(e,a),u||kb(c,e,a,p.state))),t&&r===null)throw Error(o(528,""));return p}if(t&&r!==null)throw Error(o(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Xl(a),a=ml(c).hoistableScripts,r=a.get(t),r||(r={type:"script",instance:null,count:0,state:null},a.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Yl(e){return'href="'+Ft(e)+'"'}function Wr(e){return'link[rel="stylesheet"]['+e+"]"}function Sp(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function kb(e,t,a,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),yt(t,"link",a),mt(t),e.head.appendChild(t))}function Xl(e){return'[src="'+Ft(e)+'"]'}function Pr(e){return"script[async]"+e}function Cp(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Ft(a.href)+'"]');if(r)return t.instance=r,mt(r),r;var c=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),mt(r),yt(r,"style",c),Si(r,a.precedence,e),t.instance=r;case"stylesheet":c=Yl(a.href);var u=e.querySelector(Wr(c));if(u)return t.state.loading|=4,t.instance=u,mt(u),u;r=Sp(a),(c=nn.get(c))&&zu(r,c),u=(e.ownerDocument||e).createElement("link"),mt(u);var p=u;return p._p=new Promise(function(x,C){p.onload=x,p.onerror=C}),yt(u,"link",r),t.state.loading|=4,Si(u,a.precedence,e),t.instance=u;case"script":return u=Xl(a.src),(c=e.querySelector(Pr(u)))?(t.instance=c,mt(c),c):(r=a,(c=nn.get(u))&&(r=b({},a),Du(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),mt(c),yt(c,"link",r),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Si(r,a.precedence,e));return t.instance}function Si(e,t,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,u=c,p=0;p<r.length;p++){var x=r[p];if(x.dataset.precedence===t)u=x;else if(u!==c)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function zu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Du(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ci=null;function Ep(e,t,a){if(Ci===null){var r=new Map,c=Ci=new Map;c.set(a,r)}else c=Ci,r=c.get(a),r||(r=new Map,c.set(a,r));if(r.has(e))return r;for(r.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var u=a[c];if(!(u[pr]||u[gt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var p=u.getAttribute(t)||"";p=e+p;var x=r.get(p);x?x.push(u):r.set(p,[u])}}return r}function Tp(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Lb(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ap(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ub(e,t,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=Yl(r.href),u=t.querySelector(Wr(c));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ei.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,mt(u);return}u=t.ownerDocument||t,r=Sp(r),(c=nn.get(c))&&zu(r,c),u=u.createElement("link"),mt(u);var p=u;p._p=new Promise(function(x,C){p.onload=x,p.onerror=C}),yt(u,"link",r),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ei.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Ou=0;function Bb(e,t){return e.stylesheets&&e.count===0&&Ai(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var r=setTimeout(function(){if(e.stylesheets&&Ai(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Ou===0&&(Ou=62500*xb());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ai(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Ou?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function Ei(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ai(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ti=null;function Ai(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ti=new Map,t.forEach(Zb,e),Ti=null,Ei.call(e))}function Zb(e,t){if(!(t.state.loading&4)){var a=Ti.get(e);if(a)var r=a.get(null);else{a=new Map,Ti.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<c.length;u++){var p=c[u];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),r=p)}r&&a.set(null,r)}c=t.instance,p=c.getAttribute("data-precedence"),u=a.get(p)||r,u===r&&a.set(null,c),a.set(p,c),this.count++,r=Ei.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),u?u.parentNode.insertBefore(c,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var es={$$typeof:B,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function Hb(e,t,a,r,c,u,p,x,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sn(0),this.hiddenUpdates=sn(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=u,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function zp(e,t,a,r,c,u,p,x,C,k,H,I){return e=new Hb(e,t,a,p,C,k,H,I,x),t=1,u===!0&&(t|=24),u=Zt(3,null,null,t),e.current=u,u.stateNode=e,t=dc(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:r,isDehydrated:a,cache:t},pc(u),e}function Dp(e){return e?(e=jl,e):jl}function Op(e,t,a,r,c,u){c=Dp(c),r.context===null?r.context=c:r.pendingContext=c,r=aa(t),r.payload={element:a},u=u===void 0?null:u,u!==null&&(r.callback=u),a=la(e,r,t),a!==null&&(Lt(a,e,t),Or(a,e,t))}function Rp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Ru(e,t){Rp(e,t),(e=e.alternate)&&Rp(e,t)}function Mp(e){if(e.tag===13||e.tag===31){var t=ka(e,67108864);t!==null&&Lt(t,e,67108864),Ru(e,67108864)}}function kp(e){if(e.tag===13||e.tag===31){var t=It();t=To(t);var a=ka(e,t);a!==null&&Lt(a,e,t),Ru(e,t)}}var zi=!0;function qb(e,t,a,r){var c=Z.T;Z.T=null;var u=Q.p;try{Q.p=2,Mu(e,t,a,r)}finally{Q.p=u,Z.T=c}}function $b(e,t,a,r){var c=Z.T;Z.T=null;var u=Q.p;try{Q.p=8,Mu(e,t,a,r)}finally{Q.p=u,Z.T=c}}function Mu(e,t,a,r){if(zi){var c=ku(r);if(c===null)yu(e,t,r,Di,a),Up(e,r);else if(Ib(c,e,t,a,r))r.stopPropagation();else if(Up(e,r),t&4&&-1<Vb.indexOf(e)){for(;c!==null;){var u=fl(c);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var p=De(u.pendingLanes);if(p!==0){var x=u;for(x.pendingLanes|=2,x.entangledLanes|=2;p;){var C=1<<31-wt(p);x.entanglements[1]|=C,p&=~C}_n(u),(Ae&6)===0&&(mi=_t()+500,Fr(0))}}break;case 31:case 13:x=ka(u,2),x!==null&&Lt(x,u,2),pi(),Ru(u,2)}if(u=ku(r),u===null&&yu(e,t,r,Di,a),u===c)break;c=u}c!==null&&r.stopPropagation()}else yu(e,t,r,null,a)}}function ku(e){return e=Uo(e),Lu(e)}var Di=null;function Lu(e){if(Di=null,e=dl(e),e!==null){var t=f(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=m(t),e!==null)return e;e=null}else if(a===31){if(e=h(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Di=e,null}function Lp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_s()){case js:return 2;case ws:return 8;case An:case wo:return 32;case mr:return 268435456;default:return 32}default:return 32}}var Uu=!1,pa=null,ga=null,va=null,ts=new Map,ns=new Map,xa=[],Vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Up(e,t){switch(e){case"focusin":case"focusout":pa=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":ts.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ns.delete(t.pointerId)}}function as(e,t,a,r,c,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:r,nativeEvent:u,targetContainers:[c]},t!==null&&(t=fl(t),t!==null&&Mp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Ib(e,t,a,r,c){switch(t){case"focusin":return pa=as(pa,e,t,a,r,c),!0;case"dragenter":return ga=as(ga,e,t,a,r,c),!0;case"mouseover":return va=as(va,e,t,a,r,c),!0;case"pointerover":var u=c.pointerId;return ts.set(u,as(ts.get(u)||null,e,t,a,r,c)),!0;case"gotpointercapture":return u=c.pointerId,ns.set(u,as(ns.get(u)||null,e,t,a,r,c)),!0}return!1}function Bp(e){var t=dl(e.target);if(t!==null){var a=f(t);if(a!==null){if(t=a.tag,t===13){if(t=m(a),t!==null){e.blockedOn=t,Jd(e.priority,function(){kp(a)});return}}else if(t===31){if(t=h(a),t!==null){e.blockedOn=t,Jd(e.priority,function(){kp(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=ku(e.nativeEvent);if(a===null){a=e.nativeEvent;var r=new a.constructor(a.type,a);Lo=r,a.target.dispatchEvent(r),Lo=null}else return t=fl(a),t!==null&&Mp(t),e.blockedOn=a,!1;t.shift()}return!0}function Zp(e,t,a){Oi(e)&&a.delete(t)}function Yb(){Uu=!1,pa!==null&&Oi(pa)&&(pa=null),ga!==null&&Oi(ga)&&(ga=null),va!==null&&Oi(va)&&(va=null),ts.forEach(Zp),ns.forEach(Zp)}function Ri(e,t){e.blockedOn===t&&(e.blockedOn=null,Uu||(Uu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Yb)))}var Mi=null;function Hp(e){Mi!==e&&(Mi=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Mi===e&&(Mi=null);for(var t=0;t<e.length;t+=3){var a=e[t],r=e[t+1],c=e[t+2];if(typeof r!="function"){if(Lu(r||a)===null)continue;break}var u=fl(a);u!==null&&(e.splice(t,3),t-=3,kc(u,{pending:!0,data:c,method:a.method,action:r},r,c))}}))}function Gl(e){function t(C){return Ri(C,e)}pa!==null&&Ri(pa,e),ga!==null&&Ri(ga,e),va!==null&&Ri(va,e),ts.forEach(t),ns.forEach(t);for(var a=0;a<xa.length;a++){var r=xa[a];r.blockedOn===e&&(r.blockedOn=null)}for(;0<xa.length&&(a=xa[0],a.blockedOn===null);)Bp(a),a.blockedOn===null&&xa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var c=a[r],u=a[r+1],p=c[zt]||null;if(typeof u=="function")p||Hp(a);else if(p){var x=null;if(u&&u.hasAttribute("formAction")){if(c=u,p=u[zt]||null)x=p.formAction;else if(Lu(c)!==null)continue}else x=p.action;typeof x=="function"?a[r+1]=x:(a.splice(r,3),r-=3),Hp(a)}}}function qp(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function Bu(e){this._internalRoot=e}ki.prototype.render=Bu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var a=t.current,r=It();Op(a,r,e,t,null,null)},ki.prototype.unmount=Bu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Op(e.current,2,null,e,null,null),pi(),t[ul]=null}};function ki(e){this._internalRoot=e}ki.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kd();e={blockedOn:null,target:e,priority:t};for(var a=0;a<xa.length&&t!==0&&t<xa[a].priority;a++);xa.splice(a,0,e),a===0&&Bp(e)}};var $p=l.version;if($p!=="19.2.3")throw Error(o(527,$p,"19.2.3"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=v(t),e=e!==null?N(e):null,e=e===null?null:e.stateNode,e};var Xb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Li=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Li.isDisabled&&Li.supportsFiber)try{Qn=Li.inject(Xb),jt=Li}catch{}}return rs.createRoot=function(e,t){if(!d(e))throw Error(o(299));var a=!1,r="",c=Qm,u=Km,p=Jm;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=zp(e,1,!1,null,null,a,r,null,c,u,p,qp),e[ul]=t.current,bu(e),new Bu(t)},rs.hydrateRoot=function(e,t,a){if(!d(e))throw Error(o(299));var r=!1,c="",u=Qm,p=Km,x=Jm,C=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),t=zp(e,1,!0,t,a??null,r,c,C,u,p,x,qp),t.context=Dp(null),a=t.current,r=It(),r=To(r),c=aa(r),c.callback=null,la(a,c,r),a=r,t.current.lanes=a,At(t,a),_n(t),e[ul]=t.current,bu(e),new ki(t)},rs.version="19.2.3",rs}var Fp;function Hy(){if(Fp)return Hu.exports;Fp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(l){console.error(l)}}return n(),Hu.exports=Zy(),Hu.exports}var qy=Hy();function Dd(n,l){let i;try{i=n()}catch{return}return{getItem:d=>{var f;const m=g=>g===null?null:JSON.parse(g,void 0),h=(f=i.getItem(d))!=null?f:null;return h instanceof Promise?h.then(m):m(h)},setItem:(d,f)=>i.setItem(d,JSON.stringify(f,void 0)),removeItem:d=>i.removeItem(d)}}const od=n=>l=>{try{const i=n(l);return i instanceof Promise?i:{then(o){return od(o)(i)},catch(o){return this}}}catch(i){return{then(o){return this},catch(o){return od(o)(i)}}}},$y=(n,l)=>(i,o,d)=>{let f={storage:Dd(()=>localStorage),partialize:E=>E,version:0,merge:(E,z)=>({...z,...E}),...l},m=!1;const h=new Set,g=new Set;let v=f.storage;if(!v)return n((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),i(...E)},o,d);const N=()=>{const E=f.partialize({...o()});return v.setItem(f.name,{state:E,version:f.version})},b=d.setState;d.setState=(E,z)=>(b(E,z),N());const y=n((...E)=>(i(...E),N()),o,d);d.getInitialState=()=>y;let _;const w=()=>{var E,z;if(!v)return;m=!1,h.forEach(R=>{var B;return R((B=o())!=null?B:y)});const T=((z=f.onRehydrateStorage)==null?void 0:z.call(f,(E=o())!=null?E:y))||void 0;return od(v.getItem.bind(v))(f.name).then(R=>{if(R)if(typeof R.version=="number"&&R.version!==f.version){if(f.migrate){const B=f.migrate(R.state,R.version);return B instanceof Promise?B.then(D=>[!0,D]):[!0,B]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,R.state];return[!1,void 0]}).then(R=>{var B;const[D,S]=R;if(_=f.merge(S,(B=o())!=null?B:y),i(_,!0),D)return N()}).then(()=>{T?.(_,void 0),_=o(),m=!0,g.forEach(R=>R(_))}).catch(R=>{T?.(void 0,R)})};return d.persist={setOptions:E=>{f={...f,...E},E.storage&&(v=E.storage)},clearStorage:()=>{v?.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>w(),hasHydrated:()=>m,onHydrate:E=>(h.add(E),()=>{h.delete(E)}),onFinishHydration:E=>(g.add(E),()=>{g.delete(E)})},f.skipHydration||w(),_||y},pv=$y,G={CURTAIN:"curtain",WALLPAPER:"wallpaper",WOODEN_BLIND:"wooden_blind",ROLLER_BLIND:"roller_blind",VERTICAL_BLIND:"vertical_blind",ALUMINUM_BLIND:"aluminum_blind",PARTITION:"partition",PLEATED_SCREEN:"pleated_screen",REMOVAL:"removal"},ze={CURTAIN_MAIN:"curtain_main",CURTAIN_SHEER:"curtain_sheer",WALLPAPER:G.WALLPAPER,WOODEN_BLIND:G.WOODEN_BLIND,ROLLER_BLIND:G.ROLLER_BLIND,VERTICAL_BLIND:G.VERTICAL_BLIND,ALUMINUM_BLIND:G.ALUMINUM_BLIND,PARTITION:G.PARTITION},lt={MAIN:"main",SHEER:"sheer",DOUBLE:"double"},Ja={CENTER:"center",SIDE:"side"},Vy="marnthara.input.v6.4",Iy=[{label:" (Wave)",value:""},{label:" (Pleated)",value:""},{label:" (Eyelet)",value:""},{label:" (Roman)",value:""},{label:"/ (Rod)",value:""},{label:" (Louis)",value:""}],_a={[G.CURTAIN]:{id:G.CURTAIN,name:"",unit:"",icon:"AlignLeft"},[G.WALLPAPER]:{id:G.WALLPAPER,name:"",unit:"",icon:"ScrollText"},[G.WOODEN_BLIND]:{id:G.WOODEN_BLIND,name:"",unit:"",icon:"Blinds"},[G.ROLLER_BLIND]:{id:G.ROLLER_BLIND,name:"",unit:"",icon:"Minimize2"},[G.VERTICAL_BLIND]:{id:G.VERTICAL_BLIND,name:"",unit:"",icon:"Columns"},[G.ALUMINUM_BLIND]:{id:G.ALUMINUM_BLIND,name:"",unit:"",icon:"Blinds"},[G.PARTITION]:{id:G.PARTITION,name:"",unit:"",icon:"Grid3X3"},[G.PLEATED_SCREEN]:{id:G.PLEATED_SCREEN,name:"",unit:"",icon:"Grid3X3"},[G.REMOVAL]:{id:G.REMOVAL,name:"/",unit:"",icon:"Scissors"}},Yy={name:"Marnthara Smart Quotation",address:"123/45     10110",phone:"081-234-5678",taxId:"",logoUrl:"",baseVatRate:0,bankAccount:{bankName:"",accountName:".  ",accountNumber:"123-4-56789-0",branch:"",isEnabled:!0},pdf:{paymentTerms:" 50%  ",priceValidity:" 30 ",notes:[" ()"," 1  ()"]}},Xy=n=>({customer:{name:"",phone:"",address:"",taxId:"",installationAddress:"",useSameAddress:!0,showInstallationAddress:!0},setCustomer:l=>n(i=>({customer:{...i.customer,...l}}))}),Od=n=>n.type===G.CURTAIN,gv=n=>n.type===G.WALLPAPER,vv=n=>n.type===G.REMOVAL,Rd=n=>!Od(n)&&!gv(n)&&!vv(n),ss=()=>Math.random().toString(36).substring(2,9),Gy=n=>({rooms:[],addRoom:l=>n(i=>{const o={id:ss(),name:l||` ${i.rooms.length+1}`,items:[],is_suspended:!1,room_defaults:{}};return{rooms:[...i.rooms,o]}}),updateRoom:(l,i)=>n(o=>({rooms:o.rooms.map(d=>d.id===l?{...d,...i}:d)})),removeRoom:l=>n(i=>({rooms:i.rooms.filter(o=>o.id!==l)})),duplicateRoom:l=>n(i=>{const o=i.rooms.find(f=>f.id===l);if(!o)return i;const d={...o,id:ss(),name:`${o.name} (Copy)`,items:o.items.map(f=>({...f,id:ss()}))};return{rooms:[...i.rooms,d]}}),toggleRoomSuspension:l=>n(i=>({rooms:i.rooms.map(o=>o.id===l?{...o,is_suspended:!o.is_suspended}:o)})),updateRoomDefaults:(l,i)=>n(o=>({rooms:o.rooms.map(d=>d.id===l?{...d,room_defaults:{...d.room_defaults,...i}}:d)})),addItem:(l,i)=>n(o=>({rooms:o.rooms.map(d=>d.id===l?{...d,items:[...d.items,{...i,id:ss()}]}:d)})),updateItem:(l,i,o)=>n(d=>({rooms:d.rooms.map(f=>f.id===l?{...f,items:f.items.map(m=>m.id===i?{...m,...o}:m)}:f)})),removeItem:(l,i)=>n(o=>({rooms:o.rooms.map(d=>d.id===l?{...d,items:d.items.filter(f=>f.id!==i)}:d)})),duplicateItem:(l,i)=>n(o=>({rooms:o.rooms.map(d=>{if(d.id!==l)return d;const f=d.items.find(h=>h.id===i);if(!f)return d;const m={...f,id:ss()};return{...d,items:[...d.items,m]}})})),updatePriceByCode:(l,i,o)=>{let d=0;const f=o.toString();return n(m=>({rooms:m.rooms.map(h=>({...h,items:h.items.map(g=>l===ze.CURTAIN_MAIN&&g.type===G.CURTAIN&&g.code===i?(d++,{...g,price_per_m_raw:f}):l===ze.CURTAIN_SHEER&&g.type===G.CURTAIN&&g.sheer_code===i?(d++,{...g,sheer_price_per_m:f}):l===ze.WALLPAPER&&g.type===G.WALLPAPER&&g.wallpaper_code===i?(d++,{...g,price_per_roll:o}):l===g.type&&Rd(g)&&g.code===i?(d++,{...g,price_sqyd:o}):g)}))})),d},resetProject:()=>n(()=>({rooms:[],customer:{name:"",phone:"",address:"",taxId:"",installationAddress:"",useSameAddress:!0,showInstallationAddress:!0},discount:{type:"amount",value:0}})),factoryReset:()=>{localStorage.removeItem("marnthara.input.v6.4"),localStorage.removeItem("marnthara.shop.config.v1"),localStorage.removeItem("marnthara-theme"),window.location.reload()}}),Fy=n=>({shopConfig:Yy,discount:{type:"amount",value:0},setDiscount:l=>n({discount:l}),updateShopConfig:l=>n(i=>({shopConfig:{...i.shopConfig,...l}})),updateLogo:l=>n(i=>({shopConfig:{...i.shopConfig,logoUrl:l}}))}),Qy=()=>Math.random().toString(36).substring(2,9),Ky=(n,l)=>({inventory:{},addToInventory:(i,o)=>{o.cost_per_yard&&o.cost_per_yard>0&&l().updateFabricCost(o.code,o.cost_per_yard);const d={id:Qy(),code:o.code,default_price_per_m:o.default_price_per_m,note:o.note};n(f=>({inventory:{...f.inventory,[i]:[...f.inventory[i]||[],d]}}))},removeFromInventory:(i,o)=>{n(d=>({inventory:{...d.inventory,[i]:(d.inventory[i]||[]).filter(f=>f.id!==o)}}))},updateInventoryItem:(i,o,d)=>{const{cost_per_yard:f,...m}=d;if(f!==void 0&&f>0){const h=l().inventory[i]?.find(g=>g.id===o);h&&h.code&&l().updateFabricCost(h.code,f)}n(h=>({inventory:{...h.inventory,[i]:(h.inventory[i]||[]).map(g=>g.id===o?{...g,...m}:g)}}))},importInventory:i=>{try{let o;const d=i.trim();try{o=JSON.parse(d)}catch{try{const h=decodeURIComponent(escape(atob(d)));o=JSON.parse(h)}catch{return!1}}const f=o.inventory||o.inventory?o.inventory:null;if(typeof f!="object"||f===null)return!1;const m={...f};return Object.values(m).forEach(h=>{Array.isArray(h)&&h.forEach(g=>{g.cost_per_yard&&g.cost_per_yard>0&&(l().updateFabricCost(g.code,g.cost_per_yard),delete g.cost_per_yard)})}),n(h=>({inventory:{...h.inventory,...m}})),!0}catch(o){return console.error("Import failed:",o),!1}}}),Jy=n=>({activeModal:null,modalProps:{},modalStack:[],openModal:(l,i={})=>n(o=>o.activeModal&&o.activeModal!==l?{modalStack:[...o.modalStack,{type:o.activeModal,props:o.modalProps}],activeModal:l,modalProps:i}:{activeModal:l,modalProps:i}),closeModal:()=>n(l=>{if(l.modalStack.length>0){const i=l.modalStack[l.modalStack.length-1],o=l.modalStack.slice(0,-1);return{activeModal:i.type,modalProps:i.props,modalStack:o}}return{activeModal:null,modalProps:{}}}),closeAllModals:()=>n({activeModal:null,modalProps:{},modalStack:[]})}),cd={sewing_pleated:{style:"",rate:0,unit:"",min_price:0},sewing_wave:{style:"",rate:0,unit:"",min_price:0},sewing_eyelet:{style:"",rate:0,unit:"",min_price:0},sewing_roman:{style:"",rate:0,unit:"",min_price:0},sewing_rod:{style:"/",rate:0,unit:"",min_price:0},sewing_louis:{style:"",rate:0,unit:"",min_price:0},installation_point:{style:" ()",rate:0,unit:"",min_price:0},removal_point:{style:"",rate:0,unit:"",min_price:0},misc:{style:"",rate:0,unit:"",min_price:0}},ud={rail_m:{style:"",rate:0,unit:"",min_price:0},installation_m:{style:" ()",rate:0,unit:"",min_price:0},bracket:{style:"",rate:0,unit:"",min_price:0},finial:{style:"",rate:0,unit:"",min_price:0}},Qp=(n,l)=>{if(!n)return l;const i={...l};return Object.keys(l).forEach(o=>{n[o]&&(i[o]={...l[o],...n[o]})}),i},Wy=(n,l)=>({laborCosts:cd,accessoryCosts:ud,fabricCosts:{},updateLaborCost:(i,o)=>n(d=>({laborCosts:{...d.laborCosts,[i]:o}})),updateAccessoryCost:(i,o)=>n(d=>({accessoryCosts:{...d.accessoryCosts,[i]:o}})),updateFabricCost:(i,o)=>n(d=>({fabricCosts:{...d.fabricCosts,[i]:o}})),batchUpdateFabricCosts:i=>n(o=>({fabricCosts:{...o.fabricCosts,...i}})),exportSecrets:()=>{const i=l();return JSON.stringify({laborCosts:i.laborCosts,accessoryCosts:i.accessoryCosts,fabricCosts:i.fabricCosts,timestamp:new Date().toISOString()},null,2)},importSecrets:i=>{try{const o=JSON.parse(i),d=Qp(o.laborCosts,cd),f=Qp(o.accessoryCosts,ud),m=o.fabricCosts||{};return n(h=>({laborCosts:{...h.laborCosts,...d},accessoryCosts:{...h.accessoryCosts,...f},fabricCosts:{...h.fabricCosts,...m}})),!0}catch(o){return console.error("Import Secret failed",o),!1}}}),Kp={curtain:{multiplier_wave:2.7,multiplier_pleated:2.7,multiplier_eyelet:2.7,multiplier_roman:1.5,roman_blind_offset:.45,hem_offset:.3,yard_conversion:1.11},wallpaper:{roll_width:.53,roll_length:10,waste_margin:.1},area:{sqm_to_sqyd:1.2,min_yield:1}},Py=n=>({formulas:Kp,updateFormula:(l,i)=>n(o=>({formulas:{...o.formulas,[l]:{...o.formulas[l],...i}}})),resetFormulas:()=>n({formulas:Kp})}),ae=zd()(pv((...n)=>({...Xy(...n),...Gy(...n),...Fy(...n),...Ky(...n),...Jy(...n),...Wy(...n),...Py(...n)}),{name:Vy,storage:Dd(()=>localStorage),version:1,partialize:n=>{const{rooms:l,customer:i,shopConfig:o,discount:d,laborCosts:f,accessoryCosts:m,fabricCosts:h,inventory:g,formulas:v}=n;return{rooms:l,customer:i,shopConfig:o,discount:d,laborCosts:f,accessoryCosts:m,fabricCosts:h,inventory:g,formulas:v}}})),W=n=>{if(typeof n=="number")return Number.isFinite(n)?n:0;if(!n)return 0;const l=typeof n=="string"?n.replace(/,/g,""):String(n),i=parseFloat(l);return Number.isFinite(i)?i:0},Cn=n=>{const l=W(n);return l>0?l.toFixed(2):""},eN=n=>{const l=n.replace(/,/g,"").trim();if(l===""||l===".")return"";let i=parseFloat(l);return isNaN(i)?n:(Math.abs(i)>=10&&(i=i/100),i.toFixed(2))},tN=(n,l=2,i=!1)=>Number.isFinite(n)?n.toLocaleString("th-TH",{minimumFractionDigits:i?2:0,maximumFractionDigits:l}):"0",Qe=n=>tN(n,2,!0),nN=n=>{if(!n)return"";const l=["","","","","","","","","","",""],i=["","","","","","",""];n=parseFloat(n.toFixed(2));let o="";if(n===0)return"";const d=h=>{let g="";const v=String(h);for(let N=0;N<v.length;N++){const b=parseInt(v[N]),y=v.length-N-1;b!==0&&(y===1&&b===1?g+=i[y]:y===1&&b===2?g+=""+i[y]:y===0&&b===1&&v.length>1?g+="":g+=l[b]+i[y])}return g},f=Math.floor(n),m=Math.round((n-f)*100);return f>0&&(o+=d(f),o+=""),m>0?(o+=d(m),o+=""):o+="",o},dd=(n,l,i,o)=>{if(n<=0)return 0;const f=(o||ae.getState().formulas).curtain;let m=2.5;if(l==="")m=f.multiplier_wave??2.7;else if(l==="")m=f.multiplier_pleated??2.7;else if(l==="")m=f.multiplier_eyelet??2.7;else if(l===""){const v=f.roman_blind_offset??.45,N=n*m+v;return Math.ceil(N/.9*100)/100}const g=(n*m+(f.hem_offset??.3))/.9;return Math.ceil(g*100)/100},Jp={calculate:(n,l)=>{if(n.enable_set_price&&W(n.set_price_override)>0)return{total:W(n.set_price_override)};const i=W(n.width_m),o=W(n.height_m);if(i<=0||o<=0)return{total:0};const d=n.layer_mode||lt.MAIN,f=d===lt.MAIN||d===lt.DOUBLE,m=d===lt.SHEER||d===lt.DOUBLE;let h=0,g=0;if(f){const w=W(n.price_per_m_raw);h=i*w}if(m){const w=W(n.sheer_price_per_m);g=i*w}let v=0,N=0;f&&(v=dd(i,n.style,n.opening_style,l?.formulas)),m&&(N=dd(i,n.style,n.opening_style,l?.formulas));const _=h+g+0+0;return{total:Math.round(_*100)/100,breakdown:{fabricPrice:h,sheerPrice:g,fabricYards:v,sheerYards:N,fabricMeters:i,sheerMeters:m?i:0}}},validate:n=>{const l=[];return W(n.width_m)<=0&&l.push(""),W(n.height_m)<=0&&l.push(""),n.style||l.push(""),l},getSpecs:n=>{const l=[` ${n.width_m} x  ${n.height_m} .`,n.style];return n.opening_style&&l.push(`(${n.opening_style})`),n.layer_mode===lt.DOUBLE&&l.push("+"),l}},Wp={calculate:(n,l)=>{const i=n.widths.reduce((w,E)=>w+W(E),0),o=W(n.height_m);if(i<=0||o<=0)return{total:0,breakdown:{}};const f=(l?.formulas||ae.getState().formulas).wallpaper,m=o+f.waste_margin,h=Math.floor(f.roll_length/m);let g=0;if(h>0){const w=Math.ceil(i/f.roll_width);g=Math.ceil(w/h)}else g=0;const v=W(n.price_per_roll),N=W(n.install_cost_per_roll),b=g*v,y=g*N;let _=b+y;return n.enable_set_price&&W(n.set_price_override)>0&&(_=W(n.set_price_override)),_=Math.round(_*100)/100,{total:_,breakdown:{rolls:g,materialPrice:b,laborPrice:y,totalWidth:i}}},validate:n=>{const l=[];return n.widths.reduce((o,d)=>o+W(d),0)<=0&&l.push(" 1 "),W(n.height_m)<=0&&l.push(""),n.wallpaper_code||l.push(""),l},getSpecs:n=>{const l=n.widths.reduce((h,g)=>h+W(g),0),i=[`:  ${l.toFixed(2)} . x  ${n.height_m} .`];n.wallpaper_code&&i.push(`: ${n.wallpaper_code}`);const{formulas:o}=ae.getState(),d=o.wallpaper,f=W(n.height_m);let m=0;if(f>0&&l>0){const h=f+d.waste_margin,g=Math.floor(d.roll_length/h);if(g>0){const v=Math.ceil(l/d.roll_width);m=Math.ceil(v/g)}}return i.push(`: ${m}  ()`),i}},Pp={calculate:n=>{if(n.enable_set_price&&W(n.set_price_override)>0)return{total:W(n.set_price_override)};const l=W(n.quantity),i=W(n.price_per_item);if(l<=0||i<=0)return{total:0};const o=l*i;return{total:Math.round(o*100)/100}},validate:n=>{const l=[];return n.description||l.push(""),!n.enable_set_price&&W(n.price_per_item)<=0&&l.push(""),l},getSpecs:n=>{const l=[];n.description&&l.push(n.description);const i=W(n.quantity);return i>0&&l.push(`: ${i} /`),l}},ir=n=>({calculate:(l,i)=>{if(l.enable_set_price&&W(l.set_price_override)>0)return{total:W(l.set_price_override)};const o=W(l.width_m),d=W(l.height_m),f=W(l.price_sqyd);if(o<=0||d<=0)return{total:0,breakdown:{areaSqm:0,areaSqyd:0,pricePerUnit:0}};const m=o*d,h=i?.formulas?.area||ae.getState().formulas.area,g=h?.sqm_to_sqyd??1.2;let v=m*g;const N=h?.min_yield??1;v<N&&(v=N);let b=v*f;return b=Math.round(b*100)/100,{total:b,breakdown:{areaSqm:m,areaSqyd:v,pricePerUnit:f}}},validate:l=>{const i=[];return W(l.width_m)<=0&&i.push(""),W(l.height_m)<=0&&i.push(""),!l.enable_set_price&&W(l.price_sqyd)<=0&&i.push(" .."),i},getSpecs:l=>{const i=[`: ${l.width_m} x ${l.height_m} .`];return l.code&&i.push(`: ${l.code}`),l.fabric_variant&&i.push(`: ${l.fabric_variant}`),l.opening_style&&i.push(`: ${l.opening_style}`),l.adjustment_side&&i.push(`: ${l.adjustment_side}`),i}}),eg=ir(),tg=ir(),ng=ir(),ag=ir(),lg=ir(),rg=ir(),Ct={calculatePrice:(n,l)=>{const i=Ct.calculateDetailedPrice(n,l).total;return Number.isFinite(i)?i:0},calculateDetailedPrice:(n,l)=>{if(!n||!n.type)return{total:0};try{switch(n.type){case G.CURTAIN:return Jp.calculate(n,l);case G.WALLPAPER:return Wp.calculate(n,l);case G.WOODEN_BLIND:return eg.calculate(n,l);case G.ROLLER_BLIND:return tg.calculate(n,l);case G.VERTICAL_BLIND:return ng.calculate(n,l);case G.ALUMINUM_BLIND:return ag.calculate(n,l);case G.PARTITION:return lg.calculate(n,l);case G.PLEATED_SCREEN:return rg.calculate(n,l);case G.REMOVAL:return Pp.calculate(n,l);default:return console.warn("[PricingEngine]  Unknown item type detected:",n),{total:0}}}catch(i){return console.error("[PricingEngine]  Critical Calculation Error:",i),{total:0}}},getItemSpecs:n=>{if(!n||!n.type)return[];try{switch(n.type){case G.CURTAIN:return Jp.getSpecs(n);case G.WALLPAPER:return Wp.getSpecs(n);case G.WOODEN_BLIND:return eg.getSpecs(n);case G.ROLLER_BLIND:return tg.getSpecs(n);case G.VERTICAL_BLIND:return ng.getSpecs(n);case G.ALUMINUM_BLIND:return ag.getSpecs(n);case G.PARTITION:return lg.getSpecs(n);case G.PLEATED_SCREEN:return rg.getSpecs(n);case G.REMOVAL:return Pp.getSpecs(n);default:return[]}}catch{return["Error generating specs"]}}},Md=()=>{const n=ae(d=>d.rooms),l=ae(d=>d.discount),i=ae(d=>d.shopConfig);return j.useMemo(()=>{let d=0;n.forEach(v=>{v.is_suspended||v.items.forEach(N=>{if(N.is_suspended)return;const b=Ct.calculatePrice(N);d+=b})});let f=0;l.is_enabled&&l.value>0&&(l.type==="percent"?f=d*l.value/100:f=l.value,f>d&&(f=d));const m=d-f;let h=0;i.baseVatRate>0&&(h=m*i.baseVatRate/100);const g=m+h;return{grandTotal:d,discountAmount:f,netTotal:m,vatAmount:h,finalTotal:g,isCalculating:!1}},[n,l,i.baseVatRate])},Tn=()=>({trigger:j.useCallback((l="selection")=>{if(typeof navigator>"u"||!navigator.vibrate){console.warn("Vibration API not supported in this environment");return}try{switch(l){case"light":navigator.vibrate(5);break;case"medium":navigator.vibrate(10);break;case"heavy":navigator.vibrate(15);break;case"selection":navigator.vibrate(2);break;case"success":navigator.vibrate([10,30,10]);break;case"warning":navigator.vibrate([30,50,10]);break;case"error":navigator.vibrate([50,100,50,100]);break;default:navigator.vibrate(10)}}catch(i){console.error("Failed to trigger haptic feedback:",i)}},[])});function F(...n){return Oy(Ry(n))}const aN=({children:n,onOpenMainMenu:l,onOpenDiscount:i,onOpenOverview:o})=>{const d=ae(w=>w.shopConfig),f=ae(w=>w.discount),m=ae(w=>w.addRoom),{finalTotal:h}=Md(),{trigger:g}=Tn(),[v,N]=j.useState(!1),b=f.is_enabled&&f.value>0,y=d.baseVatRate>0;j.useEffect(()=>{const w=()=>N(window.scrollY>10);return window.addEventListener("scroll",w),()=>window.removeEventListener("scroll",w)},[]);const _=()=>{g("medium"),m(),setTimeout(()=>window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"}),100)};return s.jsxs("div",{className:"relative min-h-[100dvh] bg-background text-foreground",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 h-safe-top bg-background/80 backdrop-blur-md border-b border-transparent transition-all duration-300"}),s.jsx("header",{className:"fixed top-0 left-0 right-0 z-40 pt-safe-top transition-all duration-300",children:s.jsxs("div",{className:F("h-14 px-6 flex items-center justify-between transition-all duration-500","bg-background/80 backdrop-blur-md border-b border-border/50",v?"shadow-sm":""),children:[s.jsxs("button",{className:"flex flex-col items-start text-left group active:scale-95 transition-transform outline-none",onClick:()=>{g("light"),l?.()},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h1",{className:"text-lg font-bold tracking-tight text-foreground group-hover:text-primary transition-colors",children:d.name||"Marnthara"}),s.jsx(rr,{className:"w-3.5 h-3.5 text-muted-foreground/50 group-hover:text-primary/50 transition-colors"})]}),s.jsx("span",{className:"text-[10px] font-medium text-muted-foreground tracking-widest uppercase",children:"Quotation"})]}),s.jsxs("div",{className:"flex flex-col items-end cursor-pointer active:scale-95 transition-transform outline-none",onClick:()=>{g("selection"),i?.()},children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsxs("div",{className:"flex gap-0.5",children:[b&&s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-success shadow-[0_0_6px_rgba(var(--color-success),0.5)] animate-pulse"}),y&&s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-info shadow-[0_0_6px_rgba(var(--color-info),0.5)]"})]}),s.jsx("span",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-wider",children:"Net"})]}),s.jsx("div",{className:F("text-sm font-mono font-bold leading-none transition-colors",b||y?"text-primary":"text-foreground"),children:Qe(h)})]})]})}),s.jsx("main",{className:"pt-[calc(3.5rem+env(safe-area-inset-top))] pb-[calc(5rem+env(safe-area-inset-bottom))] px-4 sm:px-6 space-y-4 max-w-3xl mx-auto overflow-x-hidden",children:n}),s.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 w-full max-w-[320px] px-4 mb-safe-bottom",children:s.jsxs("div",{className:"flex items-center justify-between px-2 py-1.5 rounded-full bg-primary/90 backdrop-blur-xl shadow-2xl border border-primary-foreground/10 ring-1 ring-black/20",children:[s.jsx(Ui,{icon:Fb,onClick:o,label:"Overview"}),s.jsx(Ui,{icon:Ji,onClick:()=>g("light"),label:"Search"}),s.jsx("div",{className:"px-2",children:s.jsx("button",{onClick:_,className:"group relative w-10 h-10 rounded-full bg-primary shadow-lg shadow-primary/30 flex items-center justify-center transform transition-all duration-300 active:scale-90 hover:shadow-primary/50",children:s.jsx(Ka,{className:"w-5 h-5 text-white group-hover:rotate-90 transition-transform duration-300",strokeWidth:3})})}),s.jsx(Ui,{icon:Qb,onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),label:"Home"}),s.jsx(Ui,{icon:Kb,onClick:l,label:"Menu"})]})})]})},Ui=({icon:n,onClick:l,label:i})=>{const{trigger:o}=Tn();return s.jsx("button",{onClick:()=>{o("light"),l?.()},className:"group flex flex-col items-center justify-center w-10 h-10 rounded-full hover:bg-primary-foreground/10 transition-colors active:scale-90 outline-none","aria-label":i,children:s.jsx(n,{className:"w-5 h-5 text-primary-foreground/60 group-hover:text-primary-foreground transition-colors",strokeWidth:2})})},Nt=zd(n=>({toasts:[],addToast:(l,i,o)=>{const d=Math.random().toString(36).substring(2,9);n(f=>({toasts:[...f.toasts,{id:d,type:l,title:i,message:o}]})),setTimeout(()=>{n(f=>({toasts:f.toasts.filter(m=>m.id!==d)}))},3e3)},removeToast:l=>n(i=>({toasts:i.toasts.filter(o=>o.id!==l)})),alertConfig:{isOpen:!1,title:"",description:"",variant:"default",confirmLabel:"",cancelLabel:"",onConfirm:()=>{},onCancel:()=>{}},openAlert:l=>n(i=>({alertConfig:{...i.alertConfig,...l,isOpen:!0}})),closeAlert:()=>n(l=>({alertConfig:{...l.alertConfig,isOpen:!1}}))})),nl=()=>{const n=Nt(i=>i.openAlert);return{confirm:i=>new Promise(o=>{n({...i,onConfirm:()=>o(!0),onCancel:()=>o(!1)})})}},lN=({type:n,className:l})=>{const o={[G.CURTAIN]:Wi,[G.WALLPAPER]:io,[G.REMOVAL]:so,[G.WOODEN_BLIND]:Pi,[G.ROLLER_BLIND]:bd,[G.VERTICAL_BLIND]:eo,[G.ALUMINUM_BLIND]:Pi,[G.PARTITION]:us,[G.PLEATED_SCREEN]:us,set:Wi}[n]||Jb;return s.jsx("div",{className:F("flex items-center justify-center",l),children:s.jsx(o,{className:"w-full h-full"})})},rN=({item:n,index:l,roomId:i,onEdit:o})=>{const d=ae(_=>_.removeItem),f=ae(_=>_.duplicateItem),m=ae(_=>_.updateItem),{confirm:h}=nl(),g=Ct.calculatePrice(n),{title:v,specs:N}=j.useMemo(()=>{const _=_a[n.type],E=Ct.getItemSpecs(n).filter(z=>z&&z.trim()!=="");return{title:_?.name||"",specs:E.join("  ")}},[n]),b=async()=>{await h({title:"?",description:` "${v}" ?`,confirmLabel:"",variant:"destructive"})&&d(i,n.id)},y=()=>{m(i,n.id,{is_suspended:!n.is_suspended})};return s.jsxs("div",{className:F("group relative flex flex-col gap-3 rounded-2xl border bg-card p-4 transition-all duration-200",n.is_suspended?"opacity-60 grayscale border-dashed border-border":"border-border shadow-sm hover:shadow-md hover:border-primary/20"),children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",onClick:o,children:[s.jsx("div",{className:F("flex h-10 w-10 shrink-0 items-center justify-center rounded-xl transition-colors",n.is_suspended?"bg-muted text-muted-foreground":"bg-primary/5 text-primary"),children:s.jsx(lN,{type:n.type,className:"h-5 w-5"})}),s.jsxs("div",{className:"flex flex-col min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs font-bold text-muted-foreground/70 tracking-wider uppercase",children:["#",l+1]}),s.jsx("span",{className:"font-semibold text-foreground truncate text-[15px]",children:v})]}),s.jsx("div",{className:"text-xs text-muted-foreground truncate mt-0.5 font-medium leading-relaxed",children:N||""}),n.notes&&s.jsxs("div",{className:"text-[11px] text-amber-600/90 mt-1 flex items-center gap-1 font-medium",children:[s.jsx("span",{className:"w-1 h-1 rounded-full bg-amber-500"}),n.notes]})]})]}),s.jsxs(Pg,{as:"div",className:"relative shrink-0",children:[s.jsx(ev,{className:"flex h-8 w-8 items-center justify-center rounded-lg text-muted-foreground hover:bg-muted hover:text-foreground transition-colors focus:outline-none",children:s.jsx(tv,{className:"h-5 w-5"})}),s.jsx(Sa,{as:J.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:s.jsxs(nv,{className:"absolute right-0 z-20 mt-1 w-48 origin-top-right divide-y divide-border rounded-xl bg-popover p-1 shadow-xl ring-1 ring-black/5 focus:outline-none",children:[s.jsxs("div",{className:"px-1 py-1",children:[s.jsx(Na,{children:({active:_})=>s.jsxs("button",{onClick:o,className:F("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",_?"bg-primary/10 text-primary":"text-foreground"),children:[s.jsx(Wb,{className:"h-4 w-4"})," "]})}),s.jsx(Na,{children:({active:_})=>s.jsxs("button",{onClick:()=>f(i,n.id),className:F("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",_?"bg-accent text-accent-foreground":"text-foreground"),children:[s.jsx(av,{className:"h-4 w-4"})," "]})})]}),s.jsxs("div",{className:"px-1 py-1",children:[s.jsx(Na,{children:({active:_})=>s.jsxs("button",{onClick:y,className:F("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",_?"bg-warning/10 text-warning-foreground":"text-foreground"),children:[n.is_suspended?s.jsx(oo,{className:"h-4 w-4"}):s.jsx(lv,{className:"h-4 w-4"}),n.is_suspended?"":""]})}),s.jsx(Na,{children:({active:_})=>s.jsxs("button",{onClick:b,className:F("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm text-destructive",_?"bg-destructive/10":""),children:[s.jsx(sr,{className:"h-4 w-4"})," "]})})]})]})})]})]}),s.jsxs("div",{className:"flex items-center justify-between border-t border-border/50 pt-3 mt-1",onClick:o,children:[s.jsx("div",{className:"text-[11px] text-muted-foreground font-medium",children:""}),s.jsx("div",{className:F("text-lg font-bold font-mono tracking-tight",n.is_suspended?"text-muted-foreground line-through":"text-primary"),children:Qe(g)})]})]})},sN=({room:n,onAddItem:l,onEditItem:i,onOpenDefaults:o,className:d})=>{const[f,m]=j.useState(!0),h=ae(w=>w.removeRoom),g=ae(w=>w.duplicateRoom),v=ae(w=>w.toggleRoomSuspension),{confirm:N}=nl(),b=j.useMemo(()=>n.is_suspended?0:n.items.filter(w=>!w.is_suspended).reduce((w,E)=>w+Ct.calculatePrice(E),0),[n.items,n.is_suspended]),y=n.items.length,_=async()=>{await N({title:` "${n.name}"?`,description:"",confirmLabel:"",variant:"destructive"})&&h(n.id)};return s.jsxs("div",{className:F("flex flex-col gap-4",d),children:[s.jsx("div",{className:F("rounded-2xl border transition-all duration-300 bg-card",f?"border-primary/20 shadow-sm":"border-border opacity-80",n.is_suspended&&"grayscale opacity-60 border-dashed"),children:s.jsx("div",{className:"p-1",children:s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-muted/30 hover:bg-muted/50 transition-colors",children:[s.jsxs("button",{onClick:()=>m(!f),className:"flex items-center gap-3 flex-1 text-left min-w-0",children:[s.jsx("div",{className:F("h-8 w-8 shrink-0 rounded-lg flex items-center justify-center transition-transform duration-300 text-muted-foreground bg-background border border-border/50",f&&"rotate-180 text-primary border-primary/20 bg-primary/5"),children:s.jsx(yd,{className:"w-5 h-5"})}),s.jsxs("div",{className:"min-w-0 flex-1 pr-2",children:[s.jsx("h3",{className:F("font-bold text-[17px] truncate",n.is_suspended&&"line-through text-muted-foreground"),children:n.name}),s.jsxs("div",{className:"text-xs text-muted-foreground font-medium mt-0.5 truncate",children:[y,"   ",s.jsx("span",{className:"text-emerald-600 dark:text-emerald-400",children:Qe(b)})]})]})]}),s.jsxs(Pg,{as:"div",className:"relative z-10 shrink-0",children:[s.jsx(ev,{className:"p-2 rounded-lg text-muted-foreground hover:bg-background hover:text-foreground transition-colors focus:outline-none focus:ring-2 focus:ring-primary/20",children:s.jsx(tv,{className:"w-5 h-5"})}),s.jsx(Sa,{as:J.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:s.jsxs(nv,{className:"absolute right-0 z-50 mt-2 w-48 origin-top-right divide-y divide-border rounded-xl bg-popover p-1 shadow-xl ring-1 ring-black/5 focus:outline-none border border-border/50",children:[s.jsxs("div",{className:"p-1",children:[s.jsx(Na,{children:({active:w})=>s.jsxs("button",{onClick:()=>o(n.id),className:F("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",w?"bg-primary/10 text-primary":"text-foreground"),children:[s.jsx(Pb,{className:"w-4 h-4"})," "]})}),s.jsx(Na,{children:({active:w})=>s.jsxs("button",{onClick:()=>g(n.id),className:F("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",w?"bg-accent":"text-foreground"),children:[s.jsx(av,{className:"w-4 h-4"})," "]})}),s.jsx(Na,{children:({active:w})=>s.jsxs("button",{onClick:()=>v(n.id),className:F("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm",w?"bg-warning/10 text-warning-foreground":"text-foreground"),children:[n.is_suspended?s.jsx(oo,{className:"w-4 h-4"}):s.jsx(lv,{className:"w-4 h-4"}),n.is_suspended?"":""]})})]}),s.jsx("div",{className:"p-1",children:s.jsx(Na,{children:({active:w})=>s.jsxs("button",{onClick:_,className:F("flex w-full items-center gap-2 rounded-lg px-2 py-2 text-sm text-destructive",w?"bg-destructive/10":""),children:[s.jsx(sr,{className:"w-4 h-4"})," "]})})})]})})]})]})})}),f&&!n.is_suspended&&s.jsxs("div",{className:"space-y-3 animate-fade-in pl-2 border-l-2 border-border/40 ml-4 pb-2",children:[n.items.map((w,E)=>s.jsx(rN,{item:w,index:E,roomId:n.id,onEdit:()=>i(n.id,w)},w.id)),s.jsxs("button",{onClick:()=>l(n.id),className:"w-full group flex flex-col items-center justify-center gap-2 h-24 rounded-2xl border-2 border-dashed border-border/60 hover:border-primary/50 bg-muted/20 hover:bg-primary/5 transition-all active:scale-[0.99]",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-background border border-border group-hover:border-primary group-hover:text-primary flex items-center justify-center shadow-sm transition-colors",children:s.jsx(Ka,{className:"w-6 h-6"})}),s.jsx("span",{className:"text-sm font-medium text-muted-foreground group-hover:text-primary",children:""})]})]})]})},iN=({rooms:n,onAddItem:l,onEditItem:i,onOpenDefaults:o})=>{const d=j.useRef(null),[f,m]=j.useState(0),{trigger:h}=Tn(),g=ae(b=>b.addRoom);j.useEffect(()=>{const b=d.current;if(!b)return;const y=new IntersectionObserver(w=>{w.forEach(E=>{if(E.isIntersecting){const z=Number(E.target.getAttribute("data-index"));isNaN(z)||m(T=>T!==z?(h("selection"),z):T)}})},{root:b,threshold:.6});return b.querySelectorAll(".room-slide").forEach(w=>y.observe(w)),()=>y.disconnect()},[n.length,h]);const v=b=>{const y=d.current;if(!y)return;const _=Math.max(0,Math.min(b,n.length)),w=y.clientWidth;y.scrollTo({left:_*w,behavior:"smooth"})},N=()=>{h("medium"),g(),setTimeout(()=>v(n.length),100)};return s.jsxs("div",{className:"relative w-full",children:[s.jsx("div",{className:"sticky top-0 z-10 flex justify-center py-2 mb-2",children:s.jsxs("div",{className:"flex items-center gap-1.5 bg-black/10 dark:bg-white/10 backdrop-blur-md px-3 py-1.5 rounded-full border border-white/5 shadow-sm",children:[n.map((b,y)=>s.jsx("button",{onClick:()=>v(y),className:F("w-2 h-2 rounded-full transition-all duration-300",f===y?"bg-primary w-6":"bg-muted-foreground/30 hover:bg-muted-foreground/60")},`dot-${y}`)),s.jsx("div",{className:F("w-2 h-2 rounded-full transition-all duration-300",f===n.length?"bg-primary w-6":"bg-muted-foreground/30")})]})}),s.jsxs("div",{ref:d,className:F("flex overflow-x-auto snap-x snap-mandatory scrollbar-hide pb-4","overflow-y-hidden"),style:{scrollBehavior:"smooth"},children:[n.map((b,y)=>s.jsx("div",{"data-index":y,className:"room-slide min-w-full px-1 snap-center",children:s.jsx("div",{className:F("transition-all duration-500 ease-out h-full",f===y?"scale-100 opacity-100":"scale-[0.96] opacity-70 blur-[1px]"),children:s.jsx(sN,{room:b,index:y,totalRooms:n.length,onAddItem:l,onEditItem:i,onOpenDefaults:o})})},b.id)),s.jsx("div",{"data-index":n.length,className:"room-slide min-w-full px-1 snap-center flex",children:s.jsxs("button",{onClick:N,className:F("w-full rounded-2xl border-2 border-dashed border-muted-foreground/20","flex flex-col items-center justify-center gap-4 min-h-[300px]","bg-muted/5 hover:bg-muted/10 active:scale-[0.98] transition-all","text-muted-foreground hover:text-primary group",f===n.length?"scale-100 opacity-100":"scale-[0.96] opacity-70"),children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-background shadow-sm border border-border flex items-center justify-center group-hover:shadow-md group-hover:scale-110 transition-all duration-300",children:s.jsx(Ka,{className:"w-8 h-8 text-primary/50 group-hover:text-primary"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-bold group-hover:text-primary transition-colors",children:""}),s.jsx("p",{className:"text-sm opacity-60",children:"Add New Room"})]})]})})]}),s.jsxs("div",{className:"hidden sm:block",children:[f>0&&s.jsx("button",{onClick:()=>v(f-1),className:"absolute top-1/2 -left-4 -translate-y-1/2 p-2 rounded-full bg-background border border-border shadow-lg hover:bg-accent transition-colors z-20",children:s.jsx(rv,{className:"w-5 h-5"})}),f<n.length&&s.jsx("button",{onClick:()=>v(f+1),className:"absolute top-1/2 -right-4 -translate-y-1/2 p-2 rounded-full bg-background border border-border shadow-lg hover:bg-accent transition-colors z-20",children:s.jsx(rr,{className:"w-5 h-5"})})]})]})},xv=zd()(pv(n=>({theme:"light",toggleTheme:()=>n(l=>{const i=l.theme==="light"?"dark":"light";return Vu(i),{theme:i}}),setTheme:l=>{Vu(l),n({theme:l})}}),{name:"marnthara-theme",storage:Dd(()=>localStorage),onRehydrateStorage:()=>n=>{n&&Vu(n.theme)}})),Vu=n=>{const l=window.document.documentElement;l.classList.remove("light","dark"),l.classList.add(n);const i=document.querySelector('meta[name="theme-color"]');i&&i.setAttribute("content",n==="dark"?"#0D0814":"#FBFBFE")},oN=({toast:n,onDismiss:l})=>{const i={success:s.jsx("div",{className:"bg-success rounded-full p-1",children:s.jsx(uo,{className:"w-3 h-3 text-white",strokeWidth:4})}),error:s.jsx(co,{className:"w-5 h-5 text-destructive"}),warning:s.jsx(tl,{className:"w-5 h-5 text-warning"}),info:s.jsx(ey,{className:"w-5 h-5 text-info"})};return s.jsx(Sa,{show:!0,appear:!0,enter:"transform ease-out duration-300 transition",enterFrom:"translate-y-[-150%] opacity-0 scale-90",enterTo:"translate-y-0 opacity-100 scale-100",leave:"transition ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s.jsxs("div",{className:F("pointer-events-auto flex items-center gap-3 px-4 py-3 shadow-2xl mb-3 cursor-pointer select-none","bg-primary/95 backdrop-blur-md border border-primary-foreground/10","rounded-full min-w-[200px] max-w-[90vw]","text-primary-foreground"),onClick:()=>l(n.id),children:[s.jsx("div",{className:"shrink-0 flex items-center",children:i[n.type]}),s.jsxs("div",{className:"flex-1 min-w-0 text-center sm:text-left mr-2",children:[s.jsx("p",{className:"text-[14px] font-semibold leading-tight tracking-tight",children:n.title}),n.message&&s.jsx("p",{className:"text-[12px] text-primary-foreground/70 mt-0.5 truncate max-w-[240px]",children:n.message})]})]})})},cN=()=>{const n=Nt(i=>i.toasts),l=Nt(i=>i.removeToast);return n.length===0?null:sv.createPortal(s.jsx("div",{className:"fixed top-6 left-0 right-0 z-[100] flex flex-col items-center pointer-events-none px-4",children:n.map(i=>s.jsx(oN,{toast:i,onDismiss:l},i.id))}),document.body)},ce=({className:n,variant:l="primary",size:i="md",disableHaptic:o=!1,onClick:d,ref:f,...m})=>{const{trigger:h}=Tn(),g=b=>{o||h(l==="destructive"?"warning":"light"),d?.(b)},v={primary:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md shadow-primary/20 border border-transparent active:scale-[0.98]",secondary:"bg-secondary text-secondary-foreground border border-transparent hover:bg-secondary/80 active:scale-[0.98]",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground active:scale-[0.98]",ghost:"hover:bg-accent hover:text-accent-foreground border border-transparent active:scale-[0.98]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 border border-transparent shadow-sm active:scale-[0.98]"},N={sm:"h-9 px-3 text-xs rounded-lg",md:"h-12 px-5 py-2 rounded-xl text-base font-medium",lg:"h-14 px-8 rounded-2xl text-lg font-bold",icon:"h-12 w-12 p-0 rounded-xl flex items-center justify-center"};return s.jsx("button",{ref:f,onClick:g,className:F("inline-flex items-center justify-center whitespace-nowrap transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 select-none",v[l],N[i],n),...m})},uN=()=>{const{isOpen:n,title:l,description:i,variant:o,confirmLabel:d,cancelLabel:f,onConfirm:m,onCancel:h}=Nt(N=>N.alertConfig),g=Nt(N=>N.closeAlert),v=N=>{g(),N?m():h()};return s.jsx(Sa,{show:n,as:j.Fragment,children:s.jsxs(fo,{onClose:()=>v(!1),className:"relative z-[110]",children:[s.jsx(wa,{as:j.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-[2px]"})}),s.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:s.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:s.jsx(wa,{as:j.Fragment,enter:"ease-ios duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s.jsxs(mo,{className:"w-full max-w-sm transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o==="destructive"&&s.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:s.jsx(tl,{className:"w-5 h-5 text-red-600"})}),s.jsx("div",{children:s.jsx(Nd,{as:"h3",className:"text-lg font-bold leading-6 text-slate-900",children:l})})]}),s.jsx("div",{className:"mt-2",children:s.jsx("p",{className:"text-sm text-slate-500",children:i})}),s.jsxs("div",{className:"mt-6 flex gap-3 justify-end",children:[s.jsx(ce,{variant:"ghost",onClick:()=>v(!1),children:f}),s.jsx(ce,{variant:o==="destructive"?"destructive":"primary",onClick:()=>v(!0),children:d})]})]})})})})]})})};function ja(n,l,{checkForDefaultPrevented:i=!0}={}){return function(d){if(n?.(d),i===!1||!d.defaultPrevented)return l?.(d)}}function sg(n,l){if(typeof n=="function")return n(l);n!=null&&(n.current=l)}function bv(...n){return l=>{let i=!1;const o=n.map(d=>{const f=sg(d,l);return!i&&typeof f=="function"&&(i=!0),f});if(i)return()=>{for(let d=0;d<o.length;d++){const f=o[d];typeof f=="function"?f():sg(n[d],null)}}}}function al(...n){return j.useCallback(bv(...n),n)}function dN(n,l){const i=j.createContext(l),o=f=>{const{children:m,...h}=f,g=j.useMemo(()=>h,Object.values(h));return s.jsx(i.Provider,{value:g,children:m})};o.displayName=n+"Provider";function d(f){const m=j.useContext(i);if(m)return m;if(l!==void 0)return l;throw new Error(`\`${f}\` must be used within \`${n}\``)}return[o,d]}function fN(n,l=[]){let i=[];function o(f,m){const h=j.createContext(m),g=i.length;i=[...i,m];const v=b=>{const{scope:y,children:_,...w}=b,E=y?.[n]?.[g]||h,z=j.useMemo(()=>w,Object.values(w));return s.jsx(E.Provider,{value:z,children:_})};v.displayName=f+"Provider";function N(b,y){const _=y?.[n]?.[g]||h,w=j.useContext(_);if(w)return w;if(m!==void 0)return m;throw new Error(`\`${b}\` must be used within \`${f}\``)}return[v,N]}const d=()=>{const f=i.map(m=>j.createContext(m));return function(h){const g=h?.[n]||f;return j.useMemo(()=>({[`__scope${n}`]:{...h,[n]:g}}),[h,g])}};return d.scopeName=n,[o,mN(d,...l)]}function mN(...n){const l=n[0];if(n.length===1)return l;const i=()=>{const o=n.map(d=>({useScope:d(),scopeName:d.scopeName}));return function(f){const m=o.reduce((h,{useScope:g,scopeName:v})=>{const b=g(f)[`__scope${v}`];return{...h,...b}},{});return j.useMemo(()=>({[`__scope${l.scopeName}`]:m}),[m])}};return i.scopeName=l.scopeName,i}var fs=globalThis?.document?j.useLayoutEffect:()=>{},hN=iv[" useId ".trim().toString()]||(()=>{}),pN=0;function Iu(n){const[l,i]=j.useState(hN());return fs(()=>{i(o=>o??String(pN++))},[n]),n||(l?`radix-${l}`:"")}var gN=iv[" useInsertionEffect ".trim().toString()]||fs;function vN({prop:n,defaultProp:l,onChange:i=()=>{},caller:o}){const[d,f,m]=xN({defaultProp:l,onChange:i}),h=n!==void 0,g=h?n:d;{const N=j.useRef(n!==void 0);j.useEffect(()=>{const b=N.current;b!==h&&console.warn(`${o} is changing from ${b?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),N.current=h},[h,o])}const v=j.useCallback(N=>{if(h){const b=bN(N)?N(n):N;b!==n&&m.current?.(b)}else f(N)},[h,n,f,m]);return[g,v]}function xN({defaultProp:n,onChange:l}){const[i,o]=j.useState(n),d=j.useRef(i),f=j.useRef(l);return gN(()=>{f.current=l},[l]),j.useEffect(()=>{d.current!==i&&(f.current?.(i),d.current=i)},[i,d]),[i,o,f]}function bN(n){return typeof n=="function"}function yv(n){const l=yN(n),i=j.forwardRef((o,d)=>{const{children:f,...m}=o,h=j.Children.toArray(f),g=h.find(_N);if(g){const v=g.props.children,N=h.map(b=>b===g?j.Children.count(v)>1?j.Children.only(null):j.isValidElement(v)?v.props.children:null:b);return s.jsx(l,{...m,ref:d,children:j.isValidElement(v)?j.cloneElement(v,void 0,N):null})}return s.jsx(l,{...m,ref:d,children:f})});return i.displayName=`${n}.Slot`,i}function yN(n){const l=j.forwardRef((i,o)=>{const{children:d,...f}=i;if(j.isValidElement(d)){const m=wN(d),h=jN(f,d.props);return d.type!==j.Fragment&&(h.ref=o?bv(o,m):m),j.cloneElement(d,h)}return j.Children.count(d)>1?j.Children.only(null):null});return l.displayName=`${n}.SlotClone`,l}var NN=Symbol("radix.slottable");function _N(n){return j.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===NN}function jN(n,l){const i={...l};for(const o in l){const d=n[o],f=l[o];/^on[A-Z]/.test(o)?d&&f?i[o]=(...h)=>{const g=f(...h);return d(...h),g}:d&&(i[o]=d):o==="style"?i[o]={...d,...f}:o==="className"&&(i[o]=[d,f].filter(Boolean).join(" "))}return{...n,...i}}function wN(n){let l=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,i=l&&"isReactWarning"in l&&l.isReactWarning;return i?n.ref:(l=Object.getOwnPropertyDescriptor(n,"ref")?.get,i=l&&"isReactWarning"in l&&l.isReactWarning,i?n.props.ref:n.props.ref||n.ref)}var SN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fn=SN.reduce((n,l)=>{const i=yv(`Primitive.${l}`),o=j.forwardRef((d,f)=>{const{asChild:m,...h}=d,g=m?i:l;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(g,{...h,ref:f})});return o.displayName=`Primitive.${l}`,{...n,[l]:o}},{});function CN(n,l){n&&sv.flushSync(()=>n.dispatchEvent(l))}function ms(n){const l=j.useRef(n);return j.useEffect(()=>{l.current=n}),j.useMemo(()=>(...i)=>l.current?.(...i),[])}function EN(n,l=globalThis?.document){const i=ms(n);j.useEffect(()=>{const o=d=>{d.key==="Escape"&&i(d)};return l.addEventListener("keydown",o,{capture:!0}),()=>l.removeEventListener("keydown",o,{capture:!0})},[i,l])}var TN="DismissableLayer",fd="dismissableLayer.update",AN="dismissableLayer.pointerDownOutside",zN="dismissableLayer.focusOutside",ig,Nv=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_v=j.forwardRef((n,l)=>{const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:o,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,...g}=n,v=j.useContext(Nv),[N,b]=j.useState(null),y=N?.ownerDocument??globalThis?.document,[,_]=j.useState({}),w=al(l,q=>b(q)),E=Array.from(v.layers),[z]=[...v.layersWithOutsidePointerEventsDisabled].slice(-1),T=E.indexOf(z),R=N?E.indexOf(N):-1,B=v.layersWithOutsidePointerEventsDisabled.size>0,D=R>=T,S=RN(q=>{const K=q.target,X=[...v.branches].some(de=>de.contains(K));!D||X||(d?.(q),m?.(q),q.defaultPrevented||h?.())},y),Y=MN(q=>{const K=q.target;[...v.branches].some(de=>de.contains(K))||(f?.(q),m?.(q),q.defaultPrevented||h?.())},y);return EN(q=>{R===v.layers.size-1&&(o?.(q),!q.defaultPrevented&&h&&(q.preventDefault(),h()))},y),j.useEffect(()=>{if(N)return i&&(v.layersWithOutsidePointerEventsDisabled.size===0&&(ig=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),v.layersWithOutsidePointerEventsDisabled.add(N)),v.layers.add(N),og(),()=>{i&&v.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=ig)}},[N,y,i,v]),j.useEffect(()=>()=>{N&&(v.layers.delete(N),v.layersWithOutsidePointerEventsDisabled.delete(N),og())},[N,v]),j.useEffect(()=>{const q=()=>_({});return document.addEventListener(fd,q),()=>document.removeEventListener(fd,q)},[]),s.jsx(Fn.div,{...g,ref:w,style:{pointerEvents:B?D?"auto":"none":void 0,...n.style},onFocusCapture:ja(n.onFocusCapture,Y.onFocusCapture),onBlurCapture:ja(n.onBlurCapture,Y.onBlurCapture),onPointerDownCapture:ja(n.onPointerDownCapture,S.onPointerDownCapture)})});_v.displayName=TN;var DN="DismissableLayerBranch",ON=j.forwardRef((n,l)=>{const i=j.useContext(Nv),o=j.useRef(null),d=al(l,o);return j.useEffect(()=>{const f=o.current;if(f)return i.branches.add(f),()=>{i.branches.delete(f)}},[i.branches]),s.jsx(Fn.div,{...n,ref:d})});ON.displayName=DN;function RN(n,l=globalThis?.document){const i=ms(n),o=j.useRef(!1),d=j.useRef(()=>{});return j.useEffect(()=>{const f=h=>{if(h.target&&!o.current){let g=function(){jv(AN,i,v,{discrete:!0})};const v={originalEvent:h};h.pointerType==="touch"?(l.removeEventListener("click",d.current),d.current=g,l.addEventListener("click",d.current,{once:!0})):g()}else l.removeEventListener("click",d.current);o.current=!1},m=window.setTimeout(()=>{l.addEventListener("pointerdown",f)},0);return()=>{window.clearTimeout(m),l.removeEventListener("pointerdown",f),l.removeEventListener("click",d.current)}},[l,i]),{onPointerDownCapture:()=>o.current=!0}}function MN(n,l=globalThis?.document){const i=ms(n),o=j.useRef(!1);return j.useEffect(()=>{const d=f=>{f.target&&!o.current&&jv(zN,i,{originalEvent:f},{discrete:!1})};return l.addEventListener("focusin",d),()=>l.removeEventListener("focusin",d)},[l,i]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function og(){const n=new CustomEvent(fd);document.dispatchEvent(n)}function jv(n,l,i,{discrete:o}){const d=i.originalEvent.target,f=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:i});l&&d.addEventListener(n,l,{once:!0}),o?CN(d,f):d.dispatchEvent(f)}var Yu="focusScope.autoFocusOnMount",Xu="focusScope.autoFocusOnUnmount",cg={bubbles:!1,cancelable:!0},kN="FocusScope",wv=j.forwardRef((n,l)=>{const{loop:i=!1,trapped:o=!1,onMountAutoFocus:d,onUnmountAutoFocus:f,...m}=n,[h,g]=j.useState(null),v=ms(d),N=ms(f),b=j.useRef(null),y=al(l,E=>g(E)),_=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(o){let E=function(B){if(_.paused||!h)return;const D=B.target;h.contains(D)?b.current=D:ya(b.current,{select:!0})},z=function(B){if(_.paused||!h)return;const D=B.relatedTarget;D!==null&&(h.contains(D)||ya(b.current,{select:!0}))},T=function(B){if(document.activeElement===document.body)for(const S of B)S.removedNodes.length>0&&ya(h)};document.addEventListener("focusin",E),document.addEventListener("focusout",z);const R=new MutationObserver(T);return h&&R.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",z),R.disconnect()}}},[o,h,_.paused]),j.useEffect(()=>{if(h){dg.add(_);const E=document.activeElement;if(!h.contains(E)){const T=new CustomEvent(Yu,cg);h.addEventListener(Yu,v),h.dispatchEvent(T),T.defaultPrevented||(LN(qN(Sv(h)),{select:!0}),document.activeElement===E&&ya(h))}return()=>{h.removeEventListener(Yu,v),setTimeout(()=>{const T=new CustomEvent(Xu,cg);h.addEventListener(Xu,N),h.dispatchEvent(T),T.defaultPrevented||ya(E??document.body,{select:!0}),h.removeEventListener(Xu,N),dg.remove(_)},0)}}},[h,v,N,_]);const w=j.useCallback(E=>{if(!i&&!o||_.paused)return;const z=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,T=document.activeElement;if(z&&T){const R=E.currentTarget,[B,D]=UN(R);B&&D?!E.shiftKey&&T===D?(E.preventDefault(),i&&ya(B,{select:!0})):E.shiftKey&&T===B&&(E.preventDefault(),i&&ya(D,{select:!0})):T===R&&E.preventDefault()}},[i,o,_.paused]);return s.jsx(Fn.div,{tabIndex:-1,...m,ref:y,onKeyDown:w})});wv.displayName=kN;function LN(n,{select:l=!1}={}){const i=document.activeElement;for(const o of n)if(ya(o,{select:l}),document.activeElement!==i)return}function UN(n){const l=Sv(n),i=ug(l,n),o=ug(l.reverse(),n);return[i,o]}function Sv(n){const l=[],i=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const d=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||d?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)l.push(i.currentNode);return l}function ug(n,l){for(const i of n)if(!BN(i,{upTo:l}))return i}function BN(n,{upTo:l}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(l!==void 0&&n===l)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function ZN(n){return n instanceof HTMLInputElement&&"select"in n}function ya(n,{select:l=!1}={}){if(n&&n.focus){const i=document.activeElement;n.focus({preventScroll:!0}),n!==i&&ZN(n)&&l&&n.select()}}var dg=HN();function HN(){let n=[];return{add(l){const i=n[0];l!==i&&i?.pause(),n=fg(n,l),n.unshift(l)},remove(l){n=fg(n,l),n[0]?.resume()}}}function fg(n,l){const i=[...n],o=i.indexOf(l);return o!==-1&&i.splice(o,1),i}function qN(n){return n.filter(l=>l.tagName!=="A")}var $N="Portal",Cv=j.forwardRef((n,l)=>{const{container:i,...o}=n,[d,f]=j.useState(!1);fs(()=>f(!0),[]);const m=i||d&&globalThis?.document?.body;return m?ty.createPortal(s.jsx(Fn.div,{...o,ref:l}),m):null});Cv.displayName=$N;function VN(n,l){return j.useReducer((i,o)=>l[i][o]??i,n)}var go=n=>{const{present:l,children:i}=n,o=IN(l),d=typeof i=="function"?i({present:o.isPresent}):j.Children.only(i),f=al(o.ref,YN(d));return typeof i=="function"||o.isPresent?j.cloneElement(d,{ref:f}):null};go.displayName="Presence";function IN(n){const[l,i]=j.useState(),o=j.useRef(null),d=j.useRef(n),f=j.useRef("none"),m=n?"mounted":"unmounted",[h,g]=VN(m,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const v=Bi(o.current);f.current=h==="mounted"?v:"none"},[h]),fs(()=>{const v=o.current,N=d.current;if(N!==n){const y=f.current,_=Bi(v);n?g("MOUNT"):_==="none"||v?.display==="none"?g("UNMOUNT"):g(N&&y!==_?"ANIMATION_OUT":"UNMOUNT"),d.current=n}},[n,g]),fs(()=>{if(l){let v;const N=l.ownerDocument.defaultView??window,b=_=>{const E=Bi(o.current).includes(CSS.escape(_.animationName));if(_.target===l&&E&&(g("ANIMATION_END"),!d.current)){const z=l.style.animationFillMode;l.style.animationFillMode="forwards",v=N.setTimeout(()=>{l.style.animationFillMode==="forwards"&&(l.style.animationFillMode=z)})}},y=_=>{_.target===l&&(f.current=Bi(o.current))};return l.addEventListener("animationstart",y),l.addEventListener("animationcancel",b),l.addEventListener("animationend",b),()=>{N.clearTimeout(v),l.removeEventListener("animationstart",y),l.removeEventListener("animationcancel",b),l.removeEventListener("animationend",b)}}else g("ANIMATION_END")},[l,g]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:j.useCallback(v=>{o.current=v?getComputedStyle(v):null,i(v)},[])}}function Bi(n){return n?.animationName||"none"}function YN(n){let l=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,i=l&&"isReactWarning"in l&&l.isReactWarning;return i?n.ref:(l=Object.getOwnPropertyDescriptor(n,"ref")?.get,i=l&&"isReactWarning"in l&&l.isReactWarning,i?n.props.ref:n.props.ref||n.ref)}var Gu=0;function XN(){j.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??mg()),document.body.insertAdjacentElement("beforeend",n[1]??mg()),Gu++,()=>{Gu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(l=>l.remove()),Gu--}},[])}function mg(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Sn=function(){return Sn=Object.assign||function(l){for(var i,o=1,d=arguments.length;o<d;o++){i=arguments[o];for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(l[f]=i[f])}return l},Sn.apply(this,arguments)};function Ev(n,l){var i={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&l.indexOf(o)<0&&(i[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,o=Object.getOwnPropertySymbols(n);d<o.length;d++)l.indexOf(o[d])<0&&Object.prototype.propertyIsEnumerable.call(n,o[d])&&(i[o[d]]=n[o[d]]);return i}function GN(n,l,i){if(i||arguments.length===2)for(var o=0,d=l.length,f;o<d;o++)(f||!(o in l))&&(f||(f=Array.prototype.slice.call(l,0,o)),f[o]=l[o]);return n.concat(f||Array.prototype.slice.call(l))}var Qi="right-scroll-bar-position",Ki="width-before-scroll-bar",FN="with-scroll-bars-hidden",QN="--removed-body-scroll-bar-size";function Fu(n,l){return typeof n=="function"?n(l):n&&(n.current=l),n}function KN(n,l){var i=j.useState(function(){return{value:n,callback:l,facade:{get current(){return i.value},set current(o){var d=i.value;d!==o&&(i.value=o,i.callback(o,d))}}}})[0];return i.callback=l,i.facade}var JN=typeof window<"u"?j.useLayoutEffect:j.useEffect,hg=new WeakMap;function WN(n,l){var i=KN(null,function(o){return n.forEach(function(d){return Fu(d,o)})});return JN(function(){var o=hg.get(i);if(o){var d=new Set(o),f=new Set(n),m=i.current;d.forEach(function(h){f.has(h)||Fu(h,null)}),f.forEach(function(h){d.has(h)||Fu(h,m)})}hg.set(i,n)},[n]),i}function PN(n){return n}function e_(n,l){l===void 0&&(l=PN);var i=[],o=!1,d={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:n},useMedium:function(f){var m=l(f,o);return i.push(m),function(){i=i.filter(function(h){return h!==m})}},assignSyncMedium:function(f){for(o=!0;i.length;){var m=i;i=[],m.forEach(f)}i={push:function(h){return f(h)},filter:function(){return i}}},assignMedium:function(f){o=!0;var m=[];if(i.length){var h=i;i=[],h.forEach(f),m=i}var g=function(){var N=m;m=[],N.forEach(f)},v=function(){return Promise.resolve().then(g)};v(),i={push:function(N){m.push(N),v()},filter:function(N){return m=m.filter(N),i}}}};return d}function t_(n){n===void 0&&(n={});var l=e_(null);return l.options=Sn({async:!0,ssr:!1},n),l}var Tv=function(n){var l=n.sideCar,i=Ev(n,["sideCar"]);if(!l)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=l.read();if(!o)throw new Error("Sidecar medium not found");return j.createElement(o,Sn({},i))};Tv.isSideCarExport=!0;function n_(n,l){return n.useMedium(l),Tv}var Av=t_(),Qu=function(){},vo=j.forwardRef(function(n,l){var i=j.useRef(null),o=j.useState({onScrollCapture:Qu,onWheelCapture:Qu,onTouchMoveCapture:Qu}),d=o[0],f=o[1],m=n.forwardProps,h=n.children,g=n.className,v=n.removeScrollBar,N=n.enabled,b=n.shards,y=n.sideCar,_=n.noRelative,w=n.noIsolation,E=n.inert,z=n.allowPinchZoom,T=n.as,R=T===void 0?"div":T,B=n.gapMode,D=Ev(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=y,Y=WN([i,l]),q=Sn(Sn({},D),d);return j.createElement(j.Fragment,null,N&&j.createElement(S,{sideCar:Av,removeScrollBar:v,shards:b,noRelative:_,noIsolation:w,inert:E,setCallbacks:f,allowPinchZoom:!!z,lockRef:i,gapMode:B}),m?j.cloneElement(j.Children.only(h),Sn(Sn({},q),{ref:Y})):j.createElement(R,Sn({},q,{className:g,ref:Y}),h))});vo.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vo.classNames={fullWidth:Ki,zeroRight:Qi};var a_=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function l_(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var l=a_();return l&&n.setAttribute("nonce",l),n}function r_(n,l){n.styleSheet?n.styleSheet.cssText=l:n.appendChild(document.createTextNode(l))}function s_(n){var l=document.head||document.getElementsByTagName("head")[0];l.appendChild(n)}var i_=function(){var n=0,l=null;return{add:function(i){n==0&&(l=l_())&&(r_(l,i),s_(l)),n++},remove:function(){n--,!n&&l&&(l.parentNode&&l.parentNode.removeChild(l),l=null)}}},o_=function(){var n=i_();return function(l,i){j.useEffect(function(){return n.add(l),function(){n.remove()}},[l&&i])}},zv=function(){var n=o_(),l=function(i){var o=i.styles,d=i.dynamic;return n(o,d),null};return l},c_={left:0,top:0,right:0,gap:0},Ku=function(n){return parseInt(n||"",10)||0},u_=function(n){var l=window.getComputedStyle(document.body),i=l[n==="padding"?"paddingLeft":"marginLeft"],o=l[n==="padding"?"paddingTop":"marginTop"],d=l[n==="padding"?"paddingRight":"marginRight"];return[Ku(i),Ku(o),Ku(d)]},d_=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return c_;var l=u_(n),i=document.documentElement.clientWidth,o=window.innerWidth;return{left:l[0],top:l[1],right:l[2],gap:Math.max(0,o-i+l[2]-l[0])}},f_=zv(),Pl="data-scroll-locked",m_=function(n,l,i,o){var d=n.left,f=n.top,m=n.right,h=n.gap;return i===void 0&&(i="margin"),`
  .`.concat(FN,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(h,"px ").concat(o,`;
  }
  body[`).concat(Pl,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([l&&"position: relative ".concat(o,";"),i==="margin"&&`
    padding-left: `.concat(d,`px;
    padding-top: `).concat(f,`px;
    padding-right: `).concat(m,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(o,`;
    `),i==="padding"&&"padding-right: ".concat(h,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qi,` {
    right: `).concat(h,"px ").concat(o,`;
  }
  
  .`).concat(Ki,` {
    margin-right: `).concat(h,"px ").concat(o,`;
  }
  
  .`).concat(Qi," .").concat(Qi,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(Ki," .").concat(Ki,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Pl,`] {
    `).concat(QN,": ").concat(h,`px;
  }
`)},pg=function(){var n=parseInt(document.body.getAttribute(Pl)||"0",10);return isFinite(n)?n:0},h_=function(){j.useEffect(function(){return document.body.setAttribute(Pl,(pg()+1).toString()),function(){var n=pg()-1;n<=0?document.body.removeAttribute(Pl):document.body.setAttribute(Pl,n.toString())}},[])},p_=function(n){var l=n.noRelative,i=n.noImportant,o=n.gapMode,d=o===void 0?"margin":o;h_();var f=j.useMemo(function(){return d_(d)},[d]);return j.createElement(f_,{styles:m_(f,!l,d,i?"":"!important")})},md=!1;if(typeof window<"u")try{var Zi=Object.defineProperty({},"passive",{get:function(){return md=!0,!0}});window.addEventListener("test",Zi,Zi),window.removeEventListener("test",Zi,Zi)}catch{md=!1}var Fl=md?{passive:!1}:!1,g_=function(n){return n.tagName==="TEXTAREA"},Dv=function(n,l){if(!(n instanceof Element))return!1;var i=window.getComputedStyle(n);return i[l]!=="hidden"&&!(i.overflowY===i.overflowX&&!g_(n)&&i[l]==="visible")},v_=function(n){return Dv(n,"overflowY")},x_=function(n){return Dv(n,"overflowX")},gg=function(n,l){var i=l.ownerDocument,o=l;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var d=Ov(n,o);if(d){var f=Rv(n,o),m=f[1],h=f[2];if(m>h)return!0}o=o.parentNode}while(o&&o!==i.body);return!1},b_=function(n){var l=n.scrollTop,i=n.scrollHeight,o=n.clientHeight;return[l,i,o]},y_=function(n){var l=n.scrollLeft,i=n.scrollWidth,o=n.clientWidth;return[l,i,o]},Ov=function(n,l){return n==="v"?v_(l):x_(l)},Rv=function(n,l){return n==="v"?b_(l):y_(l)},N_=function(n,l){return n==="h"&&l==="rtl"?-1:1},__=function(n,l,i,o,d){var f=N_(n,window.getComputedStyle(l).direction),m=f*o,h=i.target,g=l.contains(h),v=!1,N=m>0,b=0,y=0;do{if(!h)break;var _=Rv(n,h),w=_[0],E=_[1],z=_[2],T=E-z-f*w;(w||T)&&Ov(n,h)&&(b+=T,y+=w);var R=h.parentNode;h=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!g&&h!==document.body||g&&(l.contains(h)||l===h));return(N&&Math.abs(b)<1||!N&&Math.abs(y)<1)&&(v=!0),v},Hi=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},vg=function(n){return[n.deltaX,n.deltaY]},xg=function(n){return n&&"current"in n?n.current:n},j_=function(n,l){return n[0]===l[0]&&n[1]===l[1]},w_=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},S_=0,Ql=[];function C_(n){var l=j.useRef([]),i=j.useRef([0,0]),o=j.useRef(),d=j.useState(S_++)[0],f=j.useState(zv)[0],m=j.useRef(n);j.useEffect(function(){m.current=n},[n]),j.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(d));var E=GN([n.lockRef.current],(n.shards||[]).map(xg),!0).filter(Boolean);return E.forEach(function(z){return z.classList.add("allow-interactivity-".concat(d))}),function(){document.body.classList.remove("block-interactivity-".concat(d)),E.forEach(function(z){return z.classList.remove("allow-interactivity-".concat(d))})}}},[n.inert,n.lockRef.current,n.shards]);var h=j.useCallback(function(E,z){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!m.current.allowPinchZoom;var T=Hi(E),R=i.current,B="deltaX"in E?E.deltaX:R[0]-T[0],D="deltaY"in E?E.deltaY:R[1]-T[1],S,Y=E.target,q=Math.abs(B)>Math.abs(D)?"h":"v";if("touches"in E&&q==="h"&&Y.type==="range")return!1;var K=window.getSelection(),X=K&&K.anchorNode,de=X?X===Y||X.contains(Y):!1;if(de)return!1;var ye=gg(q,Y);if(!ye)return!0;if(ye?S=q:(S=q==="v"?"h":"v",ye=gg(q,Y)),!ye)return!1;if(!o.current&&"changedTouches"in E&&(B||D)&&(o.current=S),!S)return!0;var _e=o.current||S;return __(_e,z,E,_e==="h"?B:D)},[]),g=j.useCallback(function(E){var z=E;if(!(!Ql.length||Ql[Ql.length-1]!==f)){var T="deltaY"in z?vg(z):Hi(z),R=l.current.filter(function(S){return S.name===z.type&&(S.target===z.target||z.target===S.shadowParent)&&j_(S.delta,T)})[0];if(R&&R.should){z.cancelable&&z.preventDefault();return}if(!R){var B=(m.current.shards||[]).map(xg).filter(Boolean).filter(function(S){return S.contains(z.target)}),D=B.length>0?h(z,B[0]):!m.current.noIsolation;D&&z.cancelable&&z.preventDefault()}}},[]),v=j.useCallback(function(E,z,T,R){var B={name:E,delta:z,target:T,should:R,shadowParent:E_(T)};l.current.push(B),setTimeout(function(){l.current=l.current.filter(function(D){return D!==B})},1)},[]),N=j.useCallback(function(E){i.current=Hi(E),o.current=void 0},[]),b=j.useCallback(function(E){v(E.type,vg(E),E.target,h(E,n.lockRef.current))},[]),y=j.useCallback(function(E){v(E.type,Hi(E),E.target,h(E,n.lockRef.current))},[]);j.useEffect(function(){return Ql.push(f),n.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:y}),document.addEventListener("wheel",g,Fl),document.addEventListener("touchmove",g,Fl),document.addEventListener("touchstart",N,Fl),function(){Ql=Ql.filter(function(E){return E!==f}),document.removeEventListener("wheel",g,Fl),document.removeEventListener("touchmove",g,Fl),document.removeEventListener("touchstart",N,Fl)}},[]);var _=n.removeScrollBar,w=n.inert;return j.createElement(j.Fragment,null,w?j.createElement(f,{styles:w_(d)}):null,_?j.createElement(p_,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function E_(n){for(var l=null;n!==null;)n instanceof ShadowRoot&&(l=n.host,n=n.host),n=n.parentNode;return l}const T_=n_(Av,C_);var Mv=j.forwardRef(function(n,l){return j.createElement(vo,Sn({},n,{ref:l,sideCar:T_}))});Mv.classNames=vo.classNames;var A_=function(n){if(typeof document>"u")return null;var l=Array.isArray(n)?n[0]:n;return l.ownerDocument.body},Kl=new WeakMap,qi=new WeakMap,$i={},Ju=0,kv=function(n){return n&&(n.host||kv(n.parentNode))},z_=function(n,l){return l.map(function(i){if(n.contains(i))return i;var o=kv(i);return o&&n.contains(o)?o:(console.error("aria-hidden",i,"in not contained inside",n,". Doing nothing"),null)}).filter(function(i){return!!i})},D_=function(n,l,i,o){var d=z_(l,Array.isArray(n)?n:[n]);$i[i]||($i[i]=new WeakMap);var f=$i[i],m=[],h=new Set,g=new Set(d),v=function(b){!b||h.has(b)||(h.add(b),v(b.parentNode))};d.forEach(v);var N=function(b){!b||g.has(b)||Array.prototype.forEach.call(b.children,function(y){if(h.has(y))N(y);else try{var _=y.getAttribute(o),w=_!==null&&_!=="false",E=(Kl.get(y)||0)+1,z=(f.get(y)||0)+1;Kl.set(y,E),f.set(y,z),m.push(y),E===1&&w&&qi.set(y,!0),z===1&&y.setAttribute(i,"true"),w||y.setAttribute(o,"true")}catch(T){console.error("aria-hidden: cannot operate on ",y,T)}})};return N(l),h.clear(),Ju++,function(){m.forEach(function(b){var y=Kl.get(b)-1,_=f.get(b)-1;Kl.set(b,y),f.set(b,_),y||(qi.has(b)||b.removeAttribute(o),qi.delete(b)),_||b.removeAttribute(i)}),Ju--,Ju||(Kl=new WeakMap,Kl=new WeakMap,qi=new WeakMap,$i={})}},O_=function(n,l,i){i===void 0&&(i="data-aria-hidden");var o=Array.from(Array.isArray(n)?n:[n]),d=A_(n);return d?(o.push.apply(o,Array.from(d.querySelectorAll("[aria-live], script"))),D_(o,d,i,"aria-hidden")):function(){return null}},xo="Dialog",[Lv]=fN(xo),[R_,fn]=Lv(xo),Uv=n=>{const{__scopeDialog:l,children:i,open:o,defaultOpen:d,onOpenChange:f,modal:m=!0}=n,h=j.useRef(null),g=j.useRef(null),[v,N]=vN({prop:o,defaultProp:d??!1,onChange:f,caller:xo});return s.jsx(R_,{scope:l,triggerRef:h,contentRef:g,contentId:Iu(),titleId:Iu(),descriptionId:Iu(),open:v,onOpenChange:N,onOpenToggle:j.useCallback(()=>N(b=>!b),[N]),modal:m,children:i})};Uv.displayName=xo;var Bv="DialogTrigger",M_=j.forwardRef((n,l)=>{const{__scopeDialog:i,...o}=n,d=fn(Bv,i),f=al(l,d.triggerRef);return s.jsx(Fn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":d.open,"aria-controls":d.contentId,"data-state":Ud(d.open),...o,ref:f,onClick:ja(n.onClick,d.onOpenToggle)})});M_.displayName=Bv;var kd="DialogPortal",[k_,Zv]=Lv(kd,{forceMount:void 0}),Hv=n=>{const{__scopeDialog:l,forceMount:i,children:o,container:d}=n,f=fn(kd,l);return s.jsx(k_,{scope:l,forceMount:i,children:j.Children.map(o,m=>s.jsx(go,{present:i||f.open,children:s.jsx(Cv,{asChild:!0,container:d,children:m})}))})};Hv.displayName=kd;var no="DialogOverlay",qv=j.forwardRef((n,l)=>{const i=Zv(no,n.__scopeDialog),{forceMount:o=i.forceMount,...d}=n,f=fn(no,n.__scopeDialog);return f.modal?s.jsx(go,{present:o||f.open,children:s.jsx(U_,{...d,ref:l})}):null});qv.displayName=no;var L_=yv("DialogOverlay.RemoveScroll"),U_=j.forwardRef((n,l)=>{const{__scopeDialog:i,...o}=n,d=fn(no,i);return s.jsx(Mv,{as:L_,allowPinchZoom:!0,shards:[d.contentRef],children:s.jsx(Fn.div,{"data-state":Ud(d.open),...o,ref:l,style:{pointerEvents:"auto",...o.style}})})}),Wa="DialogContent",$v=j.forwardRef((n,l)=>{const i=Zv(Wa,n.__scopeDialog),{forceMount:o=i.forceMount,...d}=n,f=fn(Wa,n.__scopeDialog);return s.jsx(go,{present:o||f.open,children:f.modal?s.jsx(B_,{...d,ref:l}):s.jsx(Z_,{...d,ref:l})})});$v.displayName=Wa;var B_=j.forwardRef((n,l)=>{const i=fn(Wa,n.__scopeDialog),o=j.useRef(null),d=al(l,i.contentRef,o);return j.useEffect(()=>{const f=o.current;if(f)return O_(f)},[]),s.jsx(Vv,{...n,ref:d,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ja(n.onCloseAutoFocus,f=>{f.preventDefault(),i.triggerRef.current?.focus()}),onPointerDownOutside:ja(n.onPointerDownOutside,f=>{const m=f.detail.originalEvent,h=m.button===0&&m.ctrlKey===!0;(m.button===2||h)&&f.preventDefault()}),onFocusOutside:ja(n.onFocusOutside,f=>f.preventDefault())})}),Z_=j.forwardRef((n,l)=>{const i=fn(Wa,n.__scopeDialog),o=j.useRef(!1),d=j.useRef(!1);return s.jsx(Vv,{...n,ref:l,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:f=>{n.onCloseAutoFocus?.(f),f.defaultPrevented||(o.current||i.triggerRef.current?.focus(),f.preventDefault()),o.current=!1,d.current=!1},onInteractOutside:f=>{n.onInteractOutside?.(f),f.defaultPrevented||(o.current=!0,f.detail.originalEvent.type==="pointerdown"&&(d.current=!0));const m=f.target;i.triggerRef.current?.contains(m)&&f.preventDefault(),f.detail.originalEvent.type==="focusin"&&d.current&&f.preventDefault()}})}),Vv=j.forwardRef((n,l)=>{const{__scopeDialog:i,trapFocus:o,onOpenAutoFocus:d,onCloseAutoFocus:f,...m}=n,h=fn(Wa,i),g=j.useRef(null),v=al(l,g);return XN(),s.jsxs(s.Fragment,{children:[s.jsx(wv,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:d,onUnmountAutoFocus:f,children:s.jsx(_v,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":Ud(h.open),...m,ref:v,onDismiss:()=>h.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(q_,{titleId:h.titleId}),s.jsx(V_,{contentRef:g,descriptionId:h.descriptionId})]})]})}),Ld="DialogTitle",Iv=j.forwardRef((n,l)=>{const{__scopeDialog:i,...o}=n,d=fn(Ld,i);return s.jsx(Fn.h2,{id:d.titleId,...o,ref:l})});Iv.displayName=Ld;var Yv="DialogDescription",Xv=j.forwardRef((n,l)=>{const{__scopeDialog:i,...o}=n,d=fn(Yv,i);return s.jsx(Fn.p,{id:d.descriptionId,...o,ref:l})});Xv.displayName=Yv;var Gv="DialogClose",H_=j.forwardRef((n,l)=>{const{__scopeDialog:i,...o}=n,d=fn(Gv,i);return s.jsx(Fn.button,{type:"button",...o,ref:l,onClick:ja(n.onClick,()=>d.onOpenChange(!1))})});H_.displayName=Gv;function Ud(n){return n?"open":"closed"}var Fv="DialogTitleWarning",[FC,Qv]=dN(Fv,{contentName:Wa,titleName:Ld,docsSlug:"dialog"}),q_=({titleId:n})=>{const l=Qv(Fv),i=`\`${l.contentName}\` requires a \`${l.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${l.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${l.docsSlug}`;return j.useEffect(()=>{n&&(document.getElementById(n)||console.error(i))},[i,n]),null},$_="DialogDescriptionWarning",V_=({contentRef:n,descriptionId:l})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Qv($_).contentName}}.`;return j.useEffect(()=>{const d=n.current?.getAttribute("aria-describedby");l&&d&&(document.getElementById(l)||console.warn(o))},[o,n,l]),null},I_=Uv,Y_=Hv,X_=qv,G_=$v,F_=Iv,Q_=Xv;function K_(n){if(typeof document>"u")return;let l=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",l.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}const Kv=J.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),bs=()=>{const n=J.useContext(Kv);if(!n)throw new Error("useDrawerContext must be used within a Drawer.Root");return n};K_(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function J_(){const n=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(n)&&/Mobile/.test(n)||/FxiOS/.test(n))}function W_(){return Bd(/^Mac/)}function P_(){return Bd(/^iPhone/)}function bg(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function e1(){return Bd(/^iPad/)||W_()&&navigator.maxTouchPoints>1}function Jv(){return P_()||e1()}function Bd(n){return typeof window<"u"&&window.navigator!=null?n.test(window.navigator.platform):void 0}const t1=24,n1=typeof window<"u"?j.useLayoutEffect:j.useEffect;function yg(...n){return(...l)=>{for(let i of n)typeof i=="function"&&i(...l)}}const Wu=typeof document<"u"&&window.visualViewport;function Ng(n){let l=window.getComputedStyle(n);return/(auto|scroll)/.test(l.overflow+l.overflowX+l.overflowY)}function Wv(n){for(Ng(n)&&(n=n.parentElement);n&&!Ng(n);)n=n.parentElement;return n||document.scrollingElement||document.documentElement}const a1=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Vi=0,Pu;function l1(n={}){let{isDisabled:l}=n;n1(()=>{if(!l)return Vi++,Vi===1&&Jv()&&(Pu=r1()),()=>{Vi--,Vi===0&&Pu?.()}},[l])}function r1(){let n,l=0,i=b=>{n=Wv(b.target),!(n===document.documentElement&&n===document.body)&&(l=b.changedTouches[0].pageY)},o=b=>{if(!n||n===document.documentElement||n===document.body){b.preventDefault();return}let y=b.changedTouches[0].pageY,_=n.scrollTop,w=n.scrollHeight-n.clientHeight;w!==0&&((_<=0&&y>l||_>=w&&y<l)&&b.preventDefault(),l=y)},d=b=>{let y=b.target;hd(y)&&y!==document.activeElement&&(b.preventDefault(),y.style.transform="translateY(-2000px)",y.focus(),requestAnimationFrame(()=>{y.style.transform=""}))},f=b=>{let y=b.target;hd(y)&&(y.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{y.style.transform="",Wu&&(Wu.height<window.innerHeight?requestAnimationFrame(()=>{_g(y)}):Wu.addEventListener("resize",()=>_g(y),{once:!0}))}))},m=()=>{window.scrollTo(0,0)},h=window.pageXOffset,g=window.pageYOffset,v=yg(s1(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let N=yg(is(document,"touchstart",i,{passive:!1,capture:!0}),is(document,"touchmove",o,{passive:!1,capture:!0}),is(document,"touchend",d,{passive:!1,capture:!0}),is(document,"focus",f,!0),is(window,"scroll",m));return()=>{v(),N(),window.scrollTo(h,g)}}function s1(n,l,i){let o=n.style[l];return n.style[l]=i,()=>{n.style[l]=o}}function is(n,l,i,o){return n.addEventListener(l,i,o),()=>{n.removeEventListener(l,i,o)}}function _g(n){let l=document.scrollingElement||document.documentElement;for(;n&&n!==l;){let i=Wv(n);if(i!==document.documentElement&&i!==document.body&&i!==n){let o=i.getBoundingClientRect().top,d=n.getBoundingClientRect().top,f=n.getBoundingClientRect().bottom;const m=i.getBoundingClientRect().bottom+t1;f>m&&(i.scrollTop+=d-o)}n=i.parentElement}}function hd(n){return n instanceof HTMLInputElement&&!a1.has(n.type)||n instanceof HTMLTextAreaElement||n instanceof HTMLElement&&n.isContentEditable}function i1(n,l){typeof n=="function"?n(l):n!=null&&(n.current=l)}function o1(...n){return l=>n.forEach(i=>i1(i,l))}function Pv(...n){return j.useCallback(o1(...n),n)}const ex=new WeakMap;function ft(n,l,i=!1){if(!n||!(n instanceof HTMLElement))return;let o={};Object.entries(l).forEach(([d,f])=>{if(d.startsWith("--")){n.style.setProperty(d,f);return}o[d]=n.style[d],n.style[d]=f}),!i&&ex.set(n,o)}function c1(n,l){if(!n||!(n instanceof HTMLElement))return;let i=ex.get(n);i&&(n.style[l]=i[l])}const ct=n=>{switch(n){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return n}};function Ii(n,l){if(!n)return null;const i=window.getComputedStyle(n),o=i.transform||i.webkitTransform||i.mozTransform;let d=o.match(/^matrix3d\((.+)\)$/);return d?parseFloat(d[1].split(", ")[ct(l)?13:12]):(d=o.match(/^matrix\((.+)\)$/),d?parseFloat(d[1].split(", ")[ct(l)?5:4]):null)}function u1(n){return 8*(Math.log(n+1)-2)}function ed(n,l){if(!n)return()=>{};const i=n.style.cssText;return Object.assign(n.style,l),()=>{n.style.cssText=i}}function d1(...n){return(...l)=>{for(const i of n)typeof i=="function"&&i(...l)}}const Fe={DURATION:.5,EASE:[.32,.72,0,1]},tx=.4,f1=.25,m1=100,nx=8,Fa=16,pd=26,td="vaul-dragging";function ax(n){const l=J.useRef(n);return J.useEffect(()=>{l.current=n}),J.useMemo(()=>(...i)=>l.current==null?void 0:l.current.call(l,...i),[])}function h1({defaultProp:n,onChange:l}){const i=J.useState(n),[o]=i,d=J.useRef(o),f=ax(l);return J.useEffect(()=>{d.current!==o&&(f(o),d.current=o)},[o,d,f]),i}function lx({prop:n,defaultProp:l,onChange:i=()=>{}}){const[o,d]=h1({defaultProp:l,onChange:i}),f=n!==void 0,m=f?n:o,h=ax(i),g=J.useCallback(v=>{if(f){const b=typeof v=="function"?v(n):v;b!==n&&h(b)}else d(v)},[f,n,d,h]);return[m,g]}function p1({activeSnapPointProp:n,setActiveSnapPointProp:l,snapPoints:i,drawerRef:o,overlayRef:d,fadeFromIndex:f,onSnapPointChange:m,direction:h="bottom",container:g,snapToSequentialPoint:v}){const[N,b]=lx({prop:n,defaultProp:i?.[0],onChange:l}),[y,_]=J.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);J.useEffect(()=>{function q(){_({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",q),()=>window.removeEventListener("resize",q)},[]);const w=J.useMemo(()=>N===i?.[i.length-1]||null,[i,N]),E=J.useMemo(()=>{var q;return(q=i?.findIndex(K=>K===N))!=null?q:null},[i,N]),z=i&&i.length>0&&(f||f===0)&&!Number.isNaN(f)&&i[f]===N||!i,T=J.useMemo(()=>{const q=g?{width:g.getBoundingClientRect().width,height:g.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var K;return(K=i?.map(X=>{const de=typeof X=="string";let ye=0;if(de&&(ye=parseInt(X,10)),ct(h)){const ne=de?ye:y?X*q.height:0;return y?h==="bottom"?q.height-ne:-q.height+ne:ne}const _e=de?ye:y?X*q.width:0;return y?h==="right"?q.width-_e:-q.width+_e:_e}))!=null?K:[]},[i,y,g]),R=J.useMemo(()=>E!==null?T?.[E]:null,[T,E]),B=J.useCallback(q=>{var K;const X=(K=T?.findIndex(de=>de===q))!=null?K:null;m(X),ft(o.current,{transition:`transform ${Fe.DURATION}s cubic-bezier(${Fe.EASE.join(",")})`,transform:ct(h)?`translate3d(0, ${q}px, 0)`:`translate3d(${q}px, 0, 0)`}),T&&X!==T.length-1&&f!==void 0&&X!==f&&X<f?ft(d.current,{transition:`opacity ${Fe.DURATION}s cubic-bezier(${Fe.EASE.join(",")})`,opacity:"0"}):ft(d.current,{transition:`opacity ${Fe.DURATION}s cubic-bezier(${Fe.EASE.join(",")})`,opacity:"1"}),b(i?.[Math.max(X,0)])},[o.current,i,T,f,d,b]);J.useEffect(()=>{if(N||n){var q;const K=(q=i?.findIndex(X=>X===n||X===N))!=null?q:-1;T&&K!==-1&&typeof T[K]=="number"&&B(T[K])}},[N,n,i,T,B]);function D({draggedDistance:q,closeDrawer:K,velocity:X,dismissible:de}){if(f===void 0)return;const ye=h==="bottom"||h==="right"?(R??0)-q:(R??0)+q,_e=E===f-1,ne=E===0,qe=q>0;if(_e&&ft(d.current,{transition:`opacity ${Fe.DURATION}s cubic-bezier(${Fe.EASE.join(",")})`}),!v&&X>2&&!qe){de?K():B(T[0]);return}if(!v&&X>2&&qe&&T&&i){B(T[i.length-1]);return}const $e=T?.reduce((Q,le)=>typeof Q!="number"||typeof le!="number"?Q:Math.abs(le-ye)<Math.abs(Q-ye)?le:Q),Z=ct(h)?window.innerHeight:window.innerWidth;if(X>tx&&Math.abs(q)<Z*.4){const Q=qe?1:-1;if(Q>0&&w&&i){B(T[i.length-1]);return}if(ne&&Q<0&&de&&K(),E===null)return;B(T[E+Q]);return}B($e)}function S({draggedDistance:q}){if(R===null)return;const K=h==="bottom"||h==="right"?R-q:R+q;(h==="bottom"||h==="right")&&K<T[T.length-1]||(h==="top"||h==="left")&&K>T[T.length-1]||ft(o.current,{transform:ct(h)?`translate3d(0, ${K}px, 0)`:`translate3d(${K}px, 0, 0)`})}function Y(q,K){if(!i||typeof E!="number"||!T||f===void 0)return null;const X=E===f-1;if(E>=f&&K)return 0;if(X&&!K)return 1;if(!z&&!X)return null;const ye=X?E+1:E-1,_e=X?T[ye]-T[ye-1]:T[ye+1]-T[ye],ne=q/Math.abs(_e);return X?1-ne:ne}return{isLastSnapPoint:w,activeSnapPoint:N,shouldFade:z,getPercentageDragged:Y,setActiveSnapPoint:b,activeSnapPointIndex:E,onRelease:D,onDrag:S,snapPointsOffset:T}}const g1=()=>()=>{};function v1(){const{direction:n,isOpen:l,shouldScaleBackground:i,setBackgroundColorOnScale:o,noBodyStyles:d}=bs(),f=J.useRef(null),m=j.useMemo(()=>document.body.style.backgroundColor,[]);function h(){return(window.innerWidth-pd)/window.innerWidth}J.useEffect(()=>{if(l&&i){f.current&&clearTimeout(f.current);const g=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!g)return;d1(o&&!d?ed(document.body,{background:"black"}):g1,ed(g,{transformOrigin:ct(n)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Fe.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Fe.EASE.join(",")})`}));const v=ed(g,{borderRadius:`${nx}px`,overflow:"hidden",...ct(n)?{transform:`scale(${h()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${h()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{v(),f.current=window.setTimeout(()=>{m?document.body.style.background=m:document.body.style.removeProperty("background")},Fe.DURATION*1e3)}}},[l,i,m])}let os=null;function x1({isOpen:n,modal:l,nested:i,hasBeenOpened:o,preventScrollRestoration:d,noBodyStyles:f}){const[m,h]=J.useState(()=>typeof window<"u"?window.location.href:""),g=J.useRef(0),v=J.useCallback(()=>{if(bg()&&os===null&&n&&!f){os={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:b,innerHeight:y}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-g.current}px`,left:`${-b}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const _=y-window.innerHeight;_&&g.current>=y&&(document.body.style.top=`${-(g.current+_)}px`)}),300)}},[n]),N=J.useCallback(()=>{if(bg()&&os!==null&&!f){const b=-parseInt(document.body.style.top,10),y=-parseInt(document.body.style.left,10);Object.assign(document.body.style,os),window.requestAnimationFrame(()=>{if(d&&m!==window.location.href){h(window.location.href);return}window.scrollTo(y,b)}),os=null}},[m]);return J.useEffect(()=>{function b(){g.current=window.scrollY}return b(),window.addEventListener("scroll",b),()=>{window.removeEventListener("scroll",b)}},[]),J.useEffect(()=>{if(l)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||N()}},[l,N]),J.useEffect(()=>{i||!o||(n?(!window.matchMedia("(display-mode: standalone)").matches&&v(),l||window.setTimeout(()=>{N()},500)):N())},[n,o,m,l,i,v,N]),{restorePositionSetting:N}}function b1({open:n,onOpenChange:l,children:i,onDrag:o,onRelease:d,snapPoints:f,shouldScaleBackground:m=!1,setBackgroundColorOnScale:h=!0,closeThreshold:g=f1,scrollLockTimeout:v=m1,dismissible:N=!0,handleOnly:b=!1,fadeFromIndex:y=f&&f.length-1,activeSnapPoint:_,setActiveSnapPoint:w,fixed:E,modal:z=!0,onClose:T,nested:R,noBodyStyles:B=!1,direction:D="bottom",defaultOpen:S=!1,disablePreventScroll:Y=!0,snapToSequentialPoint:q=!1,preventScrollRestoration:K=!1,repositionInputs:X=!0,onAnimationEnd:de,container:ye,autoFocus:_e=!1}){var ne,qe;const[$e=!1,Z]=lx({defaultProp:S,prop:n,onChange:oe=>{l?.(oe),!oe&&!R&&ws(),setTimeout(()=>{de?.(oe)},Fe.DURATION*1e3),oe&&!z&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),oe||(document.body.style.pointerEvents="auto")}}),[Q,le]=J.useState(!1),[je,Ee]=J.useState(!1),[pt,Be]=J.useState(!1),he=J.useRef(null),Ge=J.useRef(null),Et=J.useRef(null),Yt=J.useRef(null),mn=J.useRef(null),hn=J.useRef(!1),pn=J.useRef(null),Ea=J.useRef(0),rn=J.useRef(!1),sl=J.useRef(!S),ur=J.useRef(0),ue=J.useRef(null),il=J.useRef(((ne=ue.current)==null?void 0:ne.getBoundingClientRect().height)||0),ol=J.useRef(((qe=ue.current)==null?void 0:qe.getBoundingClientRect().width)||0),dr=J.useRef(0),Ns=J.useCallback(oe=>{f&&oe===Ta.length-1&&(Ge.current=new Date)},[]),{activeSnapPoint:fr,activeSnapPointIndex:gn,setActiveSnapPoint:cl,onRelease:jo,snapPointsOffset:Ta,onDrag:_t,shouldFade:_s,getPercentageDragged:js}=p1({snapPoints:f,activeSnapPointProp:_,setActiveSnapPointProp:w,drawerRef:ue,fadeFromIndex:y,overlayRef:he,onSnapPointChange:Ns,direction:D,container:ye,snapToSequentialPoint:q});l1({isDisabled:!$e||je||!z||pt||!Q||!X||!Y});const{restorePositionSetting:ws}=x1({isOpen:$e,modal:z,nested:R??!1,hasBeenOpened:Q,preventScrollRestoration:K,noBodyStyles:B});function An(){return(window.innerWidth-pd)/window.innerWidth}function wo(oe){var we,Te;!N&&!f||ue.current&&!ue.current.contains(oe.target)||(il.current=((we=ue.current)==null?void 0:we.getBoundingClientRect().height)||0,ol.current=((Te=ue.current)==null?void 0:Te.getBoundingClientRect().width)||0,Ee(!0),Et.current=new Date,Jv()&&window.addEventListener("touchend",()=>hn.current=!1,{once:!0}),oe.target.setPointerCapture(oe.pointerId),Ea.current=ct(D)?oe.pageY:oe.pageX)}function mr(oe,we){var Te;let pe=oe;const De=(Te=window.getSelection())==null?void 0:Te.toString(),ut=ue.current?Ii(ue.current,D):null,tt=new Date;if(pe.tagName==="SELECT"||pe.hasAttribute("data-vaul-no-drag")||pe.closest("[data-vaul-no-drag]"))return!1;if(D==="right"||D==="left")return!0;if(Ge.current&&tt.getTime()-Ge.current.getTime()<500)return!1;if(ut!==null&&(D==="bottom"?ut>0:ut<0))return!0;if(De&&De.length>0)return!1;if(mn.current&&tt.getTime()-mn.current.getTime()<v&&ut===0||we)return mn.current=tt,!1;for(;pe;){if(pe.scrollHeight>pe.clientHeight){if(pe.scrollTop!==0)return mn.current=new Date,!1;if(pe.getAttribute("role")==="dialog")return!0}pe=pe.parentNode}return!0}function So(oe){if(ue.current&&je){const we=D==="bottom"||D==="right"?1:-1,Te=(Ea.current-(ct(D)?oe.pageY:oe.pageX))*we,pe=Te>0,De=f&&!N&&!pe;if(De&&gn===0)return;const ut=Math.abs(Te),tt=document.querySelector("[data-vaul-drawer-wrapper]"),xn=D==="bottom"||D==="top"?il.current:ol.current;let Tt=ut/xn;const sn=js(ut,pe);if(sn!==null&&(Tt=sn),De&&Tt>=1||!hn.current&&!mr(oe.target,pe))return;if(ue.current.classList.add(td),hn.current=!0,ft(ue.current,{transition:"none"}),ft(he.current,{transition:"none"}),f&&_t({draggedDistance:Te}),pe&&!f){const Xt=u1(Te),za=Math.min(Xt*-1,0)*we;ft(ue.current,{transform:ct(D)?`translate3d(0, ${za}px, 0)`:`translate3d(${za}px, 0, 0)`});return}const At=1-Tt;if((_s||y&&gn===y-1)&&(o?.(oe,Tt),ft(he.current,{opacity:`${At}`,transition:"none"},!0)),tt&&he.current&&m){const Xt=Math.min(An()+Tt*(1-An()),1),za=8-Tt*8,hr=Math.max(0,14-Tt*14);ft(tt,{borderRadius:`${za}px`,transform:ct(D)?`scale(${Xt}) translate3d(0, ${hr}px, 0)`:`scale(${Xt}) translate3d(${hr}px, 0, 0)`,transition:"none"},!0)}if(!f){const Xt=ut*we;ft(ue.current,{transform:ct(D)?`translate3d(0, ${Xt}px, 0)`:`translate3d(${Xt}px, 0, 0)`})}}}J.useEffect(()=>{window.requestAnimationFrame(()=>{sl.current=!0})},[]),J.useEffect(()=>{var oe;function we(){if(!ue.current||!X)return;const Te=document.activeElement;if(hd(Te)||rn.current){var pe;const De=((pe=window.visualViewport)==null?void 0:pe.height)||0,ut=window.innerHeight;let tt=ut-De;const xn=ue.current.getBoundingClientRect().height||0,Tt=xn>ut*.8;dr.current||(dr.current=xn);const sn=ue.current.getBoundingClientRect().top;if(Math.abs(ur.current-tt)>60&&(rn.current=!rn.current),f&&f.length>0&&Ta&&gn){const At=Ta[gn]||0;tt+=At}if(ur.current=tt,xn>De||rn.current){const At=ue.current.getBoundingClientRect().height;let Xt=At;At>De&&(Xt=De-(Tt?sn:pd)),E?ue.current.style.height=`${At-Math.max(tt,0)}px`:ue.current.style.height=`${Math.max(Xt,De-sn)}px`}else J_()||(ue.current.style.height=`${dr.current}px`);f&&f.length>0&&!rn.current?ue.current.style.bottom="0px":ue.current.style.bottom=`${Math.max(tt,0)}px`}}return(oe=window.visualViewport)==null||oe.addEventListener("resize",we),()=>{var Te;return(Te=window.visualViewport)==null?void 0:Te.removeEventListener("resize",we)}},[gn,f,Ta]);function Aa(oe){jt(),T?.(),oe||Z(!1),setTimeout(()=>{f&&cl(f[0])},Fe.DURATION*1e3)}function Qn(){if(!ue.current)return;const oe=document.querySelector("[data-vaul-drawer-wrapper]"),we=Ii(ue.current,D);ft(ue.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Fe.DURATION}s cubic-bezier(${Fe.EASE.join(",")})`}),ft(he.current,{transition:`opacity ${Fe.DURATION}s cubic-bezier(${Fe.EASE.join(",")})`,opacity:"1"}),m&&we&&we>0&&$e&&ft(oe,{borderRadius:`${nx}px`,overflow:"hidden",...ct(D)?{transform:`scale(${An()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${An()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Fe.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Fe.EASE.join(",")})`},!0)}function jt(){!je||!ue.current||(ue.current.classList.remove(td),hn.current=!1,Ee(!1),Yt.current=new Date)}function vn(oe){if(!je||!ue.current)return;ue.current.classList.remove(td),hn.current=!1,Ee(!1),Yt.current=new Date;const we=Ii(ue.current,D);if(!oe||!mr(oe.target,!1)||!we||Number.isNaN(we)||Et.current===null)return;const Te=Yt.current.getTime()-Et.current.getTime(),pe=Ea.current-(ct(D)?oe.pageY:oe.pageX),De=Math.abs(pe)/Te;if(De>.05&&(Be(!0),setTimeout(()=>{Be(!1)},200)),f){jo({draggedDistance:pe*(D==="bottom"||D==="right"?1:-1),closeDrawer:Aa,velocity:De,dismissible:N}),d?.(oe,!0);return}if(D==="bottom"||D==="right"?pe>0:pe<0){Qn(),d?.(oe,!0);return}if(De>tx){Aa(),d?.(oe,!1);return}var ut;const tt=Math.min((ut=ue.current.getBoundingClientRect().height)!=null?ut:0,window.innerHeight);var xn;const Tt=Math.min((xn=ue.current.getBoundingClientRect().width)!=null?xn:0,window.innerWidth),sn=D==="left"||D==="right";if(Math.abs(we)>=(sn?Tt:tt)*g){Aa(),d?.(oe,!1);return}d?.(oe,!0),Qn()}J.useEffect(()=>($e&&(ft(document.documentElement,{scrollBehavior:"auto"}),Ge.current=new Date),()=>{c1(document.documentElement,"scrollBehavior")}),[$e]);function wt(oe){const we=oe?(window.innerWidth-Fa)/window.innerWidth:1,Te=oe?-Fa:0;pn.current&&window.clearTimeout(pn.current),ft(ue.current,{transition:`transform ${Fe.DURATION}s cubic-bezier(${Fe.EASE.join(",")})`,transform:ct(D)?`scale(${we}) translate3d(0, ${Te}px, 0)`:`scale(${we}) translate3d(${Te}px, 0, 0)`}),!oe&&ue.current&&(pn.current=setTimeout(()=>{const pe=Ii(ue.current,D);ft(ue.current,{transition:"none",transform:ct(D)?`translate3d(0, ${pe}px, 0)`:`translate3d(${pe}px, 0, 0)`})},500))}function Co(oe,we){if(we<0)return;const Te=(window.innerWidth-Fa)/window.innerWidth,pe=Te+we*(1-Te),De=-Fa+we*Fa;ft(ue.current,{transform:ct(D)?`scale(${pe}) translate3d(0, ${De}px, 0)`:`scale(${pe}) translate3d(${De}px, 0, 0)`,transition:"none"})}function Eo(oe,we){const Te=ct(D)?window.innerHeight:window.innerWidth,pe=we?(Te-Fa)/Te:1,De=we?-Fa:0;we&&ft(ue.current,{transition:`transform ${Fe.DURATION}s cubic-bezier(${Fe.EASE.join(",")})`,transform:ct(D)?`scale(${pe}) translate3d(0, ${De}px, 0)`:`scale(${pe}) translate3d(${De}px, 0, 0)`})}return J.useEffect(()=>{z||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[z]),J.createElement(I_,{defaultOpen:S,onOpenChange:oe=>{!N&&!oe||(oe?le(!0):Aa(!0),Z(oe))},open:$e},J.createElement(Kv.Provider,{value:{activeSnapPoint:fr,snapPoints:f,setActiveSnapPoint:cl,drawerRef:ue,overlayRef:he,onOpenChange:l,onPress:wo,onRelease:vn,onDrag:So,dismissible:N,shouldAnimate:sl,handleOnly:b,isOpen:$e,isDragging:je,shouldFade:_s,closeDrawer:Aa,onNestedDrag:Co,onNestedOpenChange:wt,onNestedRelease:Eo,keyboardIsOpen:rn,modal:z,snapPointsOffset:Ta,activeSnapPointIndex:gn,direction:D,shouldScaleBackground:m,setBackgroundColorOnScale:h,noBodyStyles:B,container:ye,autoFocus:_e}},i))}const rx=J.forwardRef(function({...n},l){const{overlayRef:i,snapPoints:o,onRelease:d,shouldFade:f,isOpen:m,modal:h,shouldAnimate:g}=bs(),v=Pv(l,i),N=o&&o.length>0;if(!h)return null;const b=J.useCallback(y=>d(y),[d]);return J.createElement(X_,{onMouseUp:b,ref:v,"data-vaul-overlay":"","data-vaul-snap-points":m&&N?"true":"false","data-vaul-snap-points-overlay":m&&f?"true":"false","data-vaul-animate":g?.current?"true":"false",...n})});rx.displayName="Drawer.Overlay";const sx=J.forwardRef(function({onPointerDownOutside:n,style:l,onOpenAutoFocus:i,...o},d){const{drawerRef:f,onPress:m,onRelease:h,onDrag:g,keyboardIsOpen:v,snapPointsOffset:N,activeSnapPointIndex:b,modal:y,isOpen:_,direction:w,snapPoints:E,container:z,handleOnly:T,shouldAnimate:R,autoFocus:B}=bs(),[D,S]=J.useState(!1),Y=Pv(d,f),q=J.useRef(null),K=J.useRef(null),X=J.useRef(!1),de=E&&E.length>0;v1();const ye=(ne,qe,$e=0)=>{if(X.current)return!0;const Z=Math.abs(ne.y),Q=Math.abs(ne.x),le=Q>Z,je=["bottom","right"].includes(qe)?1:-1;if(qe==="left"||qe==="right"){if(!(ne.x*je<0)&&Q>=0&&Q<=$e)return le}else if(!(ne.y*je<0)&&Z>=0&&Z<=$e)return!le;return X.current=!0,!0};J.useEffect(()=>{de&&window.requestAnimationFrame(()=>{S(!0)})},[]);function _e(ne){q.current=null,X.current=!1,h(ne)}return J.createElement(G_,{"data-vaul-drawer-direction":w,"data-vaul-drawer":"","data-vaul-delayed-snap-points":D?"true":"false","data-vaul-snap-points":_&&de?"true":"false","data-vaul-custom-container":z?"true":"false","data-vaul-animate":R?.current?"true":"false",...o,ref:Y,style:N&&N.length>0?{"--snap-point-height":`${N[b??0]}px`,...l}:l,onPointerDown:ne=>{T||(o.onPointerDown==null||o.onPointerDown.call(o,ne),q.current={x:ne.pageX,y:ne.pageY},m(ne))},onOpenAutoFocus:ne=>{i?.(ne),B||ne.preventDefault()},onPointerDownOutside:ne=>{if(n?.(ne),!y||ne.defaultPrevented){ne.preventDefault();return}v.current&&(v.current=!1)},onFocusOutside:ne=>{if(!y){ne.preventDefault();return}},onPointerMove:ne=>{if(K.current=ne,T||(o.onPointerMove==null||o.onPointerMove.call(o,ne),!q.current))return;const qe=ne.pageY-q.current.y,$e=ne.pageX-q.current.x,Z=ne.pointerType==="touch"?10:2;ye({x:$e,y:qe},w,Z)?g(ne):(Math.abs($e)>Z||Math.abs(qe)>Z)&&(q.current=null)},onPointerUp:ne=>{o.onPointerUp==null||o.onPointerUp.call(o,ne),q.current=null,X.current=!1,h(ne)},onPointerOut:ne=>{o.onPointerOut==null||o.onPointerOut.call(o,ne),_e(K.current)},onContextMenu:ne=>{o.onContextMenu==null||o.onContextMenu.call(o,ne),K.current&&_e(K.current)}})});sx.displayName="Drawer.Content";const y1=250,N1=120,_1=J.forwardRef(function({preventCycle:n=!1,children:l,...i},o){const{closeDrawer:d,isDragging:f,snapPoints:m,activeSnapPoint:h,setActiveSnapPoint:g,dismissible:v,handleOnly:N,isOpen:b,onPress:y,onDrag:_}=bs(),w=J.useRef(null),E=J.useRef(!1);function z(){if(E.current){B();return}window.setTimeout(()=>{T()},N1)}function T(){if(f||n||E.current){B();return}if(B(),!m||m.length===0){v||d();return}if(h===m[m.length-1]&&v){d();return}const S=m.findIndex(q=>q===h);if(S===-1)return;const Y=m[S+1];g(Y)}function R(){w.current=window.setTimeout(()=>{E.current=!0},y1)}function B(){w.current&&window.clearTimeout(w.current),E.current=!1}return J.createElement("div",{onClick:z,onPointerCancel:B,onPointerDown:D=>{N&&y(D),R()},onPointerMove:D=>{N&&_(D)},ref:o,"data-vaul-drawer-visible":b?"true":"false","data-vaul-handle":"","aria-hidden":"true",...i},J.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},l))});_1.displayName="Drawer.Handle";function j1(n){const l=bs(),{container:i=l.container,...o}=n;return J.createElement(Y_,{container:i,...o})}const Jl={Root:b1,Content:sx,Overlay:rx,Portal:j1,Title:F_,Description:Q_},w1=(n,l)=>{j.useEffect(()=>{if(n){window.history.pushState({modalOpen:!0},"",window.location.href);const i=o=>{o.preventDefault(),l()};return window.addEventListener("popstate",i),()=>{window.removeEventListener("popstate",i)}}},[n,l])},jg=768,ix=()=>{const[n,l]=j.useState(()=>typeof window>"u"?!1:window.innerWidth<jg);return j.useEffect(()=>{const i=()=>{l(window.innerWidth<jg)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),n},an=({isOpen:n,onClose:l,title:i,children:o,footer:d,maxWidth:f="lg",variant:m="center",description:h})=>{w1(n,l);const g=ix(),v=j.useMemo(()=>!g&&(m==="fullscreen"||m==="drawer")?"center":m,[g,m]);if(v==="drawer")return s.jsx(Jl.Root,{open:n,onOpenChange:y=>!y&&l(),children:s.jsxs(Jl.Portal,{children:[s.jsx(Jl.Overlay,{className:"fixed inset-0 bg-black/40 z-50 backdrop-blur-sm"}),s.jsxs(Jl.Content,{className:F("fixed bottom-0 left-0 right-0 max-h-[96vh] flex flex-col rounded-t-[10px] z-50","bg-background border-t border-border outline-none"),children:[s.jsx(Jl.Description,{className:"sr-only",children:h||i}),s.jsxs("div",{className:"flex-1 overflow-y-auto bg-background p-4 rounded-t-[10px]",children:[s.jsx("div",{className:"mx-auto w-12 h-1.5 flex-shrink-0 rounded-full bg-muted mb-4"}),s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx(Jl.Title,{className:"font-bold text-lg text-foreground",children:i}),s.jsx("button",{onClick:l,className:"p-1 rounded-full text-muted-foreground hover:bg-muted hover:text-foreground transition-colors",children:s.jsx(ds,{className:"w-5 h-5"})})]}),o]}),d&&s.jsx("div",{className:"p-4 border-t border-border bg-background pb-safe-bottom",children:d})]})]})});const N={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl"},b=v==="fullscreen";return s.jsx(Sa,{show:n,as:j.Fragment,children:s.jsxs(fo,{as:"div",className:"relative z-50",onClose:l,children:[s.jsx(wa,{as:j.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm"})}),s.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:s.jsx("div",{className:F("flex min-h-full items-center justify-center text-center",b?"p-0":"p-4"),children:s.jsx(wa,{as:j.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95 translate-y-4 sm:translate-y-0",enterTo:"opacity-100 scale-100 translate-y-0",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100 translate-y-0",leaveTo:"opacity-0 scale-95 translate-y-4 sm:translate-y-0",children:s.jsxs(mo,{className:F("w-full transform bg-background text-left align-middle shadow-xl transition-all flex flex-col",b?"h-[100dvh] w-screen rounded-none":`rounded-2xl ${N[f]} max-h-[85vh]`),children:[s.jsxs("div",{className:F("flex items-center justify-between shrink-0 border-b border-border bg-background z-10",b?"px-4 py-3 pt-safe-top":"px-6 py-4"),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[b&&g&&s.jsx("button",{onClick:l,className:"mr-1",children:s.jsx(rv,{className:"w-6 h-6 text-foreground"})}),s.jsx(Nd,{as:"h3",className:"text-lg font-bold leading-6 text-foreground",children:i})]}),(!b||!g)&&s.jsx("button",{onClick:l,className:"p-2 rounded-full text-muted-foreground hover:bg-muted hover:text-foreground transition-colors active:scale-95 outline-none focus:ring-2 focus:ring-primary/50",children:s.jsx(ds,{className:"w-5 h-5"})})]}),s.jsx("div",{className:F("flex-1 overflow-y-auto overscroll-contain bg-background/50",b?"p-4":"p-6"),children:s.jsxs("div",{className:F("mx-auto","w-full"),children:[h&&s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:h}),o]})}),d&&s.jsx("div",{className:F("shrink-0 px-4 py-3 border-t border-border bg-background z-20",b&&"pb-safe-bottom"),children:d})]})})})})]})})},Zd=({schema:n,initialData:l,onSubmit:i})=>{const[o,d]=j.useState(l),[f,m]=j.useState({}),[h]=j.useState({}),[g,v]=j.useState(!1),N=j.useMemo(()=>JSON.stringify(o)!==JSON.stringify(l),[o,l]),b=j.useCallback((T,R)=>{d(B=>({...B,[T]:R})),m(B=>{if(!B[T])return B;const D={...B};return delete D[T],D})},[]),y=j.useCallback((T,R)=>{/^-?\d*\.?\d*$/.test(R)&&b(T,R)},[b]),_=j.useCallback(()=>{const T=n.safeParse(o);if(!T.success){const R={};return T.error.issues.forEach(B=>{const D=B.path[0];D&&!R[D]&&(R[D]=B.message)}),m(R),!1}return m({}),!0},[o,n]),w=j.useCallback(T=>{T&&T.preventDefault(),v(!0);const R=n.safeParse(o);R.success?i(R.data):(_(),console.warn("Form validation failed"))},[_,o,i,n]),E=j.useCallback(()=>{d(l),m({}),v(!1)},[l]),z=j.useCallback((T,R)=>{b(T,R)},[b]);return{formData:o,errors:f,warnings:h,isDirty:N,isSubmitted:g,handleChange:b,handleNumberChange:y,handleSubmit:w,validate:_,resetForm:E,setFieldValue:z,setFormData:d,setErrors:m}};function V(n,l,i){function o(h,g){if(h._zod||Object.defineProperty(h,"_zod",{value:{def:g,constr:m,traits:new Set},enumerable:!1}),h._zod.traits.has(n))return;h._zod.traits.add(n),l(h,g);const v=m.prototype,N=Object.keys(v);for(let b=0;b<N.length;b++){const y=N[b];y in h||(h[y]=v[y].bind(h))}}const d=i?.Parent??Object;class f extends d{}Object.defineProperty(f,"name",{value:n});function m(h){var g;const v=i?.Parent?new f:this;o(v,h),(g=v._zod).deferred??(g.deferred=[]);for(const N of v._zod.deferred)N();return v}return Object.defineProperty(m,"init",{value:o}),Object.defineProperty(m,Symbol.hasInstance,{value:h=>i?.Parent&&h instanceof i.Parent?!0:h?._zod?.traits?.has(n)}),Object.defineProperty(m,"name",{value:n}),m}class er extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class ox extends Error{constructor(l){super(`Encountered unidirectional transform during encode: ${l}`),this.name="ZodEncodeError"}}const cx={};function Pa(n){return cx}function S1(n){const l=Object.values(n).filter(o=>typeof o=="number");return Object.entries(n).filter(([o,d])=>l.indexOf(+o)===-1).map(([o,d])=>d)}function gd(n,l){return typeof l=="bigint"?l.toString():l}function Hd(n){return{get value(){{const l=n();return Object.defineProperty(this,"value",{value:l}),l}}}}function qd(n){return n==null}function $d(n){const l=n.startsWith("^")?1:0,i=n.endsWith("$")?n.length-1:n.length;return n.slice(l,i)}function C1(n,l){const i=(n.toString().split(".")[1]||"").length,o=l.toString();let d=(o.split(".")[1]||"").length;if(d===0&&/\d?e-\d?/.test(o)){const g=o.match(/\d?e-(\d?)/);g?.[1]&&(d=Number.parseInt(g[1]))}const f=i>d?i:d,m=Number.parseInt(n.toFixed(f).replace(".","")),h=Number.parseInt(l.toFixed(f).replace(".",""));return m%h/10**f}const wg=Symbol("evaluating");function He(n,l,i){let o;Object.defineProperty(n,l,{get(){if(o!==wg)return o===void 0&&(o=wg,o=i()),o},set(d){Object.defineProperty(n,l,{value:d})},configurable:!0})}function ll(n,l,i){Object.defineProperty(n,l,{value:i,writable:!0,enumerable:!0,configurable:!0})}function rl(...n){const l={};for(const i of n){const o=Object.getOwnPropertyDescriptors(i);Object.assign(l,o)}return Object.defineProperties({},l)}function Sg(n){return JSON.stringify(n)}function E1(n){return n.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const ux="captureStackTrace"in Error?Error.captureStackTrace:(...n)=>{};function ao(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}const T1=Hd(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const n=Function;return new n(""),!0}catch{return!1}});function hs(n){if(ao(n)===!1)return!1;const l=n.constructor;if(l===void 0||typeof l!="function")return!0;const i=l.prototype;return!(ao(i)===!1||Object.prototype.hasOwnProperty.call(i,"isPrototypeOf")===!1)}function dx(n){return hs(n)?{...n}:Array.isArray(n)?[...n]:n}const A1=new Set(["string","number","symbol"]);function nr(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ca(n,l,i){const o=new n._zod.constr(l??n._zod.def);return(!l||i?.parent)&&(o._zod.parent=n),o}function se(n){const l=n;if(!l)return{};if(typeof l=="string")return{error:()=>l};if(l?.message!==void 0){if(l?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");l.error=l.message}return delete l.message,typeof l.error=="string"?{...l,error:()=>l.error}:l}function z1(n){return Object.keys(n).filter(l=>n[l]._zod.optin==="optional"&&n[l]._zod.optout==="optional")}const D1={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function O1(n,l){const i=n._zod.def,o=rl(n._zod.def,{get shape(){const d={};for(const f in l){if(!(f in i.shape))throw new Error(`Unrecognized key: "${f}"`);l[f]&&(d[f]=i.shape[f])}return ll(this,"shape",d),d},checks:[]});return Ca(n,o)}function R1(n,l){const i=n._zod.def,o=rl(n._zod.def,{get shape(){const d={...n._zod.def.shape};for(const f in l){if(!(f in i.shape))throw new Error(`Unrecognized key: "${f}"`);l[f]&&delete d[f]}return ll(this,"shape",d),d},checks:[]});return Ca(n,o)}function M1(n,l){if(!hs(l))throw new Error("Invalid input to extend: expected a plain object");const i=n._zod.def.checks;if(i&&i.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const d=rl(n._zod.def,{get shape(){const f={...n._zod.def.shape,...l};return ll(this,"shape",f),f},checks:[]});return Ca(n,d)}function k1(n,l){if(!hs(l))throw new Error("Invalid input to safeExtend: expected a plain object");const i={...n._zod.def,get shape(){const o={...n._zod.def.shape,...l};return ll(this,"shape",o),o},checks:n._zod.def.checks};return Ca(n,i)}function L1(n,l){const i=rl(n._zod.def,{get shape(){const o={...n._zod.def.shape,...l._zod.def.shape};return ll(this,"shape",o),o},get catchall(){return l._zod.def.catchall},checks:[]});return Ca(n,i)}function U1(n,l,i){const o=rl(l._zod.def,{get shape(){const d=l._zod.def.shape,f={...d};if(i)for(const m in i){if(!(m in d))throw new Error(`Unrecognized key: "${m}"`);i[m]&&(f[m]=n?new n({type:"optional",innerType:d[m]}):d[m])}else for(const m in d)f[m]=n?new n({type:"optional",innerType:d[m]}):d[m];return ll(this,"shape",f),f},checks:[]});return Ca(l,o)}function B1(n,l,i){const o=rl(l._zod.def,{get shape(){const d=l._zod.def.shape,f={...d};if(i)for(const m in i){if(!(m in f))throw new Error(`Unrecognized key: "${m}"`);i[m]&&(f[m]=new n({type:"nonoptional",innerType:d[m]}))}else for(const m in d)f[m]=new n({type:"nonoptional",innerType:d[m]});return ll(this,"shape",f),f},checks:[]});return Ca(l,o)}function Wl(n,l=0){if(n.aborted===!0)return!0;for(let i=l;i<n.issues.length;i++)if(n.issues[i]?.continue!==!0)return!0;return!1}function fx(n,l){return l.map(i=>{var o;return(o=i).path??(o.path=[]),i.path.unshift(n),i})}function Yi(n){return typeof n=="string"?n:n?.message}function el(n,l,i){const o={...n,path:n.path??[]};if(!n.message){const d=Yi(n.inst?._zod.def?.error?.(n))??Yi(l?.error?.(n))??Yi(i.customError?.(n))??Yi(i.localeError?.(n))??"Invalid input";o.message=d}return delete o.inst,delete o.continue,l?.reportInput||delete o.input,o}function Vd(n){return Array.isArray(n)?"array":typeof n=="string"?"string":"unknown"}function ps(...n){const[l,i,o]=n;return typeof l=="string"?{message:l,code:"custom",input:i,inst:o}:{...l}}const mx=(n,l)=>{n.name="$ZodError",Object.defineProperty(n,"_zod",{value:n._zod,enumerable:!1}),Object.defineProperty(n,"issues",{value:l,enumerable:!1}),n.message=JSON.stringify(l,gd,2),Object.defineProperty(n,"toString",{value:()=>n.message,enumerable:!1})},hx=V("$ZodError",mx),px=V("$ZodError",mx,{Parent:Error});function Z1(n,l=i=>i.message){const i={},o=[];for(const d of n.issues)d.path.length>0?(i[d.path[0]]=i[d.path[0]]||[],i[d.path[0]].push(l(d))):o.push(l(d));return{formErrors:o,fieldErrors:i}}function H1(n,l=i=>i.message){const i={_errors:[]},o=d=>{for(const f of d.issues)if(f.code==="invalid_union"&&f.errors.length)f.errors.map(m=>o({issues:m}));else if(f.code==="invalid_key")o({issues:f.issues});else if(f.code==="invalid_element")o({issues:f.issues});else if(f.path.length===0)i._errors.push(l(f));else{let m=i,h=0;for(;h<f.path.length;){const g=f.path[h];h===f.path.length-1?(m[g]=m[g]||{_errors:[]},m[g]._errors.push(l(f))):m[g]=m[g]||{_errors:[]},m=m[g],h++}}};return o(n),i}const Id=n=>(l,i,o,d)=>{const f=o?Object.assign(o,{async:!1}):{async:!1},m=l._zod.run({value:i,issues:[]},f);if(m instanceof Promise)throw new er;if(m.issues.length){const h=new(d?.Err??n)(m.issues.map(g=>el(g,f,Pa())));throw ux(h,d?.callee),h}return m.value},Yd=n=>async(l,i,o,d)=>{const f=o?Object.assign(o,{async:!0}):{async:!0};let m=l._zod.run({value:i,issues:[]},f);if(m instanceof Promise&&(m=await m),m.issues.length){const h=new(d?.Err??n)(m.issues.map(g=>el(g,f,Pa())));throw ux(h,d?.callee),h}return m.value},bo=n=>(l,i,o)=>{const d=o?{...o,async:!1}:{async:!1},f=l._zod.run({value:i,issues:[]},d);if(f instanceof Promise)throw new er;return f.issues.length?{success:!1,error:new(n??hx)(f.issues.map(m=>el(m,d,Pa())))}:{success:!0,data:f.value}},q1=bo(px),yo=n=>async(l,i,o)=>{const d=o?Object.assign(o,{async:!0}):{async:!0};let f=l._zod.run({value:i,issues:[]},d);return f instanceof Promise&&(f=await f),f.issues.length?{success:!1,error:new n(f.issues.map(m=>el(m,d,Pa())))}:{success:!0,data:f.value}},$1=yo(px),V1=n=>(l,i,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return Id(n)(l,i,d)},I1=n=>(l,i,o)=>Id(n)(l,i,o),Y1=n=>async(l,i,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return Yd(n)(l,i,d)},X1=n=>async(l,i,o)=>Yd(n)(l,i,o),G1=n=>(l,i,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return bo(n)(l,i,d)},F1=n=>(l,i,o)=>bo(n)(l,i,o),Q1=n=>async(l,i,o)=>{const d=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return yo(n)(l,i,d)},K1=n=>async(l,i,o)=>yo(n)(l,i,o),J1=/^[cC][^\s-]{8,}$/,W1=/^[0-9a-z]+$/,P1=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,ej=/^[0-9a-vA-V]{20}$/,tj=/^[A-Za-z0-9]{27}$/,nj=/^[a-zA-Z0-9_-]{21}$/,aj=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,lj=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Cg=n=>n?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${n}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,rj=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,sj="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function ij(){return new RegExp(sj,"u")}const oj=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,cj=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,uj=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,dj=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fj=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,gx=/^[A-Za-z0-9_-]*$/,mj=/^\+(?:[0-9]){6,14}[0-9]$/,vx="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",hj=new RegExp(`^${vx}$`);function xx(n){const l="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof n.precision=="number"?n.precision===-1?`${l}`:n.precision===0?`${l}:[0-5]\\d`:`${l}:[0-5]\\d\\.\\d{${n.precision}}`:`${l}(?::[0-5]\\d(?:\\.\\d+)?)?`}function pj(n){return new RegExp(`^${xx(n)}$`)}function gj(n){const l=xx({precision:n.precision}),i=["Z"];n.local&&i.push(""),n.offset&&i.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const o=`${l}(?:${i.join("|")})`;return new RegExp(`^${vx}T(?:${o})$`)}const vj=n=>{const l=n?`[\\s\\S]{${n?.minimum??0},${n?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${l}$`)},xj=/^-?\d+$/,bj=/^-?\d+(?:\.\d+)?/,yj=/^(?:true|false)$/i,Nj=/^[^A-Z]*$/,_j=/^[^a-z]*$/,Ut=V("$ZodCheck",(n,l)=>{var i;n._zod??(n._zod={}),n._zod.def=l,(i=n._zod).onattach??(i.onattach=[])}),bx={number:"number",bigint:"bigint",object:"date"},yx=V("$ZodCheckLessThan",(n,l)=>{Ut.init(n,l);const i=bx[typeof l.value];n._zod.onattach.push(o=>{const d=o._zod.bag,f=(l.inclusive?d.maximum:d.exclusiveMaximum)??Number.POSITIVE_INFINITY;l.value<f&&(l.inclusive?d.maximum=l.value:d.exclusiveMaximum=l.value)}),n._zod.check=o=>{(l.inclusive?o.value<=l.value:o.value<l.value)||o.issues.push({origin:i,code:"too_big",maximum:l.value,input:o.value,inclusive:l.inclusive,inst:n,continue:!l.abort})}}),Nx=V("$ZodCheckGreaterThan",(n,l)=>{Ut.init(n,l);const i=bx[typeof l.value];n._zod.onattach.push(o=>{const d=o._zod.bag,f=(l.inclusive?d.minimum:d.exclusiveMinimum)??Number.NEGATIVE_INFINITY;l.value>f&&(l.inclusive?d.minimum=l.value:d.exclusiveMinimum=l.value)}),n._zod.check=o=>{(l.inclusive?o.value>=l.value:o.value>l.value)||o.issues.push({origin:i,code:"too_small",minimum:l.value,input:o.value,inclusive:l.inclusive,inst:n,continue:!l.abort})}}),jj=V("$ZodCheckMultipleOf",(n,l)=>{Ut.init(n,l),n._zod.onattach.push(i=>{var o;(o=i._zod.bag).multipleOf??(o.multipleOf=l.value)}),n._zod.check=i=>{if(typeof i.value!=typeof l.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof i.value=="bigint"?i.value%l.value===BigInt(0):C1(i.value,l.value)===0)||i.issues.push({origin:typeof i.value,code:"not_multiple_of",divisor:l.value,input:i.value,inst:n,continue:!l.abort})}}),wj=V("$ZodCheckNumberFormat",(n,l)=>{Ut.init(n,l),l.format=l.format||"float64";const i=l.format?.includes("int"),o=i?"int":"number",[d,f]=D1[l.format];n._zod.onattach.push(m=>{const h=m._zod.bag;h.format=l.format,h.minimum=d,h.maximum=f,i&&(h.pattern=xj)}),n._zod.check=m=>{const h=m.value;if(i){if(!Number.isInteger(h)){m.issues.push({expected:o,format:l.format,code:"invalid_type",continue:!1,input:h,inst:n});return}if(!Number.isSafeInteger(h)){h>0?m.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:o,continue:!l.abort}):m.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:o,continue:!l.abort});return}}h<d&&m.issues.push({origin:"number",input:h,code:"too_small",minimum:d,inclusive:!0,inst:n,continue:!l.abort}),h>f&&m.issues.push({origin:"number",input:h,code:"too_big",maximum:f,inst:n})}}),Sj=V("$ZodCheckMaxLength",(n,l)=>{var i;Ut.init(n,l),(i=n._zod.def).when??(i.when=o=>{const d=o.value;return!qd(d)&&d.length!==void 0}),n._zod.onattach.push(o=>{const d=o._zod.bag.maximum??Number.POSITIVE_INFINITY;l.maximum<d&&(o._zod.bag.maximum=l.maximum)}),n._zod.check=o=>{const d=o.value;if(d.length<=l.maximum)return;const m=Vd(d);o.issues.push({origin:m,code:"too_big",maximum:l.maximum,inclusive:!0,input:d,inst:n,continue:!l.abort})}}),Cj=V("$ZodCheckMinLength",(n,l)=>{var i;Ut.init(n,l),(i=n._zod.def).when??(i.when=o=>{const d=o.value;return!qd(d)&&d.length!==void 0}),n._zod.onattach.push(o=>{const d=o._zod.bag.minimum??Number.NEGATIVE_INFINITY;l.minimum>d&&(o._zod.bag.minimum=l.minimum)}),n._zod.check=o=>{const d=o.value;if(d.length>=l.minimum)return;const m=Vd(d);o.issues.push({origin:m,code:"too_small",minimum:l.minimum,inclusive:!0,input:d,inst:n,continue:!l.abort})}}),Ej=V("$ZodCheckLengthEquals",(n,l)=>{var i;Ut.init(n,l),(i=n._zod.def).when??(i.when=o=>{const d=o.value;return!qd(d)&&d.length!==void 0}),n._zod.onattach.push(o=>{const d=o._zod.bag;d.minimum=l.length,d.maximum=l.length,d.length=l.length}),n._zod.check=o=>{const d=o.value,f=d.length;if(f===l.length)return;const m=Vd(d),h=f>l.length;o.issues.push({origin:m,...h?{code:"too_big",maximum:l.length}:{code:"too_small",minimum:l.length},inclusive:!0,exact:!0,input:o.value,inst:n,continue:!l.abort})}}),No=V("$ZodCheckStringFormat",(n,l)=>{var i,o;Ut.init(n,l),n._zod.onattach.push(d=>{const f=d._zod.bag;f.format=l.format,l.pattern&&(f.patterns??(f.patterns=new Set),f.patterns.add(l.pattern))}),l.pattern?(i=n._zod).check??(i.check=d=>{l.pattern.lastIndex=0,!l.pattern.test(d.value)&&d.issues.push({origin:"string",code:"invalid_format",format:l.format,input:d.value,...l.pattern?{pattern:l.pattern.toString()}:{},inst:n,continue:!l.abort})}):(o=n._zod).check??(o.check=()=>{})}),Tj=V("$ZodCheckRegex",(n,l)=>{No.init(n,l),n._zod.check=i=>{l.pattern.lastIndex=0,!l.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:"regex",input:i.value,pattern:l.pattern.toString(),inst:n,continue:!l.abort})}}),Aj=V("$ZodCheckLowerCase",(n,l)=>{l.pattern??(l.pattern=Nj),No.init(n,l)}),zj=V("$ZodCheckUpperCase",(n,l)=>{l.pattern??(l.pattern=_j),No.init(n,l)}),Dj=V("$ZodCheckIncludes",(n,l)=>{Ut.init(n,l);const i=nr(l.includes),o=new RegExp(typeof l.position=="number"?`^.{${l.position}}${i}`:i);l.pattern=o,n._zod.onattach.push(d=>{const f=d._zod.bag;f.patterns??(f.patterns=new Set),f.patterns.add(o)}),n._zod.check=d=>{d.value.includes(l.includes,l.position)||d.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:l.includes,input:d.value,inst:n,continue:!l.abort})}}),Oj=V("$ZodCheckStartsWith",(n,l)=>{Ut.init(n,l);const i=new RegExp(`^${nr(l.prefix)}.*`);l.pattern??(l.pattern=i),n._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(i)}),n._zod.check=o=>{o.value.startsWith(l.prefix)||o.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:l.prefix,input:o.value,inst:n,continue:!l.abort})}}),Rj=V("$ZodCheckEndsWith",(n,l)=>{Ut.init(n,l);const i=new RegExp(`.*${nr(l.suffix)}$`);l.pattern??(l.pattern=i),n._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(i)}),n._zod.check=o=>{o.value.endsWith(l.suffix)||o.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:l.suffix,input:o.value,inst:n,continue:!l.abort})}}),Mj=V("$ZodCheckOverwrite",(n,l)=>{Ut.init(n,l),n._zod.check=i=>{i.value=l.tx(i.value)}});class kj{constructor(l=[]){this.content=[],this.indent=0,this&&(this.args=l)}indented(l){this.indent+=1,l(this),this.indent-=1}write(l){if(typeof l=="function"){l(this,{execution:"sync"}),l(this,{execution:"async"});return}const o=l.split(`
`).filter(m=>m),d=Math.min(...o.map(m=>m.length-m.trimStart().length)),f=o.map(m=>m.slice(d)).map(m=>" ".repeat(this.indent*2)+m);for(const m of f)this.content.push(m)}compile(){const l=Function,i=this?.args,d=[...(this?.content??[""]).map(f=>`  ${f}`)];return new l(...i,d.join(`
`))}}const Lj={major:4,minor:1,patch:13},Ke=V("$ZodType",(n,l)=>{var i;n??(n={}),n._zod.def=l,n._zod.bag=n._zod.bag||{},n._zod.version=Lj;const o=[...n._zod.def.checks??[]];n._zod.traits.has("$ZodCheck")&&o.unshift(n);for(const d of o)for(const f of d._zod.onattach)f(n);if(o.length===0)(i=n._zod).deferred??(i.deferred=[]),n._zod.deferred?.push(()=>{n._zod.run=n._zod.parse});else{const d=(m,h,g)=>{let v=Wl(m),N;for(const b of h){if(b._zod.def.when){if(!b._zod.def.when(m))continue}else if(v)continue;const y=m.issues.length,_=b._zod.check(m);if(_ instanceof Promise&&g?.async===!1)throw new er;if(N||_ instanceof Promise)N=(N??Promise.resolve()).then(async()=>{await _,m.issues.length!==y&&(v||(v=Wl(m,y)))});else{if(m.issues.length===y)continue;v||(v=Wl(m,y))}}return N?N.then(()=>m):m},f=(m,h,g)=>{if(Wl(m))return m.aborted=!0,m;const v=d(h,o,g);if(v instanceof Promise){if(g.async===!1)throw new er;return v.then(N=>n._zod.parse(N,g))}return n._zod.parse(v,g)};n._zod.run=(m,h)=>{if(h.skipChecks)return n._zod.parse(m,h);if(h.direction==="backward"){const v=n._zod.parse({value:m.value,issues:[]},{...h,skipChecks:!0});return v instanceof Promise?v.then(N=>f(N,m,h)):f(v,m,h)}const g=n._zod.parse(m,h);if(g instanceof Promise){if(h.async===!1)throw new er;return g.then(v=>d(v,o,h))}return d(g,o,h)}}n["~standard"]={validate:d=>{try{const f=q1(n,d);return f.success?{value:f.data}:{issues:f.error?.issues}}catch{return $1(n,d).then(m=>m.success?{value:m.data}:{issues:m.error?.issues})}},vendor:"zod",version:1}}),Xd=V("$ZodString",(n,l)=>{Ke.init(n,l),n._zod.pattern=[...n?._zod.bag?.patterns??[]].pop()??vj(n._zod.bag),n._zod.parse=(i,o)=>{if(l.coerce)try{i.value=String(i.value)}catch{}return typeof i.value=="string"||i.issues.push({expected:"string",code:"invalid_type",input:i.value,inst:n}),i}}),Xe=V("$ZodStringFormat",(n,l)=>{No.init(n,l),Xd.init(n,l)}),Uj=V("$ZodGUID",(n,l)=>{l.pattern??(l.pattern=lj),Xe.init(n,l)}),Bj=V("$ZodUUID",(n,l)=>{if(l.version){const o={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[l.version];if(o===void 0)throw new Error(`Invalid UUID version: "${l.version}"`);l.pattern??(l.pattern=Cg(o))}else l.pattern??(l.pattern=Cg());Xe.init(n,l)}),Zj=V("$ZodEmail",(n,l)=>{l.pattern??(l.pattern=rj),Xe.init(n,l)}),Hj=V("$ZodURL",(n,l)=>{Xe.init(n,l),n._zod.check=i=>{try{const o=i.value.trim(),d=new URL(o);l.hostname&&(l.hostname.lastIndex=0,l.hostname.test(d.hostname)||i.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:l.hostname.source,input:i.value,inst:n,continue:!l.abort})),l.protocol&&(l.protocol.lastIndex=0,l.protocol.test(d.protocol.endsWith(":")?d.protocol.slice(0,-1):d.protocol)||i.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:l.protocol.source,input:i.value,inst:n,continue:!l.abort})),l.normalize?i.value=d.href:i.value=o;return}catch{i.issues.push({code:"invalid_format",format:"url",input:i.value,inst:n,continue:!l.abort})}}}),qj=V("$ZodEmoji",(n,l)=>{l.pattern??(l.pattern=ij()),Xe.init(n,l)}),$j=V("$ZodNanoID",(n,l)=>{l.pattern??(l.pattern=nj),Xe.init(n,l)}),Vj=V("$ZodCUID",(n,l)=>{l.pattern??(l.pattern=J1),Xe.init(n,l)}),Ij=V("$ZodCUID2",(n,l)=>{l.pattern??(l.pattern=W1),Xe.init(n,l)}),Yj=V("$ZodULID",(n,l)=>{l.pattern??(l.pattern=P1),Xe.init(n,l)}),Xj=V("$ZodXID",(n,l)=>{l.pattern??(l.pattern=ej),Xe.init(n,l)}),Gj=V("$ZodKSUID",(n,l)=>{l.pattern??(l.pattern=tj),Xe.init(n,l)}),Fj=V("$ZodISODateTime",(n,l)=>{l.pattern??(l.pattern=gj(l)),Xe.init(n,l)}),Qj=V("$ZodISODate",(n,l)=>{l.pattern??(l.pattern=hj),Xe.init(n,l)}),Kj=V("$ZodISOTime",(n,l)=>{l.pattern??(l.pattern=pj(l)),Xe.init(n,l)}),Jj=V("$ZodISODuration",(n,l)=>{l.pattern??(l.pattern=aj),Xe.init(n,l)}),Wj=V("$ZodIPv4",(n,l)=>{l.pattern??(l.pattern=oj),Xe.init(n,l),n._zod.bag.format="ipv4"}),Pj=V("$ZodIPv6",(n,l)=>{l.pattern??(l.pattern=cj),Xe.init(n,l),n._zod.bag.format="ipv6",n._zod.check=i=>{try{new URL(`http://[${i.value}]`)}catch{i.issues.push({code:"invalid_format",format:"ipv6",input:i.value,inst:n,continue:!l.abort})}}}),ew=V("$ZodCIDRv4",(n,l)=>{l.pattern??(l.pattern=uj),Xe.init(n,l)}),tw=V("$ZodCIDRv6",(n,l)=>{l.pattern??(l.pattern=dj),Xe.init(n,l),n._zod.check=i=>{const o=i.value.split("/");try{if(o.length!==2)throw new Error;const[d,f]=o;if(!f)throw new Error;const m=Number(f);if(`${m}`!==f)throw new Error;if(m<0||m>128)throw new Error;new URL(`http://[${d}]`)}catch{i.issues.push({code:"invalid_format",format:"cidrv6",input:i.value,inst:n,continue:!l.abort})}}});function _x(n){if(n==="")return!0;if(n.length%4!==0)return!1;try{return atob(n),!0}catch{return!1}}const nw=V("$ZodBase64",(n,l)=>{l.pattern??(l.pattern=fj),Xe.init(n,l),n._zod.bag.contentEncoding="base64",n._zod.check=i=>{_x(i.value)||i.issues.push({code:"invalid_format",format:"base64",input:i.value,inst:n,continue:!l.abort})}});function aw(n){if(!gx.test(n))return!1;const l=n.replace(/[-_]/g,o=>o==="-"?"+":"/"),i=l.padEnd(Math.ceil(l.length/4)*4,"=");return _x(i)}const lw=V("$ZodBase64URL",(n,l)=>{l.pattern??(l.pattern=gx),Xe.init(n,l),n._zod.bag.contentEncoding="base64url",n._zod.check=i=>{aw(i.value)||i.issues.push({code:"invalid_format",format:"base64url",input:i.value,inst:n,continue:!l.abort})}}),rw=V("$ZodE164",(n,l)=>{l.pattern??(l.pattern=mj),Xe.init(n,l)});function sw(n,l=null){try{const i=n.split(".");if(i.length!==3)return!1;const[o]=i;if(!o)return!1;const d=JSON.parse(atob(o));return!("typ"in d&&d?.typ!=="JWT"||!d.alg||l&&(!("alg"in d)||d.alg!==l))}catch{return!1}}const iw=V("$ZodJWT",(n,l)=>{Xe.init(n,l),n._zod.check=i=>{sw(i.value,l.alg)||i.issues.push({code:"invalid_format",format:"jwt",input:i.value,inst:n,continue:!l.abort})}}),jx=V("$ZodNumber",(n,l)=>{Ke.init(n,l),n._zod.pattern=n._zod.bag.pattern??bj,n._zod.parse=(i,o)=>{if(l.coerce)try{i.value=Number(i.value)}catch{}const d=i.value;if(typeof d=="number"&&!Number.isNaN(d)&&Number.isFinite(d))return i;const f=typeof d=="number"?Number.isNaN(d)?"NaN":Number.isFinite(d)?void 0:"Infinity":void 0;return i.issues.push({expected:"number",code:"invalid_type",input:d,inst:n,...f?{received:f}:{}}),i}}),ow=V("$ZodNumberFormat",(n,l)=>{wj.init(n,l),jx.init(n,l)}),cw=V("$ZodBoolean",(n,l)=>{Ke.init(n,l),n._zod.pattern=yj,n._zod.parse=(i,o)=>{if(l.coerce)try{i.value=!!i.value}catch{}const d=i.value;return typeof d=="boolean"||i.issues.push({expected:"boolean",code:"invalid_type",input:d,inst:n}),i}}),uw=V("$ZodAny",(n,l)=>{Ke.init(n,l),n._zod.parse=i=>i}),dw=V("$ZodUnknown",(n,l)=>{Ke.init(n,l),n._zod.parse=i=>i}),fw=V("$ZodNever",(n,l)=>{Ke.init(n,l),n._zod.parse=(i,o)=>(i.issues.push({expected:"never",code:"invalid_type",input:i.value,inst:n}),i)});function Eg(n,l,i){n.issues.length&&l.issues.push(...fx(i,n.issues)),l.value[i]=n.value}const mw=V("$ZodArray",(n,l)=>{Ke.init(n,l),n._zod.parse=(i,o)=>{const d=i.value;if(!Array.isArray(d))return i.issues.push({expected:"array",code:"invalid_type",input:d,inst:n}),i;i.value=Array(d.length);const f=[];for(let m=0;m<d.length;m++){const h=d[m],g=l.element._zod.run({value:h,issues:[]},o);g instanceof Promise?f.push(g.then(v=>Eg(v,i,m))):Eg(g,i,m)}return f.length?Promise.all(f).then(()=>i):i}});function lo(n,l,i,o){n.issues.length&&l.issues.push(...fx(i,n.issues)),n.value===void 0?i in o&&(l.value[i]=void 0):l.value[i]=n.value}function wx(n){const l=Object.keys(n.shape);for(const o of l)if(!n.shape?.[o]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const i=z1(n.shape);return{...n,keys:l,keySet:new Set(l),numKeys:l.length,optionalKeys:new Set(i)}}function Sx(n,l,i,o,d,f){const m=[],h=d.keySet,g=d.catchall._zod,v=g.def.type;for(const N in l){if(h.has(N))continue;if(v==="never"){m.push(N);continue}const b=g.run({value:l[N],issues:[]},o);b instanceof Promise?n.push(b.then(y=>lo(y,i,N,l))):lo(b,i,N,l)}return m.length&&i.issues.push({code:"unrecognized_keys",keys:m,input:l,inst:f}),n.length?Promise.all(n).then(()=>i):i}const hw=V("$ZodObject",(n,l)=>{if(Ke.init(n,l),!Object.getOwnPropertyDescriptor(l,"shape")?.get){const h=l.shape;Object.defineProperty(l,"shape",{get:()=>{const g={...h};return Object.defineProperty(l,"shape",{value:g}),g}})}const o=Hd(()=>wx(l));He(n._zod,"propValues",()=>{const h=l.shape,g={};for(const v in h){const N=h[v]._zod;if(N.values){g[v]??(g[v]=new Set);for(const b of N.values)g[v].add(b)}}return g});const d=ao,f=l.catchall;let m;n._zod.parse=(h,g)=>{m??(m=o.value);const v=h.value;if(!d(v))return h.issues.push({expected:"object",code:"invalid_type",input:v,inst:n}),h;h.value={};const N=[],b=m.shape;for(const y of m.keys){const w=b[y]._zod.run({value:v[y],issues:[]},g);w instanceof Promise?N.push(w.then(E=>lo(E,h,y,v))):lo(w,h,y,v)}return f?Sx(N,v,h,g,o.value,n):N.length?Promise.all(N).then(()=>h):h}}),pw=V("$ZodObjectJIT",(n,l)=>{hw.init(n,l);const i=n._zod.parse,o=Hd(()=>wx(l)),d=y=>{const _=new kj(["shape","payload","ctx"]),w=o.value,E=B=>{const D=Sg(B);return`shape[${D}]._zod.run({ value: input[${D}], issues: [] }, ctx)`};_.write("const input = payload.value;");const z=Object.create(null);let T=0;for(const B of w.keys)z[B]=`key_${T++}`;_.write("const newResult = {};");for(const B of w.keys){const D=z[B],S=Sg(B);_.write(`const ${D} = ${E(B)};`),_.write(`
        if (${D}.issues.length) {
          payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${S}, ...iss.path] : [${S}]
          })));
        }
        
        
        if (${D}.value === undefined) {
          if (${S} in input) {
            newResult[${S}] = undefined;
          }
        } else {
          newResult[${S}] = ${D}.value;
        }
        
      `)}_.write("payload.value = newResult;"),_.write("return payload;");const R=_.compile();return(B,D)=>R(y,B,D)};let f;const m=ao,h=!cx.jitless,v=h&&T1.value,N=l.catchall;let b;n._zod.parse=(y,_)=>{b??(b=o.value);const w=y.value;return m(w)?h&&v&&_?.async===!1&&_.jitless!==!0?(f||(f=d(l.shape)),y=f(y,_),N?Sx([],w,y,_,b,n):y):i(y,_):(y.issues.push({expected:"object",code:"invalid_type",input:w,inst:n}),y)}});function Tg(n,l,i,o){for(const f of n)if(f.issues.length===0)return l.value=f.value,l;const d=n.filter(f=>!Wl(f));return d.length===1?(l.value=d[0].value,d[0]):(l.issues.push({code:"invalid_union",input:l.value,inst:i,errors:n.map(f=>f.issues.map(m=>el(m,o,Pa())))}),l)}const gw=V("$ZodUnion",(n,l)=>{Ke.init(n,l),He(n._zod,"optin",()=>l.options.some(d=>d._zod.optin==="optional")?"optional":void 0),He(n._zod,"optout",()=>l.options.some(d=>d._zod.optout==="optional")?"optional":void 0),He(n._zod,"values",()=>{if(l.options.every(d=>d._zod.values))return new Set(l.options.flatMap(d=>Array.from(d._zod.values)))}),He(n._zod,"pattern",()=>{if(l.options.every(d=>d._zod.pattern)){const d=l.options.map(f=>f._zod.pattern);return new RegExp(`^(${d.map(f=>$d(f.source)).join("|")})$`)}});const i=l.options.length===1,o=l.options[0]._zod.run;n._zod.parse=(d,f)=>{if(i)return o(d,f);let m=!1;const h=[];for(const g of l.options){const v=g._zod.run({value:d.value,issues:[]},f);if(v instanceof Promise)h.push(v),m=!0;else{if(v.issues.length===0)return v;h.push(v)}}return m?Promise.all(h).then(g=>Tg(g,d,n,f)):Tg(h,d,n,f)}}),vw=V("$ZodIntersection",(n,l)=>{Ke.init(n,l),n._zod.parse=(i,o)=>{const d=i.value,f=l.left._zod.run({value:d,issues:[]},o),m=l.right._zod.run({value:d,issues:[]},o);return f instanceof Promise||m instanceof Promise?Promise.all([f,m]).then(([g,v])=>Ag(i,g,v)):Ag(i,f,m)}});function vd(n,l){if(n===l)return{valid:!0,data:n};if(n instanceof Date&&l instanceof Date&&+n==+l)return{valid:!0,data:n};if(hs(n)&&hs(l)){const i=Object.keys(l),o=Object.keys(n).filter(f=>i.indexOf(f)!==-1),d={...n,...l};for(const f of o){const m=vd(n[f],l[f]);if(!m.valid)return{valid:!1,mergeErrorPath:[f,...m.mergeErrorPath]};d[f]=m.data}return{valid:!0,data:d}}if(Array.isArray(n)&&Array.isArray(l)){if(n.length!==l.length)return{valid:!1,mergeErrorPath:[]};const i=[];for(let o=0;o<n.length;o++){const d=n[o],f=l[o],m=vd(d,f);if(!m.valid)return{valid:!1,mergeErrorPath:[o,...m.mergeErrorPath]};i.push(m.data)}return{valid:!0,data:i}}return{valid:!1,mergeErrorPath:[]}}function Ag(n,l,i){if(l.issues.length&&n.issues.push(...l.issues),i.issues.length&&n.issues.push(...i.issues),Wl(n))return n;const o=vd(l.value,i.value);if(!o.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(o.mergeErrorPath)}`);return n.value=o.data,n}const xw=V("$ZodEnum",(n,l)=>{Ke.init(n,l);const i=S1(l.entries),o=new Set(i);n._zod.values=o,n._zod.pattern=new RegExp(`^(${i.filter(d=>A1.has(typeof d)).map(d=>typeof d=="string"?nr(d):d.toString()).join("|")})$`),n._zod.parse=(d,f)=>{const m=d.value;return o.has(m)||d.issues.push({code:"invalid_value",values:i,input:m,inst:n}),d}}),bw=V("$ZodLiteral",(n,l)=>{if(Ke.init(n,l),l.values.length===0)throw new Error("Cannot create literal schema with no valid values");const i=new Set(l.values);n._zod.values=i,n._zod.pattern=new RegExp(`^(${l.values.map(o=>typeof o=="string"?nr(o):o?nr(o.toString()):String(o)).join("|")})$`),n._zod.parse=(o,d)=>{const f=o.value;return i.has(f)||o.issues.push({code:"invalid_value",values:l.values,input:f,inst:n}),o}}),yw=V("$ZodTransform",(n,l)=>{Ke.init(n,l),n._zod.parse=(i,o)=>{if(o.direction==="backward")throw new ox(n.constructor.name);const d=l.transform(i.value,i);if(o.async)return(d instanceof Promise?d:Promise.resolve(d)).then(m=>(i.value=m,i));if(d instanceof Promise)throw new er;return i.value=d,i}});function zg(n,l){return n.issues.length&&l===void 0?{issues:[],value:void 0}:n}const Nw=V("$ZodOptional",(n,l)=>{Ke.init(n,l),n._zod.optin="optional",n._zod.optout="optional",He(n._zod,"values",()=>l.innerType._zod.values?new Set([...l.innerType._zod.values,void 0]):void 0),He(n._zod,"pattern",()=>{const i=l.innerType._zod.pattern;return i?new RegExp(`^(${$d(i.source)})?$`):void 0}),n._zod.parse=(i,o)=>{if(l.innerType._zod.optin==="optional"){const d=l.innerType._zod.run(i,o);return d instanceof Promise?d.then(f=>zg(f,i.value)):zg(d,i.value)}return i.value===void 0?i:l.innerType._zod.run(i,o)}}),_w=V("$ZodNullable",(n,l)=>{Ke.init(n,l),He(n._zod,"optin",()=>l.innerType._zod.optin),He(n._zod,"optout",()=>l.innerType._zod.optout),He(n._zod,"pattern",()=>{const i=l.innerType._zod.pattern;return i?new RegExp(`^(${$d(i.source)}|null)$`):void 0}),He(n._zod,"values",()=>l.innerType._zod.values?new Set([...l.innerType._zod.values,null]):void 0),n._zod.parse=(i,o)=>i.value===null?i:l.innerType._zod.run(i,o)}),jw=V("$ZodDefault",(n,l)=>{Ke.init(n,l),n._zod.optin="optional",He(n._zod,"values",()=>l.innerType._zod.values),n._zod.parse=(i,o)=>{if(o.direction==="backward")return l.innerType._zod.run(i,o);if(i.value===void 0)return i.value=l.defaultValue,i;const d=l.innerType._zod.run(i,o);return d instanceof Promise?d.then(f=>Dg(f,l)):Dg(d,l)}});function Dg(n,l){return n.value===void 0&&(n.value=l.defaultValue),n}const ww=V("$ZodPrefault",(n,l)=>{Ke.init(n,l),n._zod.optin="optional",He(n._zod,"values",()=>l.innerType._zod.values),n._zod.parse=(i,o)=>(o.direction==="backward"||i.value===void 0&&(i.value=l.defaultValue),l.innerType._zod.run(i,o))}),Sw=V("$ZodNonOptional",(n,l)=>{Ke.init(n,l),He(n._zod,"values",()=>{const i=l.innerType._zod.values;return i?new Set([...i].filter(o=>o!==void 0)):void 0}),n._zod.parse=(i,o)=>{const d=l.innerType._zod.run(i,o);return d instanceof Promise?d.then(f=>Og(f,n)):Og(d,n)}});function Og(n,l){return!n.issues.length&&n.value===void 0&&n.issues.push({code:"invalid_type",expected:"nonoptional",input:n.value,inst:l}),n}const Cw=V("$ZodCatch",(n,l)=>{Ke.init(n,l),He(n._zod,"optin",()=>l.innerType._zod.optin),He(n._zod,"optout",()=>l.innerType._zod.optout),He(n._zod,"values",()=>l.innerType._zod.values),n._zod.parse=(i,o)=>{if(o.direction==="backward")return l.innerType._zod.run(i,o);const d=l.innerType._zod.run(i,o);return d instanceof Promise?d.then(f=>(i.value=f.value,f.issues.length&&(i.value=l.catchValue({...i,error:{issues:f.issues.map(m=>el(m,o,Pa()))},input:i.value}),i.issues=[]),i)):(i.value=d.value,d.issues.length&&(i.value=l.catchValue({...i,error:{issues:d.issues.map(f=>el(f,o,Pa()))},input:i.value}),i.issues=[]),i)}}),Ew=V("$ZodPipe",(n,l)=>{Ke.init(n,l),He(n._zod,"values",()=>l.in._zod.values),He(n._zod,"optin",()=>l.in._zod.optin),He(n._zod,"optout",()=>l.out._zod.optout),He(n._zod,"propValues",()=>l.in._zod.propValues),n._zod.parse=(i,o)=>{if(o.direction==="backward"){const f=l.out._zod.run(i,o);return f instanceof Promise?f.then(m=>Xi(m,l.in,o)):Xi(f,l.in,o)}const d=l.in._zod.run(i,o);return d instanceof Promise?d.then(f=>Xi(f,l.out,o)):Xi(d,l.out,o)}});function Xi(n,l,i){return n.issues.length?(n.aborted=!0,n):l._zod.run({value:n.value,issues:n.issues},i)}const Tw=V("$ZodReadonly",(n,l)=>{Ke.init(n,l),He(n._zod,"propValues",()=>l.innerType._zod.propValues),He(n._zod,"values",()=>l.innerType._zod.values),He(n._zod,"optin",()=>l.innerType?._zod?.optin),He(n._zod,"optout",()=>l.innerType?._zod?.optout),n._zod.parse=(i,o)=>{if(o.direction==="backward")return l.innerType._zod.run(i,o);const d=l.innerType._zod.run(i,o);return d instanceof Promise?d.then(Rg):Rg(d)}});function Rg(n){return n.value=Object.freeze(n.value),n}const Aw=V("$ZodCustom",(n,l)=>{Ut.init(n,l),Ke.init(n,l),n._zod.parse=(i,o)=>i,n._zod.check=i=>{const o=i.value,d=l.fn(o);if(d instanceof Promise)return d.then(f=>Mg(f,i,o,n));Mg(d,i,o,n)}});function Mg(n,l,i,o){if(!n){const d={code:"custom",input:i,inst:o,path:[...o._zod.def.path??[]],continue:!o._zod.def.abort};o._zod.def.params&&(d.params=o._zod.def.params),l.issues.push(ps(d))}}var kg;class zw{constructor(){this._map=new WeakMap,this._idmap=new Map}add(l,...i){const o=i[0];if(this._map.set(l,o),o&&typeof o=="object"&&"id"in o){if(this._idmap.has(o.id))throw new Error(`ID ${o.id} already exists in the registry`);this._idmap.set(o.id,l)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(l){const i=this._map.get(l);return i&&typeof i=="object"&&"id"in i&&this._idmap.delete(i.id),this._map.delete(l),this}get(l){const i=l._zod.parent;if(i){const o={...this.get(i)??{}};delete o.id;const d={...o,...this._map.get(l)};return Object.keys(d).length?d:void 0}return this._map.get(l)}has(l){return this._map.has(l)}}function Dw(){return new zw}(kg=globalThis).__zod_globalRegistry??(kg.__zod_globalRegistry=Dw());const Gi=globalThis.__zod_globalRegistry;function Ow(n,l){return new n({type:"string",...se(l)})}function Rw(n,l){return new n({type:"string",format:"email",check:"string_format",abort:!1,...se(l)})}function Lg(n,l){return new n({type:"string",format:"guid",check:"string_format",abort:!1,...se(l)})}function Mw(n,l){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,...se(l)})}function kw(n,l){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...se(l)})}function Lw(n,l){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...se(l)})}function Uw(n,l){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...se(l)})}function Bw(n,l){return new n({type:"string",format:"url",check:"string_format",abort:!1,...se(l)})}function Zw(n,l){return new n({type:"string",format:"emoji",check:"string_format",abort:!1,...se(l)})}function Hw(n,l){return new n({type:"string",format:"nanoid",check:"string_format",abort:!1,...se(l)})}function qw(n,l){return new n({type:"string",format:"cuid",check:"string_format",abort:!1,...se(l)})}function $w(n,l){return new n({type:"string",format:"cuid2",check:"string_format",abort:!1,...se(l)})}function Vw(n,l){return new n({type:"string",format:"ulid",check:"string_format",abort:!1,...se(l)})}function Iw(n,l){return new n({type:"string",format:"xid",check:"string_format",abort:!1,...se(l)})}function Yw(n,l){return new n({type:"string",format:"ksuid",check:"string_format",abort:!1,...se(l)})}function Xw(n,l){return new n({type:"string",format:"ipv4",check:"string_format",abort:!1,...se(l)})}function Gw(n,l){return new n({type:"string",format:"ipv6",check:"string_format",abort:!1,...se(l)})}function Fw(n,l){return new n({type:"string",format:"cidrv4",check:"string_format",abort:!1,...se(l)})}function Qw(n,l){return new n({type:"string",format:"cidrv6",check:"string_format",abort:!1,...se(l)})}function Kw(n,l){return new n({type:"string",format:"base64",check:"string_format",abort:!1,...se(l)})}function Jw(n,l){return new n({type:"string",format:"base64url",check:"string_format",abort:!1,...se(l)})}function Ww(n,l){return new n({type:"string",format:"e164",check:"string_format",abort:!1,...se(l)})}function Pw(n,l){return new n({type:"string",format:"jwt",check:"string_format",abort:!1,...se(l)})}function e2(n,l){return new n({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...se(l)})}function t2(n,l){return new n({type:"string",format:"date",check:"string_format",...se(l)})}function n2(n,l){return new n({type:"string",format:"time",check:"string_format",precision:null,...se(l)})}function a2(n,l){return new n({type:"string",format:"duration",check:"string_format",...se(l)})}function l2(n,l){return new n({type:"number",checks:[],...se(l)})}function r2(n,l){return new n({type:"number",check:"number_format",abort:!1,format:"safeint",...se(l)})}function s2(n,l){return new n({type:"boolean",...se(l)})}function i2(n){return new n({type:"any"})}function o2(n){return new n({type:"unknown"})}function c2(n,l){return new n({type:"never",...se(l)})}function Ug(n,l){return new yx({check:"less_than",...se(l),value:n,inclusive:!1})}function nd(n,l){return new yx({check:"less_than",...se(l),value:n,inclusive:!0})}function Bg(n,l){return new Nx({check:"greater_than",...se(l),value:n,inclusive:!1})}function ad(n,l){return new Nx({check:"greater_than",...se(l),value:n,inclusive:!0})}function Zg(n,l){return new jj({check:"multiple_of",...se(l),value:n})}function Cx(n,l){return new Sj({check:"max_length",...se(l),maximum:n})}function ro(n,l){return new Cj({check:"min_length",...se(l),minimum:n})}function Ex(n,l){return new Ej({check:"length_equals",...se(l),length:n})}function u2(n,l){return new Tj({check:"string_format",format:"regex",...se(l),pattern:n})}function d2(n){return new Aj({check:"string_format",format:"lowercase",...se(n)})}function f2(n){return new zj({check:"string_format",format:"uppercase",...se(n)})}function m2(n,l){return new Dj({check:"string_format",format:"includes",...se(l),includes:n})}function h2(n,l){return new Oj({check:"string_format",format:"starts_with",...se(l),prefix:n})}function p2(n,l){return new Rj({check:"string_format",format:"ends_with",...se(l),suffix:n})}function or(n){return new Mj({check:"overwrite",tx:n})}function g2(n){return or(l=>l.normalize(n))}function v2(){return or(n=>n.trim())}function x2(){return or(n=>n.toLowerCase())}function b2(){return or(n=>n.toUpperCase())}function y2(){return or(n=>E1(n))}function N2(n,l,i){return new n({type:"array",element:l,...se(i)})}function _2(n,l,i){return new n({type:"custom",check:"custom",fn:l,...se(i)})}function j2(n){const l=w2(i=>(i.addIssue=o=>{if(typeof o=="string")i.issues.push(ps(o,i.value,l._zod.def));else{const d=o;d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=i.value),d.inst??(d.inst=l),d.continue??(d.continue=!l._zod.def.abort),i.issues.push(ps(d))}},n(i.value,i)));return l}function w2(n,l){const i=new Ut({check:"custom",...se(l)});return i._zod.check=n,i}const S2=V("ZodISODateTime",(n,l)=>{Fj.init(n,l),Je.init(n,l)});function C2(n){return e2(S2,n)}const E2=V("ZodISODate",(n,l)=>{Qj.init(n,l),Je.init(n,l)});function T2(n){return t2(E2,n)}const A2=V("ZodISOTime",(n,l)=>{Kj.init(n,l),Je.init(n,l)});function z2(n){return n2(A2,n)}const D2=V("ZodISODuration",(n,l)=>{Jj.init(n,l),Je.init(n,l)});function O2(n){return a2(D2,n)}const R2=(n,l)=>{hx.init(n,l),n.name="ZodError",Object.defineProperties(n,{format:{value:i=>H1(n,i)},flatten:{value:i=>Z1(n,i)},addIssue:{value:i=>{n.issues.push(i),n.message=JSON.stringify(n.issues,gd,2)}},addIssues:{value:i=>{n.issues.push(...i),n.message=JSON.stringify(n.issues,gd,2)}},isEmpty:{get(){return n.issues.length===0}}})},ln=V("ZodError",R2,{Parent:Error}),M2=Id(ln),k2=Yd(ln),L2=bo(ln),U2=yo(ln),B2=V1(ln),Z2=I1(ln),H2=Y1(ln),q2=X1(ln),$2=G1(ln),V2=F1(ln),I2=Q1(ln),Y2=K1(ln),et=V("ZodType",(n,l)=>(Ke.init(n,l),n.def=l,n.type=l.type,Object.defineProperty(n,"_def",{value:l}),n.check=(...i)=>n.clone(rl(l,{checks:[...l.checks??[],...i.map(o=>typeof o=="function"?{_zod:{check:o,def:{check:"custom"},onattach:[]}}:o)]})),n.clone=(i,o)=>Ca(n,i,o),n.brand=()=>n,n.register=((i,o)=>(i.add(n,o),n)),n.parse=(i,o)=>M2(n,i,o,{callee:n.parse}),n.safeParse=(i,o)=>L2(n,i,o),n.parseAsync=async(i,o)=>k2(n,i,o,{callee:n.parseAsync}),n.safeParseAsync=async(i,o)=>U2(n,i,o),n.spa=n.safeParseAsync,n.encode=(i,o)=>B2(n,i,o),n.decode=(i,o)=>Z2(n,i,o),n.encodeAsync=async(i,o)=>H2(n,i,o),n.decodeAsync=async(i,o)=>q2(n,i,o),n.safeEncode=(i,o)=>$2(n,i,o),n.safeDecode=(i,o)=>V2(n,i,o),n.safeEncodeAsync=async(i,o)=>I2(n,i,o),n.safeDecodeAsync=async(i,o)=>Y2(n,i,o),n.refine=(i,o)=>n.check(US(i,o)),n.superRefine=i=>n.check(BS(i)),n.overwrite=i=>n.check(or(i)),n.optional=()=>Vg(n),n.nullable=()=>Ig(n),n.nullish=()=>Vg(Ig(n)),n.nonoptional=i=>zS(n,i),n.array=()=>zx(n),n.or=i=>lr([n,i]),n.and=i=>NS(n,i),n.transform=i=>Yg(n,wS(i)),n.default=i=>ES(n,i),n.prefault=i=>AS(n,i),n.catch=i=>OS(n,i),n.pipe=i=>Yg(n,i),n.readonly=()=>kS(n),n.describe=i=>{const o=n.clone();return Gi.add(o,{description:i}),o},Object.defineProperty(n,"description",{get(){return Gi.get(n)?.description},configurable:!0}),n.meta=(...i)=>{if(i.length===0)return Gi.get(n);const o=n.clone();return Gi.add(o,i[0]),o},n.isOptional=()=>n.safeParse(void 0).success,n.isNullable=()=>n.safeParse(null).success,n)),Tx=V("_ZodString",(n,l)=>{Xd.init(n,l),et.init(n,l);const i=n._zod.bag;n.format=i.format??null,n.minLength=i.minimum??null,n.maxLength=i.maximum??null,n.regex=(...o)=>n.check(u2(...o)),n.includes=(...o)=>n.check(m2(...o)),n.startsWith=(...o)=>n.check(h2(...o)),n.endsWith=(...o)=>n.check(p2(...o)),n.min=(...o)=>n.check(ro(...o)),n.max=(...o)=>n.check(Cx(...o)),n.length=(...o)=>n.check(Ex(...o)),n.nonempty=(...o)=>n.check(ro(1,...o)),n.lowercase=o=>n.check(d2(o)),n.uppercase=o=>n.check(f2(o)),n.trim=()=>n.check(v2()),n.normalize=(...o)=>n.check(g2(...o)),n.toLowerCase=()=>n.check(x2()),n.toUpperCase=()=>n.check(b2()),n.slugify=()=>n.check(y2())}),X2=V("ZodString",(n,l)=>{Xd.init(n,l),Tx.init(n,l),n.email=i=>n.check(Rw(G2,i)),n.url=i=>n.check(Bw(F2,i)),n.jwt=i=>n.check(Pw(cS,i)),n.emoji=i=>n.check(Zw(Q2,i)),n.guid=i=>n.check(Lg(Hg,i)),n.uuid=i=>n.check(Mw(Fi,i)),n.uuidv4=i=>n.check(kw(Fi,i)),n.uuidv6=i=>n.check(Lw(Fi,i)),n.uuidv7=i=>n.check(Uw(Fi,i)),n.nanoid=i=>n.check(Hw(K2,i)),n.guid=i=>n.check(Lg(Hg,i)),n.cuid=i=>n.check(qw(J2,i)),n.cuid2=i=>n.check($w(W2,i)),n.ulid=i=>n.check(Vw(P2,i)),n.base64=i=>n.check(Kw(sS,i)),n.base64url=i=>n.check(Jw(iS,i)),n.xid=i=>n.check(Iw(eS,i)),n.ksuid=i=>n.check(Yw(tS,i)),n.ipv4=i=>n.check(Xw(nS,i)),n.ipv6=i=>n.check(Gw(aS,i)),n.cidrv4=i=>n.check(Fw(lS,i)),n.cidrv6=i=>n.check(Qw(rS,i)),n.e164=i=>n.check(Ww(oS,i)),n.datetime=i=>n.check(C2(i)),n.date=i=>n.check(T2(i)),n.time=i=>n.check(z2(i)),n.duration=i=>n.check(O2(i))});function Ze(n){return Ow(X2,n)}const Je=V("ZodStringFormat",(n,l)=>{Xe.init(n,l),Tx.init(n,l)}),G2=V("ZodEmail",(n,l)=>{Zj.init(n,l),Je.init(n,l)}),Hg=V("ZodGUID",(n,l)=>{Uj.init(n,l),Je.init(n,l)}),Fi=V("ZodUUID",(n,l)=>{Bj.init(n,l),Je.init(n,l)}),F2=V("ZodURL",(n,l)=>{Hj.init(n,l),Je.init(n,l)}),Q2=V("ZodEmoji",(n,l)=>{qj.init(n,l),Je.init(n,l)}),K2=V("ZodNanoID",(n,l)=>{$j.init(n,l),Je.init(n,l)}),J2=V("ZodCUID",(n,l)=>{Vj.init(n,l),Je.init(n,l)}),W2=V("ZodCUID2",(n,l)=>{Ij.init(n,l),Je.init(n,l)}),P2=V("ZodULID",(n,l)=>{Yj.init(n,l),Je.init(n,l)}),eS=V("ZodXID",(n,l)=>{Xj.init(n,l),Je.init(n,l)}),tS=V("ZodKSUID",(n,l)=>{Gj.init(n,l),Je.init(n,l)}),nS=V("ZodIPv4",(n,l)=>{Wj.init(n,l),Je.init(n,l)}),aS=V("ZodIPv6",(n,l)=>{Pj.init(n,l),Je.init(n,l)}),lS=V("ZodCIDRv4",(n,l)=>{ew.init(n,l),Je.init(n,l)}),rS=V("ZodCIDRv6",(n,l)=>{tw.init(n,l),Je.init(n,l)}),sS=V("ZodBase64",(n,l)=>{nw.init(n,l),Je.init(n,l)}),iS=V("ZodBase64URL",(n,l)=>{lw.init(n,l),Je.init(n,l)}),oS=V("ZodE164",(n,l)=>{rw.init(n,l),Je.init(n,l)}),cS=V("ZodJWT",(n,l)=>{iw.init(n,l),Je.init(n,l)}),Ax=V("ZodNumber",(n,l)=>{jx.init(n,l),et.init(n,l),n.gt=(o,d)=>n.check(Bg(o,d)),n.gte=(o,d)=>n.check(ad(o,d)),n.min=(o,d)=>n.check(ad(o,d)),n.lt=(o,d)=>n.check(Ug(o,d)),n.lte=(o,d)=>n.check(nd(o,d)),n.max=(o,d)=>n.check(nd(o,d)),n.int=o=>n.check(qg(o)),n.safe=o=>n.check(qg(o)),n.positive=o=>n.check(Bg(0,o)),n.nonnegative=o=>n.check(ad(0,o)),n.negative=o=>n.check(Ug(0,o)),n.nonpositive=o=>n.check(nd(0,o)),n.multipleOf=(o,d)=>n.check(Zg(o,d)),n.step=(o,d)=>n.check(Zg(o,d)),n.finite=()=>n;const i=n._zod.bag;n.minValue=Math.max(i.minimum??Number.NEGATIVE_INFINITY,i.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,n.maxValue=Math.min(i.maximum??Number.POSITIVE_INFINITY,i.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,n.isInt=(i.format??"").includes("int")||Number.isSafeInteger(i.multipleOf??.5),n.isFinite=!0,n.format=i.format??null});function gs(n){return l2(Ax,n)}const uS=V("ZodNumberFormat",(n,l)=>{ow.init(n,l),Ax.init(n,l)});function qg(n){return r2(uS,n)}const dS=V("ZodBoolean",(n,l)=>{cw.init(n,l),et.init(n,l)});function ar(n){return s2(dS,n)}const fS=V("ZodAny",(n,l)=>{uw.init(n,l),et.init(n,l)});function mS(){return i2(fS)}const hS=V("ZodUnknown",(n,l)=>{dw.init(n,l),et.init(n,l)});function $g(){return o2(hS)}const pS=V("ZodNever",(n,l)=>{fw.init(n,l),et.init(n,l)});function gS(n){return c2(pS,n)}const vS=V("ZodArray",(n,l)=>{mw.init(n,l),et.init(n,l),n.element=l.element,n.min=(i,o)=>n.check(ro(i,o)),n.nonempty=i=>n.check(ro(1,i)),n.max=(i,o)=>n.check(Cx(i,o)),n.length=(i,o)=>n.check(Ex(i,o)),n.unwrap=()=>n.element});function zx(n,l){return N2(vS,n,l)}const xS=V("ZodObject",(n,l)=>{pw.init(n,l),et.init(n,l),He(n,"shape",()=>l.shape),n.keyof=()=>Dx(Object.keys(n._zod.def.shape)),n.catchall=i=>n.clone({...n._zod.def,catchall:i}),n.passthrough=()=>n.clone({...n._zod.def,catchall:$g()}),n.loose=()=>n.clone({...n._zod.def,catchall:$g()}),n.strict=()=>n.clone({...n._zod.def,catchall:gS()}),n.strip=()=>n.clone({...n._zod.def,catchall:void 0}),n.extend=i=>M1(n,i),n.safeExtend=i=>k1(n,i),n.merge=i=>L1(n,i),n.pick=i=>O1(n,i),n.omit=i=>R1(n,i),n.partial=(...i)=>U1(Ox,n,i[0]),n.required=(...i)=>B1(Rx,n,i[0])});function Gd(n,l){const i={type:"object",shape:n??{},...se(l)};return new xS(i)}const bS=V("ZodUnion",(n,l)=>{gw.init(n,l),et.init(n,l),n.options=l.options});function lr(n,l){return new bS({type:"union",options:n,...se(l)})}const yS=V("ZodIntersection",(n,l)=>{vw.init(n,l),et.init(n,l)});function NS(n,l){return new yS({type:"intersection",left:n,right:l})}const xd=V("ZodEnum",(n,l)=>{xw.init(n,l),et.init(n,l),n.enum=l.entries,n.options=Object.values(l.entries);const i=new Set(Object.keys(l.entries));n.extract=(o,d)=>{const f={};for(const m of o)if(i.has(m))f[m]=l.entries[m];else throw new Error(`Key ${m} not found in enum`);return new xd({...l,checks:[],...se(d),entries:f})},n.exclude=(o,d)=>{const f={...l.entries};for(const m of o)if(i.has(m))delete f[m];else throw new Error(`Key ${m} not found in enum`);return new xd({...l,checks:[],...se(d),entries:f})}});function Dx(n,l){const i=Array.isArray(n)?Object.fromEntries(n.map(o=>[o,o])):n;return new xd({type:"enum",entries:i,...se(l)})}const _S=V("ZodLiteral",(n,l)=>{bw.init(n,l),et.init(n,l),n.values=new Set(l.values),Object.defineProperty(n,"value",{get(){if(l.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return l.values[0]}})});function Fd(n,l){return new _S({type:"literal",values:Array.isArray(n)?n:[n],...se(l)})}const jS=V("ZodTransform",(n,l)=>{yw.init(n,l),et.init(n,l),n._zod.parse=(i,o)=>{if(o.direction==="backward")throw new ox(n.constructor.name);i.addIssue=f=>{if(typeof f=="string")i.issues.push(ps(f,i.value,l));else{const m=f;m.fatal&&(m.continue=!1),m.code??(m.code="custom"),m.input??(m.input=i.value),m.inst??(m.inst=n),i.issues.push(ps(m))}};const d=l.transform(i.value,i);return d instanceof Promise?d.then(f=>(i.value=f,i)):(i.value=d,i)}});function wS(n){return new jS({type:"transform",transform:n})}const Ox=V("ZodOptional",(n,l)=>{Nw.init(n,l),et.init(n,l),n.unwrap=()=>n._zod.def.innerType});function Vg(n){return new Ox({type:"optional",innerType:n})}const SS=V("ZodNullable",(n,l)=>{_w.init(n,l),et.init(n,l),n.unwrap=()=>n._zod.def.innerType});function Ig(n){return new SS({type:"nullable",innerType:n})}const CS=V("ZodDefault",(n,l)=>{jw.init(n,l),et.init(n,l),n.unwrap=()=>n._zod.def.innerType,n.removeDefault=n.unwrap});function ES(n,l){return new CS({type:"default",innerType:n,get defaultValue(){return typeof l=="function"?l():dx(l)}})}const TS=V("ZodPrefault",(n,l)=>{ww.init(n,l),et.init(n,l),n.unwrap=()=>n._zod.def.innerType});function AS(n,l){return new TS({type:"prefault",innerType:n,get defaultValue(){return typeof l=="function"?l():dx(l)}})}const Rx=V("ZodNonOptional",(n,l)=>{Sw.init(n,l),et.init(n,l),n.unwrap=()=>n._zod.def.innerType});function zS(n,l){return new Rx({type:"nonoptional",innerType:n,...se(l)})}const DS=V("ZodCatch",(n,l)=>{Cw.init(n,l),et.init(n,l),n.unwrap=()=>n._zod.def.innerType,n.removeCatch=n.unwrap});function OS(n,l){return new DS({type:"catch",innerType:n,catchValue:typeof l=="function"?l:()=>l})}const RS=V("ZodPipe",(n,l)=>{Ew.init(n,l),et.init(n,l),n.in=l.in,n.out=l.out});function Yg(n,l){return new RS({type:"pipe",in:n,out:l})}const MS=V("ZodReadonly",(n,l)=>{Tw.init(n,l),et.init(n,l),n.unwrap=()=>n._zod.def.innerType});function kS(n){return new MS({type:"readonly",innerType:n})}const LS=V("ZodCustom",(n,l)=>{Aw.init(n,l),et.init(n,l)});function US(n,l={}){return _2(LS,n,l)}function BS(n){return j2(n)}const Xg={custom:"custom"},vs=Ze().trim().refine(n=>{if(!n)return!1;const l=parseFloat(n.replace(/,/g,""));return!isNaN(l)&&l>0},{message:" 0"}),ZS=Ze().trim().min(1,"");Ze().trim().refine(n=>{if(!n)return!0;const l=parseFloat(n.replace(/,/g,""));return!isNaN(l)&&l>=0},{message:""});const HS=Gd({type:Fd(G.CURTAIN).default(G.CURTAIN),id:Ze().optional(),width_m:vs,height_m:vs,style:ZS,opening_style:Ze().default(""),layer_mode:Dx([lt.MAIN,lt.SHEER,lt.DOUBLE]),rail_color:Ze().optional(),notes:Ze().optional(),is_suspended:ar().optional(),enable_set_price:ar().optional(),set_price_override:lr([Ze(),gs()]).optional()}),qS=HS.extend({code:Ze().optional(),price_per_m_raw:lr([Ze(),gs()]).optional(),sheer_code:Ze().optional(),sheer_price_per_m:lr([Ze(),gs()]).optional()}).superRefine((n,l)=>{const i=n.layer_mode===lt.MAIN,o=n.layer_mode===lt.SHEER,d=n.layer_mode===lt.DOUBLE;(i||d)&&(!n.code||n.code.trim()==="")&&l.addIssue({code:Xg.custom,path:["code"],message:""}),(o||d)&&(!n.sheer_code||n.sheer_code.trim()==="")&&l.addIssue({code:Xg.custom,path:["sheer_code"],message:""})}),$S={type:G.CURTAIN,id:"",width_m:"",height_m:"",style:"",opening_style:"",layer_mode:lt.MAIN,code:"",price_per_m_raw:"",sheer_code:"",sheer_price_per_m:"",rail_color:"",notes:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},VS=(n,l)=>{const i={...$S,...n},o=Zd({schema:qS,initialData:i,onSubmit:v=>{l(v)}}),{addToInventory:d}=ae(),f=Nt(v=>v.addToast),m=j.useCallback(v=>{o.setFieldValue("code",v.code),v.default_price_per_m>0&&o.setFieldValue("price_per_m_raw",v.default_price_per_m.toString())},[o]),h=j.useCallback(v=>{o.setFieldValue("sheer_code",v.code),v.default_price_per_m>0&&o.setFieldValue("sheer_price_per_m",v.default_price_per_m.toString())},[o]),g=j.useCallback((v,N,b)=>{if(!v){f("error","","");return}d(b,{code:v,default_price_per_m:parseFloat(N?.toString()||"0"),note:"Added from Curtain Form"}),f("success","",` ${v} `)},[d,f]);return{formData:o.formData,errors:o.errors,warnings:o.warnings,handleChange:o.handleChange,handleNumberChange:o.setFieldValue,setFieldValue:o.setFieldValue,handleSubmit:o.handleSubmit,handleMainFabricSelect:m,handleSheerFabricSelect:h,handleSaveToInventory:g}},te=({className:n,label:l,suffix:i,prefix:o,isDimension:d=!1,id:f,ref:m,value:h,onChange:g,onClear:v,onBlur:N,type:b="text",error:y,warning:_,...w})=>{const E=j.useId(),z=f||E,T=j.useRef(null),R=m||T,B=q=>{if(d&&g){const K=q.target.value,X=eN(K);if(X!==K&&X!==""){const de={...q,target:{...q.target,value:X}};g(de)}}N?.(q)},D=()=>{v&&(v(),requestAnimationFrame(()=>R.current?.focus()))},S=y?"border-destructive focus:ring-destructive text-destructive":_?"border-warning focus:ring-warning text-warning-foreground":"border-input focus:ring-primary",Y=v&&h&&String(h).length>0;return s.jsxs("div",{className:"space-y-1.5 w-full group",children:[l&&s.jsx("label",{htmlFor:z,className:F("text-[15px] font-medium ml-1 transition-colors",y?"text-destructive":"text-foreground"),children:l}),s.jsxs("div",{className:"relative",children:[o&&s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none",children:o}),s.jsx("input",{ref:R,id:z,type:b,value:h,onChange:g,onBlur:B,className:F("flex h-12 w-full rounded-xl border bg-background px-4 py-2 text-base shadow-sm transition-all","file:border-0 file:bg-transparent file:text-sm file:font-medium","placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:border-transparent","disabled:cursor-not-allowed disabled:opacity-50 disabled:bg-muted/50",S,i?"pr-12":Y?"pr-10":"",o?"pl-10":"",n),...w}),i&&s.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground text-sm font-medium pointer-events-none",children:i}),Y&&!i&&s.jsx("button",{type:"button",onClick:D,tabIndex:-1,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 rounded-full text-muted-foreground hover:bg-accent hover:text-foreground transition-colors focus:outline-none focus:ring-2 focus:ring-ring active:scale-90","aria-label":"Clear input",children:s.jsx(ds,{className:"w-4 h-4"})})]}),y?s.jsxs("div",{className:"flex items-center gap-1.5 px-1 animate-fade-in",role:"alert",children:[s.jsx(co,{className:"w-3.5 h-3.5 text-destructive"}),s.jsx("span",{className:"text-xs font-medium text-destructive",children:y})]}):_?s.jsxs("div",{className:"flex items-center gap-1.5 px-1 animate-fade-in",role:"alert",children:[s.jsx(tl,{className:"w-3.5 h-3.5 text-warning"}),s.jsx("span",{className:"text-xs font-medium text-warning-foreground",children:_})]}):null]})},cr=({label:n,placeholder:l,value:i,onChange:o,onSelect:d,options:f,className:m,inputMode:h,prefix:g,id:v,error:N,warning:b})=>{const y=j.useId(),_=v||y,[w,E]=j.useState(""),z=N?"border-destructive focus:ring-destructive text-destructive":b?"border-warning focus:ring-warning text-warning-foreground":"border-input focus:ring-primary",T=w===""?f:f.filter(R=>R.label.toLowerCase().includes(w.toLowerCase()));return s.jsxs("div",{className:"space-y-1.5 w-full",children:[n&&s.jsx("label",{htmlFor:_,className:F("text-[15px] font-medium ml-1",N?"text-destructive":"text-foreground"),children:n}),s.jsx(ny,{value:i,onChange:R=>{o(R||"")},immediate:!0,children:s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"relative w-full cursor-default overflow-hidden rounded-xl bg-background text-left shadow-sm focus:outline-none",children:[g&&s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none z-10",children:g}),s.jsx(ay,{className:F("w-full border py-2 text-base leading-5 focus:outline-none focus:ring-2 focus:border-transparent transition-all","h-12 bg-background",z,g?"pl-10":"pl-4","pr-10",m),displayValue:R=>R,onChange:R=>{E(R.target.value),o(R.target.value)},placeholder:l,id:_,inputMode:h,autoComplete:"off"}),s.jsx(ly,{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:s.jsx(ry,{className:"h-5 w-5 text-muted-foreground/50","aria-hidden":"true"})})]}),s.jsx(Sa,{as:j.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:()=>E(""),children:s.jsx(sy,{className:"absolute mt-1 max-h-60 w-full overflow-auto rounded-xl bg-popover py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm z-50",children:T.length===0&&w!==""?s.jsxs("div",{className:"relative cursor-default select-none px-4 py-3 text-muted-foreground italic text-center",children:[' "',w,'"']}):T.map(R=>s.jsx(iy,{className:({active:B})=>F("relative cursor-default select-none py-3 pl-10 pr-4 transition-colors",B?"bg-primary/10 text-primary":"text-foreground"),value:R.label,onClick:()=>d?.(R),children:({selected:B,active:D})=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:F("block truncate font-medium",B?"font-bold":"font-normal"),children:R.label}),R.desc&&s.jsx("span",{className:F("text-xs truncate",D?"text-primary/70":"text-muted-foreground"),children:R.desc})]}),B?s.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-primary",children:s.jsx(uo,{className:"h-4 w-4","aria-hidden":"true"})}):null]})},R.value))})})]})}),N?s.jsxs("div",{className:"flex items-center gap-1.5 px-1 animate-fade-in",children:[s.jsx(co,{className:"w-3.5 h-3.5 text-destructive"}),s.jsx("span",{className:"text-xs font-medium text-destructive",children:N})]}):b?s.jsxs("div",{className:"flex items-center gap-1.5 px-1 animate-fade-in",children:[s.jsx(tl,{className:"w-3.5 h-3.5 text-warning"}),s.jsx("span",{className:"text-xs font-medium text-warning-foreground",children:b})]}):null]})},IS=({isOpen:n,onClose:l,title:i,options:o,value:d,onSelect:f,showCloseButton:m=!0,showDragIndicator:h=!0,maxHeight:g="85vh"})=>{const{trigger:v}=Tn(),N=j.useCallback(y=>{v("selection"),y!==d&&f(y),setTimeout(()=>{l()},120)},[v,d,f,l]),b=j.useCallback(()=>{v("light"),l()},[v,l]);return s.jsx(Sa,{show:n,as:j.Fragment,children:s.jsxs(fo,{as:"div",className:"relative z-50",onClose:b,"aria-labelledby":"option-sheet-title",children:[s.jsx(wa,{as:j.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-[2px]","aria-hidden":"true"})}),s.jsx("div",{className:"fixed inset-0 flex items-end justify-center pointer-events-none",children:s.jsx(wa,{as:j.Fragment,enter:"transform transition ease-ios duration-300",enterFrom:"translate-y-full opacity-0",enterTo:"translate-y-0 opacity-100",leave:"transform transition ease-ios duration-200",leaveFrom:"translate-y-0 opacity-100",leaveTo:"translate-y-full opacity-0",children:s.jsxs(mo,{className:"relative w-full bg-card rounded-t-2xl shadow-2xl flex flex-col pointer-events-auto",style:{maxHeight:g},children:[s.jsxs("div",{className:"sticky top-0 z-10 bg-card rounded-t-2xl border-b border-border/50",children:[h&&s.jsx("div",{className:"flex justify-center pt-3 pb-2",children:s.jsx("div",{className:"w-12 h-1.5 rounded-full bg-muted-foreground/30"})}),s.jsxs("div",{className:"px-5 pb-4 pt-1 flex items-center justify-between",children:[s.jsx(Nd,{id:"option-sheet-title",className:"text-lg font-bold text-foreground",children:i}),m&&s.jsx("button",{onClick:b,className:"p-2 -mr-2 rounded-lg hover:bg-muted transition-colors focus:outline-none focus:ring-2 focus:ring-primary/50","aria-label":"Close",children:s.jsx(ds,{className:"w-5 h-5 text-muted-foreground"})})]})]}),s.jsxs("div",{className:"overflow-y-auto overscroll-contain px-4 pb-safe-bottom",children:[s.jsx("div",{className:"py-1 space-y-2",children:o.map(y=>{const _=d===y.value,w=y.icon,E=y.disabled;return s.jsxs("button",{type:"button",onClick:()=>!E&&N(y.value),disabled:E,className:F("w-full flex items-center gap-3 p-4 rounded-xl transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-primary/50 focus:ring-offset-2 focus:ring-offset-card",_?"bg-primary/10 border border-primary/20":"bg-background border border-border hover:bg-muted/80",E&&"opacity-50 cursor-not-allowed hover:bg-background"),"aria-current":_?"true":"false","aria-disabled":E,children:[w&&s.jsx("div",{className:F("w-10 h-10 rounded-full flex items-center justify-center shrink-0 transition-colors",_?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground",E&&"opacity-50"),children:s.jsx(w,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[s.jsx("div",{className:F("font-semibold text-base truncate",_?"text-primary":"text-foreground",E&&"text-muted-foreground"),children:y.label}),y.description&&s.jsx("div",{className:F("text-sm text-muted-foreground mt-0.5 truncate",E&&"opacity-70"),children:y.description})]}),s.jsx("div",{className:"flex-shrink-0 ml-2",children:_?s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary flex items-center justify-center animate-in zoom-in-50 duration-200",children:s.jsx(uo,{className:"w-3.5 h-3.5 text-primary-foreground",strokeWidth:3,"aria-hidden":"true"})}):s.jsx(rr,{className:"w-5 h-5 text-muted-foreground/40","aria-hidden":"true"})})]},String(y.value))})}),s.jsx("div",{className:"h-6"})]})]})})})]})})},YS=[],_o=n=>{const l=ae(h=>h.inventory[n]||YS),i=ae(h=>h.fabricCosts),o=ae(h=>h.addToInventory),d=ae(h=>h.updateInventoryItem),f=ae(h=>h.removeFromInventory);return{items:j.useMemo(()=>l.map(h=>({...h,cost_per_yard:i[h.code]||0})),[l,i]),addItem:h=>o(n,h),updateItem:(h,g)=>d(n,h,g),removeItem:h=>f(n,h)}},Gg=({label:n,code:l,onCodeChange:i,price:o,onPriceChange:d,inventoryCategory:f,onSelect:m,onSaveToInventory:h,isActive:g,error:v,warning:N})=>{const{items:b}=_o(f),y=b.map(w=>({label:w.code,value:w.code,data:w,desc:w.note||`${w.default_price_per_m}`})),_=b.find(w=>w.code===l);return s.jsxs("div",{className:F("bg-card rounded-2xl p-4 border transition-all duration-300",g?"border-primary shadow-lg shadow-primary/10 ring-1 ring-primary":"border-border opacity-60 hover:opacity-100",v&&"border-destructive ring-destructive"),children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm font-bold text-muted-foreground uppercase tracking-wider",children:[n===""?s.jsx(_d,{className:"w-4 h-4"}):s.jsx(jd,{className:"w-4 h-4"}),n]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(cr,{label:" (Code)",placeholder:"...",value:l,onChange:i,options:y,onSelect:w=>m(w.data),error:v,warning:N,className:"text-lg font-bold font-mono"}),s.jsxs("div",{className:"relative",children:[s.jsx(te,{label:" (/)",placeholder:"0.00",value:o,onChange:w=>d(w.target.value),className:F("text-right text-lg font-bold font-mono",g?"bg-primary/5 text-primary":"bg-muted/30"),inputMode:"decimal"}),l&&o&&Number(o)>0&&!_&&s.jsxs("button",{onClick:()=>h(l,o),className:"absolute right-0 -top-6 text-xs text-primary flex items-center gap-1 hover:underline",type:"button",children:[s.jsx(wd,{className:"w-3 h-3"})," "]})]})]})]})},XS=({initialData:n,onSubmit:l,onCancel:i})=>{const{formData:o,errors:d,warnings:f,handleChange:m,handleNumberChange:h,handleSubmit:g,handleMainFabricSelect:v,handleSheerFabricSelect:N,handleSaveToInventory:b}=VS(n,l),[y,_]=j.useState(!1),w=o.layer_mode===lt.DOUBLE,E=o.layer_mode===lt.SHEER,z=!E;return s.jsxs("div",{className:"flex flex-col h-full bg-slate-50/50 dark:bg-slate-950/50 pb-24",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[s.jsx(oy,{className:"w-5 h-5 text-primary"}),s.jsx("h2",{children:" (.)"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(te,{label:" (W)",placeholder:"0.00",value:o.width_m,onChange:T=>h("width_m",T.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-primary bg-primary/10",error:d.width_m}),s.jsx(te,{label:" (H)",placeholder:"0.00",value:o.height_m,onChange:T=>h("height_m",T.target.value),isDimension:!0,className:"text-lg font-bold text-primary bg-primary/10",error:d.height_m})]})]}),s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[s.jsx(cy,{className:"w-5 h-5 text-primary"}),s.jsx("h2",{children:""})]}),s.jsxs("button",{type:"button",onClick:()=>_(!0),className:"text-sm text-primary font-medium flex items-center gap-1 bg-primary/10 px-3 py-1.5 rounded-lg",children:[o.style," ",s.jsx(yd,{className:"w-4 h-4"})]})]}),s.jsx("div",{className:"grid grid-cols-3 gap-2 p-1 bg-muted/50 rounded-xl border border-border/50",children:[{id:lt.MAIN,label:"",icon:_d},{id:lt.DOUBLE,label:"+",icon:ov},{id:lt.SHEER,label:"",icon:jd}].map(T=>s.jsxs("button",{type:"button",onClick:()=>m("layer_mode",T.id),className:F("flex flex-col items-center justify-center py-2.5 rounded-lg text-xs font-medium transition-all duration-200",o.layer_mode===T.id?"bg-background text-primary shadow-sm ring-1 ring-border":"text-muted-foreground hover:bg-background/50"),children:[s.jsx(T.icon,{className:"w-5 h-5 mb-1"}),T.label]},T.id))})]}),s.jsxs("div",{className:"space-y-4",children:[(z||w)&&s.jsx(Gg,{label:"",code:o.code||"",onCodeChange:T=>m("code",T),price:o.price_per_m_raw||"",onPriceChange:T=>h("price_per_m_raw",T),inventoryCategory:ze.CURTAIN_MAIN,onSelect:v,onSaveToInventory:(T,R)=>b(T,R,ze.CURTAIN_MAIN),isActive:!0,error:d.code,warning:f.code}),(E||w)&&s.jsx(Gg,{label:"",code:o.sheer_code||"",onCodeChange:T=>m("sheer_code",T),price:o.sheer_price_per_m||"",onPriceChange:T=>h("sheer_price_per_m",T),inventoryCategory:ze.CURTAIN_SHEER,onSelect:N,onSaveToInventory:(T,R)=>b(T,R,ze.CURTAIN_SHEER),isActive:E,error:d.sheer_code,warning:f.sheer_code})]}),s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsx(te,{label:" / ",value:o.rail_color||"",onChange:T=>m("rail_color",T.target.value),placeholder:"..."}),s.jsx(te,{label:"",prefix:s.jsx(xs,{className:"w-4 h-4"}),value:o.notes||"",onChange:T=>m("notes",T.target.value)}),s.jsx("div",{className:"pt-2 border-t border-dashed border-border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{type:"button",onClick:()=>h("enable_set_price",!o.enable_set_price),className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[o.enable_set_price?s.jsx(ho,{className:"w-4 h-4 text-primary"}):s.jsx(po,{className:"w-4 h-4"})," (Manual Price)"]}),o.enable_set_price&&s.jsx(te,{className:"w-32 text-right font-mono",placeholder:"",value:o.set_price_override||"",onChange:T=>h("set_price_override",T.target.value)})]})})]})]}),s.jsxs("div",{className:"fixed bottom-0 left-0 w-full bg-background/80 backdrop-blur-xl border-t border-border p-4 flex justify-end gap-3 z-50 shadow-[0_-5px_20px_rgba(0,0,0,0.1)]",children:[s.jsx(ce,{variant:"ghost",type:"button",onClick:i,className:"h-12 px-6 rounded-xl font-medium text-muted-foreground hover:bg-muted/80",children:""}),s.jsx(ce,{onClick:()=>g(),className:"h-12 px-8 rounded-xl text-base font-bold shadow-lg shadow-primary/30 bg-primary hover:bg-primary/90 transition-all active:scale-95",children:""})]}),s.jsx(IS,{isOpen:y,onClose:()=>_(!1),title:"",options:Iy,value:o.style,onSelect:T=>{m("style",T),_(!1)}})]})},GS=Gd({type:Fd(G.WALLPAPER).default(G.WALLPAPER),id:Ze().optional(),widths:zx(Ze()).min(1," 1 "),height_m:vs,wallpaper_code:Ze().min(1,""),price_per_roll:Ze(),install_cost_per_roll:Ze().optional(),notes:Ze().optional(),is_suspended:ar().optional(),enable_set_price:ar().optional(),set_price_override:mS().optional()}),FS={type:G.WALLPAPER,id:"",widths:[""],height_m:"",wallpaper_code:"",price_per_roll:"",install_cost_per_roll:"",notes:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},QS=(n,l)=>{const i={...FS,...n},o=Zd({schema:GS,initialData:i,onSubmit:v=>{l(v)}}),d=j.useCallback(v=>{o.setFieldValue("wallpaper_code",v.code),v.default_price_per_m>0&&o.setFieldValue("price_per_roll",v.default_price_per_m.toString())},[o]),f=j.useCallback(()=>{console.log("Save to inventory triggered")},[]),m=j.useCallback(()=>{o.setFieldValue("widths",[...o.formData.widths,""])},[o]),h=j.useCallback(v=>{const N=o.formData.widths.filter((b,y)=>y!==v);o.setFieldValue("widths",N.length?N:[""])},[o]),g=j.useCallback((v,N)=>{const b=[...o.formData.widths];b[v]=N,o.setFieldValue("widths",b)},[o]);return{formData:o.formData,errors:o.errors,warnings:o.warnings,handleChange:o.handleChange,handleNumberChange:o.setFieldValue,handleCodeChange:v=>o.setFieldValue("wallpaper_code",v),handleSubmit:o.handleSubmit,handleWidthChange:g,addWidthField:m,removeWidthField:h,handleWallpaperSelect:d,handleSaveToInventory:f,isInInventory:!1}},KS=({initialData:n,onSubmit:l,onCancel:i})=>{const{formData:o,errors:d,handleChange:f,handleNumberChange:m,handleWidthChange:h,addWidthField:g,removeWidthField:v,handleCodeChange:N,handleSubmit:b}=QS(n,l),{items:y}=_o(ze.WALLPAPER),_=y.map(w=>({label:w.code,value:w.code,data:w,desc:w.note||`${w.default_price_per_m}`}));return s.jsxs("div",{className:"flex flex-col h-full bg-background/50 pb-24",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 space-y-6",children:[s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold",children:[s.jsx(cv,{className:"w-5 h-5"}),s.jsx("h2",{children:" ()"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(te,{label:" (Height)",placeholder:"0.00",value:o.height_m,onChange:w=>m("height_m",w.target.value),error:d.height_m,isDimension:!0,autoFocus:!0,className:"h-12 text-lg font-bold"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:" (Widths)"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.widths.map((w,E)=>s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(te,{placeholder:` ${E+1}`,value:w,onChange:z=>h(E,z.target.value),isDimension:!0,className:"pr-8"}),o.widths.length>1&&s.jsx("button",{onClick:()=>v(E),className:"absolute right-2 text-muted-foreground hover:text-destructive transition-colors",tabIndex:-1,children:s.jsx(sr,{className:"w-4 h-4"})})]},E)),s.jsxs(ce,{type:"button",variant:"outline",onClick:g,className:"h-[42px] border-dashed border-primary/30 text-primary hover:bg-primary/5",children:[s.jsx(Ka,{className:"w-4 h-4 mr-2"})," "]})]})]})]})]}),s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold",children:[s.jsx(io,{className:"w-5 h-5"}),s.jsx("h2",{children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(cr,{label:" (Code)",placeholder:"...",value:o.wallpaper_code||"",onChange:N,options:_,onSelect:w=>{N(w.value),w.data&&w.data.default_price_per_m>0&&m("price_per_roll",w.data.default_price_per_m.toString())},error:d.wallpaper_code}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(te,{label:" ()",placeholder:"0.00",value:o.price_per_roll,onChange:w=>m("price_per_roll",w.target.value),className:"text-right font-mono font-bold",error:d.price_per_roll}),s.jsx(te,{label:" ()",placeholder:"",value:o.install_cost_per_roll||"",onChange:w=>m("install_cost_per_roll",w.target.value),className:"text-right font-mono"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800/50 p-4 rounded-2xl border border-border space-y-4",children:[s.jsx(te,{label:" (Notes)",value:o.notes||"",onChange:w=>f("notes",w.target.value)}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-dashed border-border",children:[s.jsxs("button",{type:"button",onClick:()=>m("enable_set_price",!o.enable_set_price),className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[o.enable_set_price?s.jsx(ho,{className:"w-4 h-4 text-primary"}):s.jsx(po,{className:"w-4 h-4"})," (Manual Price)"]}),o.enable_set_price&&s.jsx(te,{className:"w-32 text-right font-mono",placeholder:"",value:o.set_price_override||"",onChange:w=>m("set_price_override",w.target.value)})]})]})]}),s.jsxs("div",{className:"fixed bottom-0 left-0 w-full bg-background/80 backdrop-blur-xl border-t border-border p-4 flex justify-end gap-3 z-50",children:[s.jsx(ce,{variant:"ghost",type:"button",onClick:i,className:"h-12 px-6 rounded-xl font-medium text-muted-foreground",children:""}),s.jsx(ce,{onClick:()=>b(),className:"h-12 px-8 rounded-xl text-base font-bold shadow-lg shadow-primary/30 bg-primary",children:""})]})]})},JS=n=>{if(n===""||n===void 0||n===0)return"";const l=Number(n);return isNaN(l)?"":l.toLocaleString("en-US")},WS=n=>n.replace(/,/g,""),ys=(n,l)=>{const[i,o]=j.useState(n),[d,f]=j.useState({}),[m,h]=j.useState({}),g=j.useMemo(()=>JSON.stringify(i)!==JSON.stringify(n),[i,n]),v=j.useCallback((w,E)=>{o(z=>({...z,[w]:E})),l&&l[w]&&(f(z=>({...z,[w]:void 0})),h(z=>({...z,[w]:void 0})))},[l]),N=j.useCallback((w,E)=>{const z=WS(E);/^\d*\.?\d*$/.test(z)&&(o(T=>({...T,[w]:z})),l&&l[w]&&(f(T=>({...T,[w]:void 0})),h(T=>({...T,[w]:void 0}))))},[l]),b=j.useCallback(()=>{if(!l)return{isValid:!0,hasWarnings:!1};const w={},E={};let z=!0,T=!1;return Object.keys(l).forEach(R=>{const B=l[R];if(B){const D=B(i[R],i);D&&(D.level==="error"?(w[R]=D.message,z=!1):D.level==="warning"&&(E[R]=D.message,T=!0))}}),f(w),h(E),{isValid:z,hasWarnings:T}},[i,l]),y=j.useCallback(w=>{const E=i[w];return typeof E=="string"||typeof E=="number"?JS(E):""},[i]),_=j.useCallback(()=>{o(n),f({}),h({})},[n]);return{formData:i,errors:d,warnings:m,isDirty:g,handleChange:v,handleNumberChange:N,getFormattedNumber:y,setFormData:o,validate:b,resetForm:_}},En=({className:n,checked:l,onCheckedChange:i,disabled:o,ref:d,...f})=>s.jsxs("label",{className:F("group inline-flex items-center relative cursor-pointer tap-highlight-transparent",o&&"cursor-not-allowed opacity-50",n),children:[s.jsx("input",{ref:d,type:"checkbox",className:"sr-only",checked:l,onChange:m=>i(m.target.checked),disabled:o,...f}),s.jsx("div",{className:F("w-[51px] h-[31px] rounded-full transition-colors duration-300 ease-in-out border",l?"bg-primary border-primary":"bg-input border-border")}),s.jsx("div",{className:F("absolute left-[2px] top-[2px] w-[27px] h-[27px] bg-background rounded-full shadow-sm transition-transform duration-300 ease-in-out",l?"translate-x-[20px]":"translate-x-0")})]}),Fg={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"Blackout",adjustment_side:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},PS={width_m:n=>W(n)<=0?{level:"error",message:""}:null,height_m:n=>W(n)<=0?{level:"error",message:""}:null,price_sqyd:(n,l)=>!l.enable_set_price&&W(n)<=0?{level:"warning",message:""}:null},eC=({initialData:n,onSubmit:l,onCancel:i})=>{const{formData:o,errors:d,warnings:f,handleChange:m,handleNumberChange:h,validate:g}=ys({...Fg,...n},PS),{addToInventory:v,inventory:N,updateInventoryItem:b,openModal:y}=ae(),{addToast:_}=Nt(),{confirm:w}=nl(),E=j.useMemo(()=>{const S={...Fg,...o,type:G.ROLLER_BLIND,id:"preview"};return Ct.calculateDetailedPrice(S)},[o]),z=j.useMemo(()=>(N[ze.ROLLER_BLIND]||[]).map(S=>({label:S.code,value:S.code,desc:`${S.default_price_per_m}`,data:S})),[N]),T=S=>{m("code",S);const Y=z.find(q=>q.value.toLowerCase()===S.toLowerCase());Y&&Y.data?.default_price_per_m&&h("price_sqyd",String(Y.data.default_price_per_m))},R=async()=>{const S=o.code,Y=W(o.price_sqyd);if(!S||Y<=0)return _("warning","");const q=(N[ze.ROLLER_BLIND]||[]).find(K=>K.code===S);q?q.default_price_per_m!==Y&&await w({title:"",description:` ${q.default_price_per_m} ->  ${Y}. ?`,confirmLabel:"",cancelLabel:""})&&b(ze.ROLLER_BLIND,q.id,{default_price_per_m:Y}):(v(ze.ROLLER_BLIND,{code:S,default_price_per_m:Y}),_("success",` ${S} `))},B=S=>!!S&&(N[ze.ROLLER_BLIND]||[]).some(Y=>Y.code===S),D=S=>{S.preventDefault();const{isValid:Y,hasWarnings:q}=g();Y?(l(o),q&&_("warning"," ()")):_("error","")};return s.jsxs("form",{onSubmit:D,className:"space-y-6",children:[s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[s.jsx(bd,{className:"w-5 h-5 text-teal-500"}),s.jsx("h2",{children:" (.)"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(te,{label:" (W)",placeholder:"0.00",value:o.width_m,onChange:S=>h("width_m",S.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-teal-600 dark:text-teal-400 bg-teal-500/10",error:d.width_m}),s.jsx(te,{label:" (H)",placeholder:"0.00",value:o.height_m,onChange:S=>h("height_m",S.target.value),isDimension:!0,className:"text-lg font-bold text-teal-600 dark:text-teal-400 bg-teal-500/10",error:d.height_m})]})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-xl border border-border space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("label",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[s.jsx(tr,{className:"w-4 h-4 text-muted-foreground"})," /"]}),s.jsxs(ce,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 gap-1 text-muted-foreground hover:text-teal-600",onClick:()=>y("inventoryManager",{initialTab:ze.ROLLER_BLIND}),children:[s.jsx(uv,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"text-xs",children:""})]})]}),s.jsx(cr,{placeholder:"/...",value:o.code||"",onChange:T,options:z}),s.jsxs("div",{className:"relative",children:[s.jsx(te,{placeholder:" (/..)",inputMode:"decimal",value:o.price_sqyd||"",onChange:S=>h("price_sqyd",S.target.value),warning:f.price_sqyd}),o.code&&W(o.price_sqyd)>0&&s.jsx("button",{type:"button",onClick:R,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 z-10 hover:scale-110 transition-transform",children:s.jsx(Sd,{className:F("w-5 h-5 transition-colors",B(o.code)?"fill-amber-400 text-amber-400":"text-muted-foreground hover:text-amber-400")})})]})]}),s.jsxs("div",{className:"space-y-2 pt-2 border-t border-border",children:[s.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),s.jsx("div",{className:"grid grid-cols-3 gap-2 bg-muted/50 p-1 rounded-xl",children:["Blackout","Sunscreen","Dimout"].map(S=>s.jsx("button",{type:"button",onClick:()=>m("fabric_variant",S),className:F("flex items-center justify-center py-2 rounded-lg text-xs font-medium transition-all",o.fabric_variant===S?"bg-teal-600 text-white shadow-md":"text-muted-foreground hover:bg-background/50"),children:S},S))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:["",""].map(S=>s.jsxs("button",{type:"button",onClick:()=>m("adjustment_side",S),className:F("flex items-center justify-center gap-2 py-3 rounded-xl border transition-all",o.adjustment_side===S?"border-teal-500 bg-teal-500/10 text-teal-600 dark:text-teal-400":"border-border text-muted-foreground hover:bg-muted"),children:[S===""?s.jsx(dv,{className:"w-4 h-4"}):s.jsx(fv,{className:"w-4 h-4"}),S]},S))})]})]}),s.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 text-foreground relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-teal-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[s.jsx("span",{children:" (..):"}),s.jsx("span",{className:"text-foreground font-mono",children:E.breakdown?.areaSqyd?.toFixed(2)||"0.00"})]}),s.jsxs("div",{className:"flex justify-between items-end pt-2 border-t border-border mt-2",children:[s.jsx("span",{className:"text-muted-foreground pb-1",children:""}),s.jsx("span",{className:"text-2xl font-bold font-mono text-teal-600 dark:text-teal-400",children:Qe(E.total)})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(En,{checked:o.enable_set_price||!1,onCheckedChange:S=>m("enable_set_price",S),className:"data-[state=checked]:bg-teal-500"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),o.enable_set_price&&s.jsx("div",{className:"w-32",children:s.jsx("input",{type:"text",inputMode:"decimal",value:o.set_price_override||"",onChange:S=>h("set_price_override",S.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"})})]})]})]}),s.jsxs("div",{className:"pt-2 space-y-4",children:[s.jsx(te,{label:"",value:o.notes||"",onChange:S=>m("notes",S.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[s.jsx(ce,{variant:"ghost",type:"button",onClick:i,className:"h-12 px-6 text-muted-foreground",children:""}),s.jsx(ce,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-teal-500/20 bg-teal-600 hover:bg-teal-700 text-white",children:""})]})]})]})},Qg={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"",adjustment_side:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},tC={width_m:n=>W(n)<=0?{level:"error",message:""}:null,height_m:n=>W(n)<=0?{level:"error",message:""}:null,price_sqyd:(n,l)=>!l.enable_set_price&&W(n)<=0?{level:"warning",message:""}:null},nC=({initialData:n,onSubmit:l,onCancel:i,itemType:o=G.WOODEN_BLIND})=>{const{formData:d,errors:f,handleChange:m,handleNumberChange:h,validate:g}=ys({...Qg,...n},tC),{inventory:v}=ae(),{addToast:N}=Nt(),b=o===G.ROLLER_BLIND?ze.ROLLER_BLIND:o===G.ALUMINUM_BLIND?ze.ALUMINUM_BLIND:ze.WOODEN_BLIND,y=j.useMemo(()=>{const z={...Qg,...d,type:o,id:"preview"};return Ct.calculateDetailedPrice(z)},[d,o]),_=j.useMemo(()=>(v[b]||[]).map(z=>({label:z.code,value:z.code,desc:`${z.default_price_per_m}`,data:z})),[v,b]),w=z=>{m("code",z);const T=_.find(R=>R.value.toLowerCase()===z.toLowerCase());T&&T.data?.default_price_per_m&&h("price_sqyd",String(T.data.default_price_per_m))},E=z=>{z.preventDefault();const{isValid:T,hasWarnings:R}=g();T?(l(d),R&&N("warning"," ()")):N("error","")};return s.jsxs("form",{onSubmit:E,className:"space-y-6 pb-20 sm:pb-0",children:[s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[s.jsx(Pi,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"}),s.jsx("h2",{children:" (.)"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(te,{label:" (W)",placeholder:"0.00",value:d.width_m,onChange:z=>h("width_m",z.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-amber-600 dark:text-amber-400 bg-amber-500/10",error:f.width_m}),s.jsx(te,{label:" (H)",placeholder:"0.00",value:d.height_m,onChange:z=>h("height_m",z.target.value),isDimension:!0,className:"text-lg font-bold text-amber-600 dark:text-amber-400 bg-amber-500/10",error:f.height_m})]})]}),s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsx("div",{className:"grid grid-cols-2 gap-2 bg-muted/50 p-1 rounded-xl",children:["",""].map(z=>s.jsx("button",{type:"button",onClick:()=>m("fabric_variant",z),className:F("flex items-center justify-center py-2 rounded-lg text-xs font-medium transition-all",d.fabric_variant===z?"bg-amber-600 text-white shadow-md":"text-muted-foreground hover:bg-background/50"),children:z},z))}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(cr,{label:"//",options:_,value:d.code||"",onChange:w,className:"bg-muted/50",placeholder:" BW-01"}),s.jsx(te,{label:" (/..)",value:d.price_sqyd||"",onChange:z=>h("price_sqyd",z.target.value),className:"bg-muted/50",inputMode:"decimal",placeholder:"0.00"})]}),s.jsxs("div",{className:"pt-2",children:[s.jsx("label",{className:"text-sm font-bold text-foreground mb-2 block",children:" (Side)"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:["",""].map(z=>s.jsxs("button",{type:"button",onClick:()=>m("adjustment_side",z),className:F("flex items-center justify-center gap-2 py-3 rounded-xl border transition-all",d.adjustment_side===z?"border-amber-500 bg-amber-500/10 text-amber-600 dark:text-amber-400":"border-border text-muted-foreground hover:bg-muted"),children:[z===""?s.jsx(dv,{className:"w-4 h-4"}):s.jsx(fv,{className:"w-4 h-4"}),z]},z))})]})]}),s.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-amber-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),s.jsxs("div",{className:"flex items-center gap-2 text-amber-600 dark:text-amber-400 font-bold border-b border-border pb-3",children:[s.jsx(tr,{className:"w-5 h-5"}),s.jsx("h3",{children:""})]}),s.jsxs("div",{className:"flex justify-between items-baseline",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:""}),s.jsx("span",{className:"text-2xl font-bold font-mono text-amber-600 dark:text-amber-400",children:Qe(y.total)})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(En,{checked:d.enable_set_price||!1,onCheckedChange:z=>m("enable_set_price",z),className:"data-[state=checked]:bg-amber-500"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),d.enable_set_price&&s.jsx("div",{className:"w-32",children:s.jsx("input",{type:"text",inputMode:"decimal",value:d.set_price_override||"",onChange:z=>h("set_price_override",z.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"})})]})]}),s.jsxs("div",{className:"pt-2 space-y-4",children:[s.jsx(te,{label:"",value:d.notes||"",onChange:z=>m("notes",z.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[s.jsx(ce,{variant:"ghost",type:"button",onClick:i,className:"h-12 px-6 text-muted-foreground",children:""}),s.jsx(ce,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-amber-500/20 bg-amber-600 hover:bg-amber-700 text-white",children:""})]})]})]})},aC=Gd({type:Fd(G.VERTICAL_BLIND).default(G.VERTICAL_BLIND),id:Ze().optional(),width_m:vs,height_m:vs,price_sqyd:lr([Ze(),gs()]).optional(),code:Ze().optional(),fabric_variant:Ze().default("Dimout"),opening_style:Ze().default(Ja.SIDE),adjustment_side:Ze().default(""),notes:Ze().optional(),is_suspended:ar().optional(),enable_set_price:ar().optional(),set_price_override:lr([Ze(),gs()]).optional()}),lC={type:G.VERTICAL_BLIND,id:"",width_m:"",height_m:"",price_sqyd:"",code:"",fabric_variant:"Dimout",opening_style:Ja.SIDE,adjustment_side:"",notes:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},rC=(n,l)=>{const i={...lC,...n},o=Zd({schema:aC,initialData:i,onSubmit:g=>{const{...v}=g;l(v)}}),{addToInventory:d}=ae(),f=Nt(g=>g.addToast),m=j.useCallback(g=>{o.setFieldValue("code",g.code),g.default_price_per_m>0&&o.setFieldValue("price_sqyd",g.default_price_per_m.toString()),g.note&&o.setFieldValue("fabric_variant",g.note)},[o]),h=j.useCallback(()=>{const{code:g,price_sqyd:v,fabric_variant:N}=o.formData;if(!g){f("error","","");return}d(ze.VERTICAL_BLIND,{code:g,default_price_per_m:parseFloat(v?.toString()||"0"),note:N||""}),f("success","",` ${g} `)},[o.formData,d,f]);return{formData:o.formData,errors:o.errors,handleChange:o.handleChange,handleNumberChange:o.setFieldValue,setFieldValue:o.setFieldValue,handleSubmit:o.handleSubmit,handleInventorySelect:m,handleSaveToInventory:h}},sC=({initialData:n,onSubmit:l,onCancel:i})=>{const{formData:o,errors:d,handleChange:f,handleNumberChange:m,setFieldValue:h,handleSubmit:g,handleInventorySelect:v,handleSaveToInventory:N}=rC(n,l),{items:b}=_o(ze.VERTICAL_BLIND),y=b.map(_=>({label:_.code,value:_.code,data:_,desc:_.note}));return s.jsxs("div",{className:"flex flex-col h-full bg-background/50 pb-24",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 space-y-6",children:[s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold mb-4",children:[s.jsx(eo,{className:"w-5 h-5"}),s.jsx("h2",{children:" ()"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(te,{label:" (W)",value:o.width_m,onChange:_=>m("width_m",_.target.value),error:d.width_m,isDimension:!0,autoFocus:!0,className:"h-14 text-xl font-bold"}),s.jsx(te,{label:" (H)",value:o.height_m,onChange:_=>m("height_m",_.target.value),error:d.height_m,isDimension:!0,className:"h-14 text-xl font-bold"})]})]}),s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsx(cr,{label:" (Code)",value:o.code||"",onChange:_=>f("code",_),options:y,onSelect:_=>{_&&_.data&&v(_.data)}}),s.jsxs("div",{className:"flex gap-3 items-end",children:[s.jsx("div",{className:"flex-1",children:s.jsx(te,{label:" (/..)",value:o.price_sqyd,onChange:_=>m("price_sqyd",_.target.value),className:"text-right font-mono font-bold text-lg"})}),s.jsx(ce,{variant:"outline",onClick:N,className:"h-12 w-12 shrink-0",children:s.jsx(eo,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800/50 p-4 rounded-2xl border border-border space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(te,{label:"",value:o.fabric_variant||"",onChange:_=>f("fabric_variant",_.target.value)}),s.jsx(te,{label:"",value:o.opening_style||"",onChange:_=>f("opening_style",_.target.value)})]}),s.jsx(te,{label:"",value:o.notes||"",onChange:_=>f("notes",_.target.value)}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-dashed border-border",children:[s.jsxs("button",{type:"button",onClick:()=>h("enable_set_price",!o.enable_set_price),className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground",children:[o.enable_set_price?s.jsx(ho,{className:"w-4 h-4 text-primary"}):s.jsx(po,{className:"w-4 h-4"}),""]}),o.enable_set_price&&s.jsx(te,{className:"w-32 text-right font-mono",value:o.set_price_override||"",onChange:_=>m("set_price_override",_.target.value)})]})]})]}),s.jsxs("div",{className:"fixed bottom-0 left-0 w-full bg-background/80 backdrop-blur-xl border-t border-border p-4 flex justify-end gap-3 z-50",children:[s.jsx(ce,{variant:"ghost",onClick:i,className:"h-12 px-6 rounded-xl font-medium text-muted-foreground",children:""}),s.jsx(ce,{onClick:()=>g(),className:"h-12 px-8 rounded-xl text-base font-bold bg-primary shadow-lg shadow-primary/30",children:""})]})]})},Kg={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"PVC ",opening_style:Ja.SIDE,is_suspended:!1,enable_set_price:!1,set_price_override:0},iC={width_m:n=>W(n)<=0?{level:"error",message:""}:null,height_m:n=>W(n)<=0?{level:"error",message:""}:null,price_sqyd:(n,l)=>!l.enable_set_price&&W(n)<=0?{level:"warning",message:""}:null},oC=({initialData:n,onSubmit:l,onCancel:i})=>{const{formData:o,errors:d,warnings:f,handleChange:m,handleNumberChange:h,validate:g}=ys({...Kg,...n},iC),{addToInventory:v,inventory:N,updateInventoryItem:b,openModal:y}=ae(),{addToast:_}=Nt(),{confirm:w}=nl(),E=j.useMemo(()=>{const S={...Kg,...o,type:G.PARTITION,id:"preview"};return Ct.calculateDetailedPrice(S)},[o]),z=j.useMemo(()=>(N[ze.PARTITION]||[]).map(S=>({label:S.code,value:S.code,desc:`${S.default_price_per_m}`,data:S})),[N]),T=S=>{m("code",S);const Y=z.find(q=>q.value.toLowerCase()===S.toLowerCase());Y&&Y.data?.default_price_per_m&&h("price_sqyd",String(Y.data.default_price_per_m))},R=async()=>{const S=o.code,Y=W(o.price_sqyd);if(!S||Y<=0)return _("warning","");const q=(N[ze.PARTITION]||[]).find(K=>K.code===S);q&&q.default_price_per_m!==Y?await w({title:"?",description:` ${q.default_price_per_m} -> ${Y}?`})&&b(ze.PARTITION,q.id,{default_price_per_m:Y}):q||(v(ze.PARTITION,{code:S,default_price_per_m:Y}),_("success",""))},B=S=>!!S&&(N[ze.PARTITION]||[]).some(Y=>Y.code===S),D=S=>{S.preventDefault(),g().isValid?l(o):_("error","")};return s.jsxs("form",{onSubmit:D,className:"space-y-6",children:[s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[s.jsx(us,{className:"w-5 h-5 text-emerald-500"}),s.jsx("h2",{children:" (.)"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(te,{label:" (W)",placeholder:"0.00",value:o.width_m,onChange:S=>h("width_m",S.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-500/10",error:d.width_m}),s.jsx(te,{label:" (H)",placeholder:"0.00",value:o.height_m,onChange:S=>h("height_m",S.target.value),isDimension:!0,className:"text-lg font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-500/10",error:d.height_m})]})]}),s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("label",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[s.jsx(tr,{className:"w-4 h-4 text-muted-foreground"}),"/"]}),s.jsxs(ce,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 gap-1 text-muted-foreground hover:text-emerald-600",onClick:()=>y("inventoryManager",{initialTab:ze.PARTITION}),children:[s.jsx(uv,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"text-xs",children:""})]})]}),s.jsx(cr,{placeholder:" ( PVC )...",value:o.code||"",onChange:T,options:z}),s.jsxs("div",{className:"relative",children:[s.jsx(te,{placeholder:" (/..)",inputMode:"decimal",value:o.price_sqyd||"",onChange:S=>h("price_sqyd",S.target.value),warning:f.price_sqyd,className:"bg-muted/50"}),o.code&&W(o.price_sqyd)>0&&s.jsx("button",{type:"button",onClick:R,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 z-10 hover:scale-110 transition-transform",children:s.jsx(Sd,{className:F("w-5 h-5",B(o.code)?"fill-amber-400 text-amber-400":"text-muted-foreground")})})]})]}),s.jsxs("div",{className:"space-y-2 pt-2 border-t border-border",children:[s.jsx("label",{className:"text-[13px] font-medium text-muted-foreground",children:""}),s.jsx("div",{className:"flex gap-2",children:[{l:"",v:Ja.SIDE,i:uy},{l:"",v:Ja.CENTER,i:dy}].map(S=>s.jsxs("button",{type:"button",onClick:()=>m("opening_style",S.v),className:F("flex-1 flex items-center justify-center gap-2 py-2 rounded-lg text-sm border transition-all",o.opening_style===S.v?"bg-emerald-500/10 border-emerald-500/50 text-emerald-600 dark:text-emerald-400 font-medium":"bg-background border-border text-muted-foreground hover:bg-muted"),children:[s.jsx(S.i,{className:"w-4 h-4"}),S.l]},S.v))})]})]}),s.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),s.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 dark:text-emerald-400 font-bold border-b border-border pb-3",children:[s.jsx(tr,{className:"w-5 h-5"}),s.jsx("h3",{children:""})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[s.jsx("span",{children:" (..):"}),s.jsx("span",{className:"text-foreground font-mono",children:E.breakdown?.areaSqyd?.toFixed(2)||"0.00"})]}),s.jsxs("div",{className:"flex justify-between items-end pt-2 border-t border-border mt-2",children:[s.jsx("span",{className:"text-muted-foreground pb-1",children:""}),s.jsx("span",{className:"text-2xl font-bold font-mono text-emerald-600 dark:text-emerald-400",children:Qe(E.total)})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(En,{checked:o.enable_set_price||!1,onCheckedChange:S=>m("enable_set_price",S),className:"data-[state=checked]:bg-emerald-500"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),o.enable_set_price&&s.jsx("div",{className:"w-32",children:s.jsx("input",{type:"text",inputMode:"decimal",value:o.set_price_override||"",onChange:S=>h("set_price_override",S.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"})})]})]}),s.jsxs("div",{className:"pt-2 space-y-4",children:[s.jsx(te,{label:"",value:o.notes||"",onChange:S=>m("notes",S.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[s.jsx(ce,{variant:"ghost",type:"button",onClick:i,className:"h-12 px-6 text-muted-foreground",children:""}),s.jsx(ce,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-emerald-500/20 bg-emerald-600 hover:bg-emerald-700 text-white",children:""})]})]})]})},Jg={width_m:"",height_m:"",price_sqyd:"",code:"",notes:"",fabric_variant:"",opening_style:Ja.SIDE,is_suspended:!1,enable_set_price:!1,set_price_override:0},cC={width_m:n=>W(n)<=0?{level:"error",message:""}:null,height_m:n=>W(n)<=0?{level:"error",message:""}:null,price_sqyd:(n,l)=>!l.enable_set_price&&W(n)<=0?{level:"warning",message:""}:null},uC=({initialData:n,onSubmit:l,onCancel:i})=>{const{formData:o,errors:d,handleChange:f,handleNumberChange:m,validate:h}=ys({...Jg,...n},cC),{addToast:g}=Nt(),v=j.useMemo(()=>{const b={...Jg,...o,type:G.PLEATED_SCREEN,id:"preview"};return Ct.calculateDetailedPrice(b)},[o]),N=b=>{b.preventDefault(),h().isValid?l(o):g("error","")};return s.jsxs("form",{onSubmit:N,className:"space-y-6 pb-20 sm:pb-0",children:[s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold",children:[s.jsx(us,{className:"w-5 h-5 text-pink-500"}),s.jsx("h2",{children:" (.)"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(te,{label:" (W)",value:o.width_m,onChange:b=>m("width_m",b.target.value),isDimension:!0,autoFocus:!0,className:"text-lg font-bold text-pink-600 dark:text-pink-400 bg-pink-500/10",error:d.width_m}),s.jsx(te,{label:" (H)",value:o.height_m,onChange:b=>m("height_m",b.target.value),isDimension:!0,className:"text-lg font-bold text-pink-600 dark:text-pink-400 bg-pink-500/10",error:d.height_m})]})]}),s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border shadow-sm space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(te,{label:"",value:o.code||"",onChange:b=>f("code",b.target.value),className:"bg-muted/50",placeholder:"..."}),s.jsx(te,{label:" (/..)",value:o.price_sqyd||"",onChange:b=>m("price_sqyd",b.target.value),className:"bg-muted/50",inputMode:"decimal"})]}),s.jsxs("div",{className:"pt-2",children:[s.jsx("label",{className:"text-sm font-bold text-foreground mb-2 block",children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.values(Ja).map(b=>s.jsx("button",{type:"button",onClick:()=>f("opening_style",b),className:F("py-2 px-3 rounded-lg text-xs font-medium border transition-all",o.opening_style===b?"bg-pink-500/10 border-pink-500/50 text-pink-600 dark:text-pink-400":"bg-background border-border text-muted-foreground hover:bg-muted"),children:b},b))})]})]}),s.jsxs("div",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-pink-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),s.jsxs("div",{className:"flex items-center gap-2 text-pink-600 dark:text-pink-400 font-bold border-b border-border pb-3",children:[s.jsx(tr,{className:"w-5 h-5"}),s.jsx("h3",{children:""})]}),s.jsxs("div",{className:"flex justify-between items-baseline",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:""}),s.jsx("span",{className:"text-2xl font-bold font-mono text-pink-600 dark:text-pink-400",children:Qe(v.total)})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(En,{checked:o.enable_set_price||!1,onCheckedChange:b=>f("enable_set_price",b),className:"data-[state=checked]:bg-pink-500"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),o.enable_set_price&&s.jsx("div",{className:"w-32",children:s.jsx("input",{type:"text",inputMode:"decimal",value:o.set_price_override||"",onChange:b=>m("set_price_override",b.target.value),className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-pink-500"})})]})]}),s.jsxs("div",{className:"pt-2 space-y-4",children:[s.jsx(te,{label:"",value:o.notes||"",onChange:b=>f("notes",b.target.value),className:"bg-muted/50 border-transparent focus:bg-background"}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-border mt-4",children:[s.jsx(ce,{variant:"ghost",type:"button",onClick:i,className:"h-12 px-6 text-muted-foreground",children:""}),s.jsx(ce,{type:"submit",className:"h-12 px-8 text-base shadow-lg shadow-pink-500/20 bg-pink-600 hover:bg-pink-700 text-white",children:""})]})]})]})},dC={quantity:1,price_per_item:0,description:"",notes:"",is_suspended:!1,enable_set_price:!1,set_price_override:0},fC={description:n=>n?null:{level:"error",message:""},price_per_item:n=>W(n)<=0?{level:"error",message:""}:null},mC=({initialData:n,onSubmit:l,onCancel:i})=>{const{formData:o,errors:d,isDirty:f,validate:m,handleChange:h,handleNumberChange:g,getFormattedNumber:v}=ys({...dC,...n},fC),N=j.useMemo(()=>{const y={...o,type:G.REMOVAL,id:"preview"};return Ct.calculateDetailedPrice(y)},[o]),b=y=>{if(y.preventDefault(),m().isValid){const _={...o,quantity:W(o.quantity),price_per_item:W(o.price_per_item),set_price_override:W(o.set_price_override)};l(_)}};return s.jsxs("form",{onSubmit:b,className:"space-y-6 pb-20 sm:pb-0",children:[s.jsxs("section",{className:"space-y-4 bg-card p-5 rounded-2xl border border-border shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-foreground font-bold mb-2",children:[s.jsx(so,{className:"w-5 h-5 text-destructive"}),s.jsx("h2",{children:""})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(te,{label:" / ",placeholder:" , ...",value:o.description,onChange:y=>h("description",y.target.value),autoFocus:!0,className:"bg-muted/50",error:d.description}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("label",{className:"text-sm font-bold text-foreground mb-1.5 block",children:""}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{type:"button",onClick:()=>g("quantity",String(Math.max(1,W(o.quantity)-1))),className:"w-10 h-10 rounded-l-xl bg-muted text-muted-foreground hover:bg-accent flex items-center justify-center border-y border-l border-input",children:"-"}),s.jsx("input",{type:"number",value:o.quantity,onChange:y=>g("quantity",y.target.value),className:"w-full h-10 text-center border-y border-input bg-background text-foreground font-bold"}),s.jsx("button",{type:"button",onClick:()=>g("quantity",String(W(o.quantity)+1)),className:"w-10 h-10 rounded-r-xl bg-muted text-muted-foreground hover:bg-accent flex items-center justify-center border-y border-r border-input",children:"+"})]})]}),s.jsx(te,{label:"",placeholder:"0.00",value:o.price_per_item,onChange:y=>g("price_per_item",y.target.value),inputMode:"decimal",className:"bg-muted/50",error:d.price_per_item})]})]})]}),s.jsxs("section",{className:"bg-card border border-border p-5 rounded-2xl shadow-sm space-y-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-destructive/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),s.jsxs("div",{className:"flex items-center gap-2 text-destructive font-bold border-b border-border pb-3",children:[s.jsx(Cd,{className:"w-5 h-5"}),s.jsx("h3",{children:""})]}),s.jsxs("div",{className:"flex justify-between items-baseline",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:""}),s.jsx("span",{className:"text-3xl font-bold font-mono text-destructive",children:Qe(N.total)})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(En,{checked:o.enable_set_price||!1,onCheckedChange:y=>h("enable_set_price",y),className:"data-[state=checked]:bg-primary"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:" (Override)"})]}),o.enable_set_price&&s.jsx("div",{className:"w-32",children:s.jsx("input",{type:"text",inputMode:"decimal",value:v("set_price_override"),onChange:y=>g("set_price_override",y.target.value),placeholder:"",className:"w-full bg-muted/50 text-foreground border border-input rounded-lg px-3 py-1.5 text-right font-mono text-sm focus:outline-none focus:ring-2 focus:ring-primary transition-colors"})})]})]}),s.jsxs("div",{className:"pt-2",children:[s.jsx(te,{label:"",value:o.notes,onChange:y=>h("notes",y.target.value),className:"bg-muted/50 border-transparent focus:bg-background transition-colors"}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-border mt-4",children:[s.jsx(ce,{variant:"ghost",type:"button",onClick:i,className:"text-muted-foreground",children:""}),s.jsx(ce,{type:"submit",className:"min-w-[120px] bg-destructive hover:bg-destructive/90 text-destructive-foreground",disabled:!f&&!n?.description,children:""})]})]})]})},wn=n=>({container:`bg-[hsl(var(${n})_/_0.05)] dark:bg-[hsl(var(${n})_/_0.1)] border-[hsl(var(${n})_/_0.2)]`,iconWrapper:`bg-white dark:bg-[hsl(var(${n})_/_0.15)] text-[hsl(var(${n}))] shadow-sm`,title:"text-foreground font-semibold",icon:`text-[hsl(var(${n}))]`,hover:`hover:border-[hsl(var(${n})_/_0.5)] hover:bg-[hsl(var(${n})_/_0.08)] dark:hover:bg-[hsl(var(${n})_/_0.15)]`,badge:`bg-[hsl(var(${n})_/_0.1)] text-[hsl(var(${n}))]`,text:`text-[hsl(var(${n}))]`,bgSoft:`bg-[hsl(var(${n})_/_0.1)]`,border:`border-[hsl(var(${n}))]`,ring:`focus:ring-[hsl(var(${n}))]`}),hC={[G.CURTAIN]:wn("--brand-curtain"),[G.WALLPAPER]:wn("--brand-wallpaper"),[G.ROLLER_BLIND]:wn("--brand-roller"),[G.WOODEN_BLIND]:wn("--brand-wood"),[G.VERTICAL_BLIND]:wn("--brand-vertical"),[G.ALUMINUM_BLIND]:wn("--brand-alum"),[G.PARTITION]:wn("--brand-partition"),[G.PLEATED_SCREEN]:wn("--brand-screen"),[G.REMOVAL]:wn("--brand-removal")},pC=n=>hC[n]||wn("--foreground"),gC=({isOpen:n,onClose:l,initialData:i,onSubmit:o,activeType:d})=>{const{trigger:f}=Tn(),m=d||i?.type||G.CURTAIN,h=pC(m),g=i?.id?`${_a[m]?.name||""}`:`${_a[m]?.name||""}`,v=_a[m]?.icon,N=v==="AlignLeft"?Wi:v==="ScrollText"?io:v==="Minimize2"?bd:v==="Blinds"?Pi:v==="Columns"?eo:v==="Grid3X3"?us:v==="Hammer"?Ed:v==="FoldHorizontal"?fy:Wi,b=y=>{f("success"),o(y)};return s.jsxs(an,{isOpen:n,onClose:l,title:g,variant:"fullscreen",children:[s.jsx("div",{className:F("absolute top-0 left-0 w-full h-1.5",h.bgSoft)}),s.jsxs("div",{className:"flex items-center gap-3 mb-6 px-1",children:[s.jsx("div",{className:F("p-2.5 rounded-xl border shadow-sm",h.iconWrapper,h.border),children:s.jsx(N,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h2",{className:F("text-lg font-bold",h.title),children:g}),s.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]}),s.jsx("div",{className:"flex-1 min-h-0 bg-background/50 rounded-2xl border border-border/50 overflow-hidden shadow-sm",children:s.jsxs("div",{className:"h-full",children:[m===G.CURTAIN&&s.jsx(XS,{initialData:i,onSubmit:y=>b(y),onCancel:l}),m===G.WALLPAPER&&s.jsx(KS,{initialData:i,onSubmit:y=>b(y),onCancel:l}),m===G.ROLLER_BLIND&&s.jsx(eC,{initialData:i,onSubmit:y=>b(y),onCancel:l}),(m===G.WOODEN_BLIND||m===G.ALUMINUM_BLIND)&&s.jsx(nC,{itemType:m,initialData:i,onSubmit:y=>b(y),onCancel:l}),m===G.VERTICAL_BLIND&&s.jsx(sC,{initialData:i,onSubmit:y=>b(y),onCancel:l}),m===G.PARTITION&&s.jsx(oC,{initialData:i,onSubmit:y=>b(y),onCancel:l}),m===G.PLEATED_SCREEN&&s.jsx(uC,{initialData:i,onSubmit:y=>b(y),onCancel:l}),m===G.REMOVAL&&s.jsx(mC,{initialData:i,onSubmit:y=>b(y),onCancel:l})]})})]})},vC=({isOpen:n,onClose:l})=>{const i=ae(f=>f.customer),o=ae(f=>f.setCustomer),d=(f,m)=>{o({[f]:m})};return s.jsx(an,{isOpen:n,onClose:l,title:" (Customer Info)",children:s.jsxs("div",{className:"space-y-6 pb-safe-area",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(te,{prefix:s.jsx(my,{className:"w-4 h-4 text-muted-foreground"}),label:" /  (Name)",placeholder:"...",value:i.name,onChange:f=>d("name",f.target.value),autoFocus:!0}),s.jsx(te,{prefix:s.jsx(hy,{className:"w-4 h-4 text-muted-foreground"}),label:" (Phone)",placeholder:"08X-XXX-XXXX",value:i.phone,onChange:f=>d("phone",f.target.value),inputMode:"tel"}),s.jsx(te,{prefix:s.jsx(xs,{className:"w-4 h-4 text-muted-foreground"}),label:" (Tax ID)",placeholder:"...",value:i.taxId||"",onChange:f=>d("taxId",f.target.value)}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("label",{className:"text-base font-medium text-foreground ml-1 flex items-center gap-2",children:[s.jsx(py,{className:"w-4 h-4"}),"  (Billing Address)"]}),s.jsx("textarea",{className:"w-full p-3 rounded-xl border border-input bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-ring min-h-[80px] resize-none text-[16px] placeholder:text-muted-foreground",placeholder:", , /...",value:i.address,onChange:f=>d("address",f.target.value)})]})]}),s.jsx("hr",{className:"border-border"}),s.jsxs("div",{className:"space-y-4 bg-muted/30 p-4 rounded-2xl border border-border",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"font-semibold text-foreground flex items-center gap-2",children:[s.jsx(mv,{className:"w-4 h-4"}),"  (Site Location)"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-xs text-muted-foreground cursor-pointer",htmlFor:"show-site",children:""}),s.jsx(En,{id:"show-site",checked:i.showInstallationAddress!==!1,onCheckedChange:f=>d("showInstallationAddress",f)})]})]}),s.jsxs("div",{className:"flex items-center justify-between py-1",children:[s.jsx("span",{className:"text-base text-foreground/80",children:""}),s.jsx(En,{checked:i.useSameAddress!==!1,onCheckedChange:f=>d("useSameAddress",f)})]}),i.useSameAddress===!1&&s.jsx("div",{className:"animate-fade-in",children:s.jsx("textarea",{className:"w-full p-3 rounded-xl border border-input bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-ring min-h-[80px] resize-none text-[16px] placeholder:text-muted-foreground",placeholder:"...",value:i.installationAddress||"",onChange:f=>d("installationAddress",f.target.value)})}),i.useSameAddress!==!1&&s.jsx("div",{className:"p-3 border border-dashed border-border rounded-xl text-center text-muted-foreground text-xs",children:""})]}),s.jsx("div",{className:"pt-2 flex justify-end",children:s.jsx(ce,{onClick:l,className:"w-full sm:w-auto bg-primary text-primary-foreground min-w-[120px]",children:""})})]})})};var Mx=My();const Qa=n=>n.toLocaleString("th-TH",{minimumFractionDigits:2,maximumFractionDigits:2}),xC=()=>{const n=new Date,l=n.getFullYear().toString().slice(-2),i=(n.getMonth()+1).toString().padStart(2,"0"),o=Math.floor(Math.random()*1e3).toString().padStart(4,"0");return`QT-${l}${i}-${o}`},bC=n=>{const l=[];return n.forEach(i=>{if(i.is_suspended)return;const o=Ct.calculatePrice(i),{id:d,...f}=i,m=JSON.stringify(f),h=l.find(g=>{const{id:v,...N}=g.item;return JSON.stringify(N)===m});h?(h.count+=1,h.totalPrice+=o):l.push({item:i,count:1,unitPrice:o,totalPrice:o})}),l},yC=J.forwardRef(({docType:n},l)=>{const{shopConfig:i,customer:o,rooms:d}=ae(T=>T),{grandTotal:f,discountAmount:m,vatAmount:h,finalTotal:g}=Md(),v=n==="delivery",N=!v,[b]=j.useState(xC),y={quotation:" (QUOTATION)",delivery:" /  (DELIVERY NOTE)",receipt:" (RECEIPT)"},_=`
      @page { size: A4; margin: 10mm 15mm; }
      @media print {
        body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
        html, body { height: auto !important; overflow: visible !important; }
        #root { display: block !important; }
        thead { display: table-header-group; }
        tfoot { display: table-footer-group; }
        tr { break-inside: avoid; page-break-inside: avoid; }
        .room-header { break-after: avoid; page-break-after: avoid; }
        .no-print { display: none !important; }
      }
    `,w=o.showInstallationAddress!==!1,E=o.useSameAddress!==!1,z=E?"()":o.installationAddress||"-";return s.jsxs("div",{ref:l,className:"bg-white text-slate-900 font-sans leading-normal text-[12px]",children:[s.jsx("style",{children:_}),s.jsxs("div",{className:"w-[210mm] min-h-[297mm] px-[10mm] py-[10mm] mx-auto flex flex-col bg-white",children:[s.jsxs("header",{className:"flex justify-between items-start border-b-2 border-slate-800 pb-4 mb-4",children:[s.jsxs("div",{className:"flex gap-4 items-start",children:[i.logoUrl?s.jsx("img",{src:i.logoUrl,alt:"Logo",className:"w-[80px] h-[80px] object-contain border border-slate-100 rounded"}):s.jsx("div",{className:"w-[80px] h-[80px] bg-slate-100 flex items-center justify-center text-slate-300 font-bold rounded",children:"LOGO"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-slate-900",children:i.name||""}),s.jsx("div",{className:"text-slate-600 whitespace-pre-line mt-1 leading-tight",children:i.address}),s.jsxs("div",{className:"text-slate-600 mt-2",children:[s.jsx("span",{className:"font-bold",children:":"})," ",i.phone,i.taxId&&s.jsxs("span",{className:"ml-3",children:[s.jsx("span",{className:"font-bold",children:":"})," ",i.taxId]})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:F("inline-block px-4 py-1.5 text-sm font-bold rounded border mb-3",v?"bg-slate-100 border-slate-300":"bg-slate-900 text-white border-slate-900"),children:y[n]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-end items-center gap-2",children:[s.jsx("span",{className:"font-bold text-slate-500",children:":"}),s.jsx("span",{className:"font-mono font-bold text-base",children:b})]}),s.jsxs("div",{className:"flex justify-end items-center gap-2",children:[s.jsx("span",{className:"font-bold text-slate-500",children:":"}),s.jsx("div",{className:"w-[100px] border-b border-slate-400 h-5"})]})]})]})]}),s.jsxs("section",{className:"mb-5 border border-slate-300 rounded-xl flex overflow-hidden bg-white",children:[s.jsxs("div",{className:F("p-4",w?"flex-[1.2]":"flex-1"),children:[s.jsx("div",{className:"flex items-center gap-2 mb-3",children:s.jsx("h3",{className:"font-bold text-slate-900 text-xs uppercase tracking-wider bg-slate-100 px-2 py-0.5 rounded",children:" (Customer)"})}),s.jsxs("div",{className:"space-y-1.5 text-sm",children:[s.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2",children:[s.jsx("span",{className:"text-slate-500 font-medium",children:":"}),s.jsx("span",{className:"font-bold text-slate-900 text-[13px]",children:o.name||"-"})]}),s.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2",children:[s.jsx("span",{className:"text-slate-500 font-medium",children:":"}),s.jsx("span",{className:"text-slate-800 leading-snug",children:o.address||"-"})]}),s.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-2",children:[s.jsx("span",{className:"text-slate-500 font-medium",children:":"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("span",{className:"font-mono text-slate-800",children:o.phone||"-"}),o.taxId&&s.jsxs("span",{className:"text-slate-600",children:[s.jsx("span",{className:"font-medium text-slate-500 mr-1",children:"Tax ID:"}),o.taxId]})]})]})]})]}),w&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-px bg-slate-200 my-3"}),s.jsxs("div",{className:"flex-1 p-4 bg-slate-50/30",children:[s.jsx("div",{className:"flex items-center gap-2 mb-3",children:s.jsx("h3",{className:"font-bold text-slate-900 text-xs uppercase tracking-wider bg-slate-100 px-2 py-0.5 rounded",children:" (Site Location)"})}),s.jsx("div",{className:F("text-sm leading-relaxed",E?"text-slate-400 italic":"text-slate-700"),children:z})]})]})]}),s.jsx("div",{className:"flex-1",children:s.jsxs("table",{className:"w-full border border-slate-300 border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-slate-100 text-slate-900 text-xs border-b border-slate-300",children:[s.jsx("th",{className:"py-2 w-[45px] text-center font-bold border-r border-slate-300",children:""}),s.jsx("th",{className:"py-2 px-2 text-left font-bold border-r border-slate-300",children:" (Description)"}),s.jsx("th",{className:"py-2 px-2 w-[60px] text-center font-bold border-r border-slate-300",children:""}),N?s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"py-2 px-2 w-[110px] text-right font-bold border-r border-slate-300",children:"/"}),s.jsx("th",{className:"py-2 pr-2 w-[120px] text-right font-bold",children:""})]}):s.jsx("th",{className:"py-2 px-2 w-[150px] text-center font-bold",children:""})]})}),d.map((T,R)=>{if(T.items.length===0)return null;const B=bC(T.items);return s.jsxs("tbody",{className:"border-b border-slate-300 last:border-0",children:[s.jsxs("tr",{className:"bg-slate-50/80 room-header border-b border-slate-300",children:[s.jsx("td",{className:"py-1.5 px-1 text-center font-bold text-slate-600 border-r border-slate-300 bg-slate-100",children:R+1}),s.jsxs("td",{colSpan:N?4:3,className:"py-1.5 px-2 font-bold text-slate-900",children:[" ",T.name]})]}),B.map((D,S)=>{const{item:Y,count:q,unitPrice:K,totalPrice:X}=D,de=_a[Y.type];let ye=de?de.name:"",_e="",ne="";if(Od(Y)){ye="";const qe=[];Y.style&&qe.push(Y.style),Y.code&&qe.push(`: ${Y.code}`),Y.rail_color&&qe.push(`: ${Y.rail_color}`),_e=qe.length>0?qe.join(", "):"-",ne=`${Cn(Y.width_m)}  ${Cn(Y.height_m)} .`}else gv(Y)?(ye="",_e=Y.wallpaper_code?`Code: ${Y.wallpaper_code}`:"",ne="-"):vv(Y)?(ye="/",_e=Y.description||"",ne="-"):Rd(Y)&&(_e=Y.code?`: ${Y.code}`:"",ne=`${Cn(Y.width_m)}  ${Cn(Y.height_m)} .`);return s.jsxs("tr",{className:"border-b border-slate-200 text-xs even:bg-slate-50 hover:bg-slate-100/50",children:[s.jsxs("td",{className:"py-2.5 px-1 text-center text-slate-500 align-top border-r border-slate-300",children:[R+1,".",S+1]}),s.jsxs("td",{className:"py-2.5 px-2 align-top border-r border-slate-300",children:[s.jsx("div",{className:"font-bold text-slate-800 text-[13px]",children:ye}),s.jsx("div",{className:"text-slate-600",children:_e}),ne!=="-"&&s.jsx("div",{className:"text-slate-500 font-mono mt-0.5 text-[11px]",children:ne}),Y.notes&&s.jsxs("div",{className:"text-[10px] text-red-500 mt-0.5",children:["* ",Y.notes]})]}),s.jsx("td",{className:"py-2.5 px-2 text-center align-top font-mono text-slate-900 border-r border-slate-300 font-bold text-[13px]",children:q}),N?s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"py-2.5 px-2 text-right align-top font-mono text-slate-700 border-r border-slate-300 text-[13px]",children:Qa(K)}),s.jsx("td",{className:"py-2.5 pr-2 text-right align-top font-mono font-bold text-slate-900 text-[13px]",children:Qa(X)})]}):s.jsx("td",{className:"py-2.5 px-2 text-center align-top text-slate-400",children:"-"})]},S)})]},T.id)})]})}),s.jsxs("div",{className:"mt-6 break-inside-avoid page-break-inside-avoid",children:[s.jsxs("div",{className:"flex items-start border-t-2 border-slate-800 pt-4 gap-6",children:[s.jsxs("div",{className:"flex-1",children:[N&&s.jsxs("div",{className:"bg-slate-100 p-2 rounded mb-3 text-center border border-slate-200",children:[s.jsx("span",{className:"text-[10px] text-slate-500 block uppercase tracking-wider mb-1",children:""}),s.jsx("span",{className:"font-bold text-slate-800 text-sm",children:nN(g)})]}),s.jsxs("div",{className:"text-[10px] text-slate-600 space-y-1",children:[s.jsx("div",{className:"font-bold text-slate-800 text-xs",children:" / :"}),s.jsxs("ul",{className:"list-disc list-inside pl-1",children:[i.pdf?.priceValidity&&s.jsxs("li",{children:[" ",i.pdf.priceValidity]}),i.pdf?.paymentTerms&&s.jsx("li",{children:i.pdf.paymentTerms}),i.pdf?.notes?.map((T,R)=>T.trim()&&s.jsx("li",{children:T},R))]}),i.bankAccount?.isEnabled!==!1&&i.bankAccount?.accountNumber&&s.jsxs("div",{className:"mt-2 p-2 border border-slate-300 rounded bg-white inline-block min-w-[250px]",children:[s.jsx("div",{className:"font-bold text-slate-900 mb-1 border-b border-slate-200 pb-1",children:""}),s.jsxs("div",{className:"grid grid-cols-[60px_1fr] gap-1",children:[s.jsx("span",{className:"text-slate-500",children:":"}),s.jsx("span",{children:i.bankAccount.bankName}),s.jsx("span",{className:"text-slate-500",children:":"}),s.jsx("span",{children:i.bankAccount.accountName}),s.jsx("span",{className:"text-slate-500",children:":"}),s.jsx("span",{className:"font-mono font-bold text-slate-900 text-[13px]",children:i.bankAccount.accountNumber}),i.bankAccount.branch&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-slate-500",children:":"}),s.jsx("span",{children:i.bankAccount.branch})]})]})]})]})]}),N&&s.jsxs("div",{className:"w-[260px] text-sm",children:[s.jsxs("div",{className:"space-y-1 border-b border-slate-300 pb-2 mb-2",children:[s.jsxs("div",{className:"flex justify-between text-slate-600",children:[s.jsx("span",{children:""}),s.jsx("span",{className:"font-mono font-medium text-[13px]",children:Qa(f)})]}),m>0&&s.jsxs("div",{className:"flex justify-between text-green-700",children:[s.jsx("span",{children:""}),s.jsxs("span",{className:"font-mono font-medium text-[13px]",children:["-",Qa(m)]})]}),i.baseVatRate>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between text-slate-600 text-xs",children:[s.jsx("span",{children:""}),s.jsx("span",{className:"font-mono",children:Qa(f-m)})]}),s.jsxs("div",{className:"flex justify-between text-slate-600",children:[s.jsxs("span",{children:["VAT ",i.baseVatRate,"%"]}),s.jsx("span",{className:"font-mono",children:Qa(h)})]})]})]}),s.jsxs("div",{className:"flex justify-between items-center bg-slate-900 text-white p-3 rounded shadow-sm",children:[s.jsx("span",{className:"font-bold",children:""}),s.jsx("span",{className:"font-bold text-xl font-mono",children:Qa(g)})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-8 mt-10",children:[s.jsxs("div",{className:"border border-slate-300 rounded-xl p-4 flex flex-col items-center justify-between min-h-[180px]",children:[s.jsx("div",{className:"text-xs font-bold text-slate-900 uppercase tracking-wide",children:" / "}),s.jsxs("div",{className:"w-full flex flex-col items-center mt-auto",children:[s.jsx("div",{className:"border-b border-slate-900 w-[160px] h-8 mb-6"}),s.jsxs("div",{className:"flex gap-1 text-slate-500 text-[11px]",children:["(",s.jsx("div",{className:"w-[140px] text-center relative top-[2px]",children:".................................................."}),")"]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-[11px] text-slate-500 mt-4",children:[s.jsx("span",{children:":"}),s.jsx("div",{className:"w-8 border-b border-slate-400 h-4"}),s.jsx("span",{children:"/"}),s.jsx("div",{className:"w-8 border-b border-slate-400 h-4"}),s.jsx("span",{children:"/"}),s.jsx("div",{className:"w-10 border-b border-slate-400 h-4"})]})]}),s.jsxs("div",{className:"border border-slate-300 rounded-xl p-4 flex flex-col items-center justify-between min-h-[180px]",children:[s.jsx("div",{className:"text-xs font-bold text-slate-900 uppercase tracking-wide",children:" / "}),s.jsxs("div",{className:"w-full flex flex-col items-center mt-auto",children:[s.jsx("div",{className:"border-b border-slate-900 w-[160px] h-8 mb-6"}),s.jsxs("div",{className:"flex gap-1 text-slate-500 text-[11px]",children:["(",s.jsx("div",{className:"w-[140px] text-center relative top-[2px]",children:".................................................."}),")"]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-[11px] text-slate-500 mt-4",children:[s.jsx("span",{children:":"}),s.jsx("div",{className:"w-8 border-b border-slate-400 h-4"}),s.jsx("span",{children:"/"}),s.jsx("div",{className:"w-8 border-b border-slate-400 h-4"}),s.jsx("span",{children:"/"}),s.jsx("div",{className:"w-10 border-b border-slate-400 h-4"})]})]})]})]})]})]})}),NC=({isOpen:n,onClose:l})=>{const i=j.useRef(null),[o,d]=j.useState("quotation"),[f,m]=j.useState(!1),h=Mx.useReactToPrint({contentRef:i,documentTitle:`Marnthara_${o}_${new Date().toISOString().split("T")[0]}`,onBeforeGetContent:()=>new Promise(v=>{m(!0),setTimeout(v,300)}),onAfterPrint:()=>{m(!1)}}),g=[{id:"quotation",label:"1. ",icon:xs},{id:"delivery",label:"2. ",icon:mv},{id:"receipt",label:"3. ",icon:gy}];return s.jsx(Sa,{show:n,as:J.Fragment,children:s.jsxs(fo,{onClose:l,className:"relative z-50",children:[s.jsx(wa,{as:J.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm"})}),s.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 sm:p-6",children:s.jsx(wa,{as:J.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95 translate-y-4",enterTo:"opacity-100 scale-100 translate-y-0",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100 translate-y-0",leaveTo:"opacity-0 scale-95 translate-y-4",children:s.jsxs(mo,{className:"w-full max-w-6xl h-[90vh] bg-slate-100 rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"bg-white border-b border-slate-200 p-4 flex flex-col sm:flex-row items-center justify-between gap-4 shrink-0 z-10",children:[s.jsx("div",{className:"flex p-1 bg-slate-100 rounded-xl w-full sm:w-auto overflow-x-auto",children:g.map(v=>{const N=v.icon,b=o===v.id;return s.jsxs("button",{onClick:()=>d(v.id),className:F("flex-1 sm:flex-none flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-all whitespace-nowrap",b?"bg-white text-slate-900 shadow-sm font-semibold":"text-slate-500 hover:text-slate-700"),children:[s.jsx(N,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:v.label})]},v.id)})}),s.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[s.jsx(ce,{variant:"ghost",onClick:l,className:"flex-1 sm:flex-none",children:""}),s.jsxs(ce,{onClick:()=>h(),className:"flex-1 sm:flex-none bg-slate-900 text-white hover:bg-slate-800 shadow-lg",children:[s.jsx(vy,{className:"w-4 h-4 mr-2"})," "]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-500/10 p-4 sm:p-8 flex justify-center items-start",children:s.jsx("div",{className:F("shadow-2xl origin-top transition-all duration-300 bg-white",f?"scale-100":"scale-[0.6] sm:scale-[0.75] lg:scale-[0.85]"),children:s.jsx(yC,{ref:i,docType:o})})})]})})})]})})},_C=(n,l=500)=>new Promise((i,o)=>{const d=new FileReader;d.readAsDataURL(n),d.onload=f=>{const m=new Image;m.src=f.target?.result,m.onload=()=>{const h=l/m.width,g=l,v=m.height*h,N=document.createElement("canvas");N.width=g,N.height=v;const b=N.getContext("2d");if(!b){o(new Error("Canvas context not available"));return}b.drawImage(m,0,0,g,v);const y=N.toDataURL("image/jpeg",.7);i(y)},m.onerror=h=>o(h)},d.onerror=f=>o(f)}),jC=({isOpen:n,onClose:l})=>{const i=ae(D=>D.shopConfig),o=ae(D=>D.updateShopConfig),d=ae(D=>D.factoryReset),{confirm:f}=nl(),m=Nt(D=>D.addToast),[h,g]=j.useState(i),[v,N]=j.useState("general"),b=j.useRef(null),y=()=>{o(h),m("success",""),l()},_=async()=>{await f({title:"?",description:"   ",confirmLabel:"",variant:"destructive"})&&(d(),m("success",""),l())},w=(D,S)=>{g(Y=>({...Y,[D]:S}))},E=(D,S)=>{g(Y=>({...Y,pdf:{...Y.pdf,[D]:S}}))},z=D=>{const S=D.split(`
`);g(Y=>({...Y,pdf:{...Y.pdf,notes:S}}))},T=(D,S)=>{g(Y=>({...Y,bankAccount:{...Y.bankAccount,[D]:S}}))},R=async D=>{const S=D.target.files?.[0];if(S)try{const Y=await _C(S);g(q=>({...q,logoUrl:Y})),m("success","")}catch{m("error","")}},B=()=>{g(D=>({...D,logoUrl:""})),b.current&&(b.current.value="")};return s.jsxs(an,{isOpen:n,onClose:l,title:" (Shop Settings)",variant:"drawer",children:[s.jsxs("div",{className:"flex p-1 bg-muted rounded-xl mb-6",children:[s.jsxs("button",{onClick:()=>N("general"),className:F("flex-1 py-2 text-sm font-medium rounded-lg transition-all flex items-center justify-center gap-2",v==="general"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"),children:[s.jsx(xy,{className:"w-4 h-4"})," "]}),s.jsxs("button",{onClick:()=>N("payment"),className:F("flex-1 py-2 text-sm font-medium rounded-lg transition-all flex items-center justify-center gap-2",v==="payment"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"),children:[s.jsx(by,{className:"w-4 h-4"})," "]})]}),s.jsx("div",{className:"space-y-4 pb-safe-area",children:v==="general"?s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex flex-col items-center gap-4 py-4",children:[s.jsxs("div",{className:"relative w-24 h-24 rounded-2xl border-2 border-dashed border-border flex items-center justify-center overflow-hidden bg-muted/20 cursor-pointer hover:bg-muted/40 transition-colors group",onClick:()=>b.current?.click(),children:[h.logoUrl?s.jsx("img",{src:h.logoUrl,alt:"Shop Logo",className:"w-full h-full object-contain p-2"}):s.jsxs("div",{className:"flex flex-col items-center gap-1 text-muted-foreground",children:[s.jsx(yy,{className:"w-6 h-6"}),s.jsx("span",{className:"text-[10px]",children:""})]}),s.jsx("input",{ref:b,type:"file",accept:"image/*",className:"hidden",onChange:R})]}),h.logoUrl&&s.jsxs("button",{onClick:D=>{D.stopPropagation(),B()},className:"text-xs text-destructive flex items-center gap-1 hover:underline",children:[s.jsx(sr,{className:"w-3 h-3"})," "]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(te,{label:"",value:h.name,onChange:D=>w("name",D.target.value)}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(te,{label:"",value:h.phone,onChange:D=>w("phone",D.target.value)}),s.jsx(te,{label:"",value:h.taxId,onChange:D=>w("taxId",D.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-slate-700 mb-1 block",children:""}),s.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl text-[16px] focus:outline-none focus:ring-2 focus:ring-slate-900 resize-none h-20",value:h.address,onChange:D=>w("address",D.target.value)})]}),s.jsx(te,{label:"Logo URL",placeholder:"https://...",value:h.logoUrl,onChange:D=>w("logoUrl",D.target.value)})]}),s.jsxs("div",{className:"pt-4 border-t border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(xs,{className:"w-5 h-5 text-info"}),s.jsx("h3",{className:"font-bold text-foreground",children:" (Document Footer)"})]}),s.jsxs("div",{className:"space-y-4 bg-muted/30 p-4 rounded-2xl border border-border",children:[s.jsx(te,{label:"1. ",placeholder:" 30 ",value:h.pdf?.priceValidity||"",onChange:D=>E("priceValidity",D.target.value)}),s.jsx(te,{label:"2. ",placeholder:"  50%...",value:h.pdf?.paymentTerms||"",onChange:D=>E("paymentTerms",D.target.value)}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-slate-700 mb-1 block",children:"3.  ()"}),s.jsx("textarea",{className:"w-full p-3 border border-slate-200 rounded-xl text-[16px] focus:outline-none focus:ring-2 focus:ring-slate-900 resize-none h-24",placeholder:" ...",value:h.pdf?.notes?.join(`
`)||"",onChange:D=>z(D.target.value)})]})]})]})]}):s.jsxs("div",{className:"space-y-5 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between bg-muted/30 p-4 rounded-xl border border-border",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-bold text-foreground",children:""}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""})]}),s.jsx(En,{checked:h.bankAccount?.isEnabled!==!1,onCheckedChange:D=>T("isEnabled",D)})]}),s.jsxs("div",{className:F("space-y-4 transition-opacity",h.bankAccount?.isEnabled===!1&&"opacity-50 pointer-events-none"),children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(te,{label:"",placeholder:" , SCB",value:h.bankAccount?.bankName||"",onChange:D=>T("bankName",D.target.value)}),s.jsx(te,{label:" ()",value:h.bankAccount?.branch||"",onChange:D=>T("branch",D.target.value)})]}),s.jsx(te,{label:"",placeholder:"...",value:h.bankAccount?.accountName||"",onChange:D=>T("accountName",D.target.value)}),s.jsx(te,{label:"",placeholder:"XXX-X-XXXXX-X",className:"font-mono",value:h.bankAccount?.accountNumber||"",onChange:D=>T("accountNumber",D.target.value)})]})]})}),s.jsxs("div",{className:"flex justify-between mt-4 pt-4 border-t border-border",children:[s.jsxs(ce,{variant:"ghost",onClick:_,className:"text-destructive hover:bg-destructive/10 hover:text-destructive",children:[s.jsx(tl,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ce,{variant:"ghost",onClick:l,children:""}),s.jsxs(ce,{onClick:y,className:"bg-primary text-primary-foreground w-32",children:[s.jsx(wd,{className:"w-4 h-4 mr-2"})," "]})]})]})]})},Wg=({data:n,setData:l,onSave:i,onCancel:o,onDelete:d,isEdit:f,hasCost:m})=>s.jsxs("div",{className:"bg-card rounded-xl p-4 shadow-lg border border-border space-y-4 animate-in zoom-in-95 duration-200",children:[s.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[f?s.jsx(Ny,{className:"w-4 h-4 text-primary"}):s.jsx(Ka,{className:"w-4 h-4 text-primary"}),f?"":""]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground ml-1",children:""}),s.jsx(te,{autoFocus:!0,value:n.code,onChange:h=>l({...n,code:h.target.value}),placeholder:" DIM-01",className:"font-mono"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground ml-1",children:" ()"}),s.jsx(te,{inputMode:"decimal",value:n.price,onChange:h=>l({...n,price:h.target.value}),placeholder:"0.00",className:"text-right font-mono"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-xs font-medium text-muted-foreground ml-1 flex items-center gap-1",children:[" ()",m&&s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"})]}),s.jsx(te,{inputMode:"decimal",value:n.cost,onChange:h=>l({...n,cost:h.target.value}),placeholder:"0.00",className:"text-right font-mono bg-slate-50 dark:bg-slate-900/50"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground ml-1",children:""}),s.jsx(te,{value:n.note,onChange:h=>l({...n,note:h.target.value}),placeholder:"..."})]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[f&&d&&s.jsx(ce,{variant:"destructive",onClick:d,className:"px-3",title:"",children:s.jsx(sr,{className:"w-4 h-4"})}),s.jsx(ce,{variant:"ghost",onClick:o,className:"flex-1",children:""}),s.jsx(ce,{onClick:i,className:"flex-1 bg-primary text-primary-foreground",children:""})]})]}),wC=({item:n,onClick:l})=>s.jsxs("div",{onClick:l,className:"bg-card rounded-xl p-4 border border-border active:scale-[0.98] transition-transform flex items-center justify-between shadow-sm",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-bold text-base truncate font-mono",children:n.code}),W(n.cost_per_yard)>0&&s.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]"})]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"font-medium text-foreground",children:Qe(n.default_price_per_m)}),s.jsx("span",{className:"opacity-70",children:"/ ."})]}),n.note&&s.jsx("div",{className:"truncate max-w-[120px] opacity-70 border-l border-border pl-3",children:n.note})]})]}),s.jsx(rr,{className:"w-5 h-5 text-muted-foreground/30"})]}),SC=({isOpen:n,onClose:l})=>{const{modalProps:i}=ae(),[o,d]=j.useState(i?.initialSearch||""),[f,m]=j.useState(ze.CURTAIN_MAIN),[h,g]=j.useState(null),[v,N]=j.useState(!1),[b,y]=j.useState({code:"",price:"",cost:"",note:""}),{items:_,addItem:w,updateItem:E,removeItem:z}=_o(f),T=Nt(X=>X.addToast),R=ix(),B=j.useMemo(()=>_.filter(X=>X.code.toLowerCase().includes(o.toLowerCase())||X.note?.toLowerCase().includes(o.toLowerCase())),[_,o]),D=()=>{y({code:o||"",price:"",cost:"",note:""}),N(!0),g(null)},S=X=>{y({id:X.id,code:X.code,price:X.default_price_per_m.toString(),cost:X.cost_per_yard>0?X.cost_per_yard.toString():"",note:X.note||""}),g(X.id),N(!1)},Y=()=>{if(!b.code)return;const X={code:b.code,default_price_per_m:W(b.price),cost_per_yard:W(b.cost),note:b.note};v?(w(X),T("success","",` ${X.code} `),N(!1)):h&&(E(h,X),T("success","",` ${X.code} `),g(null))},q=()=>{h&&confirm("?")&&(z(h),T("info",""),g(null))},K=[{id:ze.CURTAIN_MAIN,label:""},{id:ze.CURTAIN_SHEER,label:""},{id:ze.WALLPAPER,label:""},{id:ze.VERTICAL_BLIND,label:""},{id:ze.ROLLER_BLIND,label:""}];return s.jsx(an,{isOpen:n,onClose:l,title:" (Inventory)",variant:"fullscreen",children:s.jsxs("div",{className:"flex flex-col h-full bg-background sm:bg-muted/10 pb-safe-area",children:[s.jsxs("div",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur-md border-b border-border pb-2 px-4 pt-2 space-y-3",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ji,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(te,{placeholder:"...",value:o,onChange:X=>d(X.target.value),className:"pl-9 h-10 bg-muted/50 border-transparent focus:bg-background",onClear:()=>d("")})]}),s.jsx(ce,{onClick:D,className:"h-10 w-10 p-0 rounded-xl bg-primary shadow-lg shadow-primary/20 shrink-0",children:s.jsx(Ka,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 no-scrollbar -mx-4 px-4",children:K.map(X=>s.jsx("button",{onClick:()=>{m(X.id),g(null),N(!1)},className:F("px-4 py-1.5 rounded-full text-sm font-medium whitespace-nowrap transition-all",f===X.id?"bg-primary text-primary-foreground shadow-sm":"bg-muted text-muted-foreground hover:bg-muted/80"),children:X.label},X.id))})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 space-y-3",children:[v&&s.jsx(Wg,{data:b,setData:y,onSave:Y,onCancel:()=>N(!1),isEdit:!1,hasCost:W(b.cost)>0}),!v&&B.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 min-h-[300px] text-muted-foreground",children:[s.jsx(Ji,{className:"w-12 h-12 mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:""}),s.jsx("p",{className:"text-sm text-center mt-1",children:o?"":" +"}),!o&&s.jsxs(ce,{variant:"outline",className:"mt-4",onClick:D,children:[s.jsx(Ka,{className:"w-4 h-4 mr-2"})," "]})]}):B.map(X=>s.jsx(J.Fragment,{children:h===X.id?s.jsx(Wg,{data:b,setData:y,onSave:Y,onCancel:()=>g(null),onDelete:q,isEdit:!0,hasCost:W(X.cost_per_yard)>0}):s.jsx(wC,{item:X,onClick:()=>S(X)})},X.id)),s.jsx("div",{className:R?"h-20":"h-10"})]})]})})},CC=({isOpen:n,onClose:l})=>{const i=ae(T=>T.discount),o=ae(T=>T.setDiscount),d=ae(T=>T.shopConfig),f=ae(T=>T.updateShopConfig),{grandTotal:m}=Md(),{trigger:h}=Tn(),[g,v]=j.useState(i.is_enabled??i.value>0),[N,b]=j.useState(i.type),[y,_]=j.useState(i.value===0?"":i.value.toString()),w=()=>{h("selection");const T=W(y);if(T>0&&m>0)if(N==="amount"){const R=T/m*100;_(R.toFixed(2))}else{const R=T*m/100;_(R.toFixed(0))}b(R=>R==="amount"?"percent":"amount")},E=()=>{h("success"),o({type:N,value:W(y),is_enabled:g}),l()},z=(()=>{const T=W(y);let R=0;g&&T>0&&(R=N==="percent"?m*T/100:T);const B=Math.max(0,m-R),D=d.baseVatRate>0?B*d.baseVatRate/100:0;return{discountAmt:R,afterDiscount:B,vatAmt:D,netTotal:B+D}})();return s.jsx(an,{isOpen:n,onClose:l,title:" &  (Discount & Tax)",variant:"drawer",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:F("relative overflow-hidden rounded-2xl border transition-all duration-300",g?"bg-success/10 border-success/30":"bg-muted/40 border-border"),children:s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:F("p-2 rounded-lg",g?"bg-success/20 text-success":"bg-muted text-muted-foreground"),children:s.jsx(Td,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:F("font-semibold text-sm",g?"text-success-foreground":"text-foreground"),children:""}),s.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Apply Discount"})]})]}),s.jsx(En,{checked:g,onCheckedChange:T=>{h("light"),v(T)}})]}),s.jsxs("div",{className:F("transition-all duration-300 grid grid-cols-[1fr_auto] gap-2",g?"opacity-100 translate-y-0":"opacity-30 pointer-events-none translate-y-2"),children:[s.jsxs("div",{className:"relative",children:[s.jsx(te,{type:"number",inputMode:"decimal",placeholder:"0.00",value:y,onChange:T=>_(T.target.value),className:"pr-12 text-lg font-mono font-bold text-success border-success/30 focus:border-success"}),s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs font-bold text-success/70 pointer-events-none",children:N==="percent"?"%":"THB"})]}),s.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 rounded-xl bg-card border border-success/30 shadow-sm text-success hover:bg-success/10 active:scale-95 transition-all",children:[N==="percent"?s.jsx(rd,{className:"w-4 h-4"}):s.jsx(_y,{className:"w-4 h-4"}),s.jsx(jy,{className:"w-3 h-3 opacity-50"})]})]})]})}),s.jsx("div",{className:"rounded-2xl border border-border bg-card p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-info/10 text-info",children:s.jsx(rd,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-sm text-foreground",children:" (VAT 7%)"}),s.jsx("div",{className:"text-[10px] text-muted-foreground",children:""})]})]}),s.jsx(En,{checked:d.baseVatRate>0,onCheckedChange:T=>{h("light"),f({baseVatRate:T?7:0})}})]})}),s.jsxs("div",{className:"bg-primary text-primary-foreground/80 rounded-2xl p-5 space-y-3 shadow-xl shadow-primary/10",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:""}),s.jsx("span",{className:"font-mono text-primary-foreground",children:Qe(m)})]}),g&&z.discountAmt>0&&s.jsxs("div",{className:"flex justify-between text-sm text-success animate-fade-in font-medium",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(oo,{className:"w-3 h-3"}),"  (",N==="percent"?`${y}%`:"",")"]}),s.jsxs("span",{className:"font-mono font-bold",children:["-",Qe(z.discountAmt)]})]}),z.vatAmt>0&&s.jsxs("div",{className:"flex justify-between text-sm text-info animate-fade-in font-medium",children:[s.jsx("span",{children:"VAT 7%"}),s.jsxs("span",{className:"font-mono font-bold",children:["+",Qe(z.vatAmt)]})]}),s.jsx("div",{className:"h-px bg-primary-foreground/10 my-2"}),s.jsxs("div",{className:"flex justify-between items-end",children:[s.jsx("span",{className:"text-primary-foreground font-medium",children:" (Net Total)"}),s.jsx("span",{className:"text-2xl font-bold text-primary-foreground tracking-tight font-mono",children:Qe(z.netTotal)})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(ce,{variant:"ghost",onClick:l,className:"h-12",children:""}),s.jsx(ce,{onClick:E,className:"h-12 bg-primary text-primary-foreground shadow-xl shadow-primary/20 hover:bg-primary/90",children:""})]})]})})},EC=({isOpen:n,onClose:l})=>{const{resetProject:i,factoryReset:o,importInventory:d,importSecrets:f}=ae(),m=Nt(S=>S.addToast),{confirm:h}=nl(),[g,v]=j.useState(""),[N,b]=j.useState(!1),[y,_]=j.useState(""),[w,E]=j.useState("inventory"),z=()=>{try{const S=ae.getState(),Y={customer:S.customer,rooms:S.rooms,shopConfig:S.shopConfig,discount:S.discount,inventory:S.inventory,production:{laborCosts:S.laborCosts,accessoryCosts:S.accessoryCosts,fabricCosts:S.fabricCosts},version:"1.0.0",exportDate:new Date().toISOString()},q=new Blob([JSON.stringify(Y,null,2)],{type:"application/json"}),K=URL.createObjectURL(q),X=document.createElement("a");X.href=K;const de=new Date,ye=de.toISOString().slice(0,10)+"-"+de.getHours().toString().padStart(2,"0")+de.getMinutes().toString().padStart(2,"0");X.download=`mtr-backup-${ye}.json`,document.body.appendChild(X),X.click(),document.body.removeChild(X),m("success","Backup ")}catch(S){console.error(S),m("error"," Backup")}},T=S=>{const Y=S.target.files?.[0];if(!Y)return;const q=new FileReader;q.onload=K=>{try{const X=JSON.parse(K.target?.result);ae.setState(X),X.production&&ae.setState(de=>({...de,laborCosts:X.production.laborCosts||de.laborCosts,accessoryCosts:X.production.accessoryCosts||de.accessoryCosts,fabricCosts:X.production.fabricCosts||de.fabricCosts})),m("success",""),l()}catch{m("error"," ")}},q.readAsText(Y)},R=()=>{if(!y.trim()){m("warning"," JSON");return}try{let S=!1;w==="inventory"?(S=d(y),S&&(m("success",""),_(""))):(S=f(y),S&&(m("success",""),_(""))),S?l():m("error"," JSON ")}catch(S){console.error("Import error:",S),m("error","")}},B=async()=>{await h({title:"?",description:'  ""  "" ',confirmLabel:"",variant:"default"})&&(i(),m("success",""),l())},D=async()=>{if(g!=="RESET")return;await h({title:" (Factory Reset)?",description:" , ,  ! ?",confirmLabel:"",variant:"destructive"})&&(o(),m("success",""),l())};return s.jsx(an,{isOpen:n,onClose:l,title:" (Data Management)",maxWidth:"lg",children:s.jsxs("div",{className:"space-y-6 pb-safe-area",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"text-sm font-bold text-muted-foreground uppercase tracking-wider flex items-center gap-2",children:[s.jsx(wy,{className:"w-4 h-4"})," "]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs(ce,{variant:"outline",onClick:z,className:"h-auto py-4 flex flex-col gap-2 border-border hover:bg-primary/5 hover:border-primary/20 hover:text-primary",children:[s.jsx("div",{className:"p-2 bg-primary/10 text-primary rounded-full",children:s.jsx(hv,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-bold text-foreground",children:"Backup"}),s.jsx("div",{className:"text-xs text-muted-foreground font-normal",children:" .json"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsxs(ce,{variant:"outline",onClick:()=>document.getElementById("data-importer")?.click(),className:"w-full h-full py-4 flex flex-col gap-2 border-border hover:bg-success/5 hover:border-success/20 hover:text-success",children:[s.jsx("div",{className:"p-2 bg-success/10 text-success rounded-full",children:s.jsx(cs,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-bold text-foreground",children:"Restore"}),s.jsx("div",{className:"text-xs text-muted-foreground font-normal",children:" .json"})]})]}),s.jsx("input",{type:"file",id:"data-importer",className:"hidden",accept:".json,application/json",onChange:T})]})]})]}),s.jsx("div",{className:"h-px bg-border my-2"}),s.jsxs("div",{className:"bg-warning/5 border border-warning/20 rounded-2xl p-5 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cs,{className:"w-5 h-5 text-warning"}),s.jsx("h4",{className:"font-bold text-foreground",children:" (JSON)"})]}),s.jsxs("div",{className:"flex border-b border-warning/20",children:[s.jsx("button",{className:F("flex-1 py-2 text-sm font-medium border-b-2 transition-colors",w==="inventory"?"border-warning text-warning":"border-transparent text-muted-foreground hover:text-foreground"),onClick:()=>E("inventory"),children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Sd,{className:"w-4 h-4"})," (inventory)"]})}),s.jsx("button",{className:F("flex-1 py-2 text-sm font-medium border-b-2 transition-colors",w==="cost"?"border-warning text-warning":"border-transparent text-muted-foreground hover:text-foreground"),onClick:()=>E("cost"),children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Cd,{className:"w-4 h-4"})," (Cost)"]})})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:w==="inventory"?" JSON  (inventory) ":" JSON  (Labor, Accessory, Fabric)"}),s.jsx("textarea",{className:`w-full h-32 p-3 text-sm font-mono border border-warning/20 rounded-lg 
                       focus:outline-none focus:ring-2 focus:ring-warning focus:border-transparent
                       bg-background resize-none text-foreground`,placeholder:` JSON ${w==="inventory"?"":""} ...`,value:y,onChange:S=>_(S.target.value)}),s.jsxs(ce,{onClick:R,className:`w-full bg-warning hover:bg-warning/90 text-white 
                     shadow-lg shadow-warning/20`,disabled:!y.trim(),children:[s.jsx(cs,{className:"w-4 h-4 mr-2"})," ",w==="inventory"?"":""]})]}),s.jsx("div",{className:"h-px bg-border my-2"}),s.jsx("div",{className:"bg-info/10 border border-info/20 rounded-2xl p-5 space-y-3",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 bg-card rounded-xl shadow-sm border border-info/20",children:s.jsx(Sy,{className:"w-6 h-6 text-info"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-bold text-foreground",children:" (New Project)"}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1 leading-relaxed",children:[" ",s.jsx("br",{}),s.jsx("span",{className:"text-info font-medium text-xs bg-info/20 px-1.5 py-0.5 rounded",children:""})," ",""]}),s.jsx(ce,{onClick:B,className:"mt-4 bg-info hover:bg-info/90 text-white shadow-lg shadow-info/20 w-full sm:w-auto",children:""})]})]})}),s.jsx("div",{className:"pt-4",children:N?s.jsxs("div",{className:"border border-destructive/30 bg-destructive/5 rounded-2xl p-5 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 text-destructive font-bold",children:[s.jsx(sr,{className:"w-5 h-5"})," (Danger Zone)"]}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[" ",s.jsx("strong",{children:'"Factory Reset"'}),"   ()"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase",children:' "RESET" '}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:g,onChange:S=>v(S.target.value),placeholder:"RESET",className:"flex-1 px-4 py-2 border border-input bg-background text-foreground rounded-lg focus:outline-none focus:ring-2 focus:ring-destructive font-mono uppercase placeholder:text-muted-foreground"}),s.jsxs(ce,{disabled:g!=="RESET",variant:"destructive",onClick:D,className:"whitespace-nowrap",children:[s.jsx(Ad,{className:"w-4 h-4 mr-2"})," "]})]})]})]}):s.jsxs("button",{onClick:()=>b(!0),className:"w-full py-3 text-xs font-medium text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded-lg transition-all border border-dashed border-border hover:border-destructive/30 flex items-center justify-center gap-2",children:[s.jsx(tl,{className:"w-3 h-3"})," ()"]})})]})})},TC=n=>{const{width:l=0,height:i=0}=n,f=l>0&&i>0?Math.min(80/l,80/i):1,m=l*f||50,h=i*f||50,g=(100-m)/2,v=(90-h)/2;return{x:g,y:v,w:m,h}},AC=(n,l)=>{const i=n.style==="";let o="";if(i){const m=l.h/4;for(let h=0;h<4;h++)o+=`<rect x="${l.x}" y="${l.y+h*m}" width="${l.w}" height="${m-1}" fill="#e2e8f0" stroke="#94a3b8" stroke-width="0.5" />`}else{o=`<rect x="${l.x}" y="${l.y}" width="${l.w}" height="${l.h}" fill="#f1f5f9" stroke="#cbd5e1" rx="2" />`;for(let f=1;f<4;f++)o+=`<path d="M${l.x+l.w/4*f} ${l.y} L${l.x+l.w/4*f} ${l.y+l.h}" stroke="#e2e8f0" stroke-width="1" />`}return`<rect x="${l.x-2}" y="${l.y-2}" width="${l.w+4}" height="2" fill="#64748b" />`+o},zC=(n,l)=>{const i=`<pattern id="p-${n.wallpaper_code}" width="4" height="4" patternUnits="userSpaceOnUse">
      <path d="M0 4L4 0M-1 1L1 -1M3 5L5 3" stroke="#cbd5e1" stroke-width="0.5"/>
  </pattern>`,o=`<rect x="${l.x}" y="${l.y}" width="${l.w}" height="${l.h}" fill="url(#p-${n.wallpaper_code})" stroke="#94a3b8" />`;return`<defs>${i}</defs>${o}`},DC=(n,l)=>{const o=l.h/8;let d="";for(let m=0;m<8;m++)d+=`<line x1="${l.x}" y1="${l.y+m*o}" x2="${l.x+l.w}" y2="${l.y+m*o}" stroke="#cbd5e1" stroke-width="1" />`;return`<rect x="${l.x}" y="${l.y}" width="${l.w}" height="${l.h}" fill="none" stroke="#94a3b8" stroke-width="1" />`+d},OC=n=>{if(n.type===G.REMOVAL||n.is_suspended)return'<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="20" fill="#f1f5f9"/><path d="M40 60 L60 40 M40 40 L60 60" stroke="#cbd5e1" stroke-width="2"/></svg>';let l=0,i=0;"width_m"in n&&"height_m"in n?(l=W(n.width_m),i=W(n.height_m)):n.type===G.WALLPAPER&&(l=3,i=2.6);const o=TC({width:l,height:i});let d="";return n.type===G.CURTAIN?d=AC(n,o):n.type===G.WALLPAPER?d=zC(n,o):d=DC(n,o),`<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">${d}</svg>`},RC=J.forwardRef((n,l)=>{const{shopConfig:i,rooms:o}=ae(m=>m),d=new Date().toLocaleDateString("th-TH",{dateStyle:"long"}),f=m=>({__html:OC(m)});return s.jsxs("div",{ref:l,className:"w-[210mm] min-h-[297mm] bg-white p-[15mm] mx-auto text-slate-900 relative flex flex-col font-sans",children:[s.jsxs("div",{className:"flex justify-between items-center border-b-2 border-slate-800 pb-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[i.logoUrl&&s.jsx("img",{src:i.logoUrl,className:"h-12 w-auto object-contain",alt:"Logo"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:i.name}),s.jsx("p",{className:"text-xs text-slate-500",children:i.address}),s.jsxs("p",{className:"text-xs text-slate-500",children:[": ",i.phone]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl font-bold text-slate-200 tracking-widest uppercase",children:"LOOKBOOK"}),s.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[": ",d]})]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-6 content-start",children:o.map(m=>{const h=m.items.filter(g=>!g.is_suspended);return h.length===0?null:h.map((g,v)=>{const b=_a[g.type]?.name||g.type;let y="";if("width_m"in g&&"height_m"in g)y=`${Cn(g.width_m)}  ${Cn(g.height_m)} .`;else if(g.type===G.WALLPAPER&&"widths"in g&&Array.isArray(g.widths)){const w=g.widths.reduce((E,z)=>E+(parseFloat(z)||0),0);y=` ${Cn(w)}  ${Cn(g.height_m)} .`}const _=[];if(Od(g))g.code&&_.push(`: ${g.code}`),g.sheer_code&&_.push(`: ${g.sheer_code}`),g.style&&_.push(`: ${g.style}`);else if(Rd(g))g.code&&_.push(`: ${g.code}`),g.fabric_variant&&_.push(`: ${g.fabric_variant}`);else if(g.type===G.WALLPAPER){const w=g;w.wallpaper_code&&_.push(`: ${w.wallpaper_code}`)}return s.jsxs("div",{className:"border border-slate-200 rounded-xl overflow-hidden flex break-inside-avoid shadow-sm",children:[s.jsx("div",{className:"w-1/2 bg-slate-50 border-r border-slate-100 flex items-center justify-center p-4",dangerouslySetInnerHTML:f(g)}),s.jsxs("div",{className:"w-1/2 p-3 flex flex-col relative",children:[s.jsxs("div",{className:"inline-block self-start px-2 py-0.5 bg-slate-100 text-[10px] font-bold text-slate-500 rounded mb-1",children:[" ",m.name]}),s.jsx("div",{className:"font-bold text-sm text-slate-900 leading-tight mb-1",children:b}),y&&s.jsx("div",{className:"text-sm font-mono font-bold text-slate-800 border-b border-dashed border-slate-300 pb-1 mb-2",children:y}),_.length>0&&s.jsx("ul",{className:"text-xs text-slate-600 space-y-1",children:_.map((w,E)=>s.jsxs("li",{className:"truncate",children:[" ",w]},E))}),g.notes&&s.jsxs("div",{className:"mt-auto pt-1 text-[10px] text-orange-600 line-clamp-2",children:[" ",g.notes]})]})]},`${m.id}-${g.id}-${v}`)})})}),s.jsx("div",{className:"mt-auto pt-8 text-center text-[10px] text-slate-400",children:" Marnthara QOL   1/1"})]})}),MC=({isOpen:n,onClose:l})=>{const i=ae(h=>h.rooms),o=j.useRef(null),[d,f]=j.useState(!1),m=Mx.useReactToPrint({contentRef:o,documentTitle:`QC_Lookbook_${new Date().toISOString().split("T")[0]}`,onBeforeGetContent:()=>(f(!0),Promise.resolve()),onAfterPrint:()=>f(!1)});return s.jsxs(an,{isOpen:n,onClose:l,title:"Lookbook /  (Preview)",maxWidth:"2xl",children:[s.jsx("div",{className:"space-y-6 pb-safe-area",children:i.map(h=>s.jsxs("div",{className:"bg-muted/20 rounded-2xl p-4 border border-border",children:[s.jsxs("h3",{className:"font-bold text-foreground mb-3 flex items-center gap-2",children:[" ",h.name]}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:h.items.filter(g=>!g.is_suspended).map(g=>s.jsxs("div",{className:"bg-card p-3 rounded-xl border border-border shadow-sm flex flex-col",children:[s.jsx("div",{className:"aspect-[4/3] bg-muted/30 rounded-lg mb-2 flex items-center justify-center overflow-hidden relative",children:s.jsx("div",{className:"text-xs text-muted-foreground",children:"Preview"})}),s.jsxs("div",{className:"mt-auto",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("span",{className:"font-semibold text-sm text-card-foreground",children:_a[g.type]?.name}),"width_m"in g&&s.jsxs("div",{className:"bg-primary text-primary-foreground text-xs font-mono px-1.5 py-0.5 rounded",children:[Cn(g.width_m),"  ",Cn(g.height_m)]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1 mt-auto",children:["fabric_variant"in g&&s.jsxs("div",{children:[" /: ",g.fabric_variant]}),"code"in g&&g.code&&s.jsxs("div",{children:[" : ",s.jsx("span",{className:"font-mono font-bold",children:g.code})]}),"adjustment_side"in g&&s.jsxs("div",{children:[" : ",g.adjustment_side]}),g.notes&&s.jsxs("div",{className:"text-warning mt-1",children:[" ",g.notes]})]})]})]},g.id))})]},h.id))}),s.jsxs("div",{className:"flex justify-end pt-4 border-t border-border",children:[s.jsx(ce,{onClick:l,children:""}),s.jsx(ce,{onClick:()=>m(),disabled:d,className:"ml-2 bg-primary text-primary-foreground",children:d?"...":" Lookbook"})]}),s.jsx("div",{style:{display:"none"},children:s.jsx("div",{ref:o,children:s.jsx(RC,{})})})]})},kC=({isOpen:n,onClose:l})=>{const i=ae(g=>g.rooms),o=ae(g=>g.openModal),d=i.map(g=>({...g,items:g.items.filter(v=>!v.is_suspended),total:g.items.filter(v=>!v.is_suspended).reduce((v,N)=>v+Ct.calculatePrice(N),0)})).filter(g=>g.items.length>0),f=d.reduce((g,v)=>g+v.total,0),m=(g,v)=>{l(),setTimeout(()=>{o("item",{mode:"edit",roomId:g,itemId:v.id,itemType:v.type,initialData:v})},150)},h=g=>{const v=Ct.getItemSpecs(g);return v.length>0?v[0]:""};return s.jsx(an,{isOpen:n,onClose:l,variant:"drawer",title:" (Project Overview)",description:` ${Qe(f)}`,children:s.jsxs("div",{className:"space-y-6 pb-6",children:[s.jsx("div",{className:"bg-primary/5 rounded-2xl p-4 flex items-center justify-between border border-primary/10",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-full text-primary",children:s.jsx(to,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:""}),s.jsx("span",{className:"text-xl font-bold text-foreground font-mono",children:Qe(f)})]})]})}),s.jsxs("div",{className:"space-y-6",children:[d.map(g=>s.jsxs("div",{className:"animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between px-1 mb-2",children:[s.jsxs("h3",{className:"text-sm font-bold text-foreground flex items-center gap-2",children:[s.jsx("span",{className:"w-1 h-4 bg-primary rounded-full"}),g.name]}),s.jsx("span",{className:"text-xs font-mono font-medium text-muted-foreground",children:Qe(g.total)})]}),s.jsx("div",{className:"bg-card border border-border rounded-xl overflow-hidden divide-y divide-border/50 shadow-sm",children:g.items.map((v,N)=>s.jsxs("button",{onClick:()=>m(g.id,v),className:"w-full text-left px-4 py-3 flex justify-between items-center hover:bg-muted/50 transition-colors group active:bg-muted",children:[s.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-lg bg-muted flex items-center justify-center text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary transition-colors",children:s.jsx("span",{className:"text-xs font-bold",children:N+1})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-foreground truncate group-hover:text-primary transition-colors",children:_a[v.type]?.name}),s.jsx("div",{className:"text-[11px] text-muted-foreground truncate opacity-80",children:h(v)})]})]}),s.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[s.jsx("span",{className:"text-sm font-bold font-mono text-foreground/80",children:Qe(Ct.calculatePrice(v))}),s.jsx(rr,{className:"w-4 h-4 text-muted-foreground/30"})]})]},v.id))})]},g.id)),d.length===0&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground space-y-2",children:[s.jsx(sd,{className:"w-12 h-12 opacity-20"}),s.jsx("p",{children:""})]})]})]})})},jn=({icon:n,label:l,desc:i,onClick:o,accentColor:d="primary",isWide:f=!1})=>{const{trigger:m}=Tn(),h={primary:"bg-primary/5 text-primary group-hover:bg-primary/10",emerald:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 group-hover:bg-emerald-500/20",orange:"bg-orange-500/10 text-orange-600 dark:text-orange-400 group-hover:bg-orange-500/20",rose:"bg-rose-500/10 text-rose-600 dark:text-rose-400 group-hover:bg-rose-500/20",indigo:"bg-indigo-500/10 text-indigo-600 dark:text-indigo-400 group-hover:bg-indigo-500/20"};return s.jsxs("button",{onClick:()=>{m("light"),o()},className:F("group relative flex items-center p-4 rounded-2xl border border-border bg-card shadow-sm transition-all duration-200 active:scale-[0.98]",f?"col-span-2":"col-span-1 flex-col justify-center text-center gap-3 h-32 sm:h-auto sm:flex-row sm:justify-start sm:text-left"),children:[s.jsx("div",{className:F("p-3 rounded-xl transition-colors",h[d]),children:s.jsx(n,{className:"w-6 h-6",strokeWidth:2})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-semibold text-foreground text-[15px] leading-tight",children:l}),i&&s.jsx("div",{className:"text-[13px] text-muted-foreground mt-0.5 font-medium truncate",children:i})]}),f&&s.jsx(rr,{className:"w-5 h-5 text-muted-foreground/30 group-hover:text-foreground/50"})]})},LC=({isOpen:n,onClose:l,onOpenPdf:i,onOpenLookbook:o,onOpenCustomer:d,onOpenShopSettings:f,onOpenDiscount:m,onOpenData:h,onOpenInventory:g,onOpenProductionSettings:v,onOpenCostDashboard:N,onOpenFormulaStudio:b})=>{const{theme:y,toggleTheme:_}=xv(),{trigger:w}=Tn();return s.jsx(an,{isOpen:n,onClose:l,title:" (Main Menu)",description:"",maxWidth:"lg",variant:"drawer",children:s.jsxs("div",{className:"space-y-6 pb-safe-area",children:[s.jsxs("div",{className:"flex items-center justify-between px-1",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:","}),s.jsx("span",{className:"text-lg font-bold text-foreground",children:"Marnthara User"})]}),s.jsx("button",{onClick:()=>{w("medium"),_()},className:F("relative p-2 rounded-full transition-all duration-500 border overflow-hidden w-12 h-12 flex items-center justify-center",y==="dark"?"bg-slate-800 border-slate-700 text-yellow-400":"bg-amber-100 border-amber-200 text-amber-600"),children:s.jsx("div",{className:F("transition-transform duration-500",y==="dark"?"rotate-0":"rotate-180"),children:y==="dark"?s.jsx(_d,{className:"w-6 h-6"}):s.jsx(jd,{className:"w-6 h-6"})})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground px-1",children:" & "}),s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsx(jn,{icon:xs,label:" (Quotation)",desc:" / ",onClick:i,accentColor:"primary",isWide:!0}),s.jsx(jn,{icon:Cy,label:"Lookbook ()",desc:"",onClick:o,accentColor:"indigo",isWide:!0})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground px-1",children:""}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(jn,{icon:Ey,label:"",desc:"",onClick:d,accentColor:"orange"}),s.jsx(jn,{icon:tr,label:" (Inventory)",desc:"/",onClick:g,accentColor:"rose"}),s.jsx(jn,{icon:Ty,label:"",desc:"/",onClick:f,accentColor:"primary"}),s.jsx(jn,{icon:rd,label:"",desc:"",onClick:m,accentColor:"emerald"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground px-1",children:" (Pro)"}),s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsx(jn,{icon:to,label:" (Cost Analysis)",desc:" Margin ",onClick:N,accentColor:"emerald",isWide:!0}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(jn,{icon:id,label:"",desc:"Cost/Labor",onClick:v,accentColor:"primary"}),s.jsx(jn,{icon:Td,label:"",desc:"Formula Studio",onClick:b,accentColor:"indigo"}),s.jsx(jn,{icon:Ay,label:"",desc:"Import/Export",onClick:h,accentColor:"primary"})]})]})]}),s.jsx("div",{className:"pt-6 text-center",children:s.jsx("div",{className:"inline-flex items-center justify-center px-3 py-1 rounded-full bg-muted/50 text-[10px] text-muted-foreground font-mono",children:"Marnthara v6.7.0 (Strict Mode)"})})]})})},UC=({isOpen:n,onClose:l})=>{const{laborCosts:i,accessoryCosts:o,updateLaborCost:d,updateAccessoryCost:f,exportSecrets:m,importSecrets:h}=ae(),g=Nt(R=>R.addToast),v=j.useRef(null),[N,b]=j.useState("accessories"),[y,_]=j.useState(""),w=()=>{const R=m(),B=new Blob([R],{type:"application/json"}),D=URL.createObjectURL(B),S=document.createElement("a");S.href=D,S.download=`marnthara_cost_vault_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(D),g("success",""," JSON ")},E=()=>{v.current?.click()},z=R=>{const B=R.target.files?.[0];if(!B)return;const D=new FileReader;D.onload=S=>{const Y=S.target?.result;h(Y)?g("success","",""):g("error","",""),v.current&&(v.current.value="")},D.readAsText(B)},T=(R,B,D,S)=>{const Y=D[R]||B;if(y){const q=y.toLowerCase(),K=(B.style||"").toLowerCase().includes(q),X=R.toLowerCase().includes(q);if(!K&&!X)return null}return s.jsxs("div",{className:"group grid grid-cols-12 gap-4 items-center p-4 border-b border-border/40 hover:bg-muted/30 transition-colors",children:[s.jsxs("div",{className:"col-span-6 sm:col-span-5",children:[s.jsx("div",{className:"font-bold text-sm text-foreground flex items-center gap-2",children:B.style||R}),s.jsx("div",{className:"text-[10px] text-muted-foreground font-mono opacity-60 group-hover:opacity-100 transition-opacity",children:R})]}),s.jsx("div",{className:"col-span-4 sm:col-span-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(te,{type:"number",inputMode:"decimal",className:"h-10 text-right font-mono font-medium pr-8 focus:ring-primary/20 focus:border-primary",placeholder:"0.00",value:Y.rate>0?Y.rate:"",onChange:q=>{const K=parseFloat(q.target.value);S(R,{...B,...Y,rate:isNaN(K)?0:K})}}),s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground text-xs pointer-events-none",children:""})]})}),s.jsx("div",{className:"col-span-2 sm:col-span-3 text-right",children:s.jsxs("span",{className:F("inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium border",N==="accessories"?"bg-indigo-50 text-indigo-700 border-indigo-100 dark:bg-indigo-500/10 dark:text-indigo-400 dark:border-indigo-500/20":"bg-pink-50 text-pink-700 border-pink-100 dark:bg-pink-500/10 dark:text-pink-400 dark:border-pink-500/20"),children:["/",B.unit]})})]},R)};return s.jsx(an,{isOpen:n,onClose:l,title:" (Cost Vault)",description:"",maxWidth:"lg",footer:s.jsxs("div",{className:"flex justify-between w-full items-center",children:[s.jsx("input",{type:"file",ref:v,onChange:z,accept:".json",className:"hidden"}),s.jsx("div",{className:"text-[10px] text-muted-foreground",children:"*"}),s.jsxs(ce,{onClick:l,className:"bg-primary text-primary-foreground min-w-[100px]",children:[s.jsx(uo,{className:"w-4 h-4 mr-2"})," "]})]}),children:s.jsxs("div",{className:"flex flex-col h-[70vh] sm:h-[600px] -mx-6 sm:mx-0",children:[s.jsxs("div",{className:"px-6 pb-4 flex flex-col sm:flex-row gap-3 border-b border-border/50 bg-background/95 backdrop-blur z-10 sticky top-0 pt-2",children:[s.jsxs("div",{className:"flex p-1 bg-muted rounded-xl shrink-0",children:[s.jsxs("button",{onClick:()=>b("accessories"),className:F("flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all",N==="accessories"?"bg-white dark:bg-slate-800 text-indigo-600 shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(Ed,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"/"}),s.jsx("span",{className:"sm:hidden",children:""})]}),s.jsxs("button",{onClick:()=>b("labor"),className:F("flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all",N==="labor"?"bg-white dark:bg-slate-800 text-pink-600 shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(so,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"/"}),s.jsx("span",{className:"sm:hidden",children:""})]})]}),s.jsxs("div",{className:"flex gap-2 flex-1 justify-end",children:[s.jsxs("div",{className:"relative flex-1 max-w-[200px]",children:[s.jsx(Ji,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"...",value:y,onChange:R=>_(R.target.value),className:"w-full pl-9 pr-4 py-2.5 bg-muted/50 border-transparent rounded-xl text-sm focus:bg-background focus:ring-2 focus:ring-primary/20 transition-all outline-none"})]}),s.jsx(ce,{variant:"outline",size:"icon",onClick:E,title:"Import JSON",children:s.jsx(cs,{className:"w-4 h-4"})}),s.jsx(ce,{variant:"outline",size:"icon",onClick:w,title:"Export JSON",children:s.jsx(hv,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto bg-card",children:[s.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-2 bg-muted/20 text-[10px] uppercase font-bold text-muted-foreground tracking-wider sticky top-0 backdrop-blur-sm z-10",children:[s.jsx("div",{className:"col-span-6 sm:col-span-5",children:""}),s.jsx("div",{className:"col-span-4 sm:col-span-4",children:" ()"}),s.jsx("div",{className:"col-span-2 sm:col-span-3 text-right",children:""})]}),s.jsx("div",{children:N==="accessories"?Object.entries(ud).map(([R,B])=>T(R,B,o,f)):Object.entries(cd).map(([R,B])=>T(R,B,i,d))}),s.jsxs("div",{className:"p-6 mt-4 mx-6 mb-6 rounded-xl bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 text-xs flex items-start gap-3",children:[s.jsx(co,{className:"w-5 h-5 shrink-0"}),s.jsxs("div",{children:[s.jsx("strong",{children:"Tips:"}),"  ",s.jsx(cs,{className:"w-3 h-3 inline mx-1"}),"  (JSON)  "]})]})]})]})})},ld=n=>typeof n=="number"?n:typeof n=="object"&&n!==null&&n.rate||0,kx={analyze:n=>{const{laborCosts:l,accessoryCosts:i,fabricCosts:o}=ae.getState(),d=[];let f=0,m=0,h="";if(n.type===G.CURTAIN){const y=n,_=W(y.width_m),w=y.layer_mode===lt.DOUBLE;h="";const E=dd(_,y.style,y.opening_style);if(m=E,y.code&&o[y.code]){const K=o[y.code]||0,X=E*K;f+=X,d.push({label:` (${y.code}) ${E.toFixed(2)} `,amount:X,icon:"material"})}if((w||y.layer_mode===lt.SHEER)&&y.sheer_code){const K=E;w&&(m+=K);const X=o[y.sheer_code]||0,de=K*X;f+=de,d.push({label:` (${y.sheer_code}) ${K.toFixed(2)} `,amount:de,icon:"material"})}let z="sewing_pleated";y.style?.includes("")?z="sewing_wave":y.style?.includes("")?z="sewing_eyelet":y.style?.includes("")?z="sewing_roman":y.style?.includes("")?z="sewing_rod":y.style?.includes("")&&(z="sewing_louis");const T=ld(l[z]),R=w?2:1,B=_*T*R;B>0&&d.push({label:`${y.style} (${_} . x ${R})`,amount:B,icon:"labor"});const D=ld(i.rail_m),S=ld(i.installation_m),Y=_*D*R;Y>0&&d.push({label:` (${_} . x ${R})`,amount:Y,icon:"equipment"});const q=_*S;q>0&&d.push({label:` (${_} .)`,amount:q,icon:"service"})}const g=d.reduce((y,_)=>y+_.amount,0),v=Ct.calculatePrice(n),N=v-g,b=v>0?N/v*100:0;return{totalCost:g,sellingPrice:v,profitAmount:N,marginPercent:b,breakdownItems:d,usedQuantity:m,unit:h,totalFabricCost:f}}},BC=({item:n,roomName:l})=>{const[i,o]=j.useState(!1),d=j.useMemo(()=>kx.analyze(n),[n]),f=n.type===G.CURTAIN,m=f?n:null,g=(m?.layer_mode||null)===lt.DOUBLE,v=d.marginPercent>=30?"text-emerald-500 bg-emerald-500/10 border-emerald-500/20":d.marginPercent>=15?"text-amber-500 bg-amber-500/10 border-amber-500/20":"text-red-500 bg-red-500/10 border-red-500/20";return s.jsxs("div",{className:"bg-card rounded-xl border border-border shadow-sm overflow-hidden transition-all duration-200",children:[s.jsxs("button",{onClick:()=>o(!i),className:"w-full flex items-center justify-between p-4 hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:F("w-10 h-10 rounded-lg flex items-center justify-center border",v),children:f?s.jsx(ov,{className:"w-5 h-5"}):s.jsx(sd,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-left",children:[s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx("span",{children:l}),s.jsx("span",{children:""}),s.jsx("span",{className:"font-mono",children:n.type})]}),s.jsx("div",{className:"font-bold text-sm text-foreground flex items-center gap-2",children:f?s.jsxs(s.Fragment,{children:[s.jsx("span",{children:m?.code||"N/A"}),g&&s.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-primary/10 text-primary",children:""})]}):s.jsx("span",{children:n.code||""})})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-[10px] text-muted-foreground uppercase",children:" (Margin)"}),s.jsxs("div",{className:F("font-mono font-bold text-sm",v.split(" ")[0]),children:[d.marginPercent.toFixed(1),"%"]})]}),s.jsx(yd,{className:F("w-5 h-5 text-muted-foreground transition-transform",i&&"rotate-180")})]})]}),i&&s.jsxs("div",{className:"border-t border-border bg-muted/20 p-4 space-y-4 animate-in slide-in-from-top-2",children:[s.jsx("div",{className:"space-y-2",children:d.breakdownItems.map((N,b)=>s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[N.icon==="material"&&s.jsx(so,{className:"w-3 h-3"}),N.icon==="labor"&&s.jsx(Ed,{className:"w-3 h-3"}),N.icon==="equipment"&&s.jsx(sd,{className:"w-3 h-3"}),N.icon==="service"&&s.jsx(id,{className:"w-3 h-3"}),s.jsx("span",{children:N.label})]}),s.jsx("div",{className:"font-mono text-foreground",children:Qe(N.amount)})]},b))}),s.jsx("div",{className:"h-px bg-border/50"}),s.jsxs("div",{className:"bg-slate-900 text-slate-100 rounded-xl p-4 shadow-xl flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:F("p-2 rounded-lg bg-white/10",d.profitAmount>0?"text-emerald-400":"text-red-400"),children:s.jsx(id,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-widest",children:"Net Profit"}),s.jsxs("div",{className:F("text-2xl font-mono font-bold leading-none",d.profitAmount>0?"text-emerald-400":"text-red-400"),children:[d.profitAmount>0?"+":"",Qe(d.profitAmount)]})]})]}),s.jsxs("div",{className:"w-full sm:w-auto flex items-center gap-1 text-[10px] sm:text-xs font-mono bg-black/20 p-1 rounded-lg",children:[s.jsxs("div",{className:"px-3 py-1 bg-red-500/20 text-red-300 rounded",children:["Cost: ",Qe(d.totalCost)]}),s.jsx("div",{className:"text-slate-500",children:"vs"}),s.jsxs("div",{className:"px-3 py-1 bg-emerald-500/20 text-emerald-300 rounded",children:["Price: ",Qe(d.sellingPrice)]})]})]})]})]})},ZC=({isOpen:n,onClose:l})=>{const i=ae(h=>h.rooms),{allItems:o,grandProfit:d,grandRevenue:f,totalMargin:m}=j.useMemo(()=>{let h=0,g=0;const v=[];i.forEach(y=>{y.is_suspended||y.items.forEach(_=>{if(_.is_suspended)return;const w=kx.analyze(_);h+=w.totalCost,g+=w.sellingPrice,v.push({roomName:y.name,item:_})})});const N=g-h,b=g>0?N/g*100:0;return{allItems:v,grandProfit:N,grandRevenue:g,totalMargin:b}},[i]);return s.jsx(an,{isOpen:n,onClose:l,title:" (Financial Dashboard)",variant:"fullscreen",children:s.jsxs("div",{className:"pb-safe-area space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-2xl p-6 text-white shadow-xl relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:s.jsx(to,{className:"w-32 h-32"})}),s.jsxs("div",{className:"relative z-10 grid grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-slate-400 text-sm font-medium mb-1",children:" (Net Profit)"}),s.jsx("div",{className:"text-4xl font-bold font-mono tracking-tight text-emerald-400",children:Qe(d)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-slate-400 text-sm font-medium mb-1",children:" (Revenue)"}),s.jsx("div",{className:"text-2xl font-bold font-mono text-white",children:Qe(f)})]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-white/10 relative z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-slate-400",children:"Margin Breakdown"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`px-2 py-1 rounded text-xs font-bold ${m<30?"bg-amber-500/20 text-amber-400":"bg-emerald-500/20 text-emerald-400"}`,children:m>=30?"Healthy":"Low Margin"}),s.jsxs("div",{className:`font-mono font-bold text-lg ${m<30?"text-amber-400":"text-emerald-400"}`,children:[m.toFixed(2),"%"]})]})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-muted-foreground uppercase tracking-wider px-1",children:[s.jsx(to,{className:"w-4 h-4"}),"  (",o.length,")"]}),o.length>0?s.jsx("div",{className:"flex flex-col",children:o.map((h,g)=>s.jsx(BC,{item:h.item,roomName:h.roomName},`${h.roomName}-${g}`))}):s.jsxs("div",{className:"text-center py-12 text-muted-foreground bg-muted/30 rounded-xl border border-dashed border-border",children:[s.jsx(Cd,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),s.jsx("p",{children:""})]})]})]})})},dn=({label:n,desc:l,value:i,suffix:o,isLocked:d,onChange:f,warning:m})=>{const[h,g]=j.useState(i.toString());return J.useEffect(()=>{g(i.toString())},[i]),s.jsxs("div",{className:"flex flex-col py-4 border-b border-border/40 last:border-0 animate-fade-in group",children:[s.jsx("div",{className:"flex justify-between items-start gap-4 mb-2",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:F("text-base font-semibold leading-tight",d?"text-foreground/80":"text-foreground"),children:n}),l&&s.jsx("div",{className:"text-sm text-muted-foreground mt-1 font-normal leading-snug",children:l})]})}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("input",{type:"text",inputMode:"decimal",disabled:d,value:h,onChange:v=>g(v.target.value),onBlur:()=>{f(h);const v=parseFloat(h);isNaN(v)||g(v.toString())},className:F("w-full bg-muted/30 border border-input rounded-xl pl-4 pr-16 py-3 text-xl font-bold font-mono text-right transition-all","focus:outline-none focus:ring-2 focus:ring-primary/50 focus:bg-background focus:border-primary",d&&"bg-transparent border-transparent shadow-none text-foreground cursor-default",!d&&"shadow-sm bg-card",m&&!d&&"text-amber-600 border-amber-200 bg-amber-50 focus:ring-amber-500")}),s.jsx("div",{className:F("absolute right-4 top-1/2 -translate-y-1/2 text-sm font-medium pointer-events-none bg-transparent pl-2 transition-opacity",d?"text-muted-foreground/50":"text-muted-foreground"),children:o})]})]})},HC=({isOpen:n,onClose:l})=>{const i=ae(S=>S.formulas),o=ae(S=>S.updateFormula),d=ae(S=>S.resetFormulas),{confirm:f}=nl(),{trigger:m}=Tn(),[h,g]=j.useState(()=>i?JSON.parse(JSON.stringify(i)):null),[v,N]=j.useState("curtain"),[b,y]=j.useState(!1),[_,w]=j.useState(!0),E=[{id:"curtain",label:"",icon:Td},{id:"wallpaper",label:"",icon:io},{id:"area",label:"",icon:cv}],z=(S,Y,q)=>{if(!h)return;const K=parseFloat(q);isNaN(K)||(g(X=>X?{...X,[S]:{...X[S],[Y]:K}}:null),y(!0))},T=async()=>{h&&(m("success"),Object.keys(h).forEach(S=>{o(S,h[S])}),l())},R=async()=>{m("warning"),await f({title:"?",description:" (Factory Default)",confirmLabel:"",variant:"destructive"})&&(d(),l())},B=async()=>{b&&(m("warning"),!await f({title:"?",description:" ?",confirmLabel:"",cancelLabel:"",variant:"destructive"}))||l()},D=()=>{m(_?"medium":"light"),w(!_)};return h?s.jsx(an,{isOpen:n,onClose:B,title:" (Formula)",variant:"fullscreen",children:s.jsxs("div",{className:"flex flex-col h-full bg-background pb-safe-area",children:[s.jsxs("div",{className:"px-4 py-3 bg-background/95 backdrop-blur border-b border-border sticky top-0 z-10 shadow-sm flex gap-3 items-center",children:[s.jsx("div",{className:"flex-1 flex bg-muted/50 p-1 rounded-xl",children:E.map(S=>s.jsxs("button",{onClick:()=>{N(S.id),m("selection")},className:F("flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg text-sm font-medium transition-all duration-200",v===S.id?"bg-white dark:bg-slate-800 text-primary shadow-sm":"text-muted-foreground hover:text-foreground"),children:[s.jsx(S.icon,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:S.label}),s.jsx("span",{className:"sm:hidden",children:S.label})]},S.id))}),s.jsx("button",{onClick:D,className:F("h-10 w-10 rounded-xl flex items-center justify-center transition-all border",_?"bg-muted/20 border-transparent text-muted-foreground hover:bg-muted/50":"bg-destructive/10 border-destructive/20 text-destructive shadow-sm"),children:_?s.jsx(po,{className:"w-5 h-5"}):s.jsx(ho,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[s.jsxs("div",{className:"mb-6 p-4 bg-blue-50/50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-900/30 rounded-xl flex gap-3 items-start",children:[s.jsx(oo,{className:"w-5 h-5 text-blue-600 shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-900 dark:text-blue-200",children:[s.jsx("span",{className:"font-bold",children:":"}),"  "]})]}),v==="curtain"&&s.jsxs("div",{className:"space-y-8 pb-20",children:[s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-bold text-primary uppercase tracking-wider mb-2 border-l-4 border-primary pl-2",children:" (Multipliers)"}),s.jsx(dn,{label:" (Wave)",desc:":  x ",value:h.curtain.multiplier_wave,suffix:"",isLocked:_,onChange:S=>z("curtain","multiplier_wave",S)}),s.jsx(dn,{label:" (Pleated)",value:h.curtain.multiplier_pleated,suffix:"",isLocked:_,onChange:S=>z("curtain","multiplier_pleated",S)}),s.jsx(dn,{label:" (Eyelet)",value:h.curtain.multiplier_eyelet,suffix:"",isLocked:_,onChange:S=>z("curtain","multiplier_eyelet",S)})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-bold text-primary uppercase tracking-wider mb-2 border-l-4 border-primary pl-2",children:" & "}),s.jsx(dn,{label:" (Roman)",desc:" Additive:  + ",value:h.curtain.roman_blind_offset,suffix:"",isLocked:_,onChange:S=>z("curtain","roman_blind_offset",S)}),s.jsx(dn,{label:"",desc:" = 1.0936 ( 1.10-1.12 )",value:h.curtain.yard_conversion,suffix:"",isLocked:_,onChange:S=>z("curtain","yard_conversion",S),warning:h.curtain.yard_conversion<1.09}),s.jsx(dn,{label:" (Hem)",desc:"-",value:h.curtain.hem_offset,suffix:"",isLocked:_,onChange:S=>z("curtain","hem_offset",S)})]})]}),v==="wallpaper"&&s.jsxs("div",{className:"space-y-8 pb-20",children:[s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-bold text-orange-600 uppercase tracking-wider mb-2 border-l-4 border-orange-500 pl-2",children:" (Specs)"}),s.jsx(dn,{label:"",value:h.wallpaper.roll_width,suffix:"",isLocked:_,onChange:S=>z("wallpaper","roll_width",S)}),s.jsx(dn,{label:"",value:h.wallpaper.roll_length,suffix:"",isLocked:_,onChange:S=>z("wallpaper","roll_length",S)})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-bold text-orange-600 uppercase tracking-wider mb-2 border-l-4 border-orange-500 pl-2",children:" (Calculation)"}),s.jsx(dn,{label:" (Waste)",desc:"- ",value:h.wallpaper.waste_margin,suffix:"",isLocked:_,onChange:S=>z("wallpaper","waste_margin",S)})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-orange-50 border border-orange-100 text-orange-800 text-xs leading-relaxed",children:[" ",s.jsx("strong",{children:"Strip Method:"}),'  "" (Strip Counting) ']})]}),v==="area"&&s.jsx("div",{className:"space-y-8 pb-20",children:s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-bold text-teal-600 uppercase tracking-wider mb-2 border-l-4 border-teal-500 pl-2",children:" /  / "}),s.jsx(dn,{label:" .. -> ..",desc:"",value:h.area.sqm_to_sqyd,suffix:"",isLocked:_,onChange:S=>z("area","sqm_to_sqyd",S)}),s.jsx(dn,{label:" (Minimum)",desc:" ",value:h.area.min_yield,suffix:"..",isLocked:_,onChange:S=>z("area","min_yield",S)})]})}),!_&&s.jsx("div",{className:"mt-8 pt-8 border-t border-border flex justify-center pb-8",children:s.jsxs("button",{onClick:R,className:"text-xs text-muted-foreground flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-destructive/10 hover:text-destructive transition-colors",children:[s.jsx(Ad,{className:"w-3 h-3"})," (Factory Reset)"]})})]}),s.jsxs("div",{className:"p-4 bg-background border-t border-border flex gap-3 shadow-[0_-4px_10px_-4px_rgba(0,0,0,0.1)] sticky bottom-0 z-20 pb-safe-bottom",children:[s.jsxs(ce,{variant:"ghost",onClick:B,className:"flex-1 h-12 text-base font-medium text-muted-foreground",children:[s.jsx(ds,{className:"w-5 h-5 mr-2"}),""]}),s.jsxs(ce,{variant:"primary",onClick:T,disabled:!b,className:F("flex-[2] h-12 text-base font-bold shadow-lg shadow-primary/20",b?"animate-pulse-subtle":"opacity-80"),children:[s.jsx(wd,{className:"w-5 h-5 mr-2"}),""]})]})]})}):null},qC=()=>{const{activeModal:n,closeModal:l,modalProps:i,openModal:o,addItem:d,updateItem:f}=ae(),m=Nt(g=>g.addToast),h=g=>{const{roomId:v,mode:N,itemId:b}=i;N==="add"&&v?(d(v,g),m("success","")):N==="edit"&&v&&b&&(f(v,b,g),m("success","")),l()};return s.jsxs(s.Fragment,{children:[n==="item"&&s.jsx(gC,{isOpen:!0,onClose:l,initialData:i?.initialData,activeType:i?.itemType,onSubmit:h}),n==="customer"&&s.jsx(vC,{isOpen:!0,onClose:l}),n==="pdf"&&s.jsx(NC,{isOpen:!0,onClose:l}),n==="shopSettings"&&s.jsx(jC,{isOpen:!0,onClose:l}),n==="inventoryManager"&&s.jsx(SC,{isOpen:!0,onClose:l}),n==="discount"&&s.jsx(CC,{isOpen:!0,onClose:l}),n==="data"&&s.jsx(EC,{isOpen:!0,onClose:l}),n==="lookbook"&&s.jsx(MC,{isOpen:!0,onClose:l}),n==="projectOverview"&&s.jsx(kC,{isOpen:!0,onClose:l}),n==="productionSettings"&&s.jsx(UC,{isOpen:!0,onClose:l}),n==="costDashboard"&&s.jsx(ZC,{isOpen:!0,onClose:l},n==="costDashboard"?"cost-open":"cost-closed"),n==="formulaStudio"&&s.jsx(HC,{isOpen:!0,onClose:l},n==="formulaStudio"?"fs-open":"fs-closed"),n==="mainMenu"&&s.jsx(LC,{isOpen:!0,onClose:l,onOpenPdf:()=>o("pdf"),onOpenLookbook:()=>o("lookbook"),onOpenCustomer:()=>o("customer"),onOpenShopSettings:()=>o("shopSettings"),onOpenDiscount:()=>o("discount"),onOpenData:()=>o("data"),onOpenInventory:()=>o("inventoryManager"),onOpenProductionSettings:()=>o("productionSettings"),onOpenCostDashboard:()=>o("costDashboard"),onOpenFormulaStudio:()=>o("formulaStudio")})]})};function $C(){const n=ae(_=>_.rooms),l=ae(_=>_.openModal),i=ae(_=>_.inventory),o=ae(_=>_.fabricCosts),d=ae(_=>_.batchUpdateFabricCosts),f=xv(_=>_.theme);j.useEffect(()=>{document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(f)},[f]);const m=j.useRef(!1);j.useEffect(()=>{if(m.current)return;const _={};let w=!1;Object.values(i).flat().forEach(E=>{const z=E;z.cost_per_yard&&z.cost_per_yard>0&&z.code&&(o[z.code]||(_[z.code]=z.cost_per_yard,w=!0))}),w&&(console.log(" System: Migrating legacy costs to vault...",_),d(_)),m.current=!0},[i,o,d]);const h=()=>l("mainMenu"),g=()=>l("discount"),v=()=>l("projectOverview"),N=_=>{l("item",{mode:"add",roomId:_,itemType:G.CURTAIN})},b=(_,w)=>{l("item",{mode:"edit",roomId:_,itemId:w.id,itemType:w.type,initialData:w})},y=_=>{l("roomDefaults",{roomId:_})};return s.jsxs(s.Fragment,{children:[s.jsx(aN,{onOpenMainMenu:h,onOpenDiscount:g,onOpenOverview:v,children:n.length>0?s.jsx(iN,{rooms:n,onAddItem:N,onEditItem:b,onOpenDefaults:y}):s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center space-y-4 animate-fade-in",children:[s.jsx("div",{className:"w-20 h-20 bg-muted rounded-full flex items-center justify-center mb-2",children:s.jsx("span",{className:"text-4xl",children:""})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:""}),s.jsx("p",{className:"text-muted-foreground",children:" + "})]})]})}),s.jsx(qC,{}),s.jsx(cN,{}),s.jsx(uN,{})]})}class VC extends j.Component{constructor(l){super(l),this.state={hasError:!1,error:null}}static getDerivedStateFromError(l){return{hasError:!0,error:l}}componentDidCatch(l,i){console.error(" Uncaught error:",l,i)}handleReload=()=>{window.location.reload()};handleClearCache=()=>{localStorage.clear(),window.location.reload()};render(){return this.state.hasError?s.jsxs("div",{className:"min-h-[100dvh] w-full flex flex-col items-center justify-center bg-background p-6 text-center space-y-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-red-500/20 blur-xl rounded-full animate-pulse"}),s.jsx("div",{className:"relative w-24 h-24 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto",children:s.jsx(tl,{className:"w-12 h-12 text-red-600 dark:text-red-400"})})]}),s.jsxs("div",{className:"space-y-2 max-w-sm mx-auto",children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:" "}),s.jsxs("p",{className:"text-muted-foreground text-sm",children:[" (Unexpected Error)",s.jsx("br",{}),""]})]}),!1,s.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-xs",children:[s.jsxs(ce,{onClick:this.handleReload,className:"w-full bg-primary text-primary-foreground shadow-lg shadow-primary/20",size:"lg",children:[s.jsx(Ad,{className:"w-4 h-4 mr-2"})," "]}),s.jsx(ce,{variant:"ghost",onClick:this.handleClearCache,className:"text-muted-foreground hover:text-destructive text-xs",children:" ()"})]})]}):this.props.children}}const Lx=()=>{document.documentElement.style.setProperty("--app-height",`${window.innerHeight}px`)};window.addEventListener("resize",Lx);Lx();qy.createRoot(document.getElementById("root")).render(s.jsx(j.StrictMode,{children:s.jsx(VC,{children:s.jsx($C,{})})}));
